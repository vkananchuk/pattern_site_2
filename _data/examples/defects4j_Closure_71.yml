---
language: java
before_tree:
  type: program
  fields: {}
  children:
  - type: class_declaration
    fields:
      name:
        type: identifier
        fields:
          text: CheckAccessControls
        children: []
        pos: 1856
        length: 19
      body:
        type: class_body
        fields: {}
        children:
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType DEPRECATED_NAME = DiagnosticType.disabled(
                    "JSC_DEPRECATED_VAR",
                    "Variable {0} has been deprecated.");
          children: []
          pos: 1928
          length: 142
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType DEPRECATED_NAME_REASON = DiagnosticType.disabled(
                    "JSC_DEPRECATED_VAR_REASON",
                    "Variable {0} has been deprecated: {1}");
          children: []
          pos: 2074
          length: 160
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType DEPRECATED_PROP = DiagnosticType.disabled(
                    "JSC_DEPRECATED_PROP",
                    "Property {0} of type {1} has been deprecated.");
          children: []
          pos: 2238
          length: 155
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType DEPRECATED_PROP_REASON = DiagnosticType.disabled(
                    "JSC_DEPRECATED_PROP_REASON",
                    "Property {0} of type {1} has been deprecated: {2}");
          children: []
          pos: 2397
          length: 173
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType DEPRECATED_CLASS = DiagnosticType.disabled(
                    "JSC_DEPRECATED_CLASS",
                    "Class {0} has been deprecated.");
          children: []
          pos: 2574
          length: 142
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType DEPRECATED_CLASS_REASON = DiagnosticType.disabled(
                    "JSC_DEPRECATED_CLASS_REASON",
                    "Class {0} has been deprecated: {1}");
          children: []
          pos: 2720
          length: 160
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType BAD_PRIVATE_GLOBAL_ACCESS =
                    DiagnosticType.disabled(
                        "JSC_BAD_PRIVATE_GLOBAL_ACCESS",
                        "Access to private variable {0} not allowed outside file {1}.");
          children: []
          pos: 2884
          length: 204
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType BAD_PRIVATE_PROPERTY_ACCESS =
                    DiagnosticType.disabled(
                        "JSC_BAD_PRIVATE_PROPERTY_ACCESS",
                        "Access to private property {0} of {1} not allowed here.");
          children: []
          pos: 3092
          length: 203
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType BAD_PROTECTED_PROPERTY_ACCESS =
                    DiagnosticType.disabled(
                        "JSC_BAD_PROTECTED_PROPERTY_ACCESS",
                        "Access to protected property {0} of {1} not allowed here.");
          children: []
          pos: 3299
          length: 209
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType PRIVATE_OVERRIDE =
                    DiagnosticType.disabled(
                        "JSC_PRIVATE_OVERRIDE",
                        "Overriding private property of {0}.");
          children: []
          pos: 3512
          length: 161
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType VISIBILITY_MISMATCH =
                    DiagnosticType.disabled(
                        "JSC_VISIBILITY_MISMATCH",
                        "Overriding {0} property of {1} with {2} property.");
          children: []
          pos: 3677
          length: 181
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType CONST_PROPERTY_REASSIGNED_VALUE =
                    DiagnosticType.warning(
                      "JSC_CONSTANT_PROPERTY_REASSIGNED_VALUE",
                      "constant property {0} assigned a value more than once");
          children: []
          pos: 3862
          length: 207
        - type: field_declaration
          fields:
            text: private final AbstractCompiler compiler;
          children: []
          pos: 4073
          length: 40
        - type: field_declaration
          fields:
            text: private final TypeValidator validator;
          children: []
          pos: 4116
          length: 38
        - type: field_declaration
          fields:
            text: private int deprecatedDepth = 0;
          children: []
          pos: 4198
          length: 32
        - type: field_declaration
          fields:
            text: private int methodDepth = 0;
          children: []
          pos: 4233
          length: 28
        - type: field_declaration
          fields:
            text: private JSType currentClass = null;
          children: []
          pos: 4264
          length: 35
        - type: field_declaration
          fields:
            text: private final Multimap<String, String> initializedConstantProperties;
          children: []
          pos: 4303
          length: 69
        - type: constructor_declaration
          fields:
            text: |-
              CheckAccessControls(AbstractCompiler compiler) {
                  this.compiler = compiler;
                  this.validator = compiler.getTypeValidator();
                  this.initializedConstantProperties = HashMultimap.create();
                }
          children: []
          pos: 4376
          length: 196
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: process
              children: []
              pos: 4600
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Node externs
                children: []
                pos: 4608
                length: 12
              pos: 4576
              length: 112
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: NodeTraversal.traverse(compiler, root, this);
                children: []
                pos: 4639
                length: 45
              pos: 4633
              length: 55
          children: []
          pos: 4576
          length: 112
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: hotSwapScript
              children: []
              pos: 4716
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Node scriptRoot
                children: []
                pos: 4730
                length: 15
              pos: 4692
              length: 116
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: NodeTraversal.traverse(compiler, scriptRoot, this);
                children: []
                pos: 4753
                length: 51
              pos: 4747
              length: 61
          children: []
          pos: 4692
          length: 116
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: enterScope
              children: []
              pos: 4824
              length: 10
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: NodeTraversal t
                children: []
                pos: 4835
                length: 15
              pos: 4812
              length: 341
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: unary_expression
                        fields:
                          text: "!t.inGlobalScope()"
                        children: []
                        pos: 4862
                        length: 18
                    children: []
                    pos: 4861
                    length: 20
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: Node n = t.getScopeRoot();
                    children: []
                    pos: 4890
                    length: 26
                  - type: local_variable_declaration
                    fields:
                      text: Node parent = n.getParent();
                    children: []
                    pos: 4923
                    length: 28
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: method_invocation
                            fields:
                              text: isDeprecatedFunction(n, parent)
                            children: []
                            pos: 4962
                            length: 31
                        children: []
                        pos: 4961
                        length: 33
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: deprecatedDepth++;
                        children: []
                        pos: 5005
                        length: 18
                      pos: 4995
                      length: 36
                    pos: 4958
                    length: 73
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: methodDepth
                                children: []
                                pos: 5043
                                length: 11
                              right:
                                type: decimal_integer_literal
                                fields:
                                  text: '0'
                                children: []
                                pos: 5058
                                length: 1
                            children: []
                            pos: 5043
                            length: 16
                        children: []
                        pos: 5042
                        length: 18
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: currentClass = getClassOfMethod(n, parent);
                        children: []
                        pos: 5071
                        length: 43
                      pos: 5061
                      length: 61
                    pos: 5039
                    length: 83
                  - type: expression_statement
                    fields:
                      text: methodDepth++;
                    children: []
                    pos: 5129
                    length: 14
                  pos: 4882
                  length: 267
                pos: 4858
                length: 291
              pos: 4852
              length: 301
          children: []
          pos: 4812
          length: 341
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: exitScope
              children: []
              pos: 5169
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: NodeTraversal t
                children: []
                pos: 5179
                length: 15
              pos: 5157
              length: 317
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: unary_expression
                        fields:
                          text: "!t.inGlobalScope()"
                        children: []
                        pos: 5206
                        length: 18
                    children: []
                    pos: 5205
                    length: 20
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: Node n = t.getScopeRoot();
                    children: []
                    pos: 5234
                    length: 26
                  - type: local_variable_declaration
                    fields:
                      text: Node parent = n.getParent();
                    children: []
                    pos: 5267
                    length: 28
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: method_invocation
                            fields:
                              text: isDeprecatedFunction(n, parent)
                            children: []
                            pos: 5306
                            length: 31
                        children: []
                        pos: 5305
                        length: 33
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: deprecatedDepth--;
                        children: []
                        pos: 5349
                        length: 18
                      pos: 5339
                      length: 36
                    pos: 5302
                    length: 73
                  - type: expression_statement
                    fields:
                      text: methodDepth--;
                    children: []
                    pos: 5383
                    length: 14
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: methodDepth
                                children: []
                                pos: 5408
                                length: 11
                              right:
                                type: decimal_integer_literal
                                fields:
                                  text: '0'
                                children: []
                                pos: 5423
                                length: 1
                            children: []
                            pos: 5408
                            length: 16
                        children: []
                        pos: 5407
                        length: 18
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: currentClass = null;
                        children: []
                        pos: 5436
                        length: 20
                      pos: 5426
                      length: 38
                    pos: 5404
                    length: 60
                  pos: 5226
                  length: 244
                pos: 5202
                length: 268
              pos: 5196
              length: 278
          children: []
          pos: 5157
          length: 317
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getClassOfMethod
              children: []
              pos: 5602
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Node n
                children: []
                pos: 5619
                length: 6
              pos: 5587
              length: 1177
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: method_invocation
                            fields:
                              text: parent.getType()
                            children: []
                            pos: 5650
                            length: 16
                          right:
                            type: field_access
                            fields:
                              text: Token.ASSIGN
                            children: []
                            pos: 5670
                            length: 12
                        children: []
                        pos: 5650
                        length: 32
                    children: []
                    pos: 5649
                    length: 34
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: Node lValue = parent.getFirstChild();
                    children: []
                    pos: 5692
                    length: 37
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: method_invocation
                            fields:
                              text: lValue.isQualifiedName()
                            children: []
                            pos: 5740
                            length: 24
                        children: []
                        pos: 5739
                        length: 26
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: if_statement
                        fields:
                          condition:
                            type: parenthesized_expression
                            fields:
                              expression:
                                type: equals
                                fields:
                                  left:
                                    type: method_invocation
                                    fields:
                                      text: lValue.getType()
                                    children: []
                                    pos: 5780
                                    length: 16
                                  right:
                                    type: field_access
                                    fields:
                                      text: Token.GETPROP
                                    children: []
                                    pos: 5800
                                    length: 13
                                children: []
                                pos: 5780
                                length: 33
                            children: []
                            pos: 5779
                            length: 35
                        children:
                        - type: block
                          fields: {}
                          children:
                          - type: local_variable_declaration
                            fields:
                              text: JSType lValueType = lValue.getJSType();
                            children: []
                            pos: 5887
                            length: 39
                          - type: if_statement
                            fields:
                              condition:
                                type: parenthesized_expression
                                fields:
                                  expression:
                                    type: and
                                    fields:
                                      left:
                                        type: not_equals
                                        fields:
                                          left:
                                            type: identifier
                                            fields:
                                              text: lValueType
                                            children: []
                                            pos: 5941
                                            length: 10
                                          right:
                                            type: null_literal
                                            fields: {}
                                            children: []
                                            pos: 5955
                                            length: 4
                                        children: []
                                        pos: 5941
                                        length: 18
                                      right:
                                        type: method_invocation
                                        fields:
                                          text: lValueType.isConstructor()
                                        children: []
                                        pos: 5963
                                        length: 26
                                    children: []
                                    pos: 5941
                                    length: 48
                                children: []
                                pos: 5940
                                length: 50
                            children:
                            - type: block
                              fields: {}
                              children:
                              - type: return_statement
                                fields:
                                  text: return ((FunctionType) lValueType).getInstanceType();
                                children: []
                                pos: 6120
                                length: 53
                              pos: 5991
                              length: 194
                            pos: 5937
                            length: 457
                          pos: 5815
                          length: 589
                        pos: 5776
                        length: 803
                      pos: 5766
                      length: 821
                    pos: 5736
                    length: 851
                  pos: 5684
                  length: 909
                pos: 5646
                length: 1096
              - type: return_statement
                fields:
                  text: return null;
                children: []
                pos: 6748
                length: 12
              pos: 5640
              length: 1124
          children: []
          pos: 5587
          length: 1177
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: normalizeClassType
              children: []
              pos: 6921
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSType type
                children: []
                pos: 6940
                length: 11
              pos: 6906
              length: 445
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: type
                                children: []
                                pos: 6963
                                length: 4
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 6971
                                length: 4
                            children: []
                            pos: 6963
                            length: 12
                          right:
                            type: method_invocation
                            fields:
                              text: type.isUnknownType()
                            children: []
                            pos: 6979
                            length: 20
                        children: []
                        pos: 6963
                        length: 36
                    children: []
                    pos: 6962
                    length: 38
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return type;
                    children: []
                    pos: 7009
                    length: 12
                  pos: 7001
                  length: 26
                pos: 6959
                length: 371
              - type: return_statement
                fields:
                  text: return type;
                children: []
                pos: 7335
                length: 12
              pos: 6953
              length: 398
          children: []
          pos: 6906
          length: 445
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: shouldTraverse
              children: []
              pos: 7370
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: NodeTraversal t
                children: []
                pos: 7385
                length: 15
              pos: 7355
              length: 90
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return true;
                children: []
                pos: 7429
                length: 12
              pos: 7423
              length: 22
          children: []
          pos: 7355
          length: 90
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: visit
              children: []
              pos: 7461
              length: 5
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: NodeTraversal t
                children: []
                pos: 7467
                length: 15
              pos: 7449
              length: 480
            body:
              type: block
              fields: {}
              children:
              - type: switch_expression
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: n.getType()
                        children: []
                        pos: 7519
                        length: 11
                    children: []
                    pos: 7518
                    length: 13
                  body:
                    type: switch_block
                    fields:
                      text: |-
                        {
                              case Token.NAME:
                                checkNameDeprecation(t, n, parent);
                                checkNameVisibility(t, n, parent);
                                break;
                              case Token.GETPROP:
                                checkPropertyDeprecation(t, n, parent);
                                checkPropertyVisibility(t, n, parent);
                                checkConstantProperty(t, n);
                                break;
                              case Token.NEW:
                                checkConstructorDeprecation(t, n, parent);
                                break;
                            }
                    children: []
                    pos: 7532
                    length: 393
                children: []
                pos: 7511
                length: 414
              pos: 7505
              length: 424
          children: []
          pos: 7449
          length: 480
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: checkConstructorDeprecation
              children: []
              pos: 8036
              length: 27
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: NodeTraversal t
                children: []
                pos: 8064
                length: 15
              pos: 8023
              length: 621
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: JSType type = n.getJSType();
                children: []
                pos: 8114
                length: 28
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: type
                            children: []
                            pos: 8152
                            length: 4
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 8160
                            length: 4
                        children: []
                        pos: 8152
                        length: 12
                    children: []
                    pos: 8151
                    length: 14
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: String deprecationInfo = getTypeDeprecationInfo(type);
                    children: []
                    pos: 8174
                    length: 54
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: and
                            fields:
                              left:
                                type: not_equals
                                fields:
                                  left:
                                    type: identifier
                                    fields:
                                      text: deprecationInfo
                                    children: []
                                    pos: 8240
                                    length: 15
                                  right:
                                    type: null_literal
                                    fields: {}
                                    children: []
                                    pos: 8259
                                    length: 4
                                children: []
                                pos: 8240
                                length: 23
                              right:
                                type: method_invocation
                                fields:
                                  text: shouldEmitDeprecationWarning(t, n, parent)
                                children: []
                                pos: 8277
                                length: 42
                            children: []
                            pos: 8240
                            length: 79
                        children: []
                        pos: 8239
                        length: 81
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: if_statement
                        fields:
                          condition:
                            type: parenthesized_expression
                            fields:
                              expression:
                                type: unary_expression
                                fields:
                                  text: "!deprecationInfo.isEmpty()"
                                children: []
                                pos: 8336
                                length: 26
                            children: []
                            pos: 8335
                            length: 28
                        children:
                        - type: block
                          fields: {}
                          children:
                          - type: expression_statement
                            fields:
                              text: |-
                                compiler.report(
                                                t.makeError(n, DEPRECATED_CLASS_REASON,
                                                    type.toString(), deprecationInfo));
                            children: []
                            pos: 8378
                            length: 128
                          pos: 8364
                          length: 152
                        pos: 8332
                        length: 294
                      pos: 8321
                      length: 313
                    pos: 8236
                    length: 398
                  pos: 8166
                  length: 474
                pos: 8148
                length: 492
              pos: 8108
              length: 536
          children: []
          pos: 8023
          length: 621
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: checkNameDeprecation
              children: []
              pos: 8752
              length: 20
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: NodeTraversal t
                children: []
                pos: 8773
                length: 15
              pos: 8739
              length: 814
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: or
                            fields:
                              left:
                                type: equals
                                fields:
                                  left:
                                    type: method_invocation
                                    fields:
                                      text: parent.getType()
                                    children: []
                                    pos: 8879
                                    length: 16
                                  right:
                                    type: field_access
                                    fields:
                                      text: Token.FUNCTION
                                    children: []
                                    pos: 8899
                                    length: 14
                                children: []
                                pos: 8879
                                length: 34
                              right:
                                type: equals
                                fields:
                                  left:
                                    type: method_invocation
                                    fields:
                                      text: parent.getType()
                                    children: []
                                    pos: 8917
                                    length: 16
                                  right:
                                    type: field_access
                                    fields:
                                      text: Token.VAR
                                    children: []
                                    pos: 8937
                                    length: 9
                                children: []
                                pos: 8917
                                length: 29
                            children: []
                            pos: 8879
                            length: 67
                          right:
                            type: equals
                            fields:
                              left:
                                type: method_invocation
                                fields:
                                  text: parent.getType()
                                children: []
                                pos: 8958
                                length: 16
                              right:
                                type: field_access
                                fields:
                                  text: Token.NEW
                                children: []
                                pos: 8978
                                length: 9
                            children: []
                            pos: 8958
                            length: 29
                        children: []
                        pos: 8879
                        length: 108
                    children: []
                    pos: 8878
                    length: 110
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return;
                    children: []
                    pos: 8997
                    length: 7
                  pos: 8989
                  length: 21
                pos: 8875
                length: 135
              - type: local_variable_declaration
                fields:
                  text: Scope.Var var = t.getScope().getVar(n.getString());
                children: []
                pos: 9016
                length: 51
              - type: local_variable_declaration
                fields:
                  text: 'JSDocInfo docInfo = var == null ? null : var.getJSDocInfo();'
                children: []
                pos: 9072
                length: 60
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: and
                        fields:
                          left:
                            type: and
                            fields:
                              left:
                                type: not_equals
                                fields:
                                  left:
                                    type: identifier
                                    fields:
                                      text: docInfo
                                    children: []
                                    pos: 9142
                                    length: 7
                                  right:
                                    type: null_literal
                                    fields: {}
                                    children: []
                                    pos: 9153
                                    length: 4
                                children: []
                                pos: 9142
                                length: 15
                              right:
                                type: method_invocation
                                fields:
                                  text: docInfo.isDeprecated()
                                children: []
                                pos: 9161
                                length: 22
                            children: []
                            pos: 9142
                            length: 41
                          right:
                            type: method_invocation
                            fields:
                              text: shouldEmitDeprecationWarning(t, n, parent)
                            children: []
                            pos: 9195
                            length: 42
                        children: []
                        pos: 9142
                        length: 95
                    children: []
                    pos: 9141
                    length: 97
                children:
                - type: block
                  fields: {}
                  children:
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: not_equals
                            fields:
                              left:
                                type: method_invocation
                                fields:
                                  text: docInfo.getDeprecationReason()
                                children: []
                                pos: 9252
                                length: 30
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 9286
                                length: 4
                            children: []
                            pos: 9252
                            length: 38
                        children: []
                        pos: 9251
                        length: 40
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: |-
                            compiler.report(
                                        t.makeError(n, DEPRECATED_NAME_REASON, n.getString(),
                                            docInfo.getDeprecationReason()));
                        children: []
                        pos: 9302
                        length: 132
                      pos: 9292
                      length: 150
                    pos: 9248
                    length: 295
                  pos: 9239
                  length: 310
                pos: 9138
                length: 411
              pos: 8811
              length: 742
          children: []
          pos: 8739
          length: 814
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: checkPropertyDeprecation
              children: []
              pos: 9669
              length: 24
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: NodeTraversal t
                children: []
                pos: 9694
                length: 15
              pos: 9656
              length: 1015
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: method_invocation
                            fields:
                              text: parent.getType()
                            children: []
                            pos: 9785
                            length: 16
                          right:
                            type: field_access
                            fields:
                              text: Token.NEW
                            children: []
                            pos: 9805
                            length: 9
                        children: []
                        pos: 9785
                        length: 29
                    children: []
                    pos: 9784
                    length: 31
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return;
                    children: []
                    pos: 9824
                    length: 7
                  pos: 9816
                  length: 21
                pos: 9781
                length: 56
              - type: local_variable_declaration
                fields:
                  text: |-
                    ObjectType objectType =
                            ObjectType.cast(dereference(n.getFirstChild().getJSType()));
                children: []
                pos: 9843
                length: 92
              - type: local_variable_declaration
                fields:
                  text: String propertyName = n.getLastChild().getString();
                children: []
                pos: 9940
                length: 51
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: objectType
                            children: []
                            pos: 10001
                            length: 10
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 10015
                            length: 4
                        children: []
                        pos: 10001
                        length: 18
                    children: []
                    pos: 10000
                    length: 20
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: |-
                        String deprecationInfo
                                  = getPropertyDeprecationInfo(objectType, propertyName);
                    children: []
                    pos: 10029
                    length: 88
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: and
                            fields:
                              left:
                                type: not_equals
                                fields:
                                  left:
                                    type: identifier
                                    fields:
                                      text: deprecationInfo
                                    children: []
                                    pos: 10129
                                    length: 15
                                  right:
                                    type: null_literal
                                    fields: {}
                                    children: []
                                    pos: 10148
                                    length: 4
                                children: []
                                pos: 10129
                                length: 23
                              right:
                                type: method_invocation
                                fields:
                                  text: shouldEmitDeprecationWarning(t, n, parent)
                                children: []
                                pos: 10166
                                length: 42
                            children: []
                            pos: 10129
                            length: 79
                        children: []
                        pos: 10128
                        length: 81
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: if_statement
                        fields:
                          condition:
                            type: parenthesized_expression
                            fields:
                              expression:
                                type: unary_expression
                                fields:
                                  text: "!deprecationInfo.isEmpty()"
                                children: []
                                pos: 10225
                                length: 26
                            children: []
                            pos: 10224
                            length: 28
                        children:
                        - type: block
                          fields: {}
                          children:
                          - type: expression_statement
                            fields:
                              text: |-
                                compiler.report(
                                              t.makeError(n, DEPRECATED_PROP_REASON, propertyName,
                                                  validator.getReadableJSTypeName(n.getFirstChild(), true),
                                                  deprecationInfo));
                            children: []
                            pos: 10265
                            length: 196
                          pos: 10253
                          length: 218
                        pos: 10221
                        length: 432
                      pos: 10210
                      length: 451
                    pos: 10125
                    length: 536
                  pos: 10021
                  length: 646
                pos: 9997
                length: 670
              pos: 9732
              length: 939
          children: []
          pos: 9656
          length: 1015
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: checkNameVisibility
              children: []
              pos: 10843
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: NodeTraversal t
                children: []
                pos: 10863
                length: 15
              pos: 10830
              length: 782
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: Var var = t.getScope().getVar(name.getString());
                children: []
                pos: 10910
                length: 48
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: var
                            children: []
                            pos: 10967
                            length: 3
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 10974
                            length: 4
                        children: []
                        pos: 10967
                        length: 11
                    children: []
                    pos: 10966
                    length: 13
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: JSDocInfo docInfo = var.getJSDocInfo();
                    children: []
                    pos: 10988
                    length: 39
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: not_equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: docInfo
                                children: []
                                pos: 11038
                                length: 7
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 11049
                                length: 4
                            children: []
                            pos: 11038
                            length: 15
                        children: []
                        pos: 11037
                        length: 17
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: local_variable_declaration
                        fields:
                          text: Visibility visibility = docInfo.getVisibility();
                        children: []
                        pos: 11137
                        length: 48
                      - type: if_statement
                        fields:
                          condition:
                            type: parenthesized_expression
                            fields:
                              expression:
                                type: and
                                fields:
                                  left:
                                    type: equals
                                    fields:
                                      left:
                                        type: identifier
                                        fields:
                                          text: visibility
                                        children: []
                                        pos: 11198
                                        length: 10
                                      right:
                                        type: field_access
                                        fields:
                                          text: Visibility.PRIVATE
                                        children: []
                                        pos: 11212
                                        length: 18
                                    children: []
                                    pos: 11198
                                    length: 32
                                  right:
                                    type: unary_expression
                                    fields:
                                      text: "!t.getInput().getName().equals(docInfo.getSourceName())"
                                    children: []
                                    pos: 11246
                                    length: 55
                                children: []
                                pos: 11198
                                length: 103
                            children: []
                            pos: 11197
                            length: 105
                        children:
                        - type: block
                          fields: {}
                          children:
                          - type: if_statement
                            fields:
                              condition:
                                type: parenthesized_expression
                                fields:
                                  expression:
                                    type: and
                                    fields:
                                      left:
                                        type: method_invocation
                                        fields:
                                          text: docInfo.isConstructor()
                                        children: []
                                        pos: 11319
                                        length: 23
                                      right:
                                        type: method_invocation
                                        fields:
                                          text: isValidPrivateConstructorAccess(parent)
                                        children: []
                                        pos: 11360
                                        length: 39
                                    children: []
                                    pos: 11319
                                    length: 80
                                children: []
                                pos: 11318
                                length: 82
                            children:
                            - type: block
                              fields: {}
                              children:
                              - type: return_statement
                                fields:
                                  text: return;
                                children: []
                                pos: 11415
                                length: 7
                              pos: 11401
                              length: 33
                            pos: 11315
                            length: 119
                          - type: expression_statement
                            fields:
                              text: |-
                                compiler.report(
                                              t.makeError(name, BAD_PRIVATE_GLOBAL_ACCESS,
                                                  name.getString(), docInfo.getSourceName()));
                            children: []
                            pos: 11446
                            length: 138
                          pos: 11303
                          length: 291
                        pos: 11194
                        length: 400
                      pos: 11055
                      length: 547
                    pos: 11034
                    length: 568
                  pos: 10980
                  length: 628
                pos: 10963
                length: 645
              pos: 10904
              length: 708
          children: []
          pos: 10830
          length: 782
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: checkConstantProperty
              children: []
              pos: 11790
              length: 21
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: NodeTraversal t
                children: []
                pos: 11812
                length: 15
              pos: 11777
              length: 1887
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: Node parent = getprop.getParent();
                children: []
                pos: 11901
                length: 34
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: and
                        fields:
                          left:
                            type: and
                            fields:
                              left:
                                type: unary_expression
                                fields:
                                  text: "!(NodeUtil.isAssignmentOp(parent) && parent.getFirstChild()
                                    == getprop)"
                                children: []
                                pos: 11944
                                length: 71
                              right:
                                type: parenthesized_expression
                                fields:
                                  expression:
                                    type: not_equals
                                    fields:
                                      left:
                                        type: method_invocation
                                        fields:
                                          text: parent.getType()
                                        children: []
                                        pos: 12028
                                        length: 16
                                      right:
                                        type: field_access
                                        fields:
                                          text: Token.INC
                                        children: []
                                        pos: 12048
                                        length: 9
                                    children: []
                                    pos: 12028
                                    length: 29
                                children: []
                                pos: 12027
                                length: 31
                            children: []
                            pos: 11944
                            length: 114
                          right:
                            type: parenthesized_expression
                            fields:
                              expression:
                                type: not_equals
                                fields:
                                  left:
                                    type: method_invocation
                                    fields:
                                      text: parent.getType()
                                    children: []
                                    pos: 12063
                                    length: 16
                                  right:
                                    type: field_access
                                    fields:
                                      text: Token.DEC
                                    children: []
                                    pos: 12083
                                    length: 9
                                children: []
                                pos: 12063
                                length: 29
                            children: []
                            pos: 12062
                            length: 31
                        children: []
                        pos: 11944
                        length: 149
                    children: []
                    pos: 11943
                    length: 151
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return;
                    children: []
                    pos: 12103
                    length: 7
                  pos: 12095
                  length: 21
                pos: 11940
                length: 176
              - type: local_variable_declaration
                fields:
                  text: |-
                    ObjectType objectType =
                          ObjectType.cast(dereference(getprop.getFirstChild().getJSType()));
                children: []
                pos: 12122
                length: 96
              - type: local_variable_declaration
                fields:
                  text: String propertyName = getprop.getLastChild().getString();
                children: []
                pos: 12223
                length: 57
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: objectType
                            children: []
                            pos: 12346
                            length: 10
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 12360
                            length: 4
                        children: []
                        pos: 12346
                        length: 18
                    children: []
                    pos: 12345
                    length: 20
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: ObjectType oType = objectType;
                    children: []
                    pos: 12374
                    length: 30
                  - type: while_statement
                    fields:
                      text: |-
                        while (oType != null) {
                                if (oType.hasReferenceName()) {
                                  if (initializedConstantProperties.containsEntry(
                                          oType.getReferenceName(), propertyName)) {
                                    compiler.report(
                                        t.makeError(getprop, CONST_PROPERTY_REASSIGNED_VALUE,
                                            propertyName));
                                    break;
                                  }
                                }
                                oType = oType.getImplicitPrototype();
                              }
                    children: []
                    pos: 12411
                    length: 413
                  - type: local_variable_declaration
                    fields:
                      text: JSDocInfo info = objectType.getOwnPropertyJSDocInfo(propertyName);
                    children: []
                    pos: 12832
                    length: 66
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: and
                            fields:
                              left:
                                type: and
                                fields:
                                  left:
                                    type: not_equals
                                    fields:
                                      left:
                                        type: identifier
                                        fields:
                                          text: info
                                        children: []
                                        pos: 12909
                                        length: 4
                                      right:
                                        type: null_literal
                                        fields: {}
                                        children: []
                                        pos: 12917
                                        length: 4
                                    children: []
                                    pos: 12909
                                    length: 12
                                  right:
                                    type: method_invocation
                                    fields:
                                      text: info.isConstant()
                                    children: []
                                    pos: 12925
                                    length: 17
                                children: []
                                pos: 12909
                                length: 33
                              right:
                                type: method_invocation
                                fields:
                                  text: objectType.hasReferenceName()
                                children: []
                                pos: 12956
                                length: 29
                            children: []
                            pos: 12909
                            length: 76
                        children: []
                        pos: 12908
                        length: 78
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: |-
                            initializedConstantProperties.put(objectType.getReferenceName(),
                                        propertyName);
                        children: []
                        pos: 12997
                        length: 91
                      pos: 12987
                      length: 109
                    pos: 12905
                    length: 191
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: method_invocation
                            fields:
                              text: objectType.isInstanceType()
                            children: []
                            pos: 13176
                            length: 27
                        children: []
                        pos: 13175
                        length: 29
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: local_variable_declaration
                        fields:
                          text: ObjectType prototype = objectType.getImplicitPrototype();
                        children: []
                        pos: 13215
                        length: 57
                      - type: if_statement
                        fields:
                          condition:
                            type: parenthesized_expression
                            fields:
                              expression:
                                type: not_equals
                                fields:
                                  left:
                                    type: identifier
                                    fields:
                                      text: prototype
                                    children: []
                                    pos: 13285
                                    length: 9
                                  right:
                                    type: null_literal
                                    fields: {}
                                    children: []
                                    pos: 13298
                                    length: 4
                                children: []
                                pos: 13285
                                length: 17
                            children: []
                            pos: 13284
                            length: 19
                        children:
                        - type: block
                          fields: {}
                          children:
                          - type: local_variable_declaration
                            fields:
                              text: |-
                                JSDocInfo prototypeInfo
                                            = prototype.getOwnPropertyJSDocInfo(propertyName);
                            children: []
                            pos: 13316
                            length: 86
                          - type: if_statement
                            fields:
                              condition:
                                type: parenthesized_expression
                                fields:
                                  expression:
                                    type: and
                                    fields:
                                      left:
                                        type: and
                                        fields:
                                          left:
                                            type: not_equals
                                            fields:
                                              left:
                                                type: identifier
                                                fields:
                                                  text: prototypeInfo
                                                children: []
                                                pos: 13417
                                                length: 13
                                              right:
                                                type: null_literal
                                                fields: {}
                                                children: []
                                                pos: 13434
                                                length: 4
                                            children: []
                                            pos: 13417
                                            length: 21
                                          right:
                                            type: method_invocation
                                            fields:
                                              text: prototypeInfo.isConstant()
                                            children: []
                                            pos: 13442
                                            length: 26
                                        children: []
                                        pos: 13417
                                        length: 51
                                      right:
                                        type: method_invocation
                                        fields:
                                          text: prototype.hasReferenceName()
                                        children: []
                                        pos: 13486
                                        length: 28
                                    children: []
                                    pos: 13417
                                    length: 97
                                children: []
                                pos: 13416
                                length: 99
                            children:
                            - type: block
                              fields: {}
                              children:
                              - type: expression_statement
                                fields:
                                  text: |-
                                    initializedConstantProperties.put(prototype.getReferenceName(),
                                                    propertyName);
                                children: []
                                pos: 13530
                                length: 94
                              pos: 13516
                              length: 120
                            pos: 13413
                            length: 223
                          pos: 13304
                          length: 342
                        pos: 13281
                        length: 365
                      pos: 13205
                      length: 449
                    pos: 13172
                    length: 482
                  pos: 12366
                  length: 1294
                pos: 12342
                length: 1318
              pos: 11849
              length: 1815
          children: []
          pos: 11777
          length: 1887
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: checkPropertyVisibility
              children: []
              pos: 13846
              length: 23
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: NodeTraversal t
                children: []
                pos: 13870
                length: 15
              pos: 13833
              length: 3825
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: |-
                    ObjectType objectType =
                            ObjectType.cast(dereference(getprop.getFirstChild().getJSType()));
                children: []
                pos: 13926
                length: 98
              - type: local_variable_declaration
                fields:
                  text: String propertyName = getprop.getLastChild().getString();
                children: []
                pos: 14029
                length: 57
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: objectType
                            children: []
                            pos: 14096
                            length: 10
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 14110
                            length: 4
                        children: []
                        pos: 14096
                        length: 18
                    children: []
                    pos: 14095
                    length: 20
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: |-
                        boolean isOverride = parent.getJSDocInfo() != null &&
                                  parent.getType() == Token.ASSIGN &&
                                  parent.getFirstChild() == getprop;
                    children: []
                    pos: 14227
                    length: 144
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: identifier
                            fields:
                              text: isOverride
                            children: []
                            pos: 14474
                            length: 10
                        children: []
                        pos: 14473
                        length: 12
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: objectType = objectType.getImplicitPrototype();
                        children: []
                        pos: 14496
                        length: 47
                      pos: 14486
                      length: 65
                    pos: 14470
                    length: 81
                  - type: local_variable_declaration
                    fields:
                      text: JSDocInfo docInfo = null;
                    children: []
                    pos: 14558
                    length: 25
                  - type: for_statement
                    fields:
                      text: |-
                        for (; objectType != null;
                                   objectType = objectType.getImplicitPrototype()) {
                                docInfo = objectType.getOwnPropertyJSDocInfo(propertyName);
                                if (docInfo != null &&
                                    docInfo.getVisibility() != Visibility.INHERITED) {
                                  break;
                                }
                              }
                    children: []
                    pos: 14590
                    length: 284
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: objectType
                                children: []
                                pos: 14886
                                length: 10
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 14900
                                length: 4
                            children: []
                            pos: 14886
                            length: 18
                        children: []
                        pos: 14885
                        length: 20
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: return_statement
                        fields:
                          text: return;
                        children: []
                        pos: 14987
                        length: 7
                      pos: 14906
                      length: 96
                    pos: 14882
                    length: 120
                  - type: local_variable_declaration
                    fields:
                      text: |-
                        boolean sameInput =
                                  t.getInput().getName().equals(docInfo.getSourceName());
                    children: []
                    pos: 15010
                    length: 85
                  - type: local_variable_declaration
                    fields:
                      text: Visibility visibility = docInfo.getVisibility();
                    children: []
                    pos: 15102
                    length: 48
                  - type: local_variable_declaration
                    fields:
                      text: JSType ownerType = normalizeClassType(objectType);
                    children: []
                    pos: 15157
                    length: 50
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: identifier
                            fields:
                              text: isOverride
                            children: []
                            pos: 15218
                            length: 10
                        children: []
                        pos: 15217
                        length: 12
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: local_variable_declaration
                        fields:
                          text: JSDocInfo overridingInfo = parent.getJSDocInfo();
                        children: []
                        pos: 15342
                        length: 49
                      - type: local_variable_declaration
                        fields:
                          text: |-
                            Visibility overridingVisibility = overridingInfo == null ?
                                        Visibility.INHERITED : overridingInfo.getVisibility();
                        children: []
                        pos: 15400
                        length: 125
                      - type: if_statement
                        fields:
                          condition:
                            type: parenthesized_expression
                            fields:
                              expression:
                                type: and
                                fields:
                                  left:
                                    type: equals
                                    fields:
                                      left:
                                        type: identifier
                                        fields:
                                          text: visibility
                                        children: []
                                        pos: 15721
                                        length: 10
                                      right:
                                        type: field_access
                                        fields:
                                          text: Visibility.PRIVATE
                                        children: []
                                        pos: 15735
                                        length: 18
                                    children: []
                                    pos: 15721
                                    length: 32
                                  right:
                                    type: unary_expression
                                    fields:
                                      text: "!sameInput"
                                    children: []
                                    pos: 15757
                                    length: 10
                                children: []
                                pos: 15721
                                length: 46
                            children: []
                            pos: 15720
                            length: 48
                        children:
                        - type: block
                          fields: {}
                          children:
                          - type: expression_statement
                            fields:
                              text: |-
                                compiler.report(
                                              t.makeError(getprop, PRIVATE_OVERRIDE,
                                                  objectType.toString()));
                            children: []
                            pos: 15781
                            length: 112
                          pos: 15769
                          length: 134
                        pos: 15717
                        length: 495
                      pos: 15230
                      length: 990
                    pos: 15214
                    length: 2434
                  pos: 14116
                  length: 3538
                pos: 14092
                length: 3562
              pos: 13920
              length: 3738
          children: []
          pos: 13833
          length: 3825
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isValidPrivateConstructorAccess
              children: []
              pos: 18177
              length: 31
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Node parent
                children: []
                pos: 18209
                length: 11
              pos: 18154
              length: 115
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return parent.getType() != Token.NEW;
                children: []
                pos: 18228
                length: 37
              pos: 18222
              length: 47
          children: []
          pos: 18154
          length: 115
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: shouldEmitDeprecationWarning
              children: []
              pos: 18514
              length: 28
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: NodeTraversal t
                children: []
                pos: 18550
                length: 15
              pos: 18498
              length: 800
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: t.inGlobalScope()
                        children: []
                        pos: 18856
                        length: 17
                    children: []
                    pos: 18855
                    length: 19
                children:
                - type: block
                  fields: {}
                  children:
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: unary_expression
                            fields:
                              text: |-
                                !((parent.getType() == Token.CALL && parent.getFirstChild() == n) ||
                                              n.getType() == Token.NEW)
                            children: []
                            pos: 18887
                            length: 108
                        children: []
                        pos: 18886
                        length: 110
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: return_statement
                        fields:
                          text: return false;
                        children: []
                        pos: 19007
                        length: 13
                      pos: 18997
                      length: 31
                    pos: 18883
                    length: 145
                  pos: 18875
                  length: 159
                pos: 18852
                length: 182
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: and
                        fields:
                          left:
                            type: and
                            fields:
                              left:
                                type: equals
                                fields:
                                  left:
                                    type: method_invocation
                                    fields:
                                      text: n.getType()
                                    children: []
                                    pos: 19121
                                    length: 11
                                  right:
                                    type: field_access
                                    fields:
                                      text: Token.GETPROP
                                    children: []
                                    pos: 19136
                                    length: 13
                                children: []
                                pos: 19121
                                length: 28
                              right:
                                type: equals
                                fields:
                                  left:
                                    type: identifier
                                    fields:
                                      text: "n"
                                    children: []
                                    pos: 19153
                                    length: 1
                                  right:
                                    type: method_invocation
                                    fields:
                                      text: parent.getFirstChild()
                                    children: []
                                    pos: 19158
                                    length: 22
                                children: []
                                pos: 19153
                                length: 27
                            children: []
                            pos: 19121
                            length: 59
                          right:
                            type: method_invocation
                            fields:
                              text: NodeUtil.isAssignmentOp(parent)
                            children: []
                            pos: 19192
                            length: 31
                        children: []
                        pos: 19121
                        length: 102
                    children: []
                    pos: 19120
                    length: 104
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return false;
                    children: []
                    pos: 19233
                    length: 13
                  pos: 19225
                  length: 27
                pos: 19117
                length: 135
              - type: return_statement
                fields:
                  text: return !canAccessDeprecatedTypes(t);
                children: []
                pos: 19258
                length: 36
              pos: 18588
              length: 710
          children: []
          pos: 18498
          length: 800
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: canAccessDeprecatedTypes
              children: []
              pos: 19660
              length: 24
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: NodeTraversal t
                children: []
                pos: 19685
                length: 15
              pos: 19644
              length: 496
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: Node scopeRoot = t.getScopeRoot();
                children: []
                pos: 19708
                length: 34
              - type: local_variable_declaration
                fields:
                  text: Node scopeRootParent = scopeRoot.getParent();
                children: []
                pos: 19747
                length: 45
              - type: return_statement
                fields:
                  text: |-
                    return
                          // Case #1
                          (deprecatedDepth > 0) ||
                          // Case #2
                          (getTypeDeprecationInfo(t.getScope().getTypeOfThis()) != null) ||
                            // Case #3
                          (scopeRootParent != null && scopeRootParent.getType() == Token.ASSIGN &&
                           getTypeDeprecationInfo(
                               getClassOfMethod(scopeRoot, scopeRootParent)) != null);
                children: []
                pos: 19797
                length: 339
              pos: 19702
              length: 438
          children: []
          pos: 19644
          length: 496
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isDeprecatedFunction
              children: []
              pos: 20249
              length: 20
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Node n
                children: []
                pos: 20270
                length: 6
              pos: 20226
              length: 258
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: method_invocation
                            fields:
                              text: n.getType()
                            children: []
                            pos: 20301
                            length: 11
                          right:
                            type: field_access
                            fields:
                              text: Token.FUNCTION
                            children: []
                            pos: 20316
                            length: 14
                        children: []
                        pos: 20301
                        length: 29
                    children: []
                    pos: 20300
                    length: 31
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: JSType type = n.getJSType();
                    children: []
                    pos: 20340
                    length: 28
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: not_equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: type
                                children: []
                                pos: 20379
                                length: 4
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 20387
                                length: 4
                            children: []
                            pos: 20379
                            length: 12
                        children: []
                        pos: 20378
                        length: 14
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: return_statement
                        fields:
                          text: return getTypeDeprecationInfo(type) != null;
                        children: []
                        pos: 20403
                        length: 44
                      pos: 20393
                      length: 62
                    pos: 20375
                    length: 80
                  pos: 20332
                  length: 129
                pos: 20297
                length: 164
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 20467
                length: 13
              pos: 20291
              length: 193
          children: []
          pos: 20226
          length: 258
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getTypeDeprecationInfo
              children: []
              pos: 20734
              length: 22
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSType type
                children: []
                pos: 20757
                length: 11
              pos: 20712
              length: 586
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: type
                            children: []
                            pos: 20780
                            length: 4
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 20788
                            length: 4
                        children: []
                        pos: 20780
                        length: 12
                    children: []
                    pos: 20779
                    length: 14
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return null;
                    children: []
                    pos: 20802
                    length: 12
                  pos: 20794
                  length: 26
                pos: 20776
                length: 44
              - type: local_variable_declaration
                fields:
                  text: JSDocInfo info = type.getJSDocInfo();
                children: []
                pos: 20826
                length: 37
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: and
                        fields:
                          left:
                            type: not_equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: info
                                children: []
                                pos: 20872
                                length: 4
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 20880
                                length: 4
                            children: []
                            pos: 20872
                            length: 12
                          right:
                            type: method_invocation
                            fields:
                              text: info.isDeprecated()
                            children: []
                            pos: 20888
                            length: 19
                        children: []
                        pos: 20872
                        length: 35
                    children: []
                    pos: 20871
                    length: 37
                children:
                - type: block
                  fields: {}
                  children:
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: not_equals
                            fields:
                              left:
                                type: method_invocation
                                fields:
                                  text: info.getDeprecationReason()
                                children: []
                                pos: 20921
                                length: 27
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 20952
                                length: 4
                            children: []
                            pos: 20921
                            length: 35
                        children: []
                        pos: 20920
                        length: 37
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: return_statement
                        fields:
                          text: return info.getDeprecationReason();
                        children: []
                        pos: 20968
                        length: 35
                      pos: 20958
                      length: 53
                    pos: 20917
                    length: 94
                  - type: return_statement
                    fields:
                      text: return "";
                    children: []
                    pos: 21018
                    length: 10
                  pos: 20909
                  length: 125
                pos: 20868
                length: 166
              - type: local_variable_declaration
                fields:
                  text: ObjectType objType = ObjectType.cast(type);
                children: []
                pos: 21039
                length: 43
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: objType
                            children: []
                            pos: 21091
                            length: 7
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 21102
                            length: 4
                        children: []
                        pos: 21091
                        length: 15
                    children: []
                    pos: 21090
                    length: 17
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: ObjectType implicitProto = objType.getImplicitPrototype();
                    children: []
                    pos: 21116
                    length: 58
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: not_equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: implicitProto
                                children: []
                                pos: 21185
                                length: 13
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 21202
                                length: 4
                            children: []
                            pos: 21185
                            length: 21
                        children: []
                        pos: 21184
                        length: 23
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: return_statement
                        fields:
                          text: return getTypeDeprecationInfo(implicitProto);
                        children: []
                        pos: 21218
                        length: 45
                      pos: 21208
                      length: 63
                    pos: 21181
                    length: 90
                  pos: 21108
                  length: 169
                pos: 21087
                length: 190
              - type: return_statement
                fields:
                  text: return null;
                children: []
                pos: 21282
                length: 12
              pos: 20770
              length: 528
          children: []
          pos: 20712
          length: 586
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getPropertyDeprecationInfo
              children: []
              pos: 21560
              length: 26
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: ObjectType type
                children: []
                pos: 21587
                length: 15
              pos: 21538
              length: 542
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: JSDocInfo info = type.getOwnPropertyJSDocInfo(prop);
                children: []
                pos: 21674
                length: 52
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: and
                        fields:
                          left:
                            type: not_equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: info
                                children: []
                                pos: 21735
                                length: 4
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 21743
                                length: 4
                            children: []
                            pos: 21735
                            length: 12
                          right:
                            type: method_invocation
                            fields:
                              text: info.isDeprecated()
                            children: []
                            pos: 21751
                            length: 19
                        children: []
                        pos: 21735
                        length: 35
                    children: []
                    pos: 21734
                    length: 37
                children:
                - type: block
                  fields: {}
                  children:
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: not_equals
                            fields:
                              left:
                                type: method_invocation
                                fields:
                                  text: info.getDeprecationReason()
                                children: []
                                pos: 21784
                                length: 27
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 21815
                                length: 4
                            children: []
                            pos: 21784
                            length: 35
                        children: []
                        pos: 21783
                        length: 37
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: return_statement
                        fields:
                          text: return info.getDeprecationReason();
                        children: []
                        pos: 21831
                        length: 35
                      pos: 21821
                      length: 53
                    pos: 21780
                    length: 94
                  - type: return_statement
                    fields:
                      text: return "";
                    children: []
                    pos: 21882
                    length: 10
                  pos: 21772
                  length: 126
                pos: 21731
                length: 167
              - type: local_variable_declaration
                fields:
                  text: ObjectType implicitProto = type.getImplicitPrototype();
                children: []
                pos: 21903
                length: 55
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: implicitProto
                            children: []
                            pos: 21967
                            length: 13
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 21984
                            length: 4
                        children: []
                        pos: 21967
                        length: 21
                    children: []
                    pos: 21966
                    length: 23
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return getPropertyDeprecationInfo(implicitProto, prop);
                    children: []
                    pos: 21998
                    length: 55
                  pos: 21990
                  length: 69
                pos: 21963
                length: 96
              - type: return_statement
                fields:
                  text: return null;
                children: []
                pos: 22064
                length: 12
              pos: 21668
              length: 412
          children: []
          pos: 21538
          length: 542
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: dereference
              children: []
              pos: 22181
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSType type
                children: []
                pos: 22193
                length: 11
              pos: 22159
              length: 105
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: 'return type == null ? null : type.dereference();'
                children: []
                pos: 22212
                length: 48
              pos: 22206
              length: 58
          children: []
          pos: 22159
          length: 105
        pos: 1850
        length: 20416
    children: []
    pos: 1850
    length: 20416
  pos: 0
  length: 22267
after_tree:
  type: program
  fields: {}
  children:
  - type: class_declaration
    fields:
      name:
        type: identifier
        fields:
          text: CheckAccessControls
        children: []
        pos: 1856
        length: 19
      body:
        type: class_body
        fields: {}
        children:
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType DEPRECATED_NAME = DiagnosticType.disabled(
                    "JSC_DEPRECATED_VAR",
                    "Variable {0} has been deprecated.");
          children: []
          pos: 1928
          length: 142
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType DEPRECATED_NAME_REASON = DiagnosticType.disabled(
                    "JSC_DEPRECATED_VAR_REASON",
                    "Variable {0} has been deprecated: {1}");
          children: []
          pos: 2074
          length: 160
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType DEPRECATED_PROP = DiagnosticType.disabled(
                    "JSC_DEPRECATED_PROP",
                    "Property {0} of type {1} has been deprecated.");
          children: []
          pos: 2238
          length: 155
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType DEPRECATED_PROP_REASON = DiagnosticType.disabled(
                    "JSC_DEPRECATED_PROP_REASON",
                    "Property {0} of type {1} has been deprecated: {2}");
          children: []
          pos: 2397
          length: 173
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType DEPRECATED_CLASS = DiagnosticType.disabled(
                    "JSC_DEPRECATED_CLASS",
                    "Class {0} has been deprecated.");
          children: []
          pos: 2574
          length: 142
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType DEPRECATED_CLASS_REASON = DiagnosticType.disabled(
                    "JSC_DEPRECATED_CLASS_REASON",
                    "Class {0} has been deprecated: {1}");
          children: []
          pos: 2720
          length: 160
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType BAD_PRIVATE_GLOBAL_ACCESS =
                    DiagnosticType.disabled(
                        "JSC_BAD_PRIVATE_GLOBAL_ACCESS",
                        "Access to private variable {0} not allowed outside file {1}.");
          children: []
          pos: 2884
          length: 204
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType BAD_PRIVATE_PROPERTY_ACCESS =
                    DiagnosticType.disabled(
                        "JSC_BAD_PRIVATE_PROPERTY_ACCESS",
                        "Access to private property {0} of {1} not allowed here.");
          children: []
          pos: 3092
          length: 203
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType BAD_PROTECTED_PROPERTY_ACCESS =
                    DiagnosticType.disabled(
                        "JSC_BAD_PROTECTED_PROPERTY_ACCESS",
                        "Access to protected property {0} of {1} not allowed here.");
          children: []
          pos: 3299
          length: 209
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType PRIVATE_OVERRIDE =
                    DiagnosticType.disabled(
                        "JSC_PRIVATE_OVERRIDE",
                        "Overriding private property of {0}.");
          children: []
          pos: 3512
          length: 161
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType VISIBILITY_MISMATCH =
                    DiagnosticType.disabled(
                        "JSC_VISIBILITY_MISMATCH",
                        "Overriding {0} property of {1} with {2} property.");
          children: []
          pos: 3677
          length: 181
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType CONST_PROPERTY_REASSIGNED_VALUE =
                    DiagnosticType.warning(
                      "JSC_CONSTANT_PROPERTY_REASSIGNED_VALUE",
                      "constant property {0} assigned a value more than once");
          children: []
          pos: 3862
          length: 207
        - type: field_declaration
          fields:
            text: private final AbstractCompiler compiler;
          children: []
          pos: 4073
          length: 40
        - type: field_declaration
          fields:
            text: private final TypeValidator validator;
          children: []
          pos: 4116
          length: 38
        - type: field_declaration
          fields:
            text: private int deprecatedDepth = 0;
          children: []
          pos: 4198
          length: 32
        - type: field_declaration
          fields:
            text: private int methodDepth = 0;
          children: []
          pos: 4233
          length: 28
        - type: field_declaration
          fields:
            text: private JSType currentClass = null;
          children: []
          pos: 4264
          length: 35
        - type: field_declaration
          fields:
            text: private final Multimap<String, String> initializedConstantProperties;
          children: []
          pos: 4303
          length: 69
        - type: constructor_declaration
          fields:
            text: |-
              CheckAccessControls(AbstractCompiler compiler) {
                  this.compiler = compiler;
                  this.validator = compiler.getTypeValidator();
                  this.initializedConstantProperties = HashMultimap.create();
                }
          children: []
          pos: 4376
          length: 196
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: process
              children: []
              pos: 4600
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Node externs
                children: []
                pos: 4608
                length: 12
              pos: 4576
              length: 112
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: NodeTraversal.traverse(compiler, root, this);
                children: []
                pos: 4639
                length: 45
              pos: 4633
              length: 55
          children: []
          pos: 4576
          length: 112
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: hotSwapScript
              children: []
              pos: 4716
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Node scriptRoot
                children: []
                pos: 4730
                length: 15
              pos: 4692
              length: 116
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: NodeTraversal.traverse(compiler, scriptRoot, this);
                children: []
                pos: 4753
                length: 51
              pos: 4747
              length: 61
          children: []
          pos: 4692
          length: 116
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: enterScope
              children: []
              pos: 4824
              length: 10
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: NodeTraversal t
                children: []
                pos: 4835
                length: 15
              pos: 4812
              length: 341
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: unary_expression
                        fields:
                          text: "!t.inGlobalScope()"
                        children: []
                        pos: 4862
                        length: 18
                    children: []
                    pos: 4861
                    length: 20
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: Node n = t.getScopeRoot();
                    children: []
                    pos: 4890
                    length: 26
                  - type: local_variable_declaration
                    fields:
                      text: Node parent = n.getParent();
                    children: []
                    pos: 4923
                    length: 28
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: method_invocation
                            fields:
                              text: isDeprecatedFunction(n, parent)
                            children: []
                            pos: 4962
                            length: 31
                        children: []
                        pos: 4961
                        length: 33
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: deprecatedDepth++;
                        children: []
                        pos: 5005
                        length: 18
                      pos: 4995
                      length: 36
                    pos: 4958
                    length: 73
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: methodDepth
                                children: []
                                pos: 5043
                                length: 11
                              right:
                                type: decimal_integer_literal
                                fields:
                                  text: '0'
                                children: []
                                pos: 5058
                                length: 1
                            children: []
                            pos: 5043
                            length: 16
                        children: []
                        pos: 5042
                        length: 18
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: currentClass = getClassOfMethod(n, parent);
                        children: []
                        pos: 5071
                        length: 43
                      pos: 5061
                      length: 61
                    pos: 5039
                    length: 83
                  - type: expression_statement
                    fields:
                      text: methodDepth++;
                    children: []
                    pos: 5129
                    length: 14
                  pos: 4882
                  length: 267
                pos: 4858
                length: 291
              pos: 4852
              length: 301
          children: []
          pos: 4812
          length: 341
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: exitScope
              children: []
              pos: 5169
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: NodeTraversal t
                children: []
                pos: 5179
                length: 15
              pos: 5157
              length: 317
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: unary_expression
                        fields:
                          text: "!t.inGlobalScope()"
                        children: []
                        pos: 5206
                        length: 18
                    children: []
                    pos: 5205
                    length: 20
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: Node n = t.getScopeRoot();
                    children: []
                    pos: 5234
                    length: 26
                  - type: local_variable_declaration
                    fields:
                      text: Node parent = n.getParent();
                    children: []
                    pos: 5267
                    length: 28
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: method_invocation
                            fields:
                              text: isDeprecatedFunction(n, parent)
                            children: []
                            pos: 5306
                            length: 31
                        children: []
                        pos: 5305
                        length: 33
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: deprecatedDepth--;
                        children: []
                        pos: 5349
                        length: 18
                      pos: 5339
                      length: 36
                    pos: 5302
                    length: 73
                  - type: expression_statement
                    fields:
                      text: methodDepth--;
                    children: []
                    pos: 5383
                    length: 14
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: methodDepth
                                children: []
                                pos: 5408
                                length: 11
                              right:
                                type: decimal_integer_literal
                                fields:
                                  text: '0'
                                children: []
                                pos: 5423
                                length: 1
                            children: []
                            pos: 5408
                            length: 16
                        children: []
                        pos: 5407
                        length: 18
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: currentClass = null;
                        children: []
                        pos: 5436
                        length: 20
                      pos: 5426
                      length: 38
                    pos: 5404
                    length: 60
                  pos: 5226
                  length: 244
                pos: 5202
                length: 268
              pos: 5196
              length: 278
          children: []
          pos: 5157
          length: 317
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getClassOfMethod
              children: []
              pos: 5602
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Node n
                children: []
                pos: 5619
                length: 6
              pos: 5587
              length: 1177
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: method_invocation
                            fields:
                              text: parent.getType()
                            children: []
                            pos: 5650
                            length: 16
                          right:
                            type: field_access
                            fields:
                              text: Token.ASSIGN
                            children: []
                            pos: 5670
                            length: 12
                        children: []
                        pos: 5650
                        length: 32
                    children: []
                    pos: 5649
                    length: 34
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: Node lValue = parent.getFirstChild();
                    children: []
                    pos: 5692
                    length: 37
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: method_invocation
                            fields:
                              text: lValue.isQualifiedName()
                            children: []
                            pos: 5740
                            length: 24
                        children: []
                        pos: 5739
                        length: 26
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: if_statement
                        fields:
                          condition:
                            type: parenthesized_expression
                            fields:
                              expression:
                                type: equals
                                fields:
                                  left:
                                    type: method_invocation
                                    fields:
                                      text: lValue.getType()
                                    children: []
                                    pos: 5780
                                    length: 16
                                  right:
                                    type: field_access
                                    fields:
                                      text: Token.GETPROP
                                    children: []
                                    pos: 5800
                                    length: 13
                                children: []
                                pos: 5780
                                length: 33
                            children: []
                            pos: 5779
                            length: 35
                        children:
                        - type: block
                          fields: {}
                          children:
                          - type: local_variable_declaration
                            fields:
                              text: JSType lValueType = lValue.getJSType();
                            children: []
                            pos: 5887
                            length: 39
                          - type: if_statement
                            fields:
                              condition:
                                type: parenthesized_expression
                                fields:
                                  expression:
                                    type: and
                                    fields:
                                      left:
                                        type: not_equals
                                        fields:
                                          left:
                                            type: identifier
                                            fields:
                                              text: lValueType
                                            children: []
                                            pos: 5941
                                            length: 10
                                          right:
                                            type: null_literal
                                            fields: {}
                                            children: []
                                            pos: 5955
                                            length: 4
                                        children: []
                                        pos: 5941
                                        length: 18
                                      right:
                                        type: method_invocation
                                        fields:
                                          text: lValueType.isConstructor()
                                        children: []
                                        pos: 5963
                                        length: 26
                                    children: []
                                    pos: 5941
                                    length: 48
                                children: []
                                pos: 5940
                                length: 50
                            children:
                            - type: block
                              fields: {}
                              children:
                              - type: return_statement
                                fields:
                                  text: return ((FunctionType) lValueType).getInstanceType();
                                children: []
                                pos: 6120
                                length: 53
                              pos: 5991
                              length: 194
                            pos: 5937
                            length: 457
                          pos: 5815
                          length: 589
                        pos: 5776
                        length: 803
                      pos: 5766
                      length: 821
                    pos: 5736
                    length: 851
                  pos: 5684
                  length: 909
                pos: 5646
                length: 1096
              - type: return_statement
                fields:
                  text: return null;
                children: []
                pos: 6748
                length: 12
              pos: 5640
              length: 1124
          children: []
          pos: 5587
          length: 1177
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: normalizeClassType
              children: []
              pos: 6921
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSType type
                children: []
                pos: 6940
                length: 11
              pos: 6906
              length: 445
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: type
                                children: []
                                pos: 6963
                                length: 4
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 6971
                                length: 4
                            children: []
                            pos: 6963
                            length: 12
                          right:
                            type: method_invocation
                            fields:
                              text: type.isUnknownType()
                            children: []
                            pos: 6979
                            length: 20
                        children: []
                        pos: 6963
                        length: 36
                    children: []
                    pos: 6962
                    length: 38
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return type;
                    children: []
                    pos: 7009
                    length: 12
                  pos: 7001
                  length: 26
                pos: 6959
                length: 371
              - type: return_statement
                fields:
                  text: return type;
                children: []
                pos: 7335
                length: 12
              pos: 6953
              length: 398
          children: []
          pos: 6906
          length: 445
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: shouldTraverse
              children: []
              pos: 7370
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: NodeTraversal t
                children: []
                pos: 7385
                length: 15
              pos: 7355
              length: 90
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return true;
                children: []
                pos: 7429
                length: 12
              pos: 7423
              length: 22
          children: []
          pos: 7355
          length: 90
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: visit
              children: []
              pos: 7461
              length: 5
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: NodeTraversal t
                children: []
                pos: 7467
                length: 15
              pos: 7449
              length: 480
            body:
              type: block
              fields: {}
              children:
              - type: switch_expression
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: n.getType()
                        children: []
                        pos: 7519
                        length: 11
                    children: []
                    pos: 7518
                    length: 13
                  body:
                    type: switch_block
                    fields:
                      text: |-
                        {
                              case Token.NAME:
                                checkNameDeprecation(t, n, parent);
                                checkNameVisibility(t, n, parent);
                                break;
                              case Token.GETPROP:
                                checkPropertyDeprecation(t, n, parent);
                                checkPropertyVisibility(t, n, parent);
                                checkConstantProperty(t, n);
                                break;
                              case Token.NEW:
                                checkConstructorDeprecation(t, n, parent);
                                break;
                            }
                    children: []
                    pos: 7532
                    length: 393
                children: []
                pos: 7511
                length: 414
              pos: 7505
              length: 424
          children: []
          pos: 7449
          length: 480
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: checkConstructorDeprecation
              children: []
              pos: 8036
              length: 27
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: NodeTraversal t
                children: []
                pos: 8064
                length: 15
              pos: 8023
              length: 621
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: JSType type = n.getJSType();
                children: []
                pos: 8114
                length: 28
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: type
                            children: []
                            pos: 8152
                            length: 4
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 8160
                            length: 4
                        children: []
                        pos: 8152
                        length: 12
                    children: []
                    pos: 8151
                    length: 14
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: String deprecationInfo = getTypeDeprecationInfo(type);
                    children: []
                    pos: 8174
                    length: 54
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: and
                            fields:
                              left:
                                type: not_equals
                                fields:
                                  left:
                                    type: identifier
                                    fields:
                                      text: deprecationInfo
                                    children: []
                                    pos: 8240
                                    length: 15
                                  right:
                                    type: null_literal
                                    fields: {}
                                    children: []
                                    pos: 8259
                                    length: 4
                                children: []
                                pos: 8240
                                length: 23
                              right:
                                type: method_invocation
                                fields:
                                  text: shouldEmitDeprecationWarning(t, n, parent)
                                children: []
                                pos: 8277
                                length: 42
                            children: []
                            pos: 8240
                            length: 79
                        children: []
                        pos: 8239
                        length: 81
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: if_statement
                        fields:
                          condition:
                            type: parenthesized_expression
                            fields:
                              expression:
                                type: unary_expression
                                fields:
                                  text: "!deprecationInfo.isEmpty()"
                                children: []
                                pos: 8336
                                length: 26
                            children: []
                            pos: 8335
                            length: 28
                        children:
                        - type: block
                          fields: {}
                          children:
                          - type: expression_statement
                            fields:
                              text: |-
                                compiler.report(
                                                t.makeError(n, DEPRECATED_CLASS_REASON,
                                                    type.toString(), deprecationInfo));
                            children: []
                            pos: 8378
                            length: 128
                          pos: 8364
                          length: 152
                        pos: 8332
                        length: 294
                      pos: 8321
                      length: 313
                    pos: 8236
                    length: 398
                  pos: 8166
                  length: 474
                pos: 8148
                length: 492
              pos: 8108
              length: 536
          children: []
          pos: 8023
          length: 621
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: checkNameDeprecation
              children: []
              pos: 8752
              length: 20
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: NodeTraversal t
                children: []
                pos: 8773
                length: 15
              pos: 8739
              length: 814
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: or
                            fields:
                              left:
                                type: equals
                                fields:
                                  left:
                                    type: method_invocation
                                    fields:
                                      text: parent.getType()
                                    children: []
                                    pos: 8879
                                    length: 16
                                  right:
                                    type: field_access
                                    fields:
                                      text: Token.FUNCTION
                                    children: []
                                    pos: 8899
                                    length: 14
                                children: []
                                pos: 8879
                                length: 34
                              right:
                                type: equals
                                fields:
                                  left:
                                    type: method_invocation
                                    fields:
                                      text: parent.getType()
                                    children: []
                                    pos: 8917
                                    length: 16
                                  right:
                                    type: field_access
                                    fields:
                                      text: Token.VAR
                                    children: []
                                    pos: 8937
                                    length: 9
                                children: []
                                pos: 8917
                                length: 29
                            children: []
                            pos: 8879
                            length: 67
                          right:
                            type: equals
                            fields:
                              left:
                                type: method_invocation
                                fields:
                                  text: parent.getType()
                                children: []
                                pos: 8958
                                length: 16
                              right:
                                type: field_access
                                fields:
                                  text: Token.NEW
                                children: []
                                pos: 8978
                                length: 9
                            children: []
                            pos: 8958
                            length: 29
                        children: []
                        pos: 8879
                        length: 108
                    children: []
                    pos: 8878
                    length: 110
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return;
                    children: []
                    pos: 8997
                    length: 7
                  pos: 8989
                  length: 21
                pos: 8875
                length: 135
              - type: local_variable_declaration
                fields:
                  text: Scope.Var var = t.getScope().getVar(n.getString());
                children: []
                pos: 9016
                length: 51
              - type: local_variable_declaration
                fields:
                  text: 'JSDocInfo docInfo = var == null ? null : var.getJSDocInfo();'
                children: []
                pos: 9072
                length: 60
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: and
                        fields:
                          left:
                            type: and
                            fields:
                              left:
                                type: not_equals
                                fields:
                                  left:
                                    type: identifier
                                    fields:
                                      text: docInfo
                                    children: []
                                    pos: 9142
                                    length: 7
                                  right:
                                    type: null_literal
                                    fields: {}
                                    children: []
                                    pos: 9153
                                    length: 4
                                children: []
                                pos: 9142
                                length: 15
                              right:
                                type: method_invocation
                                fields:
                                  text: docInfo.isDeprecated()
                                children: []
                                pos: 9161
                                length: 22
                            children: []
                            pos: 9142
                            length: 41
                          right:
                            type: method_invocation
                            fields:
                              text: shouldEmitDeprecationWarning(t, n, parent)
                            children: []
                            pos: 9195
                            length: 42
                        children: []
                        pos: 9142
                        length: 95
                    children: []
                    pos: 9141
                    length: 97
                children:
                - type: block
                  fields: {}
                  children:
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: not_equals
                            fields:
                              left:
                                type: method_invocation
                                fields:
                                  text: docInfo.getDeprecationReason()
                                children: []
                                pos: 9252
                                length: 30
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 9286
                                length: 4
                            children: []
                            pos: 9252
                            length: 38
                        children: []
                        pos: 9251
                        length: 40
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: |-
                            compiler.report(
                                        t.makeError(n, DEPRECATED_NAME_REASON, n.getString(),
                                            docInfo.getDeprecationReason()));
                        children: []
                        pos: 9302
                        length: 132
                      pos: 9292
                      length: 150
                    pos: 9248
                    length: 295
                  pos: 9239
                  length: 310
                pos: 9138
                length: 411
              pos: 8811
              length: 742
          children: []
          pos: 8739
          length: 814
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: checkPropertyDeprecation
              children: []
              pos: 9669
              length: 24
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: NodeTraversal t
                children: []
                pos: 9694
                length: 15
              pos: 9656
              length: 1015
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: method_invocation
                            fields:
                              text: parent.getType()
                            children: []
                            pos: 9785
                            length: 16
                          right:
                            type: field_access
                            fields:
                              text: Token.NEW
                            children: []
                            pos: 9805
                            length: 9
                        children: []
                        pos: 9785
                        length: 29
                    children: []
                    pos: 9784
                    length: 31
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return;
                    children: []
                    pos: 9824
                    length: 7
                  pos: 9816
                  length: 21
                pos: 9781
                length: 56
              - type: local_variable_declaration
                fields:
                  text: |-
                    ObjectType objectType =
                            ObjectType.cast(dereference(n.getFirstChild().getJSType()));
                children: []
                pos: 9843
                length: 92
              - type: local_variable_declaration
                fields:
                  text: String propertyName = n.getLastChild().getString();
                children: []
                pos: 9940
                length: 51
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: objectType
                            children: []
                            pos: 10001
                            length: 10
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 10015
                            length: 4
                        children: []
                        pos: 10001
                        length: 18
                    children: []
                    pos: 10000
                    length: 20
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: |-
                        String deprecationInfo
                                  = getPropertyDeprecationInfo(objectType, propertyName);
                    children: []
                    pos: 10029
                    length: 88
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: and
                            fields:
                              left:
                                type: not_equals
                                fields:
                                  left:
                                    type: identifier
                                    fields:
                                      text: deprecationInfo
                                    children: []
                                    pos: 10129
                                    length: 15
                                  right:
                                    type: null_literal
                                    fields: {}
                                    children: []
                                    pos: 10148
                                    length: 4
                                children: []
                                pos: 10129
                                length: 23
                              right:
                                type: method_invocation
                                fields:
                                  text: shouldEmitDeprecationWarning(t, n, parent)
                                children: []
                                pos: 10166
                                length: 42
                            children: []
                            pos: 10129
                            length: 79
                        children: []
                        pos: 10128
                        length: 81
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: if_statement
                        fields:
                          condition:
                            type: parenthesized_expression
                            fields:
                              expression:
                                type: unary_expression
                                fields:
                                  text: "!deprecationInfo.isEmpty()"
                                children: []
                                pos: 10225
                                length: 26
                            children: []
                            pos: 10224
                            length: 28
                        children:
                        - type: block
                          fields: {}
                          children:
                          - type: expression_statement
                            fields:
                              text: |-
                                compiler.report(
                                              t.makeError(n, DEPRECATED_PROP_REASON, propertyName,
                                                  validator.getReadableJSTypeName(n.getFirstChild(), true),
                                                  deprecationInfo));
                            children: []
                            pos: 10265
                            length: 196
                          pos: 10253
                          length: 218
                        pos: 10221
                        length: 432
                      pos: 10210
                      length: 451
                    pos: 10125
                    length: 536
                  pos: 10021
                  length: 646
                pos: 9997
                length: 670
              pos: 9732
              length: 939
          children: []
          pos: 9656
          length: 1015
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: checkNameVisibility
              children: []
              pos: 10843
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: NodeTraversal t
                children: []
                pos: 10863
                length: 15
              pos: 10830
              length: 782
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: Var var = t.getScope().getVar(name.getString());
                children: []
                pos: 10910
                length: 48
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: var
                            children: []
                            pos: 10967
                            length: 3
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 10974
                            length: 4
                        children: []
                        pos: 10967
                        length: 11
                    children: []
                    pos: 10966
                    length: 13
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: JSDocInfo docInfo = var.getJSDocInfo();
                    children: []
                    pos: 10988
                    length: 39
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: not_equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: docInfo
                                children: []
                                pos: 11038
                                length: 7
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 11049
                                length: 4
                            children: []
                            pos: 11038
                            length: 15
                        children: []
                        pos: 11037
                        length: 17
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: local_variable_declaration
                        fields:
                          text: Visibility visibility = docInfo.getVisibility();
                        children: []
                        pos: 11137
                        length: 48
                      - type: if_statement
                        fields:
                          condition:
                            type: parenthesized_expression
                            fields:
                              expression:
                                type: and
                                fields:
                                  left:
                                    type: equals
                                    fields:
                                      left:
                                        type: identifier
                                        fields:
                                          text: visibility
                                        children: []
                                        pos: 11198
                                        length: 10
                                      right:
                                        type: field_access
                                        fields:
                                          text: Visibility.PRIVATE
                                        children: []
                                        pos: 11212
                                        length: 18
                                    children: []
                                    pos: 11198
                                    length: 32
                                  right:
                                    type: unary_expression
                                    fields:
                                      text: "!t.getInput().getName().equals(docInfo.getSourceName())"
                                    children: []
                                    pos: 11246
                                    length: 55
                                children: []
                                pos: 11198
                                length: 103
                            children: []
                            pos: 11197
                            length: 105
                        children:
                        - type: block
                          fields: {}
                          children:
                          - type: if_statement
                            fields:
                              condition:
                                type: parenthesized_expression
                                fields:
                                  expression:
                                    type: and
                                    fields:
                                      left:
                                        type: method_invocation
                                        fields:
                                          text: docInfo.isConstructor()
                                        children: []
                                        pos: 11319
                                        length: 23
                                      right:
                                        type: method_invocation
                                        fields:
                                          text: isValidPrivateConstructorAccess(parent)
                                        children: []
                                        pos: 11360
                                        length: 39
                                    children: []
                                    pos: 11319
                                    length: 80
                                children: []
                                pos: 11318
                                length: 82
                            children:
                            - type: block
                              fields: {}
                              children:
                              - type: return_statement
                                fields:
                                  text: return;
                                children: []
                                pos: 11415
                                length: 7
                              pos: 11401
                              length: 33
                            pos: 11315
                            length: 119
                          - type: expression_statement
                            fields:
                              text: |-
                                compiler.report(
                                              t.makeError(name, BAD_PRIVATE_GLOBAL_ACCESS,
                                                  name.getString(), docInfo.getSourceName()));
                            children: []
                            pos: 11446
                            length: 138
                          pos: 11303
                          length: 291
                        pos: 11194
                        length: 400
                      pos: 11055
                      length: 547
                    pos: 11034
                    length: 568
                  pos: 10980
                  length: 628
                pos: 10963
                length: 645
              pos: 10904
              length: 708
          children: []
          pos: 10830
          length: 782
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: checkConstantProperty
              children: []
              pos: 11790
              length: 21
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: NodeTraversal t
                children: []
                pos: 11812
                length: 15
              pos: 11777
              length: 1887
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: Node parent = getprop.getParent();
                children: []
                pos: 11901
                length: 34
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: and
                        fields:
                          left:
                            type: and
                            fields:
                              left:
                                type: unary_expression
                                fields:
                                  text: "!(NodeUtil.isAssignmentOp(parent) && parent.getFirstChild()
                                    == getprop)"
                                children: []
                                pos: 11944
                                length: 71
                              right:
                                type: parenthesized_expression
                                fields:
                                  expression:
                                    type: not_equals
                                    fields:
                                      left:
                                        type: method_invocation
                                        fields:
                                          text: parent.getType()
                                        children: []
                                        pos: 12028
                                        length: 16
                                      right:
                                        type: field_access
                                        fields:
                                          text: Token.INC
                                        children: []
                                        pos: 12048
                                        length: 9
                                    children: []
                                    pos: 12028
                                    length: 29
                                children: []
                                pos: 12027
                                length: 31
                            children: []
                            pos: 11944
                            length: 114
                          right:
                            type: parenthesized_expression
                            fields:
                              expression:
                                type: not_equals
                                fields:
                                  left:
                                    type: method_invocation
                                    fields:
                                      text: parent.getType()
                                    children: []
                                    pos: 12063
                                    length: 16
                                  right:
                                    type: field_access
                                    fields:
                                      text: Token.DEC
                                    children: []
                                    pos: 12083
                                    length: 9
                                children: []
                                pos: 12063
                                length: 29
                            children: []
                            pos: 12062
                            length: 31
                        children: []
                        pos: 11944
                        length: 149
                    children: []
                    pos: 11943
                    length: 151
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return;
                    children: []
                    pos: 12103
                    length: 7
                  pos: 12095
                  length: 21
                pos: 11940
                length: 176
              - type: local_variable_declaration
                fields:
                  text: |-
                    ObjectType objectType =
                          ObjectType.cast(dereference(getprop.getFirstChild().getJSType()));
                children: []
                pos: 12122
                length: 96
              - type: local_variable_declaration
                fields:
                  text: String propertyName = getprop.getLastChild().getString();
                children: []
                pos: 12223
                length: 57
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: objectType
                            children: []
                            pos: 12346
                            length: 10
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 12360
                            length: 4
                        children: []
                        pos: 12346
                        length: 18
                    children: []
                    pos: 12345
                    length: 20
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: ObjectType oType = objectType;
                    children: []
                    pos: 12374
                    length: 30
                  - type: while_statement
                    fields:
                      text: |-
                        while (oType != null) {
                                if (oType.hasReferenceName()) {
                                  if (initializedConstantProperties.containsEntry(
                                          oType.getReferenceName(), propertyName)) {
                                    compiler.report(
                                        t.makeError(getprop, CONST_PROPERTY_REASSIGNED_VALUE,
                                            propertyName));
                                    break;
                                  }
                                }
                                oType = oType.getImplicitPrototype();
                              }
                    children: []
                    pos: 12411
                    length: 413
                  - type: local_variable_declaration
                    fields:
                      text: JSDocInfo info = objectType.getOwnPropertyJSDocInfo(propertyName);
                    children: []
                    pos: 12832
                    length: 66
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: and
                            fields:
                              left:
                                type: and
                                fields:
                                  left:
                                    type: not_equals
                                    fields:
                                      left:
                                        type: identifier
                                        fields:
                                          text: info
                                        children: []
                                        pos: 12909
                                        length: 4
                                      right:
                                        type: null_literal
                                        fields: {}
                                        children: []
                                        pos: 12917
                                        length: 4
                                    children: []
                                    pos: 12909
                                    length: 12
                                  right:
                                    type: method_invocation
                                    fields:
                                      text: info.isConstant()
                                    children: []
                                    pos: 12925
                                    length: 17
                                children: []
                                pos: 12909
                                length: 33
                              right:
                                type: method_invocation
                                fields:
                                  text: objectType.hasReferenceName()
                                children: []
                                pos: 12956
                                length: 29
                            children: []
                            pos: 12909
                            length: 76
                        children: []
                        pos: 12908
                        length: 78
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: |-
                            initializedConstantProperties.put(objectType.getReferenceName(),
                                        propertyName);
                        children: []
                        pos: 12997
                        length: 91
                      pos: 12987
                      length: 109
                    pos: 12905
                    length: 191
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: method_invocation
                            fields:
                              text: objectType.isInstanceType()
                            children: []
                            pos: 13176
                            length: 27
                        children: []
                        pos: 13175
                        length: 29
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: local_variable_declaration
                        fields:
                          text: ObjectType prototype = objectType.getImplicitPrototype();
                        children: []
                        pos: 13215
                        length: 57
                      - type: if_statement
                        fields:
                          condition:
                            type: parenthesized_expression
                            fields:
                              expression:
                                type: not_equals
                                fields:
                                  left:
                                    type: identifier
                                    fields:
                                      text: prototype
                                    children: []
                                    pos: 13285
                                    length: 9
                                  right:
                                    type: null_literal
                                    fields: {}
                                    children: []
                                    pos: 13298
                                    length: 4
                                children: []
                                pos: 13285
                                length: 17
                            children: []
                            pos: 13284
                            length: 19
                        children:
                        - type: block
                          fields: {}
                          children:
                          - type: local_variable_declaration
                            fields:
                              text: |-
                                JSDocInfo prototypeInfo
                                            = prototype.getOwnPropertyJSDocInfo(propertyName);
                            children: []
                            pos: 13316
                            length: 86
                          - type: if_statement
                            fields:
                              condition:
                                type: parenthesized_expression
                                fields:
                                  expression:
                                    type: and
                                    fields:
                                      left:
                                        type: and
                                        fields:
                                          left:
                                            type: not_equals
                                            fields:
                                              left:
                                                type: identifier
                                                fields:
                                                  text: prototypeInfo
                                                children: []
                                                pos: 13417
                                                length: 13
                                              right:
                                                type: null_literal
                                                fields: {}
                                                children: []
                                                pos: 13434
                                                length: 4
                                            children: []
                                            pos: 13417
                                            length: 21
                                          right:
                                            type: method_invocation
                                            fields:
                                              text: prototypeInfo.isConstant()
                                            children: []
                                            pos: 13442
                                            length: 26
                                        children: []
                                        pos: 13417
                                        length: 51
                                      right:
                                        type: method_invocation
                                        fields:
                                          text: prototype.hasReferenceName()
                                        children: []
                                        pos: 13486
                                        length: 28
                                    children: []
                                    pos: 13417
                                    length: 97
                                children: []
                                pos: 13416
                                length: 99
                            children:
                            - type: block
                              fields: {}
                              children:
                              - type: expression_statement
                                fields:
                                  text: |-
                                    initializedConstantProperties.put(prototype.getReferenceName(),
                                                    propertyName);
                                children: []
                                pos: 13530
                                length: 94
                              pos: 13516
                              length: 120
                            pos: 13413
                            length: 223
                          pos: 13304
                          length: 342
                        pos: 13281
                        length: 365
                      pos: 13205
                      length: 449
                    pos: 13172
                    length: 482
                  pos: 12366
                  length: 1294
                pos: 12342
                length: 1318
              pos: 11849
              length: 1815
          children: []
          pos: 11777
          length: 1887
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: checkPropertyVisibility
              children: []
              pos: 13846
              length: 23
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: NodeTraversal t
                children: []
                pos: 13870
                length: 15
              pos: 13833
              length: 3813
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: |-
                    ObjectType objectType =
                            ObjectType.cast(dereference(getprop.getFirstChild().getJSType()));
                children: []
                pos: 13926
                length: 98
              - type: local_variable_declaration
                fields:
                  text: String propertyName = getprop.getLastChild().getString();
                children: []
                pos: 14029
                length: 57
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: objectType
                            children: []
                            pos: 14096
                            length: 10
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 14110
                            length: 4
                        children: []
                        pos: 14096
                        length: 18
                    children: []
                    pos: 14095
                    length: 20
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: |-
                        boolean isOverride = t.inGlobalScope() &&
                                  parent.getType() == Token.ASSIGN &&
                                  parent.getFirstChild() == getprop;
                    children: []
                    pos: 14227
                    length: 132
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: identifier
                            fields:
                              text: isOverride
                            children: []
                            pos: 14462
                            length: 10
                        children: []
                        pos: 14461
                        length: 12
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: objectType = objectType.getImplicitPrototype();
                        children: []
                        pos: 14484
                        length: 47
                      pos: 14474
                      length: 65
                    pos: 14458
                    length: 81
                  - type: local_variable_declaration
                    fields:
                      text: JSDocInfo docInfo = null;
                    children: []
                    pos: 14546
                    length: 25
                  - type: for_statement
                    fields:
                      text: |-
                        for (; objectType != null;
                                   objectType = objectType.getImplicitPrototype()) {
                                docInfo = objectType.getOwnPropertyJSDocInfo(propertyName);
                                if (docInfo != null &&
                                    docInfo.getVisibility() != Visibility.INHERITED) {
                                  break;
                                }
                              }
                    children: []
                    pos: 14578
                    length: 284
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: objectType
                                children: []
                                pos: 14874
                                length: 10
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 14888
                                length: 4
                            children: []
                            pos: 14874
                            length: 18
                        children: []
                        pos: 14873
                        length: 20
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: return_statement
                        fields:
                          text: return;
                        children: []
                        pos: 14975
                        length: 7
                      pos: 14894
                      length: 96
                    pos: 14870
                    length: 120
                  - type: local_variable_declaration
                    fields:
                      text: |-
                        boolean sameInput =
                                  t.getInput().getName().equals(docInfo.getSourceName());
                    children: []
                    pos: 14998
                    length: 85
                  - type: local_variable_declaration
                    fields:
                      text: Visibility visibility = docInfo.getVisibility();
                    children: []
                    pos: 15090
                    length: 48
                  - type: local_variable_declaration
                    fields:
                      text: JSType ownerType = normalizeClassType(objectType);
                    children: []
                    pos: 15145
                    length: 50
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: identifier
                            fields:
                              text: isOverride
                            children: []
                            pos: 15206
                            length: 10
                        children: []
                        pos: 15205
                        length: 12
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: local_variable_declaration
                        fields:
                          text: JSDocInfo overridingInfo = parent.getJSDocInfo();
                        children: []
                        pos: 15330
                        length: 49
                      - type: local_variable_declaration
                        fields:
                          text: |-
                            Visibility overridingVisibility = overridingInfo == null ?
                                        Visibility.INHERITED : overridingInfo.getVisibility();
                        children: []
                        pos: 15388
                        length: 125
                      - type: if_statement
                        fields:
                          condition:
                            type: parenthesized_expression
                            fields:
                              expression:
                                type: and
                                fields:
                                  left:
                                    type: equals
                                    fields:
                                      left:
                                        type: identifier
                                        fields:
                                          text: visibility
                                        children: []
                                        pos: 15709
                                        length: 10
                                      right:
                                        type: field_access
                                        fields:
                                          text: Visibility.PRIVATE
                                        children: []
                                        pos: 15723
                                        length: 18
                                    children: []
                                    pos: 15709
                                    length: 32
                                  right:
                                    type: unary_expression
                                    fields:
                                      text: "!sameInput"
                                    children: []
                                    pos: 15745
                                    length: 10
                                children: []
                                pos: 15709
                                length: 46
                            children: []
                            pos: 15708
                            length: 48
                        children:
                        - type: block
                          fields: {}
                          children:
                          - type: expression_statement
                            fields:
                              text: |-
                                compiler.report(
                                              t.makeError(getprop, PRIVATE_OVERRIDE,
                                                  objectType.toString()));
                            children: []
                            pos: 15769
                            length: 112
                          pos: 15757
                          length: 134
                        pos: 15705
                        length: 495
                      pos: 15218
                      length: 990
                    pos: 15202
                    length: 2434
                  pos: 14116
                  length: 3526
                pos: 14092
                length: 3550
              pos: 13920
              length: 3726
          children: []
          pos: 13833
          length: 3813
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isValidPrivateConstructorAccess
              children: []
              pos: 18165
              length: 31
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Node parent
                children: []
                pos: 18197
                length: 11
              pos: 18142
              length: 115
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return parent.getType() != Token.NEW;
                children: []
                pos: 18216
                length: 37
              pos: 18210
              length: 47
          children: []
          pos: 18142
          length: 115
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: shouldEmitDeprecationWarning
              children: []
              pos: 18502
              length: 28
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: NodeTraversal t
                children: []
                pos: 18538
                length: 15
              pos: 18486
              length: 800
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: t.inGlobalScope()
                        children: []
                        pos: 18844
                        length: 17
                    children: []
                    pos: 18843
                    length: 19
                children:
                - type: block
                  fields: {}
                  children:
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: unary_expression
                            fields:
                              text: |-
                                !((parent.getType() == Token.CALL && parent.getFirstChild() == n) ||
                                              n.getType() == Token.NEW)
                            children: []
                            pos: 18875
                            length: 108
                        children: []
                        pos: 18874
                        length: 110
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: return_statement
                        fields:
                          text: return false;
                        children: []
                        pos: 18995
                        length: 13
                      pos: 18985
                      length: 31
                    pos: 18871
                    length: 145
                  pos: 18863
                  length: 159
                pos: 18840
                length: 182
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: and
                        fields:
                          left:
                            type: and
                            fields:
                              left:
                                type: equals
                                fields:
                                  left:
                                    type: method_invocation
                                    fields:
                                      text: n.getType()
                                    children: []
                                    pos: 19109
                                    length: 11
                                  right:
                                    type: field_access
                                    fields:
                                      text: Token.GETPROP
                                    children: []
                                    pos: 19124
                                    length: 13
                                children: []
                                pos: 19109
                                length: 28
                              right:
                                type: equals
                                fields:
                                  left:
                                    type: identifier
                                    fields:
                                      text: "n"
                                    children: []
                                    pos: 19141
                                    length: 1
                                  right:
                                    type: method_invocation
                                    fields:
                                      text: parent.getFirstChild()
                                    children: []
                                    pos: 19146
                                    length: 22
                                children: []
                                pos: 19141
                                length: 27
                            children: []
                            pos: 19109
                            length: 59
                          right:
                            type: method_invocation
                            fields:
                              text: NodeUtil.isAssignmentOp(parent)
                            children: []
                            pos: 19180
                            length: 31
                        children: []
                        pos: 19109
                        length: 102
                    children: []
                    pos: 19108
                    length: 104
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return false;
                    children: []
                    pos: 19221
                    length: 13
                  pos: 19213
                  length: 27
                pos: 19105
                length: 135
              - type: return_statement
                fields:
                  text: return !canAccessDeprecatedTypes(t);
                children: []
                pos: 19246
                length: 36
              pos: 18576
              length: 710
          children: []
          pos: 18486
          length: 800
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: canAccessDeprecatedTypes
              children: []
              pos: 19648
              length: 24
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: NodeTraversal t
                children: []
                pos: 19673
                length: 15
              pos: 19632
              length: 496
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: Node scopeRoot = t.getScopeRoot();
                children: []
                pos: 19696
                length: 34
              - type: local_variable_declaration
                fields:
                  text: Node scopeRootParent = scopeRoot.getParent();
                children: []
                pos: 19735
                length: 45
              - type: return_statement
                fields:
                  text: |-
                    return
                          // Case #1
                          (deprecatedDepth > 0) ||
                          // Case #2
                          (getTypeDeprecationInfo(t.getScope().getTypeOfThis()) != null) ||
                            // Case #3
                          (scopeRootParent != null && scopeRootParent.getType() == Token.ASSIGN &&
                           getTypeDeprecationInfo(
                               getClassOfMethod(scopeRoot, scopeRootParent)) != null);
                children: []
                pos: 19785
                length: 339
              pos: 19690
              length: 438
          children: []
          pos: 19632
          length: 496
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isDeprecatedFunction
              children: []
              pos: 20237
              length: 20
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Node n
                children: []
                pos: 20258
                length: 6
              pos: 20214
              length: 258
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: method_invocation
                            fields:
                              text: n.getType()
                            children: []
                            pos: 20289
                            length: 11
                          right:
                            type: field_access
                            fields:
                              text: Token.FUNCTION
                            children: []
                            pos: 20304
                            length: 14
                        children: []
                        pos: 20289
                        length: 29
                    children: []
                    pos: 20288
                    length: 31
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: JSType type = n.getJSType();
                    children: []
                    pos: 20328
                    length: 28
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: not_equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: type
                                children: []
                                pos: 20367
                                length: 4
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 20375
                                length: 4
                            children: []
                            pos: 20367
                            length: 12
                        children: []
                        pos: 20366
                        length: 14
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: return_statement
                        fields:
                          text: return getTypeDeprecationInfo(type) != null;
                        children: []
                        pos: 20391
                        length: 44
                      pos: 20381
                      length: 62
                    pos: 20363
                    length: 80
                  pos: 20320
                  length: 129
                pos: 20285
                length: 164
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 20455
                length: 13
              pos: 20279
              length: 193
          children: []
          pos: 20214
          length: 258
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getTypeDeprecationInfo
              children: []
              pos: 20722
              length: 22
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSType type
                children: []
                pos: 20745
                length: 11
              pos: 20700
              length: 586
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: type
                            children: []
                            pos: 20768
                            length: 4
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 20776
                            length: 4
                        children: []
                        pos: 20768
                        length: 12
                    children: []
                    pos: 20767
                    length: 14
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return null;
                    children: []
                    pos: 20790
                    length: 12
                  pos: 20782
                  length: 26
                pos: 20764
                length: 44
              - type: local_variable_declaration
                fields:
                  text: JSDocInfo info = type.getJSDocInfo();
                children: []
                pos: 20814
                length: 37
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: and
                        fields:
                          left:
                            type: not_equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: info
                                children: []
                                pos: 20860
                                length: 4
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 20868
                                length: 4
                            children: []
                            pos: 20860
                            length: 12
                          right:
                            type: method_invocation
                            fields:
                              text: info.isDeprecated()
                            children: []
                            pos: 20876
                            length: 19
                        children: []
                        pos: 20860
                        length: 35
                    children: []
                    pos: 20859
                    length: 37
                children:
                - type: block
                  fields: {}
                  children:
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: not_equals
                            fields:
                              left:
                                type: method_invocation
                                fields:
                                  text: info.getDeprecationReason()
                                children: []
                                pos: 20909
                                length: 27
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 20940
                                length: 4
                            children: []
                            pos: 20909
                            length: 35
                        children: []
                        pos: 20908
                        length: 37
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: return_statement
                        fields:
                          text: return info.getDeprecationReason();
                        children: []
                        pos: 20956
                        length: 35
                      pos: 20946
                      length: 53
                    pos: 20905
                    length: 94
                  - type: return_statement
                    fields:
                      text: return "";
                    children: []
                    pos: 21006
                    length: 10
                  pos: 20897
                  length: 125
                pos: 20856
                length: 166
              - type: local_variable_declaration
                fields:
                  text: ObjectType objType = ObjectType.cast(type);
                children: []
                pos: 21027
                length: 43
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: objType
                            children: []
                            pos: 21079
                            length: 7
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 21090
                            length: 4
                        children: []
                        pos: 21079
                        length: 15
                    children: []
                    pos: 21078
                    length: 17
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: ObjectType implicitProto = objType.getImplicitPrototype();
                    children: []
                    pos: 21104
                    length: 58
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: not_equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: implicitProto
                                children: []
                                pos: 21173
                                length: 13
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 21190
                                length: 4
                            children: []
                            pos: 21173
                            length: 21
                        children: []
                        pos: 21172
                        length: 23
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: return_statement
                        fields:
                          text: return getTypeDeprecationInfo(implicitProto);
                        children: []
                        pos: 21206
                        length: 45
                      pos: 21196
                      length: 63
                    pos: 21169
                    length: 90
                  pos: 21096
                  length: 169
                pos: 21075
                length: 190
              - type: return_statement
                fields:
                  text: return null;
                children: []
                pos: 21270
                length: 12
              pos: 20758
              length: 528
          children: []
          pos: 20700
          length: 586
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getPropertyDeprecationInfo
              children: []
              pos: 21548
              length: 26
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: ObjectType type
                children: []
                pos: 21575
                length: 15
              pos: 21526
              length: 542
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: JSDocInfo info = type.getOwnPropertyJSDocInfo(prop);
                children: []
                pos: 21662
                length: 52
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: and
                        fields:
                          left:
                            type: not_equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: info
                                children: []
                                pos: 21723
                                length: 4
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 21731
                                length: 4
                            children: []
                            pos: 21723
                            length: 12
                          right:
                            type: method_invocation
                            fields:
                              text: info.isDeprecated()
                            children: []
                            pos: 21739
                            length: 19
                        children: []
                        pos: 21723
                        length: 35
                    children: []
                    pos: 21722
                    length: 37
                children:
                - type: block
                  fields: {}
                  children:
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: not_equals
                            fields:
                              left:
                                type: method_invocation
                                fields:
                                  text: info.getDeprecationReason()
                                children: []
                                pos: 21772
                                length: 27
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 21803
                                length: 4
                            children: []
                            pos: 21772
                            length: 35
                        children: []
                        pos: 21771
                        length: 37
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: return_statement
                        fields:
                          text: return info.getDeprecationReason();
                        children: []
                        pos: 21819
                        length: 35
                      pos: 21809
                      length: 53
                    pos: 21768
                    length: 94
                  - type: return_statement
                    fields:
                      text: return "";
                    children: []
                    pos: 21870
                    length: 10
                  pos: 21760
                  length: 126
                pos: 21719
                length: 167
              - type: local_variable_declaration
                fields:
                  text: ObjectType implicitProto = type.getImplicitPrototype();
                children: []
                pos: 21891
                length: 55
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: implicitProto
                            children: []
                            pos: 21955
                            length: 13
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 21972
                            length: 4
                        children: []
                        pos: 21955
                        length: 21
                    children: []
                    pos: 21954
                    length: 23
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return getPropertyDeprecationInfo(implicitProto, prop);
                    children: []
                    pos: 21986
                    length: 55
                  pos: 21978
                  length: 69
                pos: 21951
                length: 96
              - type: return_statement
                fields:
                  text: return null;
                children: []
                pos: 22052
                length: 12
              pos: 21656
              length: 412
          children: []
          pos: 21526
          length: 542
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: dereference
              children: []
              pos: 22169
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSType type
                children: []
                pos: 22181
                length: 11
              pos: 22147
              length: 105
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: 'return type == null ? null : type.dereference();'
                children: []
                pos: 22200
                length: 48
              pos: 22194
              length: 58
          children: []
          pos: 22147
          length: 105
        pos: 1850
        length: 20404
    children: []
    pos: 1850
    length: 20404
  pos: 0
  length: 22255
text_diff: "--- before\n+++ after\n@@ -413,7 +413,7 @@\n     if (objectType != null)
  {\n       // Is this a normal property access, or are we trying to override\n       //
  an existing property?\n-      boolean isOverride = parent.getJSDocInfo() != null
  &&\n+      boolean isOverride = t.inGlobalScope() &&\n           parent.getType()
  == Token.ASSIGN &&\n           parent.getFirstChild() == getprop;\n \n"
tree_diff: |+
  New cluster:
  UPDATE from boolean isOverride = parent.getJSDocInfo() != null &&
            parent.getType() == Token.ASSIGN &&
            parent.getFirstChild() == getprop; to boolean isOverride = t.inGlobalScope() &&
            parent.getType() == Token.ASSIGN &&
            parent.getFirstChild() == getprop;
  ------------
  ===
  update-node
  ---
  local_variable_declaration: boolean isOverride = parent.getJSDocInfo() != null &&
            parent.getType() == Token.ASSIGN &&
            parent.getFirstChild() == getprop; [14227,14371]
  replace boolean isOverride = parent.getJSDocInfo() != null &&
            parent.getType() == Token.ASSIGN &&
            parent.getFirstChild() == getprop; by boolean isOverride = t.inGlobalScope() &&
            parent.getType() == Token.ASSIGN &&
            parent.getFirstChild() == getprop;

...
