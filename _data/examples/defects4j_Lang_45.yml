---
language: java
before_tree:
  type: program
  fields: {}
  children:
  - type: class_declaration
    fields:
      name:
        type: identifier
        fields:
          text: WordUtils
        children: []
        pos: 1309
        length: 9
      body:
        type: class_body
        fields: {}
        children:
        - type: constructor_declaration
          fields:
            text: |-
              public WordUtils() {
                    super();
                  }
          children: []
          pos: 1652
          length: 41
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: wrap
              children: []
              pos: 5655
              length: 4
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String str
                children: []
                pos: 5660
                length: 10
              pos: 5634
              length: 112
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return wrap(str, wrapLength, null, false);
                children: []
                pos: 5698
                length: 42
              pos: 5688
              length: 58
          children: []
          pos: 5634
          length: 112
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: wrap
              children: []
              pos: 6545
              length: 4
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String str
                children: []
                pos: 6550
                length: 10
              pos: 6524
              length: 2116
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: str
                            children: []
                            pos: 6634
                            length: 3
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 6641
                            length: 4
                        children: []
                        pos: 6634
                        length: 11
                    children: []
                    pos: 6633
                    length: 13
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return null;
                    children: []
                    pos: 6661
                    length: 12
                  pos: 6647
                  length: 36
                pos: 6630
                length: 53
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: newLineStr
                            children: []
                            pos: 6696
                            length: 10
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 6710
                            length: 4
                        children: []
                        pos: 6696
                        length: 18
                    children: []
                    pos: 6695
                    length: 20
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: newLineStr = SystemUtils.LINE_SEPARATOR;
                    children: []
                    pos: 6730
                    length: 40
                  pos: 6716
                  length: 64
                pos: 6692
                length: 88
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: less_than
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: wrapLength
                            children: []
                            pos: 6793
                            length: 10
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '1'
                            children: []
                            pos: 6806
                            length: 1
                        children: []
                        pos: 6793
                        length: 14
                    children: []
                    pos: 6792
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: wrapLength = 1;
                    children: []
                    pos: 6823
                    length: 15
                  pos: 6809
                  length: 39
                pos: 6789
                length: 59
              - type: local_variable_declaration
                fields:
                  text: int inputLineLength = str.length();
                children: []
                pos: 6857
                length: 35
              - type: local_variable_declaration
                fields:
                  text: int offset = 0;
                children: []
                pos: 6901
                length: 15
              - type: local_variable_declaration
                fields:
                  text: StringBuffer wrappedLine = new StringBuffer(inputLineLength
                    + 32);
                children: []
                pos: 6925
                length: 66
              - type: while_statement
                fields:
                  text: "while ((inputLineLength - offset) > wrapLength) {\n            if
                    (str.charAt(offset) == ' ') {\n                offset++;\n                continue;\n
                    \           }\n            int spaceToWrapAt = str.lastIndexOf('
                    ', wrapLength + offset);\n\n            if (spaceToWrapAt >= offset)
                    {\n                // normal case\n                wrappedLine.append(str.substring(offset,
                    spaceToWrapAt));\n                wrappedLine.append(newLineStr);\n
                    \               offset = spaceToWrapAt + 1;\n                \n
                    \           } else {\n                // really long word or URL\n
                    \               if (wrapLongWords) {\n                    // wrap
                    really long word one line at a time\n                    wrappedLine.append(str.substring(offset,
                    wrapLength + offset));\n                    wrappedLine.append(newLineStr);\n
                    \                   offset += wrapLength;\n                } else
                    {\n                    // do not wrap really long word, just extend
                    beyond limit\n                    spaceToWrapAt = str.indexOf('
                    ', wrapLength + offset);\n                    if (spaceToWrapAt
                    >= 0) {\n                        wrappedLine.append(str.substring(offset,
                    spaceToWrapAt));\n                        wrappedLine.append(newLineStr);\n
                    \                       offset = spaceToWrapAt + 1;\n                    }
                    else {\n                        wrappedLine.append(str.substring(offset));\n
                    \                       offset = inputLineLength;\n                    }\n
                    \               }\n            }\n        }"
                children: []
                pos: 7009
                length: 1460
              - type: expression_statement
                fields:
                  text: wrappedLine.append(str.substring(offset));
                children: []
                pos: 8552
                length: 42
              - type: return_statement
                fields:
                  text: return wrappedLine.toString();
                children: []
                pos: 8604
                length: 30
              pos: 6620
              length: 2020
          children: []
          pos: 6524
          length: 2116
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: capitalize
              children: []
              pos: 9664
              length: 10
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String str
                children: []
                pos: 9675
                length: 10
              pos: 9643
              length: 89
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return capitalize(str, null);
                children: []
                pos: 9697
                length: 29
              pos: 9687
              length: 45
          children: []
          pos: 9643
          length: 89
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: capitalize
              children: []
              pos: 11058
              length: 10
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String str
                children: []
                pos: 11069
                length: 10
              pos: 11037
              length: 824
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: 'int delimLen = (delimiters == null ? -1 : delimiters.length);'
                children: []
                pos: 11110
                length: 61
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: or
                            fields:
                              left:
                                type: equals
                                fields:
                                  left:
                                    type: identifier
                                    fields:
                                      text: str
                                    children: []
                                    pos: 11184
                                    length: 3
                                  right:
                                    type: null_literal
                                    fields: {}
                                    children: []
                                    pos: 11191
                                    length: 4
                                children: []
                                pos: 11184
                                length: 11
                              right:
                                type: equals
                                fields:
                                  left:
                                    type: method_invocation
                                    fields:
                                      text: str.length()
                                    children: []
                                    pos: 11199
                                    length: 12
                                  right:
                                    type: decimal_integer_literal
                                    fields:
                                      text: '0'
                                    children: []
                                    pos: 11215
                                    length: 1
                                children: []
                                pos: 11199
                                length: 17
                            children: []
                            pos: 11184
                            length: 32
                          right:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: delimLen
                                children: []
                                pos: 11220
                                length: 8
                              right:
                                type: decimal_integer_literal
                                fields:
                                  text: '0'
                                children: []
                                pos: 11232
                                length: 1
                            children: []
                            pos: 11220
                            length: 13
                        children: []
                        pos: 11184
                        length: 49
                    children: []
                    pos: 11183
                    length: 51
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return str;
                    children: []
                    pos: 11249
                    length: 11
                  pos: 11235
                  length: 35
                pos: 11180
                length: 90
              - type: local_variable_declaration
                fields:
                  text: int strLen = str.length();
                children: []
                pos: 11279
                length: 26
              - type: local_variable_declaration
                fields:
                  text: StringBuffer buffer = new StringBuffer(strLen);
                children: []
                pos: 11314
                length: 47
              - type: local_variable_declaration
                fields:
                  text: boolean capitalizeNext = true;
                children: []
                pos: 11370
                length: 30
              - type: for_statement
                fields:
                  text: |-
                    for (int i = 0; i < strLen; i++) {
                                char ch = str.charAt(i);

                                if (isDelimiter(ch, delimiters)) {
                                    buffer.append(ch);
                                    capitalizeNext = true;
                                } else if (capitalizeNext) {
                                    buffer.append(Character.toTitleCase(ch));
                                    capitalizeNext = false;
                                } else {
                                    buffer.append(ch);
                                }
                            }
                children: []
                pos: 11409
                length: 412
              - type: return_statement
                fields:
                  text: return buffer.toString();
                children: []
                pos: 11830
                length: 25
              pos: 11100
              length: 761
          children: []
          pos: 11037
          length: 824
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: capitalizeFully
              children: []
              pos: 12772
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String str
                children: []
                pos: 12788
                length: 10
              pos: 12751
              length: 99
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return capitalizeFully(str, null);
                children: []
                pos: 12810
                length: 34
              pos: 12800
              length: 50
          children: []
          pos: 12751
          length: 99
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: capitalizeFully
              children: []
              pos: 14074
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String str
                children: []
                pos: 14090
                length: 10
              pos: 14053
              length: 321
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: 'int delimLen = (delimiters == null ? -1 : delimiters.length);'
                children: []
                pos: 14131
                length: 61
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: or
                            fields:
                              left:
                                type: equals
                                fields:
                                  left:
                                    type: identifier
                                    fields:
                                      text: str
                                    children: []
                                    pos: 14205
                                    length: 3
                                  right:
                                    type: null_literal
                                    fields: {}
                                    children: []
                                    pos: 14212
                                    length: 4
                                children: []
                                pos: 14205
                                length: 11
                              right:
                                type: equals
                                fields:
                                  left:
                                    type: method_invocation
                                    fields:
                                      text: str.length()
                                    children: []
                                    pos: 14220
                                    length: 12
                                  right:
                                    type: decimal_integer_literal
                                    fields:
                                      text: '0'
                                    children: []
                                    pos: 14236
                                    length: 1
                                children: []
                                pos: 14220
                                length: 17
                            children: []
                            pos: 14205
                            length: 32
                          right:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: delimLen
                                children: []
                                pos: 14241
                                length: 8
                              right:
                                type: decimal_integer_literal
                                fields:
                                  text: '0'
                                children: []
                                pos: 14253
                                length: 1
                            children: []
                            pos: 14241
                            length: 13
                        children: []
                        pos: 14205
                        length: 49
                    children: []
                    pos: 14204
                    length: 51
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return str;
                    children: []
                    pos: 14270
                    length: 11
                  pos: 14256
                  length: 35
                pos: 14201
                length: 90
              - type: expression_statement
                fields:
                  text: str = str.toLowerCase();
                children: []
                pos: 14300
                length: 24
              - type: return_statement
                fields:
                  text: return capitalize(str, delimiters);
                children: []
                pos: 14333
                length: 35
              pos: 14121
              length: 253
          children: []
          pos: 14053
          length: 321
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: uncapitalize
              children: []
              pos: 15140
              length: 12
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String str
                children: []
                pos: 15153
                length: 10
              pos: 15119
              length: 93
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return uncapitalize(str, null);
                children: []
                pos: 15175
                length: 31
              pos: 15165
              length: 47
          children: []
          pos: 15119
          length: 93
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: uncapitalize
              children: []
              pos: 16361
              length: 12
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String str
                children: []
                pos: 16374
                length: 10
              pos: 16340
              length: 834
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: 'int delimLen = (delimiters == null ? -1 : delimiters.length);'
                children: []
                pos: 16415
                length: 61
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: or
                            fields:
                              left:
                                type: equals
                                fields:
                                  left:
                                    type: identifier
                                    fields:
                                      text: str
                                    children: []
                                    pos: 16489
                                    length: 3
                                  right:
                                    type: null_literal
                                    fields: {}
                                    children: []
                                    pos: 16496
                                    length: 4
                                children: []
                                pos: 16489
                                length: 11
                              right:
                                type: equals
                                fields:
                                  left:
                                    type: method_invocation
                                    fields:
                                      text: str.length()
                                    children: []
                                    pos: 16504
                                    length: 12
                                  right:
                                    type: decimal_integer_literal
                                    fields:
                                      text: '0'
                                    children: []
                                    pos: 16520
                                    length: 1
                                children: []
                                pos: 16504
                                length: 17
                            children: []
                            pos: 16489
                            length: 32
                          right:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: delimLen
                                children: []
                                pos: 16525
                                length: 8
                              right:
                                type: decimal_integer_literal
                                fields:
                                  text: '0'
                                children: []
                                pos: 16537
                                length: 1
                            children: []
                            pos: 16525
                            length: 13
                        children: []
                        pos: 16489
                        length: 49
                    children: []
                    pos: 16488
                    length: 51
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return str;
                    children: []
                    pos: 16554
                    length: 11
                  pos: 16540
                  length: 35
                pos: 16485
                length: 90
              - type: local_variable_declaration
                fields:
                  text: int strLen = str.length();
                children: []
                pos: 16584
                length: 26
              - type: local_variable_declaration
                fields:
                  text: StringBuffer buffer = new StringBuffer(strLen);
                children: []
                pos: 16619
                length: 47
              - type: local_variable_declaration
                fields:
                  text: boolean uncapitalizeNext = true;
                children: []
                pos: 16675
                length: 32
              - type: for_statement
                fields:
                  text: |-
                    for (int i = 0; i < strLen; i++) {
                                char ch = str.charAt(i);

                                if (isDelimiter(ch, delimiters)) {
                                    buffer.append(ch);
                                    uncapitalizeNext = true;
                                } else if (uncapitalizeNext) {
                                    buffer.append(Character.toLowerCase(ch));
                                    uncapitalizeNext = false;
                                } else {
                                    buffer.append(ch);
                                }
                            }
                children: []
                pos: 16716
                length: 418
              - type: return_statement
                fields:
                  text: return buffer.toString();
                children: []
                pos: 17143
                length: 25
              pos: 16405
              length: 769
          children: []
          pos: 16340
          length: 834
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: swapCase
              children: []
              pos: 18188
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String str
                children: []
                pos: 18197
                length: 10
              pos: 18167
              length: 993
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: int strLen;
                children: []
                pos: 18219
                length: 11
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: str
                                children: []
                                pos: 18243
                                length: 3
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 18250
                                length: 4
                            children: []
                            pos: 18243
                            length: 11
                          right:
                            type: equals
                            fields:
                              left:
                                type: parenthesized_expression
                                fields:
                                  expression:
                                    type: assignment_expression
                                    fields:
                                      text: strLen = str.length()
                                    children: []
                                    pos: 18259
                                    length: 21
                                children: []
                                pos: 18258
                                length: 23
                              right:
                                type: decimal_integer_literal
                                fields:
                                  text: '0'
                                children: []
                                pos: 18285
                                length: 1
                            children: []
                            pos: 18258
                            length: 28
                        children: []
                        pos: 18243
                        length: 43
                    children: []
                    pos: 18242
                    length: 45
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return str;
                    children: []
                    pos: 18302
                    length: 11
                  pos: 18288
                  length: 35
                pos: 18239
                length: 84
              - type: local_variable_declaration
                fields:
                  text: StringBuffer buffer = new StringBuffer(strLen);
                children: []
                pos: 18332
                length: 47
              - type: local_variable_declaration
                fields:
                  text: boolean whitespace = true;
                children: []
                pos: 18389
                length: 26
              - type: local_variable_declaration
                fields:
                  text: char ch = 0;
                children: []
                pos: 18424
                length: 12
              - type: local_variable_declaration
                fields:
                  text: char tmp = 0;
                children: []
                pos: 18445
                length: 13
              - type: for_statement
                fields:
                  text: |-
                    for (int i = 0; i < strLen; i++) {
                                ch = str.charAt(i);
                                if (Character.isUpperCase(ch)) {
                                    tmp = Character.toLowerCase(ch);
                                } else if (Character.isTitleCase(ch)) {
                                    tmp = Character.toLowerCase(ch);
                                } else if (Character.isLowerCase(ch)) {
                                    if (whitespace) {
                                        tmp = Character.toTitleCase(ch);
                                    } else {
                                        tmp = Character.toUpperCase(ch);
                                    }
                                } else {
                                    tmp = ch;
                                }
                                buffer.append(tmp);
                                whitespace = Character.isWhitespace(ch);
                            }
                children: []
                pos: 18468
                length: 652
              - type: return_statement
                fields:
                  text: return buffer.toString();
                children: []
                pos: 19129
                length: 25
              pos: 18209
              length: 951
          children: []
          pos: 18167
          length: 993
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: initials
              children: []
              pos: 20112
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String str
                children: []
                pos: 20121
                length: 10
              pos: 20091
              length: 85
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return initials(str, null);
                children: []
                pos: 20143
                length: 27
              pos: 20133
              length: 43
          children: []
          pos: 20091
          length: 85
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: initials
              children: []
              pos: 21401
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String str
                children: []
                pos: 21410
                length: 10
              pos: 21380
              length: 770
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: str
                                children: []
                                pos: 21455
                                length: 3
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 21462
                                length: 4
                            children: []
                            pos: 21455
                            length: 11
                          right:
                            type: equals
                            fields:
                              left:
                                type: method_invocation
                                fields:
                                  text: str.length()
                                children: []
                                pos: 21470
                                length: 12
                              right:
                                type: decimal_integer_literal
                                fields:
                                  text: '0'
                                children: []
                                pos: 21486
                                length: 1
                            children: []
                            pos: 21470
                            length: 17
                        children: []
                        pos: 21455
                        length: 32
                    children: []
                    pos: 21454
                    length: 34
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return str;
                    children: []
                    pos: 21503
                    length: 11
                  pos: 21489
                  length: 35
                pos: 21451
                length: 73
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: and
                        fields:
                          left:
                            type: not_equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: delimiters
                                children: []
                                pos: 21537
                                length: 10
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 21551
                                length: 4
                            children: []
                            pos: 21537
                            length: 18
                          right:
                            type: equals
                            fields:
                              left:
                                type: field_access
                                fields:
                                  text: delimiters.length
                                children: []
                                pos: 21559
                                length: 17
                              right:
                                type: decimal_integer_literal
                                fields:
                                  text: '0'
                                children: []
                                pos: 21580
                                length: 1
                            children: []
                            pos: 21559
                            length: 22
                        children: []
                        pos: 21537
                        length: 44
                    children: []
                    pos: 21536
                    length: 46
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return "";
                    children: []
                    pos: 21597
                    length: 10
                  pos: 21583
                  length: 34
                pos: 21533
                length: 84
              - type: local_variable_declaration
                fields:
                  text: int strLen = str.length();
                children: []
                pos: 21626
                length: 26
              - type: local_variable_declaration
                fields:
                  text: char[] buf = new char[strLen / 2 + 1];
                children: []
                pos: 21661
                length: 38
              - type: local_variable_declaration
                fields:
                  text: int count = 0;
                children: []
                pos: 21708
                length: 14
              - type: local_variable_declaration
                fields:
                  text: boolean lastWasGap = true;
                children: []
                pos: 21731
                length: 26
              - type: for_statement
                fields:
                  text: |-
                    for (int i = 0; i < strLen; i++) {
                                char ch = str.charAt(i);

                                if (isDelimiter(ch, delimiters)) {
                                    lastWasGap = true;
                                } else if (lastWasGap) {
                                    buf[count++] = ch;
                                    lastWasGap = false;
                                } else {
                                    // ignore ch
                                }
                            }
                children: []
                pos: 21766
                length: 336
              - type: return_statement
                fields:
                  text: return new String(buf, 0, count);
                children: []
                pos: 22111
                length: 33
              pos: 21441
              length: 709
          children: []
          pos: 21380
          length: 770
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isDelimiter
              children: []
              pos: 22440
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: char ch
                children: []
                pos: 22452
                length: 7
              pos: 22417
              length: 344
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: delimiters
                            children: []
                            pos: 22494
                            length: 10
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 22508
                            length: 4
                        children: []
                        pos: 22494
                        length: 18
                    children: []
                    pos: 22493
                    length: 20
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return Character.isWhitespace(ch);
                    children: []
                    pos: 22528
                    length: 34
                  pos: 22514
                  length: 58
                pos: 22490
                length: 82
              - type: for_statement
                fields:
                  text: |-
                    for (int i = 0, isize = delimiters.length; i < isize; i++) {
                                if (ch == delimiters[i]) {
                                    return true;
                                }
                            }
                children: []
                pos: 22581
                length: 152
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 22742
                length: 13
              pos: 22480
              length: 281
          children: []
          pos: 22417
          length: 344
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: abbreviate
              children: []
              pos: 23978
              length: 10
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String str
                children: []
                pos: 23989
                length: 10
              pos: 23957
              length: 1563
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: str
                            children: []
                            pos: 24093
                            length: 3
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 24100
                            length: 4
                        children: []
                        pos: 24093
                        length: 11
                    children: []
                    pos: 24092
                    length: 13
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return null;
                    children: []
                    pos: 24120
                    length: 12
                  pos: 24106
                  length: 36
                pos: 24089
                length: 53
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: method_invocation
                            fields:
                              text: str.length()
                            children: []
                            pos: 24155
                            length: 12
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '0'
                            children: []
                            pos: 24171
                            length: 1
                        children: []
                        pos: 24155
                        length: 17
                    children: []
                    pos: 24154
                    length: 19
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return StringUtils.EMPTY;
                    children: []
                    pos: 24188
                    length: 25
                  pos: 24174
                  length: 49
                pos: 24151
                length: 72
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: greater_than
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: lower
                            children: []
                            pos: 24352
                            length: 5
                          right:
                            type: method_invocation
                            fields:
                              text: str.length()
                            children: []
                            pos: 24360
                            length: 12
                        children: []
                        pos: 24352
                        length: 20
                    children: []
                    pos: 24351
                    length: 22
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: lower = str.length();
                    children: []
                    pos: 24388
                    length: 21
                  pos: 24374
                  length: 49
                pos: 24348
                length: 75
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: upper
                                children: []
                                pos: 24576
                                length: 5
                              right:
                                type: unary_expression
                                fields:
                                  text: "-1"
                                children: []
                                pos: 24585
                                length: 2
                            children: []
                            pos: 24576
                            length: 11
                          right:
                            type: greater_than
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: upper
                                children: []
                                pos: 24591
                                length: 5
                              right:
                                type: method_invocation
                                fields:
                                  text: str.length()
                                children: []
                                pos: 24599
                                length: 12
                            children: []
                            pos: 24591
                            length: 20
                        children: []
                        pos: 24576
                        length: 35
                    children: []
                    pos: 24575
                    length: 37
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: upper = str.length();
                    children: []
                    pos: 24627
                    length: 21
                  pos: 24613
                  length: 45
                pos: 24572
                length: 86
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: less_than
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: upper
                            children: []
                            pos: 24729
                            length: 5
                          right:
                            type: identifier
                            fields:
                              text: lower
                            children: []
                            pos: 24737
                            length: 5
                        children: []
                        pos: 24729
                        length: 13
                    children: []
                    pos: 24728
                    length: 15
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: upper = lower;
                    children: []
                    pos: 24758
                    length: 14
                  pos: 24744
                  length: 38
                pos: 24725
                length: 57
              - type: local_variable_declaration
                fields:
                  text: StringBuffer result = new StringBuffer();
                children: []
                pos: 24792
                length: 41
              - type: local_variable_declaration
                fields:
                  text: int index = StringUtils.indexOf(str, " ", lower);
                children: []
                pos: 24842
                length: 49
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: index
                            children: []
                            pos: 24904
                            length: 5
                          right:
                            type: unary_expression
                            fields:
                              text: "-1"
                            children: []
                            pos: 24913
                            length: 2
                        children: []
                        pos: 24904
                        length: 11
                    children: []
                    pos: 24903
                    length: 13
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: result.append(str.substring(0, upper));
                    children: []
                    pos: 24931
                    length: 39
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: not_equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: upper
                                children: []
                                pos: 25070
                                length: 5
                              right:
                                type: method_invocation
                                fields:
                                  text: str.length()
                                children: []
                                pos: 25079
                                length: 12
                            children: []
                            pos: 25070
                            length: 21
                        children: []
                        pos: 25069
                        length: 23
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: result.append(StringUtils.defaultString(appendToEnd));
                        children: []
                        pos: 25111
                        length: 54
                      pos: 25093
                      length: 86
                    pos: 25066
                    length: 113
                  pos: 24917
                  length: 272
                pos: 24900
                length: 580
              - type: return_statement
                fields:
                  text: return result.toString();
                children: []
                pos: 25489
                length: 25
              pos: 24043
              length: 1477
          children: []
          pos: 23957
          length: 1563
        pos: 1296
        length: 24227
    children: []
    pos: 1296
    length: 24227
  pos: 0
  length: 25524
after_tree:
  type: program
  fields: {}
  children:
  - type: class_declaration
    fields:
      name:
        type: identifier
        fields:
          text: WordUtils
        children: []
        pos: 1309
        length: 9
      body:
        type: class_body
        fields: {}
        children:
        - type: constructor_declaration
          fields:
            text: |-
              public WordUtils() {
                    super();
                  }
          children: []
          pos: 1652
          length: 41
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: wrap
              children: []
              pos: 5655
              length: 4
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String str
                children: []
                pos: 5660
                length: 10
              pos: 5634
              length: 112
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return wrap(str, wrapLength, null, false);
                children: []
                pos: 5698
                length: 42
              pos: 5688
              length: 58
          children: []
          pos: 5634
          length: 112
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: wrap
              children: []
              pos: 6545
              length: 4
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String str
                children: []
                pos: 6550
                length: 10
              pos: 6524
              length: 2116
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: str
                            children: []
                            pos: 6634
                            length: 3
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 6641
                            length: 4
                        children: []
                        pos: 6634
                        length: 11
                    children: []
                    pos: 6633
                    length: 13
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return null;
                    children: []
                    pos: 6661
                    length: 12
                  pos: 6647
                  length: 36
                pos: 6630
                length: 53
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: newLineStr
                            children: []
                            pos: 6696
                            length: 10
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 6710
                            length: 4
                        children: []
                        pos: 6696
                        length: 18
                    children: []
                    pos: 6695
                    length: 20
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: newLineStr = SystemUtils.LINE_SEPARATOR;
                    children: []
                    pos: 6730
                    length: 40
                  pos: 6716
                  length: 64
                pos: 6692
                length: 88
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: less_than
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: wrapLength
                            children: []
                            pos: 6793
                            length: 10
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '1'
                            children: []
                            pos: 6806
                            length: 1
                        children: []
                        pos: 6793
                        length: 14
                    children: []
                    pos: 6792
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: wrapLength = 1;
                    children: []
                    pos: 6823
                    length: 15
                  pos: 6809
                  length: 39
                pos: 6789
                length: 59
              - type: local_variable_declaration
                fields:
                  text: int inputLineLength = str.length();
                children: []
                pos: 6857
                length: 35
              - type: local_variable_declaration
                fields:
                  text: int offset = 0;
                children: []
                pos: 6901
                length: 15
              - type: local_variable_declaration
                fields:
                  text: StringBuffer wrappedLine = new StringBuffer(inputLineLength
                    + 32);
                children: []
                pos: 6925
                length: 66
              - type: while_statement
                fields:
                  text: "while ((inputLineLength - offset) > wrapLength) {\n            if
                    (str.charAt(offset) == ' ') {\n                offset++;\n                continue;\n
                    \           }\n            int spaceToWrapAt = str.lastIndexOf('
                    ', wrapLength + offset);\n\n            if (spaceToWrapAt >= offset)
                    {\n                // normal case\n                wrappedLine.append(str.substring(offset,
                    spaceToWrapAt));\n                wrappedLine.append(newLineStr);\n
                    \               offset = spaceToWrapAt + 1;\n                \n
                    \           } else {\n                // really long word or URL\n
                    \               if (wrapLongWords) {\n                    // wrap
                    really long word one line at a time\n                    wrappedLine.append(str.substring(offset,
                    wrapLength + offset));\n                    wrappedLine.append(newLineStr);\n
                    \                   offset += wrapLength;\n                } else
                    {\n                    // do not wrap really long word, just extend
                    beyond limit\n                    spaceToWrapAt = str.indexOf('
                    ', wrapLength + offset);\n                    if (spaceToWrapAt
                    >= 0) {\n                        wrappedLine.append(str.substring(offset,
                    spaceToWrapAt));\n                        wrappedLine.append(newLineStr);\n
                    \                       offset = spaceToWrapAt + 1;\n                    }
                    else {\n                        wrappedLine.append(str.substring(offset));\n
                    \                       offset = inputLineLength;\n                    }\n
                    \               }\n            }\n        }"
                children: []
                pos: 7009
                length: 1460
              - type: expression_statement
                fields:
                  text: wrappedLine.append(str.substring(offset));
                children: []
                pos: 8552
                length: 42
              - type: return_statement
                fields:
                  text: return wrappedLine.toString();
                children: []
                pos: 8604
                length: 30
              pos: 6620
              length: 2020
          children: []
          pos: 6524
          length: 2116
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: capitalize
              children: []
              pos: 9664
              length: 10
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String str
                children: []
                pos: 9675
                length: 10
              pos: 9643
              length: 89
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return capitalize(str, null);
                children: []
                pos: 9697
                length: 29
              pos: 9687
              length: 45
          children: []
          pos: 9643
          length: 89
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: capitalize
              children: []
              pos: 11058
              length: 10
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String str
                children: []
                pos: 11069
                length: 10
              pos: 11037
              length: 824
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: 'int delimLen = (delimiters == null ? -1 : delimiters.length);'
                children: []
                pos: 11110
                length: 61
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: or
                            fields:
                              left:
                                type: equals
                                fields:
                                  left:
                                    type: identifier
                                    fields:
                                      text: str
                                    children: []
                                    pos: 11184
                                    length: 3
                                  right:
                                    type: null_literal
                                    fields: {}
                                    children: []
                                    pos: 11191
                                    length: 4
                                children: []
                                pos: 11184
                                length: 11
                              right:
                                type: equals
                                fields:
                                  left:
                                    type: method_invocation
                                    fields:
                                      text: str.length()
                                    children: []
                                    pos: 11199
                                    length: 12
                                  right:
                                    type: decimal_integer_literal
                                    fields:
                                      text: '0'
                                    children: []
                                    pos: 11215
                                    length: 1
                                children: []
                                pos: 11199
                                length: 17
                            children: []
                            pos: 11184
                            length: 32
                          right:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: delimLen
                                children: []
                                pos: 11220
                                length: 8
                              right:
                                type: decimal_integer_literal
                                fields:
                                  text: '0'
                                children: []
                                pos: 11232
                                length: 1
                            children: []
                            pos: 11220
                            length: 13
                        children: []
                        pos: 11184
                        length: 49
                    children: []
                    pos: 11183
                    length: 51
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return str;
                    children: []
                    pos: 11249
                    length: 11
                  pos: 11235
                  length: 35
                pos: 11180
                length: 90
              - type: local_variable_declaration
                fields:
                  text: int strLen = str.length();
                children: []
                pos: 11279
                length: 26
              - type: local_variable_declaration
                fields:
                  text: StringBuffer buffer = new StringBuffer(strLen);
                children: []
                pos: 11314
                length: 47
              - type: local_variable_declaration
                fields:
                  text: boolean capitalizeNext = true;
                children: []
                pos: 11370
                length: 30
              - type: for_statement
                fields:
                  text: |-
                    for (int i = 0; i < strLen; i++) {
                                char ch = str.charAt(i);

                                if (isDelimiter(ch, delimiters)) {
                                    buffer.append(ch);
                                    capitalizeNext = true;
                                } else if (capitalizeNext) {
                                    buffer.append(Character.toTitleCase(ch));
                                    capitalizeNext = false;
                                } else {
                                    buffer.append(ch);
                                }
                            }
                children: []
                pos: 11409
                length: 412
              - type: return_statement
                fields:
                  text: return buffer.toString();
                children: []
                pos: 11830
                length: 25
              pos: 11100
              length: 761
          children: []
          pos: 11037
          length: 824
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: capitalizeFully
              children: []
              pos: 12772
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String str
                children: []
                pos: 12788
                length: 10
              pos: 12751
              length: 99
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return capitalizeFully(str, null);
                children: []
                pos: 12810
                length: 34
              pos: 12800
              length: 50
          children: []
          pos: 12751
          length: 99
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: capitalizeFully
              children: []
              pos: 14074
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String str
                children: []
                pos: 14090
                length: 10
              pos: 14053
              length: 321
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: 'int delimLen = (delimiters == null ? -1 : delimiters.length);'
                children: []
                pos: 14131
                length: 61
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: or
                            fields:
                              left:
                                type: equals
                                fields:
                                  left:
                                    type: identifier
                                    fields:
                                      text: str
                                    children: []
                                    pos: 14205
                                    length: 3
                                  right:
                                    type: null_literal
                                    fields: {}
                                    children: []
                                    pos: 14212
                                    length: 4
                                children: []
                                pos: 14205
                                length: 11
                              right:
                                type: equals
                                fields:
                                  left:
                                    type: method_invocation
                                    fields:
                                      text: str.length()
                                    children: []
                                    pos: 14220
                                    length: 12
                                  right:
                                    type: decimal_integer_literal
                                    fields:
                                      text: '0'
                                    children: []
                                    pos: 14236
                                    length: 1
                                children: []
                                pos: 14220
                                length: 17
                            children: []
                            pos: 14205
                            length: 32
                          right:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: delimLen
                                children: []
                                pos: 14241
                                length: 8
                              right:
                                type: decimal_integer_literal
                                fields:
                                  text: '0'
                                children: []
                                pos: 14253
                                length: 1
                            children: []
                            pos: 14241
                            length: 13
                        children: []
                        pos: 14205
                        length: 49
                    children: []
                    pos: 14204
                    length: 51
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return str;
                    children: []
                    pos: 14270
                    length: 11
                  pos: 14256
                  length: 35
                pos: 14201
                length: 90
              - type: expression_statement
                fields:
                  text: str = str.toLowerCase();
                children: []
                pos: 14300
                length: 24
              - type: return_statement
                fields:
                  text: return capitalize(str, delimiters);
                children: []
                pos: 14333
                length: 35
              pos: 14121
              length: 253
          children: []
          pos: 14053
          length: 321
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: uncapitalize
              children: []
              pos: 15140
              length: 12
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String str
                children: []
                pos: 15153
                length: 10
              pos: 15119
              length: 93
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return uncapitalize(str, null);
                children: []
                pos: 15175
                length: 31
              pos: 15165
              length: 47
          children: []
          pos: 15119
          length: 93
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: uncapitalize
              children: []
              pos: 16361
              length: 12
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String str
                children: []
                pos: 16374
                length: 10
              pos: 16340
              length: 834
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: 'int delimLen = (delimiters == null ? -1 : delimiters.length);'
                children: []
                pos: 16415
                length: 61
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: or
                            fields:
                              left:
                                type: equals
                                fields:
                                  left:
                                    type: identifier
                                    fields:
                                      text: str
                                    children: []
                                    pos: 16489
                                    length: 3
                                  right:
                                    type: null_literal
                                    fields: {}
                                    children: []
                                    pos: 16496
                                    length: 4
                                children: []
                                pos: 16489
                                length: 11
                              right:
                                type: equals
                                fields:
                                  left:
                                    type: method_invocation
                                    fields:
                                      text: str.length()
                                    children: []
                                    pos: 16504
                                    length: 12
                                  right:
                                    type: decimal_integer_literal
                                    fields:
                                      text: '0'
                                    children: []
                                    pos: 16520
                                    length: 1
                                children: []
                                pos: 16504
                                length: 17
                            children: []
                            pos: 16489
                            length: 32
                          right:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: delimLen
                                children: []
                                pos: 16525
                                length: 8
                              right:
                                type: decimal_integer_literal
                                fields:
                                  text: '0'
                                children: []
                                pos: 16537
                                length: 1
                            children: []
                            pos: 16525
                            length: 13
                        children: []
                        pos: 16489
                        length: 49
                    children: []
                    pos: 16488
                    length: 51
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return str;
                    children: []
                    pos: 16554
                    length: 11
                  pos: 16540
                  length: 35
                pos: 16485
                length: 90
              - type: local_variable_declaration
                fields:
                  text: int strLen = str.length();
                children: []
                pos: 16584
                length: 26
              - type: local_variable_declaration
                fields:
                  text: StringBuffer buffer = new StringBuffer(strLen);
                children: []
                pos: 16619
                length: 47
              - type: local_variable_declaration
                fields:
                  text: boolean uncapitalizeNext = true;
                children: []
                pos: 16675
                length: 32
              - type: for_statement
                fields:
                  text: |-
                    for (int i = 0; i < strLen; i++) {
                                char ch = str.charAt(i);

                                if (isDelimiter(ch, delimiters)) {
                                    buffer.append(ch);
                                    uncapitalizeNext = true;
                                } else if (uncapitalizeNext) {
                                    buffer.append(Character.toLowerCase(ch));
                                    uncapitalizeNext = false;
                                } else {
                                    buffer.append(ch);
                                }
                            }
                children: []
                pos: 16716
                length: 418
              - type: return_statement
                fields:
                  text: return buffer.toString();
                children: []
                pos: 17143
                length: 25
              pos: 16405
              length: 769
          children: []
          pos: 16340
          length: 834
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: swapCase
              children: []
              pos: 18188
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String str
                children: []
                pos: 18197
                length: 10
              pos: 18167
              length: 993
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: int strLen;
                children: []
                pos: 18219
                length: 11
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: str
                                children: []
                                pos: 18243
                                length: 3
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 18250
                                length: 4
                            children: []
                            pos: 18243
                            length: 11
                          right:
                            type: equals
                            fields:
                              left:
                                type: parenthesized_expression
                                fields:
                                  expression:
                                    type: assignment_expression
                                    fields:
                                      text: strLen = str.length()
                                    children: []
                                    pos: 18259
                                    length: 21
                                children: []
                                pos: 18258
                                length: 23
                              right:
                                type: decimal_integer_literal
                                fields:
                                  text: '0'
                                children: []
                                pos: 18285
                                length: 1
                            children: []
                            pos: 18258
                            length: 28
                        children: []
                        pos: 18243
                        length: 43
                    children: []
                    pos: 18242
                    length: 45
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return str;
                    children: []
                    pos: 18302
                    length: 11
                  pos: 18288
                  length: 35
                pos: 18239
                length: 84
              - type: local_variable_declaration
                fields:
                  text: StringBuffer buffer = new StringBuffer(strLen);
                children: []
                pos: 18332
                length: 47
              - type: local_variable_declaration
                fields:
                  text: boolean whitespace = true;
                children: []
                pos: 18389
                length: 26
              - type: local_variable_declaration
                fields:
                  text: char ch = 0;
                children: []
                pos: 18424
                length: 12
              - type: local_variable_declaration
                fields:
                  text: char tmp = 0;
                children: []
                pos: 18445
                length: 13
              - type: for_statement
                fields:
                  text: |-
                    for (int i = 0; i < strLen; i++) {
                                ch = str.charAt(i);
                                if (Character.isUpperCase(ch)) {
                                    tmp = Character.toLowerCase(ch);
                                } else if (Character.isTitleCase(ch)) {
                                    tmp = Character.toLowerCase(ch);
                                } else if (Character.isLowerCase(ch)) {
                                    if (whitespace) {
                                        tmp = Character.toTitleCase(ch);
                                    } else {
                                        tmp = Character.toUpperCase(ch);
                                    }
                                } else {
                                    tmp = ch;
                                }
                                buffer.append(tmp);
                                whitespace = Character.isWhitespace(ch);
                            }
                children: []
                pos: 18468
                length: 652
              - type: return_statement
                fields:
                  text: return buffer.toString();
                children: []
                pos: 19129
                length: 25
              pos: 18209
              length: 951
          children: []
          pos: 18167
          length: 993
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: initials
              children: []
              pos: 20112
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String str
                children: []
                pos: 20121
                length: 10
              pos: 20091
              length: 85
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return initials(str, null);
                children: []
                pos: 20143
                length: 27
              pos: 20133
              length: 43
          children: []
          pos: 20091
          length: 85
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: initials
              children: []
              pos: 21401
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String str
                children: []
                pos: 21410
                length: 10
              pos: 21380
              length: 770
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: str
                                children: []
                                pos: 21455
                                length: 3
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 21462
                                length: 4
                            children: []
                            pos: 21455
                            length: 11
                          right:
                            type: equals
                            fields:
                              left:
                                type: method_invocation
                                fields:
                                  text: str.length()
                                children: []
                                pos: 21470
                                length: 12
                              right:
                                type: decimal_integer_literal
                                fields:
                                  text: '0'
                                children: []
                                pos: 21486
                                length: 1
                            children: []
                            pos: 21470
                            length: 17
                        children: []
                        pos: 21455
                        length: 32
                    children: []
                    pos: 21454
                    length: 34
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return str;
                    children: []
                    pos: 21503
                    length: 11
                  pos: 21489
                  length: 35
                pos: 21451
                length: 73
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: and
                        fields:
                          left:
                            type: not_equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: delimiters
                                children: []
                                pos: 21537
                                length: 10
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 21551
                                length: 4
                            children: []
                            pos: 21537
                            length: 18
                          right:
                            type: equals
                            fields:
                              left:
                                type: field_access
                                fields:
                                  text: delimiters.length
                                children: []
                                pos: 21559
                                length: 17
                              right:
                                type: decimal_integer_literal
                                fields:
                                  text: '0'
                                children: []
                                pos: 21580
                                length: 1
                            children: []
                            pos: 21559
                            length: 22
                        children: []
                        pos: 21537
                        length: 44
                    children: []
                    pos: 21536
                    length: 46
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return "";
                    children: []
                    pos: 21597
                    length: 10
                  pos: 21583
                  length: 34
                pos: 21533
                length: 84
              - type: local_variable_declaration
                fields:
                  text: int strLen = str.length();
                children: []
                pos: 21626
                length: 26
              - type: local_variable_declaration
                fields:
                  text: char[] buf = new char[strLen / 2 + 1];
                children: []
                pos: 21661
                length: 38
              - type: local_variable_declaration
                fields:
                  text: int count = 0;
                children: []
                pos: 21708
                length: 14
              - type: local_variable_declaration
                fields:
                  text: boolean lastWasGap = true;
                children: []
                pos: 21731
                length: 26
              - type: for_statement
                fields:
                  text: |-
                    for (int i = 0; i < strLen; i++) {
                                char ch = str.charAt(i);

                                if (isDelimiter(ch, delimiters)) {
                                    lastWasGap = true;
                                } else if (lastWasGap) {
                                    buf[count++] = ch;
                                    lastWasGap = false;
                                } else {
                                    // ignore ch
                                }
                            }
                children: []
                pos: 21766
                length: 336
              - type: return_statement
                fields:
                  text: return new String(buf, 0, count);
                children: []
                pos: 22111
                length: 33
              pos: 21441
              length: 709
          children: []
          pos: 21380
          length: 770
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isDelimiter
              children: []
              pos: 22440
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: char ch
                children: []
                pos: 22452
                length: 7
              pos: 22417
              length: 344
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: delimiters
                            children: []
                            pos: 22494
                            length: 10
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 22508
                            length: 4
                        children: []
                        pos: 22494
                        length: 18
                    children: []
                    pos: 22493
                    length: 20
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return Character.isWhitespace(ch);
                    children: []
                    pos: 22528
                    length: 34
                  pos: 22514
                  length: 58
                pos: 22490
                length: 82
              - type: for_statement
                fields:
                  text: |-
                    for (int i = 0, isize = delimiters.length; i < isize; i++) {
                                if (ch == delimiters[i]) {
                                    return true;
                                }
                            }
                children: []
                pos: 22581
                length: 152
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 22742
                length: 13
              pos: 22480
              length: 281
          children: []
          pos: 22417
          length: 344
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: abbreviate
              children: []
              pos: 23978
              length: 10
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String str
                children: []
                pos: 23989
                length: 10
              pos: 23957
              length: 1479
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: str
                            children: []
                            pos: 24093
                            length: 3
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 24100
                            length: 4
                        children: []
                        pos: 24093
                        length: 11
                    children: []
                    pos: 24092
                    length: 13
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return null;
                    children: []
                    pos: 24120
                    length: 12
                  pos: 24106
                  length: 36
                pos: 24089
                length: 53
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: method_invocation
                            fields:
                              text: str.length()
                            children: []
                            pos: 24155
                            length: 12
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '0'
                            children: []
                            pos: 24171
                            length: 1
                        children: []
                        pos: 24155
                        length: 17
                    children: []
                    pos: 24154
                    length: 19
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return StringUtils.EMPTY;
                    children: []
                    pos: 24188
                    length: 25
                  pos: 24174
                  length: 49
                pos: 24151
                length: 72
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: upper
                                children: []
                                pos: 24492
                                length: 5
                              right:
                                type: unary_expression
                                fields:
                                  text: "-1"
                                children: []
                                pos: 24501
                                length: 2
                            children: []
                            pos: 24492
                            length: 11
                          right:
                            type: greater_than
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: upper
                                children: []
                                pos: 24507
                                length: 5
                              right:
                                type: method_invocation
                                fields:
                                  text: str.length()
                                children: []
                                pos: 24515
                                length: 12
                            children: []
                            pos: 24507
                            length: 20
                        children: []
                        pos: 24492
                        length: 35
                    children: []
                    pos: 24491
                    length: 37
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: upper = str.length();
                    children: []
                    pos: 24543
                    length: 21
                  pos: 24529
                  length: 45
                pos: 24488
                length: 86
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: less_than
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: upper
                            children: []
                            pos: 24645
                            length: 5
                          right:
                            type: identifier
                            fields:
                              text: lower
                            children: []
                            pos: 24653
                            length: 5
                        children: []
                        pos: 24645
                        length: 13
                    children: []
                    pos: 24644
                    length: 15
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: upper = lower;
                    children: []
                    pos: 24674
                    length: 14
                  pos: 24660
                  length: 38
                pos: 24641
                length: 57
              - type: local_variable_declaration
                fields:
                  text: StringBuffer result = new StringBuffer();
                children: []
                pos: 24708
                length: 41
              - type: local_variable_declaration
                fields:
                  text: int index = StringUtils.indexOf(str, " ", lower);
                children: []
                pos: 24758
                length: 49
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: index
                            children: []
                            pos: 24820
                            length: 5
                          right:
                            type: unary_expression
                            fields:
                              text: "-1"
                            children: []
                            pos: 24829
                            length: 2
                        children: []
                        pos: 24820
                        length: 11
                    children: []
                    pos: 24819
                    length: 13
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: result.append(str.substring(0, upper));
                    children: []
                    pos: 24847
                    length: 39
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: not_equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: upper
                                children: []
                                pos: 24986
                                length: 5
                              right:
                                type: method_invocation
                                fields:
                                  text: str.length()
                                children: []
                                pos: 24995
                                length: 12
                            children: []
                            pos: 24986
                            length: 21
                        children: []
                        pos: 24985
                        length: 23
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: result.append(StringUtils.defaultString(appendToEnd));
                        children: []
                        pos: 25027
                        length: 54
                      pos: 25009
                      length: 86
                    pos: 24982
                    length: 113
                  pos: 24833
                  length: 272
                pos: 24816
                length: 580
              - type: return_statement
                fields:
                  text: return result.toString();
                children: []
                pos: 25405
                length: 25
              pos: 24043
              length: 1393
          children: []
          pos: 23957
          length: 1479
        pos: 1296
        length: 24143
    children: []
    pos: 1296
    length: 24143
  pos: 0
  length: 25440
text_diff: "--- before\n+++ after\n@@ -613,9 +613,6 @@\n \n         // if the lower
  value is greater than the length of the string,\n         // set to the length of
  the string\n-        if (lower > str.length()) {\n-            lower = str.length();
  \   \n-        }\n         // if the upper value is -1 (i.e. no limit) or is greater\n
  \        // than the length of the string, set to the length of the string\n         if
  (upper == -1 || upper > str.length()) {\n"
tree_diff: |+
  New cluster:
  Unknown cluster type
  ------------
  ===
  delete-tree
  ---
  if_statement [24348,24423]
      parenthesized_expression [24351,24373]
          greater_than [24352,24372]
              identifier: lower [24352,24357]
              method_invocation: str.length() [24360,24372]
      block [24374,24423]
          expression_statement: lower = str.length(); [24388,24409]

...
