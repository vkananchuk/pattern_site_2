---
language: java
before_tree:
  type: program
  fields: {}
  children:
  - type: class_declaration
    fields:
      name:
        type: identifier
        fields:
          text: BigFraction
        children: []
        pos: 1525
        length: 11
      body:
        type: class_body
        fields: {}
        children:
        - type: field_declaration
          fields:
            text: public static final BigFraction TWO = new BigFraction(2);
          children: []
          pos: 1687
          length: 57
        - type: field_declaration
          fields:
            text: public static final BigFraction ONE = new BigFraction(1);
          children: []
          pos: 1790
          length: 57
        - type: field_declaration
          fields:
            text: public static final BigFraction ZERO = new BigFraction(0);
          children: []
          pos: 1893
          length: 58
        - type: field_declaration
          fields:
            text: public static final BigFraction MINUS_ONE = new BigFraction(-1);
          children: []
          pos: 2002
          length: 64
        - type: field_declaration
          fields:
            text: public static final BigFraction FOUR_FIFTHS = new BigFraction(4,
              5);
          children: []
          pos: 2114
          length: 68
        - type: field_declaration
          fields:
            text: public static final BigFraction ONE_FIFTH = new BigFraction(1, 5);
          children: []
          pos: 2230
          length: 66
        - type: field_declaration
          fields:
            text: public static final BigFraction ONE_HALF = new BigFraction(1, 2);
          children: []
          pos: 2344
          length: 65
        - type: field_declaration
          fields:
            text: public static final BigFraction ONE_QUARTER = new BigFraction(1,
              4);
          children: []
          pos: 2457
          length: 68
        - type: field_declaration
          fields:
            text: public static final BigFraction ONE_THIRD = new BigFraction(1, 3);
          children: []
          pos: 2573
          length: 66
        - type: field_declaration
          fields:
            text: public static final BigFraction THREE_FIFTHS = new BigFraction(3,
              5);
          children: []
          pos: 2687
          length: 69
        - type: field_declaration
          fields:
            text: public static final BigFraction THREE_QUARTERS = new BigFraction(3,
              4);
          children: []
          pos: 2804
          length: 71
        - type: field_declaration
          fields:
            text: public static final BigFraction TWO_FIFTHS = new BigFraction(2,
              5);
          children: []
          pos: 2923
          length: 67
        - type: field_declaration
          fields:
            text: public static final BigFraction TWO_QUARTERS = new BigFraction(2,
              4);
          children: []
          pos: 3038
          length: 69
        - type: field_declaration
          fields:
            text: public static final BigFraction TWO_THIRDS = new BigFraction(2,
              3);
          children: []
          pos: 3155
          length: 67
        - type: field_declaration
          fields:
            text: private static final long serialVersionUID = -5630213147331578515L;
          children: []
          pos: 3272
          length: 67
        - type: field_declaration
          fields:
            text: private static final BigInteger ONE_HUNDRED = BigInteger.valueOf(100);
          children: []
          pos: 3403
          length: 70
        - type: field_declaration
          fields:
            text: private final BigInteger numerator;
          children: []
          pos: 3505
          length: 35
        - type: field_declaration
          fields:
            text: private final BigInteger denominator;
          children: []
          pos: 3574
          length: 37
        - type: constructor_declaration
          fields:
            text: |-
              public BigFraction(final BigInteger num) {
                      this(num, BigInteger.ONE);
                  }
          children: []
          pos: 3817
          length: 83
        - type: constructor_declaration
          fields:
            text: |-
              public BigFraction(BigInteger num, BigInteger den) {
                      MathUtils.checkNotNull(num, LocalizedFormats.NUMERATOR);
                      MathUtils.checkNotNull(den, LocalizedFormats.DENOMINATOR);
                      if (BigInteger.ZERO.equals(den)) {
                          throw new ZeroException(LocalizedFormats.ZERO_DENOMINATOR);
                      }
                      if (BigInteger.ZERO.equals(num)) {
                          numerator   = BigInteger.ZERO;
                          denominator = BigInteger.ONE;
                      } else {

                          // reduce numerator and denominator by greatest common denominator
                          final BigInteger gcd = num.gcd(den);
                          if (BigInteger.ONE.compareTo(gcd) < 0) {
                              num = num.divide(gcd);
                              den = den.divide(gcd);
                          }

                          // move sign to numerator
                          if (BigInteger.ZERO.compareTo(den) > 0) {
                              num = num.negate();
                              den = den.negate();
                          }

                          // store the values in the final fields
                          numerator   = num;
                          denominator = den;

                      }
                  }
          children: []
          pos: 4332
          length: 1039
        - type: constructor_declaration
          fields:
            text: |-
              public BigFraction(final double value) throws MathIllegalArgumentException {
                      if (Double.isNaN(value)) {
                          throw new MathIllegalArgumentException(LocalizedFormats.NAN_VALUE_CONVERSION);
                      }
                      if (Double.isInfinite(value)) {
                          throw new MathIllegalArgumentException(LocalizedFormats.INFINITE_VALUE_CONVERSION);
                      }

                      // compute m and k such that value = m * 2^k
                      final long bits     = Double.doubleToLongBits(value);
                      final long sign     = bits & 0x8000000000000000L;
                      final long exponent = bits & 0x7ff0000000000000L;
                      long m              = bits & 0x000fffffffffffffL;
                      if (exponent != 0) {
                          // this was a normalized number, add the implicit most significant bit
                          m |= 0x0010000000000000L;
                      }
                      if (sign != 0) {
                          m = -m;
                      }
                      int k = ((int) (exponent >> 52)) - 1075;
                      while (((m & 0x001ffffffffffffeL) != 0) && ((m & 0x1) == 0)) {
                          m = m >> 1;
                          ++k;
                      }

                      if (k < 0) {
                          numerator   = BigInteger.valueOf(m);
                          denominator = BigInteger.ZERO.flipBit(-k);
                      } else {
                          numerator   = BigInteger.valueOf(m).multiply(BigInteger.ZERO.flipBit(k));
                          denominator = BigInteger.ONE;
                      }

                  }
          children: []
          pos: 6453
          length: 1322
        - type: constructor_declaration
          fields:
            text: |-
              public BigFraction(final double value, final double epsilon,
                                     final int maxIterations)
                      throws FractionConversionException {
                      this(value, epsilon, Integer.MAX_VALUE, maxIterations);
                  }
          children: []
          pos: 8560
          length: 223
        - type: constructor_declaration
          fields:
            text: |-
              private BigFraction(final double value, final double epsilon,
                                      final int maxDenominator, int maxIterations)
                      throws FractionConversionException {
                      long overflow = Integer.MAX_VALUE;
                      double r0 = value;
                      long a0 = (long) FastMath.floor(r0);
                      if (a0 > overflow) {
                          throw new FractionConversionException(value, a0, 1l);
                      }

                      // check for (almost) integer arguments, which should not go
                      // to iterations.
                      if (FastMath.abs(a0 - value) < epsilon) {
                          numerator = BigInteger.valueOf(a0);
                          denominator = BigInteger.ONE;
                          return;
                      }

                      long p0 = 1;
                      long q0 = 0;
                      long p1 = a0;
                      long q1 = 1;

                      long p2 = 0;
                      long q2 = 1;

                      int n = 0;
                      boolean stop = false;
                      do {
                          ++n;
                          final double r1 = 1.0 / (r0 - a0);
                          final long a1 = (long) FastMath.floor(r1);
                          p2 = (a1 * p1) + p0;
                          q2 = (a1 * q1) + q0;
                          if ((p2 > overflow) || (q2 > overflow)) {
                              throw new FractionConversionException(value, p2, q2);
                          }

                          final double convergent = (double) p2 / (double) q2;
                          if ((n < maxIterations) &&
                              (FastMath.abs(convergent - value) > epsilon) &&
                              (q2 < maxDenominator)) {
                              p0 = p1;
                              p1 = p2;
                              q0 = q1;
                              q1 = q2;
                              a0 = a1;
                              r0 = r1;
                          } else {
                              stop = true;
                          }
                      } while (!stop);

                      if (n >= maxIterations) {
                          throw new FractionConversionException(value, maxIterations);
                      }

                      if (q2 < maxDenominator) {
                          numerator   = BigInteger.valueOf(p2);
                          denominator = BigInteger.valueOf(q2);
                      } else {
                          numerator   = BigInteger.valueOf(p1);
                          denominator = BigInteger.valueOf(q1);
                      }
                  }
          children: []
          pos: 10263
          length: 2012
        - type: constructor_declaration
          fields:
            text: |-
              public BigFraction(final double value, final int maxDenominator)
                      throws FractionConversionException {
                      this(value, 0, maxDenominator, 100);
                  }
          children: []
          pos: 12861
          length: 160
        - type: constructor_declaration
          fields:
            text: |-
              public BigFraction(final int num) {
                      this(BigInteger.valueOf(num), BigInteger.ONE);
                  }
          children: []
          pos: 13220
          length: 96
        - type: constructor_declaration
          fields:
            text: |-
              public BigFraction(final int num, final int den) {
                      this(BigInteger.valueOf(num), BigInteger.valueOf(den));
                  }
          children: []
          pos: 13627
          length: 120
        - type: constructor_declaration
          fields:
            text: |-
              public BigFraction(final long num) {
                      this(BigInteger.valueOf(num), BigInteger.ONE);
                  }
          children: []
          pos: 13931
          length: 97
        - type: constructor_declaration
          fields:
            text: |-
              public BigFraction(final long num, final long den) {
                      this(BigInteger.valueOf(num), BigInteger.valueOf(den));
                  }
          children: []
          pos: 14340
          length: 122
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getReducedFraction
              children: []
              pos: 15125
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final int numerator
                children: []
                pos: 15144
                length: 19
              pos: 15099
              length: 286
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: numerator
                            children: []
                            pos: 15251
                            length: 9
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '0'
                            children: []
                            pos: 15264
                            length: 1
                        children: []
                        pos: 15251
                        length: 14
                    children: []
                    pos: 15250
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return ZERO;
                    children: []
                    pos: 15281
                    length: 12
                  pos: 15267
                  length: 55
                pos: 15247
                length: 75
              - type: return_statement
                fields:
                  text: return new BigFraction(numerator, denominator);
                children: []
                pos: 15332
                length: 47
              pos: 15237
              length: 148
          children: []
          pos: 15099
          length: 286
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: abs
              children: []
              pos: 15579
              length: 3
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 15560
              length: 110
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: 'return (BigInteger.ZERO.compareTo(numerator) <= 0) ? this
                    : negate();'
                children: []
                pos: 15595
                length: 69
              pos: 15585
              length: 85
          children: []
          pos: 15560
          length: 110
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: add
              children: []
              pos: 16137
              length: 3
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final BigInteger bg
                children: []
                pos: 16141
                length: 19
              pos: 16118
              length: 202
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: MathUtils.checkNotNull(bg);
                children: []
                pos: 16201
                length: 27
              - type: return_statement
                fields:
                  text: return new BigFraction(numerator.add(denominator.multiply(bg)),
                    denominator);
                children: []
                pos: 16237
                length: 77
              pos: 16191
              length: 129
          children: []
          pos: 16118
          length: 202
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: add
              children: []
              pos: 16648
              length: 3
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final int i
                children: []
                pos: 16652
                length: 11
              pos: 16629
              length: 86
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return add(BigInteger.valueOf(i));
                children: []
                pos: 16675
                length: 34
              pos: 16665
              length: 50
          children: []
          pos: 16629
          length: 86
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: add
              children: []
              pos: 17037
              length: 3
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final long l
                children: []
                pos: 17041
                length: 12
              pos: 17018
              length: 87
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return add(BigInteger.valueOf(l));
                children: []
                pos: 17065
                length: 34
              pos: 17055
              length: 50
          children: []
          pos: 17018
          length: 87
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: add
              children: []
              pos: 17530
              length: 3
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final BigFraction fraction
                children: []
                pos: 17534
                length: 26
              pos: 17511
              length: 690
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: fraction
                            children: []
                            pos: 17576
                            length: 8
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 17588
                            length: 4
                        children: []
                        pos: 17576
                        length: 16
                    children: []
                    pos: 17575
                    length: 18
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: throw new NullArgumentException(LocalizedFormats.FRACTION);
                    children: []
                    pos: 17608
                    length: 59
                  pos: 17594
                  length: 83
                pos: 17572
                length: 105
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: ZERO.equals(fraction)
                        children: []
                        pos: 17690
                        length: 21
                    children: []
                    pos: 17689
                    length: 23
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return this;
                    children: []
                    pos: 17727
                    length: 12
                  pos: 17713
                  length: 36
                pos: 17686
                length: 63
              - type: local_variable_declaration
                fields:
                  text: BigInteger num = null;
                children: []
                pos: 17759
                length: 22
              - type: local_variable_declaration
                fields:
                  text: BigInteger den = null;
                children: []
                pos: 17790
                length: 22
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: denominator.equals(fraction.denominator)
                        children: []
                        pos: 17826
                        length: 40
                    children: []
                    pos: 17825
                    length: 42
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: num = numerator.add(fraction.numerator);
                    children: []
                    pos: 17882
                    length: 40
                  - type: expression_statement
                    fields:
                      text: den = denominator;
                    children: []
                    pos: 17935
                    length: 18
                  pos: 17868
                  length: 95
                pos: 17822
                length: 330
              - type: return_statement
                fields:
                  text: return new BigFraction(num, den);
                children: []
                pos: 18161
                length: 33
              pos: 17562
              length: 639
          children: []
          pos: 17511
          length: 690
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: bigDecimalValue
              children: []
              pos: 18626
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 18608
              length: 121
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return new BigDecimal(numerator).divide(new BigDecimal(denominator));
                children: []
                pos: 18654
                length: 69
              pos: 18644
              length: 85
          children: []
          pos: 18608
          length: 121
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: bigDecimalValue
              children: []
              pos: 19302
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final int roundingMode
                children: []
                pos: 19318
                length: 22
              pos: 19284
              length: 157
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return new BigDecimal(numerator).divide(new BigDecimal(denominator),
                    roundingMode);
                children: []
                pos: 19352
                length: 83
              pos: 19342
              length: 99
          children: []
          pos: 19284
          length: 157
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: bigDecimalValue
              children: []
              pos: 20042
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final int scale
                children: []
                pos: 20058
                length: 15
              pos: 20024
              length: 181
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return new BigDecimal(numerator).divide(new BigDecimal(denominator),
                    scale, roundingMode);
                children: []
                pos: 20109
                length: 90
              pos: 20099
              length: 106
          children: []
          pos: 20024
          length: 181
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: compareTo
              children: []
              pos: 20615
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final BigFraction object
                children: []
                pos: 20625
                length: 24
              pos: 20604
              length: 219
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: BigInteger nOd = numerator.multiply(object.denominator);
                children: []
                pos: 20661
                length: 56
              - type: local_variable_declaration
                fields:
                  text: BigInteger dOn = denominator.multiply(object.numerator);
                children: []
                pos: 20726
                length: 56
              - type: return_statement
                fields:
                  text: return nOd.compareTo(dOn);
                children: []
                pos: 20791
                length: 26
              pos: 20651
              length: 172
          children: []
          pos: 20604
          length: 219
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: divide
              children: []
              pos: 21404
              length: 6
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final BigInteger bg
                children: []
                pos: 21411
                length: 19
              pos: 21385
              length: 247
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: BigInteger.ZERO.equals(bg)
                        children: []
                        pos: 21446
                        length: 26
                    children: []
                    pos: 21445
                    length: 28
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: throw new ZeroException(LocalizedFormats.ZERO_DENOMINATOR);
                    children: []
                    pos: 21488
                    length: 59
                  pos: 21474
                  length: 83
                pos: 21442
                length: 115
              - type: return_statement
                fields:
                  text: return new BigFraction(numerator, denominator.multiply(bg));
                children: []
                pos: 21566
                length: 60
              pos: 21432
              length: 200
          children: []
          pos: 21385
          length: 247
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: divide
              children: []
              pos: 22066
              length: 6
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final int i
                children: []
                pos: 22073
                length: 11
              pos: 22047
              length: 92
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return divide(BigInteger.valueOf(i));
                children: []
                pos: 22096
                length: 37
              pos: 22086
              length: 53
          children: []
          pos: 22047
          length: 92
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: divide
              children: []
              pos: 22575
              length: 6
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final long l
                children: []
                pos: 22582
                length: 12
              pos: 22556
              length: 93
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return divide(BigInteger.valueOf(l));
                children: []
                pos: 22606
                length: 37
              pos: 22596
              length: 53
          children: []
          pos: 22556
          length: 93
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: divide
              children: []
              pos: 23108
              length: 6
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final BigFraction fraction
                children: []
                pos: 23115
                length: 26
              pos: 23089
              length: 364
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: fraction
                            children: []
                            pos: 23157
                            length: 8
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 23169
                            length: 4
                        children: []
                        pos: 23157
                        length: 16
                    children: []
                    pos: 23156
                    length: 18
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: throw new NullArgumentException(LocalizedFormats.FRACTION);
                    children: []
                    pos: 23189
                    length: 59
                  pos: 23175
                  length: 83
                pos: 23153
                length: 105
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: BigInteger.ZERO.equals(fraction.numerator)
                        children: []
                        pos: 23271
                        length: 42
                    children: []
                    pos: 23270
                    length: 44
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: throw new ZeroException(LocalizedFormats.ZERO_DENOMINATOR);
                    children: []
                    pos: 23329
                    length: 59
                  pos: 23315
                  length: 83
                pos: 23267
                length: 131
              - type: return_statement
                fields:
                  text: return multiply(fraction.reciprocal());
                children: []
                pos: 23408
                length: 39
              pos: 23143
              length: 310
          children: []
          pos: 23089
          length: 364
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: doubleValue
              children: []
              pos: 23749
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 23721
              length: 593
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: double result = numerator.doubleValue() / denominator.doubleValue();
                children: []
                pos: 23773
                length: 68
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: Double.isNaN(result)
                        children: []
                        pos: 23854
                        length: 20
                    children: []
                    pos: 23853
                    length: 22
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: |-
                        int shift = Math.max(numerator.bitLength(),
                                                         denominator.bitLength()) - Double.MAX_EXPONENT;
                    children: []
                    pos: 24025
                    length: 124
                  - type: expression_statement
                    fields:
                      text: |-
                        result = numerator.shiftRight(shift).doubleValue() /
                                        denominator.shiftRight(shift).doubleValue();
                    children: []
                    pos: 24162
                    length: 113
                  pos: 23876
                  length: 409
                pos: 23850
                length: 435
              - type: return_statement
                fields:
                  text: return result;
                children: []
                pos: 24294
                length: 14
              pos: 23763
              length: 551
          children: []
          pos: 23721
          length: 593
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: equals
              children: []
              pos: 24961
              length: 6
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final Object other
                children: []
                pos: 24968
                length: 18
              pos: 24932
              length: 445
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: boolean ret = false;
                children: []
                pos: 24998
                length: 20
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: this
                            fields: {}
                            children: []
                            pos: 25032
                            length: 4
                          right:
                            type: identifier
                            fields:
                              text: other
                            children: []
                            pos: 25040
                            length: 5
                        children: []
                        pos: 25032
                        length: 13
                    children: []
                    pos: 25031
                    length: 15
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: ret = true;
                    children: []
                    pos: 25061
                    length: 11
                  pos: 25047
                  length: 35
                pos: 25028
                length: 322
              - type: return_statement
                fields:
                  text: return ret;
                children: []
                pos: 25360
                length: 11
              pos: 24988
              length: 389
          children: []
          pos: 24932
          length: 445
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: floatValue
              children: []
              pos: 25670
              length: 10
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 25643
              length: 585
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: float result = numerator.floatValue() / denominator.floatValue();
                children: []
                pos: 25693
                length: 65
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: Double.isNaN(result)
                        children: []
                        pos: 25771
                        length: 20
                    children: []
                    pos: 25770
                    length: 22
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: |-
                        int shift = Math.max(numerator.bitLength(),
                                                         denominator.bitLength()) - Float.MAX_EXPONENT;
                    children: []
                    pos: 25942
                    length: 123
                  - type: expression_statement
                    fields:
                      text: |-
                        result = numerator.shiftRight(shift).floatValue() /
                                        denominator.shiftRight(shift).floatValue();
                    children: []
                    pos: 26078
                    length: 111
                  pos: 25793
                  length: 406
                pos: 25767
                length: 432
              - type: return_statement
                fields:
                  text: return result;
                children: []
                pos: 26208
                length: 14
              pos: 25683
              length: 545
          children: []
          pos: 25643
          length: 585
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getDenominator
              children: []
              pos: 26419
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 26401
              length: 70
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return denominator;
                children: []
                pos: 26446
                length: 19
              pos: 26436
              length: 35
          children: []
          pos: 26401
          length: 70
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getDenominatorAsInt
              children: []
              pos: 26633
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 26622
              length: 79
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return denominator.intValue();
                children: []
                pos: 26665
                length: 30
              pos: 26655
              length: 46
          children: []
          pos: 26622
          length: 79
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getDenominatorAsLong
              children: []
              pos: 26866
              length: 20
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 26854
              length: 82
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return denominator.longValue();
                children: []
                pos: 26899
                length: 31
              pos: 26889
              length: 47
          children: []
          pos: 26854
          length: 82
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getNumerator
              children: []
              pos: 27123
              length: 12
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 27105
              length: 66
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return numerator;
                children: []
                pos: 27148
                length: 17
              pos: 27138
              length: 33
          children: []
          pos: 27105
          length: 66
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getNumeratorAsInt
              children: []
              pos: 27329
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 27318
              length: 75
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return numerator.intValue();
                children: []
                pos: 27359
                length: 28
              pos: 27349
              length: 44
          children: []
          pos: 27318
          length: 75
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getNumeratorAsLong
              children: []
              pos: 27554
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 27542
              length: 78
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return numerator.longValue();
                children: []
                pos: 27585
                length: 29
              pos: 27575
              length: 45
          children: []
          pos: 27542
          length: 78
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: hashCode
              children: []
              pos: 27828
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 27803
              length: 122
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return 37 * (37 * 17 + numerator.hashCode()) + denominator.hashCode();
                children: []
                pos: 27849
                length: 70
              pos: 27839
              length: 86
          children: []
          pos: 27803
          length: 122
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: intValue
              children: []
              pos: 28193
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 28168
              length: 100
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return numerator.divide(denominator).intValue();
                children: []
                pos: 28214
                length: 48
              pos: 28204
              length: 64
          children: []
          pos: 28168
          length: 100
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: longValue
              children: []
              pos: 28538
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 28512
              length: 103
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return numerator.divide(denominator).longValue();
                children: []
                pos: 28560
                length: 49
              pos: 28550
              length: 65
          children: []
          pos: 28512
          length: 103
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: multiply
              children: []
              pos: 29012
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final BigInteger bg
                children: []
                pos: 29021
                length: 19
              pos: 28993
              length: 208
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: bg
                            children: []
                            pos: 29056
                            length: 2
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 29062
                            length: 4
                        children: []
                        pos: 29056
                        length: 10
                    children: []
                    pos: 29055
                    length: 12
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: throw new NullArgumentException();
                    children: []
                    pos: 29082
                    length: 34
                  pos: 29068
                  length: 58
                pos: 29052
                length: 74
              - type: return_statement
                fields:
                  text: return new BigFraction(bg.multiply(numerator), denominator);
                children: []
                pos: 29135
                length: 60
              pos: 29042
              length: 159
          children: []
          pos: 28993
          length: 208
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: multiply
              children: []
              pos: 29528
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final int i
                children: []
                pos: 29537
                length: 11
              pos: 29509
              length: 96
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return multiply(BigInteger.valueOf(i));
                children: []
                pos: 29560
                length: 39
              pos: 29550
              length: 55
          children: []
          pos: 29509
          length: 96
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: multiply
              children: []
              pos: 29934
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final long l
                children: []
                pos: 29943
                length: 12
              pos: 29915
              length: 97
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return multiply(BigInteger.valueOf(l));
                children: []
                pos: 29967
                length: 39
              pos: 29957
              length: 55
          children: []
          pos: 29915
          length: 97
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: multiply
              children: []
              pos: 30406
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final BigFraction fraction
                children: []
                pos: 30415
                length: 26
              pos: 30387
              length: 466
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: fraction
                            children: []
                            pos: 30457
                            length: 8
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 30469
                            length: 4
                        children: []
                        pos: 30457
                        length: 16
                    children: []
                    pos: 30456
                    length: 18
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: throw new NullArgumentException(LocalizedFormats.FRACTION);
                    children: []
                    pos: 30489
                    length: 59
                  pos: 30475
                  length: 83
                pos: 30453
                length: 105
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: method_invocation
                            fields:
                              text: numerator.equals(BigInteger.ZERO)
                            children: []
                            pos: 30571
                            length: 33
                          right:
                            type: method_invocation
                            fields:
                              text: fraction.numerator.equals(BigInteger.ZERO)
                            children: []
                            pos: 30620
                            length: 42
                        children: []
                        pos: 30571
                        length: 91
                    children: []
                    pos: 30570
                    length: 93
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return ZERO;
                    children: []
                    pos: 30678
                    length: 12
                  pos: 30664
                  length: 36
                pos: 30567
                length: 133
              - type: return_statement
                fields:
                  text: |-
                    return new BigFraction(numerator.multiply(fraction.numerator),
                                                   denominator.multiply(fraction.denominator));
                children: []
                pos: 30709
                length: 138
              pos: 30443
              length: 410
          children: []
          pos: 30387
          length: 466
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: negate
              children: []
              pos: 31068
              length: 6
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 31049
              length: 100
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return new BigFraction(numerator.negate(), denominator);
                children: []
                pos: 31087
                length: 56
              pos: 31077
              length: 72
          children: []
          pos: 31049
          length: 100
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: percentageValue
              children: []
              pos: 31429
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 31415
              length: 91
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return multiply(ONE_HUNDRED).doubleValue();
                children: []
                pos: 31457
                length: 43
              pos: 31447
              length: 59
          children: []
          pos: 31415
          length: 91
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: pow
              children: []
              pos: 31877
              length: 3
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final int exponent
                children: []
                pos: 31881
                length: 18
              pos: 31858
              length: 262
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: less_than
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: exponent
                            children: []
                            pos: 31915
                            length: 8
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '0'
                            children: []
                            pos: 31926
                            length: 1
                        children: []
                        pos: 31915
                        length: 12
                    children: []
                    pos: 31914
                    length: 14
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return new BigFraction(denominator.pow(-exponent), numerator.pow(-exponent));
                    children: []
                    pos: 31943
                    length: 77
                  pos: 31929
                  length: 101
                pos: 31911
                length: 119
              - type: return_statement
                fields:
                  text: return new BigFraction(numerator.pow(exponent), denominator.pow(exponent));
                children: []
                pos: 32039
                length: 75
              pos: 31901
              length: 219
          children: []
          pos: 31858
          length: 262
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: pow
              children: []
              pos: 32514
              length: 3
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final long exponent
                children: []
                pos: 32518
                length: 19
              pos: 32495
              length: 401
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: less_than
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: exponent
                            children: []
                            pos: 32553
                            length: 8
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '0'
                            children: []
                            pos: 32564
                            length: 1
                        children: []
                        pos: 32553
                        length: 12
                    children: []
                    pos: 32552
                    length: 14
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: |-
                        return new BigFraction(ArithmeticUtils.pow(denominator, -exponent),
                                                           ArithmeticUtils.pow(numerator,   -exponent));
                    children: []
                    pos: 32581
                    length: 148
                  pos: 32567
                  length: 172
                pos: 32549
                length: 190
              - type: return_statement
                fields:
                  text: |-
                    return new BigFraction(ArithmeticUtils.pow(numerator,   exponent),
                                                   ArithmeticUtils.pow(denominator, exponent));
                children: []
                pos: 32748
                length: 142
              pos: 32539
              length: 357
          children: []
          pos: 32495
          length: 401
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: pow
              children: []
              pos: 33290
              length: 3
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final BigInteger exponent
                children: []
                pos: 33294
                length: 25
              pos: 33271
              length: 479
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: less_than
                        fields:
                          left:
                            type: method_invocation
                            fields:
                              text: exponent.compareTo(BigInteger.ZERO)
                            children: []
                            pos: 33335
                            length: 35
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '0'
                            children: []
                            pos: 33373
                            length: 1
                        children: []
                        pos: 33335
                        length: 39
                    children: []
                    pos: 33334
                    length: 41
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: final BigInteger eNeg = exponent.negate();
                    children: []
                    pos: 33390
                    length: 42
                  - type: return_statement
                    fields:
                      text: |-
                        return new BigFraction(ArithmeticUtils.pow(denominator, eNeg),
                                                           ArithmeticUtils.pow(numerator,   eNeg));
                    children: []
                    pos: 33445
                    length: 138
                  pos: 33376
                  length: 217
                pos: 33331
                length: 262
              - type: return_statement
                fields:
                  text: |-
                    return new BigFraction(ArithmeticUtils.pow(numerator,   exponent),
                                                   ArithmeticUtils.pow(denominator, exponent));
                children: []
                pos: 33602
                length: 142
              pos: 33321
              length: 429
          children: []
          pos: 33271
          length: 479
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: pow
              children: []
              pos: 34104
              length: 3
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final double exponent
                children: []
                pos: 34108
                length: 21
              pos: 34090
              length: 181
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return FastMath.pow(numerator.doubleValue(),   exponent) /
                                   FastMath.pow(denominator.doubleValue(), exponent);
                children: []
                pos: 34141
                length: 124
              pos: 34131
              length: 140
          children: []
          pos: 34090
          length: 181
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: reciprocal
              children: []
              pos: 34441
              length: 10
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 34422
              length: 95
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return new BigFraction(denominator, numerator);
                children: []
                pos: 34464
                length: 47
              pos: 34454
              length: 63
          children: []
          pos: 34422
          length: 95
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: reduce
              children: []
              pos: 34780
              length: 6
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 34761
              length: 174
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: final BigInteger gcd = numerator.gcd(denominator);
                children: []
                pos: 34799
                length: 50
              - type: return_statement
                fields:
                  text: return new BigFraction(numerator.divide(gcd), denominator.divide(gcd));
                children: []
                pos: 34858
                length: 71
              pos: 34789
              length: 146
          children: []
          pos: 34761
          length: 174
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: subtract
              children: []
              pos: 35377
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final BigInteger bg
                children: []
                pos: 35386
                length: 19
              pos: 35358
              length: 230
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: bg
                            children: []
                            pos: 35421
                            length: 2
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 35427
                            length: 4
                        children: []
                        pos: 35421
                        length: 10
                    children: []
                    pos: 35420
                    length: 12
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: throw new NullArgumentException();
                    children: []
                    pos: 35447
                    length: 34
                  pos: 35433
                  length: 58
                pos: 35417
                length: 74
              - type: return_statement
                fields:
                  text: return new BigFraction(numerator.subtract(denominator.multiply(bg)),
                    denominator);
                children: []
                pos: 35500
                length: 82
              pos: 35407
              length: 181
          children: []
          pos: 35358
          length: 230
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: subtract
              children: []
              pos: 35919
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final int i
                children: []
                pos: 35928
                length: 11
              pos: 35900
              length: 96
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return subtract(BigInteger.valueOf(i));
                children: []
                pos: 35951
                length: 39
              pos: 35941
              length: 55
          children: []
          pos: 35900
          length: 96
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: subtract
              children: []
              pos: 36320
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final long l
                children: []
                pos: 36329
                length: 12
              pos: 36301
              length: 97
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return subtract(BigInteger.valueOf(l));
                children: []
                pos: 36353
                length: 39
              pos: 36343
              length: 55
          children: []
          pos: 36301
          length: 97
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: subtract
              children: []
              pos: 36821
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final BigFraction fraction
                children: []
                pos: 36830
                length: 26
              pos: 36802
              length: 704
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: fraction
                            children: []
                            pos: 36872
                            length: 8
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 36884
                            length: 4
                        children: []
                        pos: 36872
                        length: 16
                    children: []
                    pos: 36871
                    length: 18
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: throw new NullArgumentException(LocalizedFormats.FRACTION);
                    children: []
                    pos: 36904
                    length: 59
                  pos: 36890
                  length: 83
                pos: 36868
                length: 105
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: ZERO.equals(fraction)
                        children: []
                        pos: 36986
                        length: 21
                    children: []
                    pos: 36985
                    length: 23
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return this;
                    children: []
                    pos: 37023
                    length: 12
                  pos: 37009
                  length: 36
                pos: 36982
                length: 63
              - type: local_variable_declaration
                fields:
                  text: BigInteger num = null;
                children: []
                pos: 37055
                length: 22
              - type: local_variable_declaration
                fields:
                  text: BigInteger den = null;
                children: []
                pos: 37086
                length: 22
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: denominator.equals(fraction.denominator)
                        children: []
                        pos: 37121
                        length: 40
                    children: []
                    pos: 37120
                    length: 42
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: num = numerator.subtract(fraction.numerator);
                    children: []
                    pos: 37177
                    length: 45
                  - type: expression_statement
                    fields:
                      text: den = denominator;
                    children: []
                    pos: 37235
                    length: 18
                  pos: 37163
                  length: 100
                pos: 37117
                length: 340
              - type: return_statement
                fields:
                  text: return new BigFraction(num, den);
                children: []
                pos: 37466
                length: 33
              pos: 36858
              length: 648
          children: []
          pos: 36802
          length: 704
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: toString
              children: []
              pos: 37812
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 37784
              length: 340
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: String str = null;
                children: []
                pos: 37833
                length: 18
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: BigInteger.ONE.equals(denominator)
                        children: []
                        pos: 37864
                        length: 34
                    children: []
                    pos: 37863
                    length: 36
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: str = numerator.toString();
                    children: []
                    pos: 37914
                    length: 27
                  pos: 37900
                  length: 51
                pos: 37860
                length: 238
              - type: return_statement
                fields:
                  text: return str;
                children: []
                pos: 38107
                length: 11
              pos: 37823
              length: 301
          children: []
          pos: 37784
          length: 340
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getField
              children: []
              pos: 38179
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 38155
              length: 89
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return BigFractionField.getInstance();
                children: []
                pos: 38200
                length: 38
              pos: 38190
              length: 54
          children: []
          pos: 38155
          length: 89
        pos: 1512
        length: 36735
    children: []
    pos: 1512
    length: 36735
  pos: 0
  length: 38248
after_tree:
  type: program
  fields: {}
  children:
  - type: class_declaration
    fields:
      name:
        type: identifier
        fields:
          text: BigFraction
        children: []
        pos: 1525
        length: 11
      body:
        type: class_body
        fields: {}
        children:
        - type: field_declaration
          fields:
            text: public static final BigFraction TWO = new BigFraction(2);
          children: []
          pos: 1687
          length: 57
        - type: field_declaration
          fields:
            text: public static final BigFraction ONE = new BigFraction(1);
          children: []
          pos: 1790
          length: 57
        - type: field_declaration
          fields:
            text: public static final BigFraction ZERO = new BigFraction(0);
          children: []
          pos: 1893
          length: 58
        - type: field_declaration
          fields:
            text: public static final BigFraction MINUS_ONE = new BigFraction(-1);
          children: []
          pos: 2002
          length: 64
        - type: field_declaration
          fields:
            text: public static final BigFraction FOUR_FIFTHS = new BigFraction(4,
              5);
          children: []
          pos: 2114
          length: 68
        - type: field_declaration
          fields:
            text: public static final BigFraction ONE_FIFTH = new BigFraction(1, 5);
          children: []
          pos: 2230
          length: 66
        - type: field_declaration
          fields:
            text: public static final BigFraction ONE_HALF = new BigFraction(1, 2);
          children: []
          pos: 2344
          length: 65
        - type: field_declaration
          fields:
            text: public static final BigFraction ONE_QUARTER = new BigFraction(1,
              4);
          children: []
          pos: 2457
          length: 68
        - type: field_declaration
          fields:
            text: public static final BigFraction ONE_THIRD = new BigFraction(1, 3);
          children: []
          pos: 2573
          length: 66
        - type: field_declaration
          fields:
            text: public static final BigFraction THREE_FIFTHS = new BigFraction(3,
              5);
          children: []
          pos: 2687
          length: 69
        - type: field_declaration
          fields:
            text: public static final BigFraction THREE_QUARTERS = new BigFraction(3,
              4);
          children: []
          pos: 2804
          length: 71
        - type: field_declaration
          fields:
            text: public static final BigFraction TWO_FIFTHS = new BigFraction(2,
              5);
          children: []
          pos: 2923
          length: 67
        - type: field_declaration
          fields:
            text: public static final BigFraction TWO_QUARTERS = new BigFraction(2,
              4);
          children: []
          pos: 3038
          length: 69
        - type: field_declaration
          fields:
            text: public static final BigFraction TWO_THIRDS = new BigFraction(2,
              3);
          children: []
          pos: 3155
          length: 67
        - type: field_declaration
          fields:
            text: private static final long serialVersionUID = -5630213147331578515L;
          children: []
          pos: 3272
          length: 67
        - type: field_declaration
          fields:
            text: private static final BigInteger ONE_HUNDRED = BigInteger.valueOf(100);
          children: []
          pos: 3403
          length: 70
        - type: field_declaration
          fields:
            text: private final BigInteger numerator;
          children: []
          pos: 3505
          length: 35
        - type: field_declaration
          fields:
            text: private final BigInteger denominator;
          children: []
          pos: 3574
          length: 37
        - type: constructor_declaration
          fields:
            text: |-
              public BigFraction(final BigInteger num) {
                      this(num, BigInteger.ONE);
                  }
          children: []
          pos: 3817
          length: 83
        - type: constructor_declaration
          fields:
            text: |-
              public BigFraction(BigInteger num, BigInteger den) {
                      MathUtils.checkNotNull(num, LocalizedFormats.NUMERATOR);
                      MathUtils.checkNotNull(den, LocalizedFormats.DENOMINATOR);
                      if (BigInteger.ZERO.equals(den)) {
                          throw new ZeroException(LocalizedFormats.ZERO_DENOMINATOR);
                      }
                      if (BigInteger.ZERO.equals(num)) {
                          numerator   = BigInteger.ZERO;
                          denominator = BigInteger.ONE;
                      } else {

                          // reduce numerator and denominator by greatest common denominator
                          final BigInteger gcd = num.gcd(den);
                          if (BigInteger.ONE.compareTo(gcd) < 0) {
                              num = num.divide(gcd);
                              den = den.divide(gcd);
                          }

                          // move sign to numerator
                          if (BigInteger.ZERO.compareTo(den) > 0) {
                              num = num.negate();
                              den = den.negate();
                          }

                          // store the values in the final fields
                          numerator   = num;
                          denominator = den;

                      }
                  }
          children: []
          pos: 4332
          length: 1039
        - type: constructor_declaration
          fields:
            text: |-
              public BigFraction(final double value) throws MathIllegalArgumentException {
                      if (Double.isNaN(value)) {
                          throw new MathIllegalArgumentException(LocalizedFormats.NAN_VALUE_CONVERSION);
                      }
                      if (Double.isInfinite(value)) {
                          throw new MathIllegalArgumentException(LocalizedFormats.INFINITE_VALUE_CONVERSION);
                      }

                      // compute m and k such that value = m * 2^k
                      final long bits     = Double.doubleToLongBits(value);
                      final long sign     = bits & 0x8000000000000000L;
                      final long exponent = bits & 0x7ff0000000000000L;
                      long m              = bits & 0x000fffffffffffffL;
                      if (exponent != 0) {
                          // this was a normalized number, add the implicit most significant bit
                          m |= 0x0010000000000000L;
                      }
                      if (sign != 0) {
                          m = -m;
                      }
                      int k = ((int) (exponent >> 52)) - 1075;
                      while (((m & 0x001ffffffffffffeL) != 0) && ((m & 0x1) == 0)) {
                          m = m >> 1;
                          ++k;
                      }

                      if (k < 0) {
                          numerator   = BigInteger.valueOf(m);
                          denominator = BigInteger.ZERO.flipBit(-k);
                      } else {
                          numerator   = BigInteger.valueOf(m).multiply(BigInteger.ZERO.flipBit(k));
                          denominator = BigInteger.ONE;
                      }

                  }
          children: []
          pos: 6453
          length: 1322
        - type: constructor_declaration
          fields:
            text: |-
              public BigFraction(final double value, final double epsilon,
                                     final int maxIterations)
                      throws FractionConversionException {
                      this(value, epsilon, Integer.MAX_VALUE, maxIterations);
                  }
          children: []
          pos: 8560
          length: 223
        - type: constructor_declaration
          fields:
            text: |-
              private BigFraction(final double value, final double epsilon,
                                      final int maxDenominator, int maxIterations)
                      throws FractionConversionException {
                      long overflow = Integer.MAX_VALUE;
                      double r0 = value;
                      long a0 = (long) FastMath.floor(r0);
                      if (a0 > overflow) {
                          throw new FractionConversionException(value, a0, 1l);
                      }

                      // check for (almost) integer arguments, which should not go
                      // to iterations.
                      if (FastMath.abs(a0 - value) < epsilon) {
                          numerator = BigInteger.valueOf(a0);
                          denominator = BigInteger.ONE;
                          return;
                      }

                      long p0 = 1;
                      long q0 = 0;
                      long p1 = a0;
                      long q1 = 1;

                      long p2 = 0;
                      long q2 = 1;

                      int n = 0;
                      boolean stop = false;
                      do {
                          ++n;
                          final double r1 = 1.0 / (r0 - a0);
                          final long a1 = (long) FastMath.floor(r1);
                          p2 = (a1 * p1) + p0;
                          q2 = (a1 * q1) + q0;
                          if ((p2 > overflow) || (q2 > overflow)) {
                              throw new FractionConversionException(value, p2, q2);
                          }

                          final double convergent = (double) p2 / (double) q2;
                          if ((n < maxIterations) &&
                              (FastMath.abs(convergent - value) > epsilon) &&
                              (q2 < maxDenominator)) {
                              p0 = p1;
                              p1 = p2;
                              q0 = q1;
                              q1 = q2;
                              a0 = a1;
                              r0 = r1;
                          } else {
                              stop = true;
                          }
                      } while (!stop);

                      if (n >= maxIterations) {
                          throw new FractionConversionException(value, maxIterations);
                      }

                      if (q2 < maxDenominator) {
                          numerator   = BigInteger.valueOf(p2);
                          denominator = BigInteger.valueOf(q2);
                      } else {
                          numerator   = BigInteger.valueOf(p1);
                          denominator = BigInteger.valueOf(q1);
                      }
                  }
          children: []
          pos: 10263
          length: 2012
        - type: constructor_declaration
          fields:
            text: |-
              public BigFraction(final double value, final int maxDenominator)
                      throws FractionConversionException {
                      this(value, 0, maxDenominator, 100);
                  }
          children: []
          pos: 12861
          length: 160
        - type: constructor_declaration
          fields:
            text: |-
              public BigFraction(final int num) {
                      this(BigInteger.valueOf(num), BigInteger.ONE);
                  }
          children: []
          pos: 13220
          length: 96
        - type: constructor_declaration
          fields:
            text: |-
              public BigFraction(final int num, final int den) {
                      this(BigInteger.valueOf(num), BigInteger.valueOf(den));
                  }
          children: []
          pos: 13627
          length: 120
        - type: constructor_declaration
          fields:
            text: |-
              public BigFraction(final long num) {
                      this(BigInteger.valueOf(num), BigInteger.ONE);
                  }
          children: []
          pos: 13931
          length: 97
        - type: constructor_declaration
          fields:
            text: |-
              public BigFraction(final long num, final long den) {
                      this(BigInteger.valueOf(num), BigInteger.valueOf(den));
                  }
          children: []
          pos: 14340
          length: 122
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getReducedFraction
              children: []
              pos: 15125
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final int numerator
                children: []
                pos: 15144
                length: 19
              pos: 15099
              length: 286
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: numerator
                            children: []
                            pos: 15251
                            length: 9
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '0'
                            children: []
                            pos: 15264
                            length: 1
                        children: []
                        pos: 15251
                        length: 14
                    children: []
                    pos: 15250
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return ZERO;
                    children: []
                    pos: 15281
                    length: 12
                  pos: 15267
                  length: 55
                pos: 15247
                length: 75
              - type: return_statement
                fields:
                  text: return new BigFraction(numerator, denominator);
                children: []
                pos: 15332
                length: 47
              pos: 15237
              length: 148
          children: []
          pos: 15099
          length: 286
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: abs
              children: []
              pos: 15579
              length: 3
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 15560
              length: 110
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: 'return (BigInteger.ZERO.compareTo(numerator) <= 0) ? this
                    : negate();'
                children: []
                pos: 15595
                length: 69
              pos: 15585
              length: 85
          children: []
          pos: 15560
          length: 110
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: add
              children: []
              pos: 16137
              length: 3
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final BigInteger bg
                children: []
                pos: 16141
                length: 19
              pos: 16118
              length: 202
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: MathUtils.checkNotNull(bg);
                children: []
                pos: 16201
                length: 27
              - type: return_statement
                fields:
                  text: return new BigFraction(numerator.add(denominator.multiply(bg)),
                    denominator);
                children: []
                pos: 16237
                length: 77
              pos: 16191
              length: 129
          children: []
          pos: 16118
          length: 202
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: add
              children: []
              pos: 16648
              length: 3
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final int i
                children: []
                pos: 16652
                length: 11
              pos: 16629
              length: 86
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return add(BigInteger.valueOf(i));
                children: []
                pos: 16675
                length: 34
              pos: 16665
              length: 50
          children: []
          pos: 16629
          length: 86
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: add
              children: []
              pos: 17037
              length: 3
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final long l
                children: []
                pos: 17041
                length: 12
              pos: 17018
              length: 87
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return add(BigInteger.valueOf(l));
                children: []
                pos: 17065
                length: 34
              pos: 17055
              length: 50
          children: []
          pos: 17018
          length: 87
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: add
              children: []
              pos: 17530
              length: 3
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final BigFraction fraction
                children: []
                pos: 17534
                length: 26
              pos: 17511
              length: 690
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: fraction
                            children: []
                            pos: 17576
                            length: 8
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 17588
                            length: 4
                        children: []
                        pos: 17576
                        length: 16
                    children: []
                    pos: 17575
                    length: 18
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: throw new NullArgumentException(LocalizedFormats.FRACTION);
                    children: []
                    pos: 17608
                    length: 59
                  pos: 17594
                  length: 83
                pos: 17572
                length: 105
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: ZERO.equals(fraction)
                        children: []
                        pos: 17690
                        length: 21
                    children: []
                    pos: 17689
                    length: 23
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return this;
                    children: []
                    pos: 17727
                    length: 12
                  pos: 17713
                  length: 36
                pos: 17686
                length: 63
              - type: local_variable_declaration
                fields:
                  text: BigInteger num = null;
                children: []
                pos: 17759
                length: 22
              - type: local_variable_declaration
                fields:
                  text: BigInteger den = null;
                children: []
                pos: 17790
                length: 22
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: denominator.equals(fraction.denominator)
                        children: []
                        pos: 17826
                        length: 40
                    children: []
                    pos: 17825
                    length: 42
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: num = numerator.add(fraction.numerator);
                    children: []
                    pos: 17882
                    length: 40
                  - type: expression_statement
                    fields:
                      text: den = denominator;
                    children: []
                    pos: 17935
                    length: 18
                  pos: 17868
                  length: 95
                pos: 17822
                length: 330
              - type: return_statement
                fields:
                  text: return new BigFraction(num, den);
                children: []
                pos: 18161
                length: 33
              pos: 17562
              length: 639
          children: []
          pos: 17511
          length: 690
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: bigDecimalValue
              children: []
              pos: 18626
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 18608
              length: 121
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return new BigDecimal(numerator).divide(new BigDecimal(denominator));
                children: []
                pos: 18654
                length: 69
              pos: 18644
              length: 85
          children: []
          pos: 18608
          length: 121
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: bigDecimalValue
              children: []
              pos: 19302
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final int roundingMode
                children: []
                pos: 19318
                length: 22
              pos: 19284
              length: 157
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return new BigDecimal(numerator).divide(new BigDecimal(denominator),
                    roundingMode);
                children: []
                pos: 19352
                length: 83
              pos: 19342
              length: 99
          children: []
          pos: 19284
          length: 157
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: bigDecimalValue
              children: []
              pos: 20042
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final int scale
                children: []
                pos: 20058
                length: 15
              pos: 20024
              length: 181
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return new BigDecimal(numerator).divide(new BigDecimal(denominator),
                    scale, roundingMode);
                children: []
                pos: 20109
                length: 90
              pos: 20099
              length: 106
          children: []
          pos: 20024
          length: 181
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: compareTo
              children: []
              pos: 20615
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final BigFraction object
                children: []
                pos: 20625
                length: 24
              pos: 20604
              length: 219
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: BigInteger nOd = numerator.multiply(object.denominator);
                children: []
                pos: 20661
                length: 56
              - type: local_variable_declaration
                fields:
                  text: BigInteger dOn = denominator.multiply(object.numerator);
                children: []
                pos: 20726
                length: 56
              - type: return_statement
                fields:
                  text: return nOd.compareTo(dOn);
                children: []
                pos: 20791
                length: 26
              pos: 20651
              length: 172
          children: []
          pos: 20604
          length: 219
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: divide
              children: []
              pos: 21404
              length: 6
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final BigInteger bg
                children: []
                pos: 21411
                length: 19
              pos: 21385
              length: 247
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: BigInteger.ZERO.equals(bg)
                        children: []
                        pos: 21446
                        length: 26
                    children: []
                    pos: 21445
                    length: 28
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: throw new ZeroException(LocalizedFormats.ZERO_DENOMINATOR);
                    children: []
                    pos: 21488
                    length: 59
                  pos: 21474
                  length: 83
                pos: 21442
                length: 115
              - type: return_statement
                fields:
                  text: return new BigFraction(numerator, denominator.multiply(bg));
                children: []
                pos: 21566
                length: 60
              pos: 21432
              length: 200
          children: []
          pos: 21385
          length: 247
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: divide
              children: []
              pos: 22066
              length: 6
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final int i
                children: []
                pos: 22073
                length: 11
              pos: 22047
              length: 92
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return divide(BigInteger.valueOf(i));
                children: []
                pos: 22096
                length: 37
              pos: 22086
              length: 53
          children: []
          pos: 22047
          length: 92
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: divide
              children: []
              pos: 22575
              length: 6
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final long l
                children: []
                pos: 22582
                length: 12
              pos: 22556
              length: 93
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return divide(BigInteger.valueOf(l));
                children: []
                pos: 22606
                length: 37
              pos: 22596
              length: 53
          children: []
          pos: 22556
          length: 93
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: divide
              children: []
              pos: 23108
              length: 6
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final BigFraction fraction
                children: []
                pos: 23115
                length: 26
              pos: 23089
              length: 364
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: fraction
                            children: []
                            pos: 23157
                            length: 8
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 23169
                            length: 4
                        children: []
                        pos: 23157
                        length: 16
                    children: []
                    pos: 23156
                    length: 18
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: throw new NullArgumentException(LocalizedFormats.FRACTION);
                    children: []
                    pos: 23189
                    length: 59
                  pos: 23175
                  length: 83
                pos: 23153
                length: 105
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: BigInteger.ZERO.equals(fraction.numerator)
                        children: []
                        pos: 23271
                        length: 42
                    children: []
                    pos: 23270
                    length: 44
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: throw new ZeroException(LocalizedFormats.ZERO_DENOMINATOR);
                    children: []
                    pos: 23329
                    length: 59
                  pos: 23315
                  length: 83
                pos: 23267
                length: 131
              - type: return_statement
                fields:
                  text: return multiply(fraction.reciprocal());
                children: []
                pos: 23408
                length: 39
              pos: 23143
              length: 310
          children: []
          pos: 23089
          length: 364
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: doubleValue
              children: []
              pos: 23749
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 23721
              length: 284
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: double result = numerator.doubleValue() / denominator.doubleValue();
                children: []
                pos: 23773
                length: 68
              - type: return_statement
                fields:
                  text: return result;
                children: []
                pos: 23985
                length: 14
              pos: 23763
              length: 242
          children: []
          pos: 23721
          length: 284
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: equals
              children: []
              pos: 24652
              length: 6
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final Object other
                children: []
                pos: 24659
                length: 18
              pos: 24623
              length: 445
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: boolean ret = false;
                children: []
                pos: 24689
                length: 20
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: this
                            fields: {}
                            children: []
                            pos: 24723
                            length: 4
                          right:
                            type: identifier
                            fields:
                              text: other
                            children: []
                            pos: 24731
                            length: 5
                        children: []
                        pos: 24723
                        length: 13
                    children: []
                    pos: 24722
                    length: 15
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: ret = true;
                    children: []
                    pos: 24752
                    length: 11
                  pos: 24738
                  length: 35
                pos: 24719
                length: 322
              - type: return_statement
                fields:
                  text: return ret;
                children: []
                pos: 25051
                length: 11
              pos: 24679
              length: 389
          children: []
          pos: 24623
          length: 445
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: floatValue
              children: []
              pos: 25361
              length: 10
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 25334
              length: 279
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: float result = numerator.floatValue() / denominator.floatValue();
                children: []
                pos: 25384
                length: 65
              - type: return_statement
                fields:
                  text: return result;
                children: []
                pos: 25593
                length: 14
              pos: 25374
              length: 239
          children: []
          pos: 25334
          length: 279
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getDenominator
              children: []
              pos: 25804
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 25786
              length: 70
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return denominator;
                children: []
                pos: 25831
                length: 19
              pos: 25821
              length: 35
          children: []
          pos: 25786
          length: 70
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getDenominatorAsInt
              children: []
              pos: 26018
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 26007
              length: 79
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return denominator.intValue();
                children: []
                pos: 26050
                length: 30
              pos: 26040
              length: 46
          children: []
          pos: 26007
          length: 79
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getDenominatorAsLong
              children: []
              pos: 26251
              length: 20
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 26239
              length: 82
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return denominator.longValue();
                children: []
                pos: 26284
                length: 31
              pos: 26274
              length: 47
          children: []
          pos: 26239
          length: 82
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getNumerator
              children: []
              pos: 26508
              length: 12
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 26490
              length: 66
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return numerator;
                children: []
                pos: 26533
                length: 17
              pos: 26523
              length: 33
          children: []
          pos: 26490
          length: 66
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getNumeratorAsInt
              children: []
              pos: 26714
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 26703
              length: 75
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return numerator.intValue();
                children: []
                pos: 26744
                length: 28
              pos: 26734
              length: 44
          children: []
          pos: 26703
          length: 75
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getNumeratorAsLong
              children: []
              pos: 26939
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 26927
              length: 78
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return numerator.longValue();
                children: []
                pos: 26970
                length: 29
              pos: 26960
              length: 45
          children: []
          pos: 26927
          length: 78
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: hashCode
              children: []
              pos: 27213
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 27188
              length: 122
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return 37 * (37 * 17 + numerator.hashCode()) + denominator.hashCode();
                children: []
                pos: 27234
                length: 70
              pos: 27224
              length: 86
          children: []
          pos: 27188
          length: 122
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: intValue
              children: []
              pos: 27578
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 27553
              length: 100
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return numerator.divide(denominator).intValue();
                children: []
                pos: 27599
                length: 48
              pos: 27589
              length: 64
          children: []
          pos: 27553
          length: 100
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: longValue
              children: []
              pos: 27923
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 27897
              length: 103
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return numerator.divide(denominator).longValue();
                children: []
                pos: 27945
                length: 49
              pos: 27935
              length: 65
          children: []
          pos: 27897
          length: 103
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: multiply
              children: []
              pos: 28397
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final BigInteger bg
                children: []
                pos: 28406
                length: 19
              pos: 28378
              length: 208
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: bg
                            children: []
                            pos: 28441
                            length: 2
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 28447
                            length: 4
                        children: []
                        pos: 28441
                        length: 10
                    children: []
                    pos: 28440
                    length: 12
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: throw new NullArgumentException();
                    children: []
                    pos: 28467
                    length: 34
                  pos: 28453
                  length: 58
                pos: 28437
                length: 74
              - type: return_statement
                fields:
                  text: return new BigFraction(bg.multiply(numerator), denominator);
                children: []
                pos: 28520
                length: 60
              pos: 28427
              length: 159
          children: []
          pos: 28378
          length: 208
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: multiply
              children: []
              pos: 28913
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final int i
                children: []
                pos: 28922
                length: 11
              pos: 28894
              length: 96
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return multiply(BigInteger.valueOf(i));
                children: []
                pos: 28945
                length: 39
              pos: 28935
              length: 55
          children: []
          pos: 28894
          length: 96
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: multiply
              children: []
              pos: 29319
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final long l
                children: []
                pos: 29328
                length: 12
              pos: 29300
              length: 97
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return multiply(BigInteger.valueOf(l));
                children: []
                pos: 29352
                length: 39
              pos: 29342
              length: 55
          children: []
          pos: 29300
          length: 97
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: multiply
              children: []
              pos: 29791
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final BigFraction fraction
                children: []
                pos: 29800
                length: 26
              pos: 29772
              length: 466
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: fraction
                            children: []
                            pos: 29842
                            length: 8
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 29854
                            length: 4
                        children: []
                        pos: 29842
                        length: 16
                    children: []
                    pos: 29841
                    length: 18
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: throw new NullArgumentException(LocalizedFormats.FRACTION);
                    children: []
                    pos: 29874
                    length: 59
                  pos: 29860
                  length: 83
                pos: 29838
                length: 105
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: method_invocation
                            fields:
                              text: numerator.equals(BigInteger.ZERO)
                            children: []
                            pos: 29956
                            length: 33
                          right:
                            type: method_invocation
                            fields:
                              text: fraction.numerator.equals(BigInteger.ZERO)
                            children: []
                            pos: 30005
                            length: 42
                        children: []
                        pos: 29956
                        length: 91
                    children: []
                    pos: 29955
                    length: 93
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return ZERO;
                    children: []
                    pos: 30063
                    length: 12
                  pos: 30049
                  length: 36
                pos: 29952
                length: 133
              - type: return_statement
                fields:
                  text: |-
                    return new BigFraction(numerator.multiply(fraction.numerator),
                                                   denominator.multiply(fraction.denominator));
                children: []
                pos: 30094
                length: 138
              pos: 29828
              length: 410
          children: []
          pos: 29772
          length: 466
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: negate
              children: []
              pos: 30453
              length: 6
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 30434
              length: 100
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return new BigFraction(numerator.negate(), denominator);
                children: []
                pos: 30472
                length: 56
              pos: 30462
              length: 72
          children: []
          pos: 30434
          length: 100
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: percentageValue
              children: []
              pos: 30814
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 30800
              length: 91
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return multiply(ONE_HUNDRED).doubleValue();
                children: []
                pos: 30842
                length: 43
              pos: 30832
              length: 59
          children: []
          pos: 30800
          length: 91
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: pow
              children: []
              pos: 31262
              length: 3
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final int exponent
                children: []
                pos: 31266
                length: 18
              pos: 31243
              length: 262
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: less_than
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: exponent
                            children: []
                            pos: 31300
                            length: 8
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '0'
                            children: []
                            pos: 31311
                            length: 1
                        children: []
                        pos: 31300
                        length: 12
                    children: []
                    pos: 31299
                    length: 14
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return new BigFraction(denominator.pow(-exponent), numerator.pow(-exponent));
                    children: []
                    pos: 31328
                    length: 77
                  pos: 31314
                  length: 101
                pos: 31296
                length: 119
              - type: return_statement
                fields:
                  text: return new BigFraction(numerator.pow(exponent), denominator.pow(exponent));
                children: []
                pos: 31424
                length: 75
              pos: 31286
              length: 219
          children: []
          pos: 31243
          length: 262
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: pow
              children: []
              pos: 31899
              length: 3
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final long exponent
                children: []
                pos: 31903
                length: 19
              pos: 31880
              length: 401
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: less_than
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: exponent
                            children: []
                            pos: 31938
                            length: 8
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '0'
                            children: []
                            pos: 31949
                            length: 1
                        children: []
                        pos: 31938
                        length: 12
                    children: []
                    pos: 31937
                    length: 14
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: |-
                        return new BigFraction(ArithmeticUtils.pow(denominator, -exponent),
                                                           ArithmeticUtils.pow(numerator,   -exponent));
                    children: []
                    pos: 31966
                    length: 148
                  pos: 31952
                  length: 172
                pos: 31934
                length: 190
              - type: return_statement
                fields:
                  text: |-
                    return new BigFraction(ArithmeticUtils.pow(numerator,   exponent),
                                                   ArithmeticUtils.pow(denominator, exponent));
                children: []
                pos: 32133
                length: 142
              pos: 31924
              length: 357
          children: []
          pos: 31880
          length: 401
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: pow
              children: []
              pos: 32675
              length: 3
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final BigInteger exponent
                children: []
                pos: 32679
                length: 25
              pos: 32656
              length: 479
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: less_than
                        fields:
                          left:
                            type: method_invocation
                            fields:
                              text: exponent.compareTo(BigInteger.ZERO)
                            children: []
                            pos: 32720
                            length: 35
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '0'
                            children: []
                            pos: 32758
                            length: 1
                        children: []
                        pos: 32720
                        length: 39
                    children: []
                    pos: 32719
                    length: 41
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: final BigInteger eNeg = exponent.negate();
                    children: []
                    pos: 32775
                    length: 42
                  - type: return_statement
                    fields:
                      text: |-
                        return new BigFraction(ArithmeticUtils.pow(denominator, eNeg),
                                                           ArithmeticUtils.pow(numerator,   eNeg));
                    children: []
                    pos: 32830
                    length: 138
                  pos: 32761
                  length: 217
                pos: 32716
                length: 262
              - type: return_statement
                fields:
                  text: |-
                    return new BigFraction(ArithmeticUtils.pow(numerator,   exponent),
                                                   ArithmeticUtils.pow(denominator, exponent));
                children: []
                pos: 32987
                length: 142
              pos: 32706
              length: 429
          children: []
          pos: 32656
          length: 479
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: pow
              children: []
              pos: 33489
              length: 3
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final double exponent
                children: []
                pos: 33493
                length: 21
              pos: 33475
              length: 181
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return FastMath.pow(numerator.doubleValue(),   exponent) /
                                   FastMath.pow(denominator.doubleValue(), exponent);
                children: []
                pos: 33526
                length: 124
              pos: 33516
              length: 140
          children: []
          pos: 33475
          length: 181
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: reciprocal
              children: []
              pos: 33826
              length: 10
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 33807
              length: 95
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return new BigFraction(denominator, numerator);
                children: []
                pos: 33849
                length: 47
              pos: 33839
              length: 63
          children: []
          pos: 33807
          length: 95
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: reduce
              children: []
              pos: 34165
              length: 6
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 34146
              length: 174
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: final BigInteger gcd = numerator.gcd(denominator);
                children: []
                pos: 34184
                length: 50
              - type: return_statement
                fields:
                  text: return new BigFraction(numerator.divide(gcd), denominator.divide(gcd));
                children: []
                pos: 34243
                length: 71
              pos: 34174
              length: 146
          children: []
          pos: 34146
          length: 174
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: subtract
              children: []
              pos: 34762
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final BigInteger bg
                children: []
                pos: 34771
                length: 19
              pos: 34743
              length: 230
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: bg
                            children: []
                            pos: 34806
                            length: 2
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 34812
                            length: 4
                        children: []
                        pos: 34806
                        length: 10
                    children: []
                    pos: 34805
                    length: 12
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: throw new NullArgumentException();
                    children: []
                    pos: 34832
                    length: 34
                  pos: 34818
                  length: 58
                pos: 34802
                length: 74
              - type: return_statement
                fields:
                  text: return new BigFraction(numerator.subtract(denominator.multiply(bg)),
                    denominator);
                children: []
                pos: 34885
                length: 82
              pos: 34792
              length: 181
          children: []
          pos: 34743
          length: 230
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: subtract
              children: []
              pos: 35304
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final int i
                children: []
                pos: 35313
                length: 11
              pos: 35285
              length: 96
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return subtract(BigInteger.valueOf(i));
                children: []
                pos: 35336
                length: 39
              pos: 35326
              length: 55
          children: []
          pos: 35285
          length: 96
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: subtract
              children: []
              pos: 35705
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final long l
                children: []
                pos: 35714
                length: 12
              pos: 35686
              length: 97
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return subtract(BigInteger.valueOf(l));
                children: []
                pos: 35738
                length: 39
              pos: 35728
              length: 55
          children: []
          pos: 35686
          length: 97
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: subtract
              children: []
              pos: 36206
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final BigFraction fraction
                children: []
                pos: 36215
                length: 26
              pos: 36187
              length: 704
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: fraction
                            children: []
                            pos: 36257
                            length: 8
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 36269
                            length: 4
                        children: []
                        pos: 36257
                        length: 16
                    children: []
                    pos: 36256
                    length: 18
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: throw new NullArgumentException(LocalizedFormats.FRACTION);
                    children: []
                    pos: 36289
                    length: 59
                  pos: 36275
                  length: 83
                pos: 36253
                length: 105
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: ZERO.equals(fraction)
                        children: []
                        pos: 36371
                        length: 21
                    children: []
                    pos: 36370
                    length: 23
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return this;
                    children: []
                    pos: 36408
                    length: 12
                  pos: 36394
                  length: 36
                pos: 36367
                length: 63
              - type: local_variable_declaration
                fields:
                  text: BigInteger num = null;
                children: []
                pos: 36440
                length: 22
              - type: local_variable_declaration
                fields:
                  text: BigInteger den = null;
                children: []
                pos: 36471
                length: 22
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: denominator.equals(fraction.denominator)
                        children: []
                        pos: 36506
                        length: 40
                    children: []
                    pos: 36505
                    length: 42
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: num = numerator.subtract(fraction.numerator);
                    children: []
                    pos: 36562
                    length: 45
                  - type: expression_statement
                    fields:
                      text: den = denominator;
                    children: []
                    pos: 36620
                    length: 18
                  pos: 36548
                  length: 100
                pos: 36502
                length: 340
              - type: return_statement
                fields:
                  text: return new BigFraction(num, den);
                children: []
                pos: 36851
                length: 33
              pos: 36243
              length: 648
          children: []
          pos: 36187
          length: 704
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: toString
              children: []
              pos: 37197
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 37169
              length: 340
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: String str = null;
                children: []
                pos: 37218
                length: 18
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: BigInteger.ONE.equals(denominator)
                        children: []
                        pos: 37249
                        length: 34
                    children: []
                    pos: 37248
                    length: 36
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: str = numerator.toString();
                    children: []
                    pos: 37299
                    length: 27
                  pos: 37285
                  length: 51
                pos: 37245
                length: 238
              - type: return_statement
                fields:
                  text: return str;
                children: []
                pos: 37492
                length: 11
              pos: 37208
              length: 301
          children: []
          pos: 37169
          length: 340
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getField
              children: []
              pos: 37564
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 37540
              length: 89
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return BigFractionField.getInstance();
                children: []
                pos: 37585
                length: 38
              pos: 37575
              length: 54
          children: []
          pos: 37540
          length: 89
        pos: 1512
        length: 36120
    children: []
    pos: 1512
    length: 36120
  pos: 0
  length: 37633
text_diff: "--- before\n+++ after\n@@ -683,14 +683,8 @@\n     @Override\n     public
  double doubleValue() {\n         double result = numerator.doubleValue() / denominator.doubleValue();\n-
  \       if (Double.isNaN(result)) {\n             // Numerator and/or denominator
  must be out of range:\n             // Calculate how far to shift them to put them
  in range.\n-            int shift = Math.max(numerator.bitLength(),\n-                                 denominator.bitLength())
  - Double.MAX_EXPONENT;\n-            result = numerator.shiftRight(shift).doubleValue()
  /\n-                denominator.shiftRight(shift).doubleValue();\n-        }\n         return
  result;\n     }\n \n@@ -736,14 +730,8 @@\n     @Override\n     public float floatValue()
  {\n         float result = numerator.floatValue() / denominator.floatValue();\n-
  \       if (Double.isNaN(result)) {\n             // Numerator and/or denominator
  must be out of range:\n             // Calculate how far to shift them to put them
  in range.\n-            int shift = Math.max(numerator.bitLength(),\n-                                 denominator.bitLength())
  - Float.MAX_EXPONENT;\n-            result = numerator.shiftRight(shift).floatValue()
  /\n-                denominator.shiftRight(shift).floatValue();\n-        }\n         return
  result;\n     }\n \n"
tree_diff: |+
  New cluster:
  Unknown cluster type
  ------------
  ===
  insert-tree
  ---
  method_declaration [23721,24005]
      identifier: doubleValue [23749,23760]
      method_parameters [23721,24005]
      block [23763,24005]
          local_variable_declaration: double result = numerator.doubleValue() / denominator.doubleValue(); [23773,23841]
          return_statement: return result; [23985,23999]
  to
  class_body [1512,38247]
  at 42

  New cluster:
  Unknown cluster type
  ------------
  ===
  insert-tree
  ---
  method_declaration [25334,25613]
      identifier: floatValue [25361,25371]
      method_parameters [25334,25613]
      block [25374,25613]
          local_variable_declaration: float result = numerator.floatValue() / denominator.floatValue(); [25384,25449]
          return_statement: return result; [25593,25607]
  to
  class_body [1512,38247]
  at 45

  New cluster:
  Unknown cluster type
  ------------
  ===
  delete-tree
  ---
  method_declaration [23721,24314]
      identifier: doubleValue [23749,23760]
      method_parameters [23721,24314]
      block [23763,24314]
          local_variable_declaration: double result = numerator.doubleValue() / denominator.doubleValue(); [23773,23841]
          if_statement [23850,24285]
              parenthesized_expression [23853,23875]
                  method_invocation: Double.isNaN(result) [23854,23874]
              block [23876,24285]
                  local_variable_declaration: int shift = Math.max(numerator.bitLength(),
                                   denominator.bitLength()) - Double.MAX_EXPONENT; [24025,24149]
                  expression_statement: result = numerator.shiftRight(shift).doubleValue() /
                  denominator.shiftRight(shift).doubleValue(); [24162,24275]
          return_statement: return result; [24294,24308]

  New cluster:
  Unknown cluster type
  ------------
  ===
  delete-tree
  ---
  method_declaration [25643,26228]
      identifier: floatValue [25670,25680]
      method_parameters [25643,26228]
      block [25683,26228]
          local_variable_declaration: float result = numerator.floatValue() / denominator.floatValue(); [25693,25758]
          if_statement [25767,26199]
              parenthesized_expression [25770,25792]
                  method_invocation: Double.isNaN(result) [25771,25791]
              block [25793,26199]
                  local_variable_declaration: int shift = Math.max(numerator.bitLength(),
                                   denominator.bitLength()) - Float.MAX_EXPONENT; [25942,26065]
                  expression_statement: result = numerator.shiftRight(shift).floatValue() /
                  denominator.shiftRight(shift).floatValue(); [26078,26189]
          return_statement: return result; [26208,26222]

...
