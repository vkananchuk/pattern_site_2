---
language: java
before_tree:
  type: program
  fields: {}
  children:
  - type: class_declaration
    fields:
      name:
        type: identifier
        fields:
          text: ProcessClosurePrimitives
        children: []
        pos: 1404
        length: 24
      body:
        type: class_body
        fields: {}
        children:
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType NULL_ARGUMENT_ERROR = DiagnosticType.error(
                    "JSC_NULL_ARGUMENT_ERROR",
                    "method \"{0}\" called without an argument");
          children: []
          pos: 1503
          length: 156
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType EXPECTED_OBJECTLIT_ERROR = DiagnosticType.error(
                    "JSC_EXPECTED_OBJECTLIT_ERROR",
                    "method \"{0}\" expected an object literal argument");
          children: []
          pos: 1663
          length: 175
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType EXPECTED_STRING_ERROR = DiagnosticType.error(
                    "JSC_EXPECTED_STRING_ERROR",
                    "method \"{0}\" expected an object string argument");
          children: []
          pos: 1842
          length: 168
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType INVALID_ARGUMENT_ERROR = DiagnosticType.error(
                    "JSC_INVALID_ARGUMENT_ERROR",
                    "method \"{0}\" called with invalid argument");
          children: []
          pos: 2014
          length: 164
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType INVALID_STYLE_ERROR = DiagnosticType.error(
                    "JSC_INVALID_CSS_NAME_MAP_STYLE_ERROR",
                    "Invalid CSS name map style {0}");
          children: []
          pos: 2182
          length: 158
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType TOO_MANY_ARGUMENTS_ERROR = DiagnosticType.error(
                    "JSC_TOO_MANY_ARGUMENTS_ERROR",
                    "method \"{0}\" called with more than one argument");
          children: []
          pos: 2344
          length: 174
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType DUPLICATE_NAMESPACE_ERROR = DiagnosticType.error(
                    "JSC_DUPLICATE_NAMESPACE_ERROR",
                    "namespace \"{0}\" cannot be provided twice");
          children: []
          pos: 2522
          length: 169
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType FUNCTION_NAMESPACE_ERROR = DiagnosticType.error(
                    "JSC_FUNCTION_NAMESPACE_ERROR",
                    "\"{0}\" cannot be both provided and declared as a function");
          children: []
          pos: 2695
          length: 183
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType MISSING_PROVIDE_ERROR = DiagnosticType.error(
                    "JSC_MISSING_PROVIDE_ERROR",
                    "required \"{0}\" namespace never provided");
          children: []
          pos: 2882
          length: 160
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType LATE_PROVIDE_ERROR = DiagnosticType.error(
                    "JSC_LATE_PROVIDE_ERROR",
                    "required \"{0}\" namespace not provided yet");
          children: []
          pos: 3046
          length: 156
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType INVALID_PROVIDE_ERROR = DiagnosticType.error(
                    "JSC_INVALID_PROVIDE_ERROR",
                    "\"{0}\" is not a valid JS identifier name");
          children: []
          pos: 3206
          length: 160
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType INVALID_DEFINE_NAME_ERROR = DiagnosticType.error(
                    "JSC_INVALID_DEFINE_NAME_ERROR",
                    "\"{0}\" is not a valid JS identifier name");
          children: []
          pos: 3370
          length: 168
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType MISSING_DEFINE_ANNOTATION = DiagnosticType.error(
                    "JSC_INVALID_MISSING_DEFINE_ANNOTATION",
                    "Missing @define annotation");
          children: []
          pos: 3542
          length: 161
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType XMODULE_REQUIRE_ERROR = DiagnosticType.warning(
                    "JSC_XMODULE_REQUIRE_ERROR",
                    "namespace \"{0}\" provided in module {1} " +
                    "but required in module {2}");
          children: []
          pos: 3707
          length: 199
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType NON_STRING_PASSED_TO_SET_CSS_NAME_MAPPING_ERROR =
                    DiagnosticType.error(
                        "JSC_NON_STRING_PASSED_TO_SET_CSS_NAME_MAPPING_ERROR",
                    "goog.setCssNameMapping only takes an object literal with string values");
          children: []
          pos: 3910
          length: 251
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType INVALID_CSS_RENAMING_MAP = DiagnosticType.warning(
                    "INVALID_CSS_RENAMING_MAP",
                    "Invalid entries in css renaming map: {0}");
          children: []
          pos: 4165
          length: 163
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType BASE_CLASS_ERROR = DiagnosticType.error(
                    "JSC_BASE_CLASS_ERROR",
                    "incorrect use of goog.base: {0}");
          children: []
          pos: 4332
          length: 140
        - type: field_declaration
          fields:
            text: static final String GOOG = "goog";
          children: []
          pos: 4512
          length: 34
        - type: field_declaration
          fields:
            text: private final AbstractCompiler compiler;
          children: []
          pos: 4550
          length: 40
        - type: field_declaration
          fields:
            text: private final JSModuleGraph moduleGraph;
          children: []
          pos: 4593
          length: 40
        - type: field_declaration
          fields:
            text: |-
              private final Map<String, ProvidedName> providedNames =
                    Maps.newLinkedHashMap();
          children: []
          pos: 4704
          length: 86
        - type: field_declaration
          fields:
            text: |-
              private final List<UnrecognizedRequire> unrecognizedRequires =
                    Lists.newArrayList();
          children: []
          pos: 4794
          length: 90
        - type: field_declaration
          fields:
            text: private final Set<String> exportedVariables = Sets.newHashSet();
          children: []
          pos: 4887
          length: 64
        - type: field_declaration
          fields:
            text: private final CheckLevel requiresLevel;
          children: []
          pos: 4954
          length: 39
        - type: field_declaration
          fields:
            text: private final PreprocessorSymbolTable preprocessorSymbolTable;
          children: []
          pos: 4996
          length: 62
        - type: field_declaration
          fields:
            text: private final List<Node> defineCalls = Lists.newArrayList();
          children: []
          pos: 5061
          length: 60
        - type: constructor_declaration
          fields:
            text: |-
              ProcessClosurePrimitives(AbstractCompiler compiler,
                    @Nullable PreprocessorSymbolTable preprocessorSymbolTable,
                    CheckLevel requiresLevel) {
                  this.compiler = compiler;
                  this.preprocessorSymbolTable = preprocessorSymbolTable;
                  this.moduleGraph = compiler.getModuleGraph();
                  this.requiresLevel = requiresLevel;

                  // goog is special-cased because it is provided in Closure's base library.
                  providedNames.put(GOOG,
                      new ProvidedName(GOOG, null, null, false /* implicit */));
                }
          children: []
          pos: 5125
          length: 509
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getExportedVariableNames
              children: []
              pos: 5650
              length: 24
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 5638
              length: 74
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return exportedVariables;
                children: []
                pos: 5683
                length: 25
              pos: 5677
              length: 35
          children: []
          pos: 5638
          length: 74
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: process
              children: []
              pos: 5740
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Node externs
                children: []
                pos: 5748
                length: 12
              pos: 5716
              length: 837
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: new NodeTraversal(compiler, this).traverse(root);
                children: []
                pos: 5779
                length: 49
              - type: enhanced_for_statement
                fields:
                  text: |-
                    for (Node n : defineCalls) {
                          replaceGoogDefines(n);
                        }
                children: []
                pos: 5834
                length: 63
              - type: enhanced_for_statement
                fields:
                  text: |-
                    for (ProvidedName pn : providedNames.values()) {
                          pn.replace();
                        }
                children: []
                pos: 5903
                length: 74
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: requiresLevel.isOn()
                        children: []
                        pos: 5987
                        length: 20
                    children: []
                    pos: 5986
                    length: 22
                children:
                - type: block
                  fields: {}
                  children:
                  - type: enhanced_for_statement
                    fields:
                      text: |-
                        for (UnrecognizedRequire r : unrecognizedRequires) {
                                DiagnosticType error;
                                ProvidedName expectedName = providedNames.get(r.namespace);
                                if (expectedName != null && expectedName.firstNode != null) {
                                  // The namespace ended up getting provided after it was required.
                                  error = LATE_PROVIDE_ERROR;
                                } else {
                                  error = MISSING_PROVIDE_ERROR;
                                }

                                compiler.report(JSError.make(
                                    r.inputName, r.requireNode, requiresLevel, error, r.namespace));
                              }
                    children: []
                    pos: 6017
                    length: 526
                  pos: 6009
                  length: 540
                pos: 5983
                length: 566
              pos: 5773
              length: 780
          children: []
          pos: 5716
          length: 837
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: replaceGoogDefines
              children: []
              pos: 6596
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Node n
                children: []
                pos: 6615
                length: 6
              pos: 6583
              length: 524
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: Node parent = n.getParent();
                children: []
                pos: 6629
                length: 28
              - type: expression_statement
                fields:
                  text: Preconditions.checkState(parent.isExprResult());
                children: []
                pos: 6662
                length: 48
              - type: local_variable_declaration
                fields:
                  text: String name = n.getChildAtIndex(1).getString();
                children: []
                pos: 6715
                length: 47
              - type: local_variable_declaration
                fields:
                  text: Node value = n.getChildAtIndex(2).detachFromParent();
                children: []
                pos: 6767
                length: 53
              - type: local_variable_declaration
                fields:
                  text: |-
                    Node replacement = NodeUtil.newQualifiedNameNodeDeclaration(
                            compiler.getCodingConvention(), name, value, n.getJSDocInfo());
                children: []
                pos: 6826
                length: 132
              - type: expression_statement
                fields:
                  text: replacement.useSourceInfoIfMissingFromForTree(n);
                children: []
                pos: 6963
                length: 49
              - type: expression_statement
                fields:
                  text: parent.getParent().replaceChild(parent, replacement);
                children: []
                pos: 7017
                length: 53
              - type: expression_statement
                fields:
                  text: compiler.reportCodeChange();
                children: []
                pos: 7075
                length: 28
              pos: 6623
              length: 484
          children: []
          pos: 6583
          length: 524
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: hotSwapScript
              children: []
              pos: 7135
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Node scriptRoot
                children: []
                pos: 7149
                length: 15
              pos: 7111
              length: 234
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: this.compiler.process(this);
                children: []
                pos: 7313
                length: 28
              pos: 7185
              length: 160
          children: []
          pos: 7111
          length: 234
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: visit
              children: []
              pos: 7373
              length: 5
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: NodeTraversal t
                children: []
                pos: 7379
                length: 15
              pos: 7349
              length: 3474
            body:
              type: block
              fields: {}
              children:
              - type: switch_expression
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: n.getType()
                        children: []
                        pos: 7431
                        length: 11
                    children: []
                    pos: 7430
                    length: 13
                  body:
                    type: switch_block
                    fields:
                      text: |-
                        {
                              case Token.CALL:
                                boolean isExpr = parent.isExprResult();
                                Node left = n.getFirstChild();
                                if (left.isGetProp()) {
                                  Node name = left.getFirstChild();
                                  if (name.isName() &&
                                      GOOG.equals(name.getString())) {
                                    // For the sake of simplicity, we report code changes
                                    // when we see a provides/requires, and don't worry about
                                    // reporting the change when we actually do the replacement.
                                    String methodName = name.getNext().getString();
                                    if ("base".equals(methodName)) {
                                      processBaseClassCall(t, n);
                                    } else if (!isExpr) {
                                      // All other methods must be called in an EXPR.
                                      break;
                                    } else if ("define".equals(methodName)) {
                                      processDefineCall(t, n, parent);
                                    } else if ("require".equals(methodName)) {
                                      processRequireCall(t, n, parent);
                                    } else if ("provide".equals(methodName)) {
                                      processProvideCall(t, n, parent);
                                    } else if ("exportSymbol".equals(methodName)) {
                                      Node arg = left.getNext();
                                      if (arg.isString()) {
                                        int dot = arg.getString().indexOf('.');
                                        if (dot == -1) {
                                          exportedVariables.add(arg.getString());
                                        } else {
                                          exportedVariables.add(arg.getString().substring(0, dot));
                                        }
                                      }
                                    } else if ("addDependency".equals(methodName)) {
                                      CodingConvention convention = compiler.getCodingConvention();
                                      List<String> typeDecls =
                                          convention.identifyTypeDeclarationCall(n);
                                      if (typeDecls != null) {
                                        for (String typeDecl : typeDecls) {
                                          compiler.getTypeRegistry().forwardDeclareType(typeDecl);
                                        }
                                      }

                                      // We can't modify parent, so just create a node that will
                                      // get compiled out.
                                      parent.replaceChild(n, IR.number(0));
                                      compiler.reportCodeChange();
                                    } else if ("setCssNameMapping".equals(methodName)) {
                                      processSetCssNameMapping(t, n, parent);
                                    }
                                  }
                                }
                                break;

                              case Token.ASSIGN:
                              case Token.NAME:
                                // If this is an assignment to a provided name, remove the provided
                                // object.
                                handleCandidateProvideDefinition(t, n, parent);
                                break;

                              case Token.EXPR_RESULT:
                                handleTypedefDefinition(t, n);
                                break;

                              case Token.FUNCTION:
                                // If this is a declaration of a provided named function, this is an
                                // error. Hoisted functions will explode if they're provided.
                                if (t.inGlobalScope() &&
                                    !NodeUtil.isFunctionExpression(n)) {
                                  String name = n.getFirstChild().getString();
                                  ProvidedName pn = providedNames.get(name);
                                  if (pn != null) {
                                    compiler.report(t.makeError(n, FUNCTION_NAMESPACE_ERROR, name));
                                  }
                                }
                                break;

                              case Token.GETPROP:
                                if (n.getFirstChild().isName() &&
                                    !parent.isCall() &&
                                    !parent.isAssign() &&
                                    "goog.base".equals(n.getQualifiedName())) {
                                  reportBadBaseClassUse(t, n, "May only be called directly.");
                                }
                                break;
                            }
                    children: []
                    pos: 7444
                    length: 3375
                children: []
                pos: 7423
                length: 3396
              pos: 7417
              length: 3406
          children: []
          pos: 7349
          length: 3474
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: processRequireCall
              children: []
              pos: 10886
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: NodeTraversal t
                children: []
                pos: 10905
                length: 15
              pos: 10873
              length: 1546
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: Node left = n.getFirstChild();
                children: []
                pos: 10949
                length: 30
              - type: local_variable_declaration
                fields:
                  text: Node arg = left.getNext();
                children: []
                pos: 10984
                length: 26
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: verifyLastArgumentIsString(t, left, arg)
                        children: []
                        pos: 11019
                        length: 40
                    children: []
                    pos: 11018
                    length: 42
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: String ns = arg.getString();
                    children: []
                    pos: 11069
                    length: 28
                  - type: local_variable_declaration
                    fields:
                      text: ProvidedName provided = providedNames.get(ns);
                    children: []
                    pos: 11104
                    length: 46
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: or
                            fields:
                              left:
                                type: equals
                                fields:
                                  left:
                                    type: identifier
                                    fields:
                                      text: provided
                                    children: []
                                    pos: 11161
                                    length: 8
                                  right:
                                    type: null_literal
                                    fields: {}
                                    children: []
                                    pos: 11173
                                    length: 4
                                children: []
                                pos: 11161
                                length: 16
                              right:
                                type: unary_expression
                                fields:
                                  text: "!provided.isExplicitlyProvided()"
                                children: []
                                pos: 11181
                                length: 32
                            children: []
                            pos: 11161
                            length: 52
                        children: []
                        pos: 11160
                        length: 54
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: |-
                            unrecognizedRequires.add(
                                        new UnrecognizedRequire(n, ns, t.getSourceName()));
                        children: []
                        pos: 11225
                        length: 89
                      pos: 11215
                      length: 107
                    pos: 11157
                    length: 719
                  - type: expression_statement
                    fields:
                      text: maybeAddToSymbolTable(left);
                    children: []
                    pos: 11884
                    length: 28
                  - type: expression_statement
                    fields:
                      text: maybeAddStringNodeToSymbolTable(arg);
                    children: []
                    pos: 11919
                    length: 37
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: or
                            fields:
                              left:
                                type: not_equals
                                fields:
                                  left:
                                    type: identifier
                                    fields:
                                      text: provided
                                    children: []
                                    pos: 12286
                                    length: 8
                                  right:
                                    type: null_literal
                                    fields: {}
                                    children: []
                                    pos: 12298
                                    length: 4
                                children: []
                                pos: 12286
                                length: 16
                              right:
                                type: method_invocation
                                fields:
                                  text: requiresLevel.isOn()
                                children: []
                                pos: 12306
                                length: 20
                            children: []
                            pos: 12286
                            length: 40
                        children: []
                        pos: 12285
                        length: 42
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: parent.detachFromParent();
                        children: []
                        pos: 12338
                        length: 26
                      - type: expression_statement
                        fields:
                          text: compiler.reportCodeChange();
                        children: []
                        pos: 12373
                        length: 28
                      pos: 12328
                      length: 81
                    pos: 12282
                    length: 127
                  pos: 11061
                  length: 1354
                pos: 11015
                length: 1400
              pos: 10943
              length: 1476
          children: []
          pos: 10873
          length: 1546
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: processProvideCall
              children: []
              pos: 12482
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: NodeTraversal t
                children: []
                pos: 12501
                length: 15
              pos: 12469
              length: 836
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: Node left = n.getFirstChild();
                children: []
                pos: 12545
                length: 30
              - type: local_variable_declaration
                fields:
                  text: Node arg = left.getNext();
                children: []
                pos: 12580
                length: 26
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: verifyProvide(t, left, arg)
                        children: []
                        pos: 12615
                        length: 27
                    children: []
                    pos: 12614
                    length: 29
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: String ns = arg.getString();
                    children: []
                    pos: 12652
                    length: 28
                  - type: expression_statement
                    fields:
                      text: maybeAddToSymbolTable(left);
                    children: []
                    pos: 12688
                    length: 28
                  - type: expression_statement
                    fields:
                      text: maybeAddStringNodeToSymbolTable(arg);
                    children: []
                    pos: 12723
                    length: 37
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: method_invocation
                            fields:
                              text: providedNames.containsKey(ns)
                            children: []
                            pos: 12772
                            length: 29
                        children: []
                        pos: 12771
                        length: 31
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: local_variable_declaration
                        fields:
                          text: ProvidedName previouslyProvided = providedNames.get(ns);
                        children: []
                        pos: 12813
                        length: 56
                      - type: if_statement
                        fields:
                          condition:
                            type: parenthesized_expression
                            fields:
                              expression:
                                type: unary_expression
                                fields:
                                  text: "!previouslyProvided.isExplicitlyProvided()"
                                children: []
                                pos: 12882
                                length: 42
                            children: []
                            pos: 12881
                            length: 44
                        children:
                        - type: block
                          fields: {}
                          children:
                          - type: expression_statement
                            fields:
                              text: previouslyProvided.addProvide(parent, t.getModule(),
                                true);
                            children: []
                            pos: 12938
                            length: 59
                          pos: 12926
                          length: 81
                        pos: 12878
                        length: 235
                      pos: 12803
                      length: 318
                    pos: 12768
                    length: 527
                  pos: 12644
                  length: 657
                pos: 12611
                length: 690
              pos: 12539
              length: 766
          children: []
          pos: 12469
          length: 836
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: processDefineCall
              children: []
              pos: 13369
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: NodeTraversal t
                children: []
                pos: 13387
                length: 15
              pos: 13356
              length: 412
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: Node left = n.getFirstChild();
                children: []
                pos: 13431
                length: 30
              - type: local_variable_declaration
                fields:
                  text: Node args = left.getNext();
                children: []
                pos: 13466
                length: 27
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: verifyDefine(t, parent, left, args)
                        children: []
                        pos: 13502
                        length: 35
                    children: []
                    pos: 13501
                    length: 37
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: Node nameNode = args;
                    children: []
                    pos: 13547
                    length: 21
                  - type: local_variable_declaration
                    fields:
                      text: String name = args.getString();
                    children: []
                    pos: 13575
                    length: 31
                  - type: local_variable_declaration
                    fields:
                      text: Node value = args.getNext();
                    children: []
                    pos: 13613
                    length: 28
                  - type: expression_statement
                    fields:
                      text: maybeAddToSymbolTable(left);
                    children: []
                    pos: 13649
                    length: 28
                  - type: expression_statement
                    fields:
                      text: maybeAddStringNodeToSymbolTable(nameNode);
                    children: []
                    pos: 13684
                    length: 42
                  - type: expression_statement
                    fields:
                      text: this.defineCalls.add(n);
                    children: []
                    pos: 13734
                    length: 24
                  pos: 13539
                  length: 225
                pos: 13498
                length: 266
              pos: 13425
              length: 343
          children: []
          pos: 13356
          length: 412
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: handleTypedefDefinition
              children: []
              pos: 13889
              length: 23
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: NodeTraversal t
                children: []
                pos: 13920
                length: 15
              pos: 13876
              length: 430
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: JSDocInfo info = n.getFirstChild().getJSDocInfo();
                children: []
                pos: 13951
                length: 50
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: and
                        fields:
                          left:
                            type: and
                            fields:
                              left:
                                type: method_invocation
                                fields:
                                  text: t.inGlobalScope()
                                children: []
                                pos: 14010
                                length: 17
                              right:
                                type: not_equals
                                fields:
                                  left:
                                    type: identifier
                                    fields:
                                      text: info
                                    children: []
                                    pos: 14031
                                    length: 4
                                  right:
                                    type: null_literal
                                    fields: {}
                                    children: []
                                    pos: 14039
                                    length: 4
                                children: []
                                pos: 14031
                                length: 12
                            children: []
                            pos: 14010
                            length: 33
                          right:
                            type: method_invocation
                            fields:
                              text: info.hasTypedefType()
                            children: []
                            pos: 14047
                            length: 21
                        children: []
                        pos: 14010
                        length: 58
                    children: []
                    pos: 14009
                    length: 60
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: String name = n.getFirstChild().getQualifiedName();
                    children: []
                    pos: 14078
                    length: 51
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: not_equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: name
                                children: []
                                pos: 14140
                                length: 4
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 14148
                                length: 4
                            children: []
                            pos: 14140
                            length: 12
                        children: []
                        pos: 14139
                        length: 14
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: local_variable_declaration
                        fields:
                          text: ProvidedName pn = providedNames.get(name);
                        children: []
                        pos: 14164
                        length: 42
                      - type: if_statement
                        fields:
                          condition:
                            type: parenthesized_expression
                            fields:
                              expression:
                                type: not_equals
                                fields:
                                  left:
                                    type: identifier
                                    fields:
                                      text: pn
                                    children: []
                                    pos: 14219
                                    length: 2
                                  right:
                                    type: null_literal
                                    fields: {}
                                    children: []
                                    pos: 14225
                                    length: 4
                                children: []
                                pos: 14219
                                length: 10
                            children: []
                            pos: 14218
                            length: 12
                        children:
                        - type: block
                          fields: {}
                          children:
                          - type: expression_statement
                            fields:
                              text: pn.addDefinition(n, t.getModule());
                            children: []
                            pos: 14243
                            length: 35
                          pos: 14231
                          length: 57
                        pos: 14215
                        length: 73
                      pos: 14154
                      length: 142
                    pos: 14136
                    length: 160
                  pos: 14070
                  length: 232
                pos: 14006
                length: 296
              pos: 13945
              length: 361
          children: []
          pos: 13876
          length: 430
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: handleCandidateProvideDefinition
              children: []
              pos: 14397
              length: 32
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: NodeTraversal t
                children: []
                pos: 14437
                length: 15
              pos: 14384
              length: 681
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: t.inGlobalScope()
                        children: []
                        pos: 14485
                        length: 17
                    children: []
                    pos: 14484
                    length: 19
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: String name = null;
                    children: []
                    pos: 14512
                    length: 19
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: and
                            fields:
                              left:
                                type: method_invocation
                                fields:
                                  text: n.isName()
                                children: []
                                pos: 14542
                                length: 10
                              right:
                                type: method_invocation
                                fields:
                                  text: parent.isVar()
                                children: []
                                pos: 14556
                                length: 14
                            children: []
                            pos: 14542
                            length: 28
                        children: []
                        pos: 14541
                        length: 30
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: name = n.getString();
                        children: []
                        pos: 14582
                        length: 21
                      pos: 14572
                      length: 39
                    pos: 14538
                    length: 194
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: not_equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: name
                                children: []
                                pos: 14744
                                length: 4
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 14752
                                length: 4
                            children: []
                            pos: 14744
                            length: 12
                        children: []
                        pos: 14743
                        length: 14
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: if_statement
                        fields:
                          condition:
                            type: parenthesized_expression
                            fields:
                              expression:
                                type: method_invocation
                                fields:
                                  text: parent.getBooleanProp(Node.IS_NAMESPACE)
                                children: []
                                pos: 14772
                                length: 40
                            children: []
                            pos: 14771
                            length: 42
                        children:
                        - type: block
                          fields: {}
                          children:
                          - type: expression_statement
                            fields:
                              text: processProvideFromPreviousPass(t, name, parent);
                            children: []
                            pos: 14826
                            length: 48
                          pos: 14814
                          length: 70
                        pos: 14768
                        length: 279
                      pos: 14758
                      length: 297
                    pos: 14740
                    length: 315
                  pos: 14504
                  length: 557
                pos: 14481
                length: 580
              pos: 14475
              length: 590
          children: []
          pos: 14384
          length: 681
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: processBaseClassCall
              children: []
              pos: 15130
              length: 20
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: NodeTraversal t
                children: []
                pos: 15151
                length: 15
              pos: 15117
              length: 3611
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: Node callee = n.getFirstChild();
                children: []
                pos: 16047
                length: 32
              - type: local_variable_declaration
                fields:
                  text: Node thisArg = callee.getNext();
                children: []
                pos: 16084
                length: 32
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: thisArg
                                children: []
                                pos: 16125
                                length: 7
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 16136
                                length: 4
                            children: []
                            pos: 16125
                            length: 15
                          right:
                            type: unary_expression
                            fields:
                              text: "!thisArg.isThis()"
                            children: []
                            pos: 16144
                            length: 17
                        children: []
                        pos: 16125
                        length: 36
                    children: []
                    pos: 16124
                    length: 38
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: reportBadBaseClassUse(t, n, "First argument must be 'this'.");
                    children: []
                    pos: 16171
                    length: 62
                  - type: return_statement
                    fields:
                      text: return;
                    children: []
                    pos: 16240
                    length: 7
                  pos: 16163
                  length: 90
                pos: 16121
                length: 132
              - type: local_variable_declaration
                fields:
                  text: Node enclosingFnNameNode = getEnclosingDeclNameNode(t);
                children: []
                pos: 16259
                length: 55
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: enclosingFnNameNode
                            children: []
                            pos: 16323
                            length: 19
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 16346
                            length: 4
                        children: []
                        pos: 16323
                        length: 27
                    children: []
                    pos: 16322
                    length: 29
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: reportBadBaseClassUse(t, n, "Could not find enclosing
                        method.");
                    children: []
                    pos: 16360
                    length: 64
                  - type: return_statement
                    fields:
                      text: return;
                    children: []
                    pos: 16431
                    length: 7
                  pos: 16352
                  length: 92
                pos: 16319
                length: 125
              - type: local_variable_declaration
                fields:
                  text: String enclosingQname = enclosingFnNameNode.getQualifiedName();
                children: []
                pos: 16450
                length: 63
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: method_invocation
                            fields:
                              text: enclosingQname.indexOf(".prototype.")
                            children: []
                            pos: 16522
                            length: 37
                          right:
                            type: unary_expression
                            fields:
                              text: "-1"
                            children: []
                            pos: 16563
                            length: 2
                        children: []
                        pos: 16522
                        length: 43
                    children: []
                    pos: 16521
                    length: 45
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: Node enclosingParent = enclosingFnNameNode.getParent();
                    children: []
                    pos: 16605
                    length: 55
                  - type: local_variable_declaration
                    fields:
                      text: |-
                        Node maybeInheritsExpr = (enclosingParent.isAssign() ?
                                  enclosingParent.getParent() : enclosingParent).getNext();
                    children: []
                    pos: 16667
                    length: 122
                  - type: local_variable_declaration
                    fields:
                      text: Node baseClassNode = null;
                    children: []
                    pos: 16796
                    length: 26
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: and
                            fields:
                              left:
                                type: and
                                fields:
                                  left:
                                    type: not_equals
                                    fields:
                                      left:
                                        type: identifier
                                        fields:
                                          text: maybeInheritsExpr
                                        children: []
                                        pos: 16833
                                        length: 17
                                      right:
                                        type: null_literal
                                        fields: {}
                                        children: []
                                        pos: 16854
                                        length: 4
                                    children: []
                                    pos: 16833
                                    length: 25
                                  right:
                                    type: method_invocation
                                    fields:
                                      text: maybeInheritsExpr.isExprResult()
                                    children: []
                                    pos: 16872
                                    length: 32
                                children: []
                                pos: 16833
                                length: 71
                              right:
                                type: method_invocation
                                fields:
                                  text: maybeInheritsExpr.getFirstChild().isCall()
                                children: []
                                pos: 16918
                                length: 42
                            children: []
                            pos: 16833
                            length: 127
                        children: []
                        pos: 16832
                        length: 129
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: local_variable_declaration
                        fields:
                          text: Node callNode = maybeInheritsExpr.getFirstChild();
                        children: []
                        pos: 16972
                        length: 50
                      - type: if_statement
                        fields:
                          condition:
                            type: parenthesized_expression
                            fields:
                              expression:
                                type: and
                                fields:
                                  left:
                                    type: method_invocation
                                    fields:
                                      text: |-
                                        "goog.inherits".equals(
                                                        callNode.getFirstChild().getQualifiedName())
                                    children: []
                                    pos: 17035
                                    length: 84
                                  right:
                                    type: method_invocation
                                    fields:
                                      text: callNode.getLastChild().isQualifiedName()
                                    children: []
                                    pos: 17135
                                    length: 41
                                children: []
                                pos: 17035
                                length: 141
                            children: []
                            pos: 17034
                            length: 143
                        children:
                        - type: block
                          fields: {}
                          children:
                          - type: expression_statement
                            fields:
                              text: baseClassNode = callNode.getLastChild();
                            children: []
                            pos: 17190
                            length: 40
                          pos: 17178
                          length: 62
                        pos: 17031
                        length: 209
                      pos: 16962
                      length: 286
                    pos: 16829
                    length: 419
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: baseClassNode
                                children: []
                                pos: 17260
                                length: 13
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 17277
                                length: 4
                            children: []
                            pos: 17260
                            length: 21
                        children: []
                        pos: 17259
                        length: 23
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: |-
                            reportBadBaseClassUse(
                                        t, n, "Could not find goog.inherits for base class");
                        children: []
                        pos: 17293
                        length: 88
                      - type: return_statement
                        fields:
                          text: return;
                        children: []
                        pos: 17390
                        length: 7
                      pos: 17283
                      length: 122
                    pos: 17256
                    length: 149
                  - type: expression_statement
                    fields:
                      text: |-
                        n.replaceChild(
                                  callee,
                                  NodeUtil.newQualifiedNameNode(
                                    compiler.getCodingConvention(),
                                    String.format("%s.call", baseClassNode.getQualifiedName()),
                                    callee, "goog.base"));
                    children: []
                    pos: 17440
                    length: 225
                  - type: expression_statement
                    fields:
                      text: compiler.reportCodeChange();
                    children: []
                    pos: 17672
                    length: 28
                  pos: 16567
                  length: 1139
                pos: 16518
                length: 2206
              pos: 15176
              length: 3552
          children: []
          pos: 15117
          length: 3611
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getEnclosingDeclNameNode
              children: []
              pos: 18868
              length: 24
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: NodeTraversal t
                children: []
                pos: 18893
                length: 15
              pos: 18855
              length: 667
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: Node scopeRoot = t.getScopeRoot();
                children: []
                pos: 18916
                length: 34
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: NodeUtil.isFunctionDeclaration(scopeRoot)
                        children: []
                        pos: 18959
                        length: 41
                    children: []
                    pos: 18958
                    length: 43
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return scopeRoot.getFirstChild();
                    children: []
                    pos: 19038
                    length: 33
                  pos: 19002
                  length: 75
                pos: 18955
                length: 545
              - type: return_statement
                fields:
                  text: return null;
                children: []
                pos: 19506
                length: 12
              pos: 18910
              length: 612
          children: []
          pos: 18855
          length: 667
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: reportBadBaseClassUse
              children: []
              pos: 19598
              length: 21
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: NodeTraversal t
                children: []
                pos: 19627
                length: 15
              pos: 19585
              length: 162
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: compiler.report(t.makeError(n, BASE_CLASS_ERROR, extraMessage));
                children: []
                pos: 19679
                length: 64
              pos: 19673
              length: 74
          children: []
          pos: 19585
          length: 162
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: processProvideFromPreviousPass
              children: []
              pos: 19963
              length: 30
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: NodeTraversal t
                children: []
                pos: 20001
                length: 15
              pos: 19950
              length: 993
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: unary_expression
                        fields:
                          text: "!providedNames.containsKey(name)"
                        children: []
                        pos: 20054
                        length: 32
                    children: []
                    pos: 20053
                    length: 34
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: Node expr = new Node(Token.EXPR_RESULT);
                    children: []
                    pos: 20241
                    length: 40
                  - type: expression_statement
                    fields:
                      text: expr.copyInformationFromForTree(parent);
                    children: []
                    pos: 20288
                    length: 40
                  - type: expression_statement
                    fields:
                      text: parent.getParent().addChildBefore(expr, parent);
                    children: []
                    pos: 20335
                    length: 48
                  - type: expression_statement
                    fields:
                      text: compiler.reportCodeChange();
                    children: []
                    pos: 20390
                    length: 28
                  - type: local_variable_declaration
                    fields:
                      text: JSModule module = t.getModule();
                    children: []
                    pos: 20426
                    length: 32
                  - type: expression_statement
                    fields:
                      text: registerAnyProvidedPrefixes(name, expr, module);
                    children: []
                    pos: 20465
                    length: 48
                  - type: local_variable_declaration
                    fields:
                      text: ProvidedName provided = new ProvidedName(name, expr, module,
                        true);
                    children: []
                    pos: 20521
                    length: 67
                  - type: expression_statement
                    fields:
                      text: providedNames.put(name, provided);
                    children: []
                    pos: 20595
                    length: 34
                  - type: expression_statement
                    fields:
                      text: provided.addDefinition(parent, module);
                    children: []
                    pos: 20636
                    length: 39
                  pos: 20088
                  length: 593
                pos: 20050
                length: 889
              pos: 20044
              length: 899
          children: []
          pos: 19950
          length: 993
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: processSetCssNameMapping
              children: []
              pos: 21294
              length: 24
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: NodeTraversal t
                children: []
                pos: 21319
                length: 15
              pos: 21281
              length: 3268
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: Node left = n.getFirstChild();
                children: []
                pos: 21363
                length: 30
              - type: local_variable_declaration
                fields:
                  text: Node arg = left.getNext();
                children: []
                pos: 21398
                length: 26
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: verifySetCssNameMapping(t, left, arg)
                        children: []
                        pos: 21433
                        length: 37
                    children: []
                    pos: 21432
                    length: 39
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: final Map<String, String> cssNames = Maps.newHashMap();
                    children: []
                    pos: 21605
                    length: 55
                  - type: for_statement
                    fields:
                      text: |-
                        for (Node key = arg.getFirstChild(); key != null;
                                  key = key.getNext()) {
                                Node value = key.getFirstChild();
                                if (!key.isStringKey()
                                    || value == null
                                    || !value.isString()) {
                                  compiler.report(
                                      t.makeError(n,
                                          NON_STRING_PASSED_TO_SET_CSS_NAME_MAPPING_ERROR));
                                  return;
                                }
                                cssNames.put(key.getString(), value.getString());
                              }
                    children: []
                    pos: 21668
                    length: 439
                  - type: local_variable_declaration
                    fields:
                      text: String styleStr = "BY_PART";
                    children: []
                    pos: 22115
                    length: 28
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: not_equals
                            fields:
                              left:
                                type: method_invocation
                                fields:
                                  text: arg.getNext()
                                children: []
                                pos: 22154
                                length: 13
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 22171
                                length: 4
                            children: []
                            pos: 22154
                            length: 21
                        children: []
                        pos: 22153
                        length: 23
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: styleStr = arg.getNext().getString();
                        children: []
                        pos: 22187
                        length: 37
                      pos: 22177
                      length: 55
                    pos: 22150
                    length: 82
                  - type: local_variable_declaration
                    fields:
                      text: final CssRenamingMap.Style style;
                    children: []
                    pos: 22240
                    length: 33
                  - type: try_statement
                    fields:
                      body:
                        type: block
                        fields: {}
                        children:
                        - type: expression_statement
                          fields:
                            text: style = CssRenamingMap.Style.valueOf(styleStr);
                          children: []
                          pos: 22294
                          length: 47
                        pos: 22284
                        length: 65
                      excepts:
                        type: excepts
                        fields: {}
                        children:
                        - type: catch_clause
                          fields:
                            text: |-
                              catch (IllegalArgumentException e) {
                                      compiler.report(
                                          t.makeError(n, INVALID_STYLE_ERROR, styleStr));
                                      return;
                                    }
                          children: []
                          pos: 22350
                          length: 145
                        pos: 22280
                        length: 215
                    children: []
                    pos: 22280
                    length: 215
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: style
                                children: []
                                pos: 22507
                                length: 5
                              right:
                                type: field_access
                                fields:
                                  text: CssRenamingMap.Style.BY_PART
                                children: []
                                pos: 22516
                                length: 28
                            children: []
                            pos: 22507
                            length: 37
                        children: []
                        pos: 22506
                        length: 39
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: local_variable_declaration
                        fields:
                          text: List<String> errors = Lists.newArrayList();
                        children: []
                        pos: 22602
                        length: 43
                      - type: enhanced_for_statement
                        fields:
                          text: |-
                            for (String key : cssNames.keySet()) {
                                      if (key.contains("-")) {
                                        errors.add(key);
                                      }
                                    }
                        children: []
                        pos: 22654
                        length: 124
                      - type: if_statement
                        fields:
                          condition:
                            type: parenthesized_expression
                            fields:
                              expression:
                                type: not_equals
                                fields:
                                  left:
                                    type: method_invocation
                                    fields:
                                      text: errors.size()
                                    children: []
                                    pos: 22791
                                    length: 13
                                  right:
                                    type: decimal_integer_literal
                                    fields:
                                      text: '0'
                                    children: []
                                    pos: 22808
                                    length: 1
                                children: []
                                pos: 22791
                                length: 18
                            children: []
                            pos: 22790
                            length: 20
                        children:
                        - type: block
                          fields: {}
                          children:
                          - type: expression_statement
                            fields:
                              text: |-
                                compiler.report(
                                            t.makeError(n, INVALID_CSS_RENAMING_MAP, errors.toString()));
                            children: []
                            pos: 22823
                            length: 90
                          pos: 22811
                          length: 112
                        pos: 22787
                        length: 136
                      pos: 22546
                      length: 385
                    pos: 22503
                    length: 1520
                  - type: local_variable_declaration
                    fields:
                      text: |-
                        CssRenamingMap cssRenamingMap = new CssRenamingMap() {
                                @Override
                                public String get(String value) {
                                  if (cssNames.containsKey(value)) {
                                    return cssNames.get(value);
                                  } else {
                                    return value;
                                  }
                                }

                                @Override
                                public CssRenamingMap.Style getStyle() {
                                  return style;
                                }
                              };
                    children: []
                    pos: 24031
                    length: 377
                  - type: expression_statement
                    fields:
                      text: compiler.setCssRenamingMap(cssRenamingMap);
                    children: []
                    pos: 24415
                    length: 43
                  - type: expression_statement
                    fields:
                      text: parent.getParent().removeChild(parent);
                    children: []
                    pos: 24465
                    length: 39
                  - type: expression_statement
                    fields:
                      text: compiler.reportCodeChange();
                    children: []
                    pos: 24511
                    length: 28
                  pos: 21472
                  length: 3073
                pos: 21429
                length: 3116
              pos: 21357
              length: 3192
          children: []
          pos: 21281
          length: 3268
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: verifyProvide
              children: []
              pos: 24841
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: NodeTraversal t
                children: []
                pos: 24855
                length: 15
              pos: 24825
              length: 394
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: unary_expression
                        fields:
                          text: "!verifyLastArgumentIsString(t, methodName, arg)"
                        children: []
                        pos: 24909
                        length: 47
                    children: []
                    pos: 24908
                    length: 49
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return false;
                    children: []
                    pos: 24966
                    length: 13
                  pos: 24958
                  length: 27
                pos: 24905
                length: 80
              - type: enhanced_for_statement
                fields:
                  text: |-
                    for (String part : arg.getString().split("\\.")) {
                          if (!NodeUtil.isValidPropertyName(part)) {
                            compiler.report(t.makeError(arg, INVALID_PROVIDE_ERROR, part));
                            return false;
                          }
                        }
                children: []
                pos: 24991
                length: 207
              - type: return_statement
                fields:
                  text: return true;
                children: []
                pos: 25203
                length: 12
              pos: 24899
              length: 320
          children: []
          pos: 24825
          length: 394
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: verifyDefine
              children: []
              pos: 25511
              length: 12
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: NodeTraversal t
                children: []
                pos: 25524
                length: 15
              pos: 25495
              length: 906
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: Node arg = args;
                children: []
                pos: 25623
                length: 16
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: unary_expression
                            fields:
                              text: "!verifyNotNull(t, methodName, arg)"
                            children: []
                            pos: 25648
                            length: 34
                          right:
                            type: unary_expression
                            fields:
                              text: "!verifyOfType(t, methodName, arg, Token.STRING)"
                            children: []
                            pos: 25694
                            length: 47
                        children: []
                        pos: 25648
                        length: 93
                    children: []
                    pos: 25647
                    length: 95
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return false;
                    children: []
                    pos: 25751
                    length: 13
                  pos: 25743
                  length: 27
                pos: 25644
                length: 126
              - type: expression_statement
                fields:
                  text: arg = arg.getNext();
                children: []
                pos: 25801
                length: 20
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: unary_expression
                            fields:
                              text: "!verifyNotNull(t, methodName, arg)"
                            children: []
                            pos: 25830
                            length: 34
                          right:
                            type: unary_expression
                            fields:
                              text: "!verifyIsLast(t, methodName, arg)"
                            children: []
                            pos: 25876
                            length: 33
                        children: []
                        pos: 25830
                        length: 79
                    children: []
                    pos: 25829
                    length: 81
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return false;
                    children: []
                    pos: 25919
                    length: 13
                  pos: 25911
                  length: 27
                pos: 25826
                length: 112
              - type: local_variable_declaration
                fields:
                  text: String name = args.getString();
                children: []
                pos: 25944
                length: 31
              - type: enhanced_for_statement
                fields:
                  text: |-
                    for (String part : name.split("\\.")) {
                          if (!NodeUtil.isValidQualifiedName(part)) {
                            compiler.report(t.makeError(args, INVALID_DEFINE_NAME_ERROR, name));
                            return false;
                          }
                        }
                children: []
                pos: 25980
                length: 202
              - type: local_variable_declaration
                fields:
                  text: JSDocInfo info = expr.getFirstChild().getJSDocInfo();
                children: []
                pos: 26188
                length: 53
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: info
                                children: []
                                pos: 26250
                                length: 4
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 26258
                                length: 4
                            children: []
                            pos: 26250
                            length: 12
                          right:
                            type: unary_expression
                            fields:
                              text: "!info.isDefine()"
                            children: []
                            pos: 26266
                            length: 16
                        children: []
                        pos: 26250
                        length: 32
                    children: []
                    pos: 26249
                    length: 34
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: compiler.report(t.makeError(expr, MISSING_DEFINE_ANNOTATION));
                    children: []
                    pos: 26292
                    length: 62
                  - type: return_statement
                    fields:
                      text: return false;
                    children: []
                    pos: 26361
                    length: 13
                  pos: 26284
                  length: 96
                pos: 26246
                length: 134
              - type: return_statement
                fields:
                  text: return true;
                children: []
                pos: 26385
                length: 12
              pos: 25592
              length: 809
          children: []
          pos: 25495
          length: 906
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: verifyLastArgumentIsString
              children: []
              pos: 26624
              length: 26
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: NodeTraversal t
                children: []
                pos: 26658
                length: 15
              pos: 26608
              length: 247
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return verifyNotNull(t, methodName, arg) &&
                            verifyOfType(t, methodName, arg, Token.STRING) &&
                            verifyIsLast(t, methodName, arg);
                children: []
                pos: 26708
                length: 143
              pos: 26702
              length: 153
          children: []
          pos: 26608
          length: 247
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: verifyNotNull
              children: []
              pos: 26938
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: NodeTraversal t
                children: []
                pos: 26952
                length: 15
              pos: 26922
              length: 270
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: arg
                            children: []
                            pos: 27006
                            length: 3
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 27013
                            length: 4
                        children: []
                        pos: 27006
                        length: 11
                    children: []
                    pos: 27005
                    length: 13
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: |-
                        compiler.report(
                                  t.makeError(methodName,
                                      NULL_ARGUMENT_ERROR, methodName.getQualifiedName()));
                    children: []
                    pos: 27027
                    length: 118
                  - type: return_statement
                    fields:
                      text: return false;
                    children: []
                    pos: 27152
                    length: 13
                  pos: 27019
                  length: 152
                pos: 27002
                length: 169
              - type: return_statement
                fields:
                  text: return true;
                children: []
                pos: 27176
                length: 12
              pos: 26996
              length: 196
          children: []
          pos: 26922
          length: 270
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: verifyOfType
              children: []
              pos: 27275
              length: 12
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: NodeTraversal t
                children: []
                pos: 27288
                length: 15
              pos: 27259
              length: 312
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: method_invocation
                            fields:
                              text: arg.getType()
                            children: []
                            pos: 27365
                            length: 13
                          right:
                            type: identifier
                            fields:
                              text: desiredType
                            children: []
                            pos: 27382
                            length: 11
                        children: []
                        pos: 27365
                        length: 28
                    children: []
                    pos: 27364
                    length: 30
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: |-
                        compiler.report(
                                  t.makeError(methodName,
                                      INVALID_ARGUMENT_ERROR, methodName.getQualifiedName()));
                    children: []
                    pos: 27403
                    length: 121
                  - type: return_statement
                    fields:
                      text: return false;
                    children: []
                    pos: 27531
                    length: 13
                  pos: 27395
                  length: 155
                pos: 27361
                length: 189
              - type: return_statement
                fields:
                  text: return true;
                children: []
                pos: 27555
                length: 12
              pos: 27355
              length: 216
          children: []
          pos: 27259
          length: 312
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: verifyIsLast
              children: []
              pos: 27654
              length: 12
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: NodeTraversal t
                children: []
                pos: 27667
                length: 15
              pos: 27638
              length: 284
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: method_invocation
                            fields:
                              text: arg.getNext()
                            children: []
                            pos: 27721
                            length: 13
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 27738
                            length: 4
                        children: []
                        pos: 27721
                        length: 21
                    children: []
                    pos: 27720
                    length: 23
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: |-
                        compiler.report(
                                  t.makeError(methodName,
                                      TOO_MANY_ARGUMENTS_ERROR, methodName.getQualifiedName()));
                    children: []
                    pos: 27752
                    length: 123
                  - type: return_statement
                    fields:
                      text: return false;
                    children: []
                    pos: 27882
                    length: 13
                  pos: 27744
                  length: 157
                pos: 27717
                length: 184
              - type: return_statement
                fields:
                  text: return true;
                children: []
                pos: 27906
                length: 12
              pos: 27711
              length: 211
          children: []
          pos: 27638
          length: 284
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: verifySetCssNameMapping
              children: []
              pos: 28084
              length: 23
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: NodeTraversal t
                children: []
                pos: 28108
                length: 15
              pos: 28068
              length: 758
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: DiagnosticType diagnostic = null;
                children: []
                pos: 28169
                length: 33
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: firstArg
                            children: []
                            pos: 28211
                            length: 8
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 28223
                            length: 4
                        children: []
                        pos: 28211
                        length: 16
                    children: []
                    pos: 28210
                    length: 18
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: diagnostic = NULL_ARGUMENT_ERROR;
                    children: []
                    pos: 28237
                    length: 33
                  pos: 28229
                  length: 47
                pos: 28207
                length: 426
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: diagnostic
                            children: []
                            pos: 28642
                            length: 10
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 28656
                            length: 4
                        children: []
                        pos: 28642
                        length: 18
                    children: []
                    pos: 28641
                    length: 20
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: |-
                        compiler.report(
                                  t.makeError(methodName,
                                      diagnostic, methodName.getQualifiedName()));
                    children: []
                    pos: 28670
                    length: 109
                  - type: return_statement
                    fields:
                      text: return false;
                    children: []
                    pos: 28786
                    length: 13
                  pos: 28662
                  length: 143
                pos: 28638
                length: 167
              - type: return_statement
                fields:
                  text: return true;
                children: []
                pos: 28810
                length: 12
              pos: 28163
              length: 663
          children: []
          pos: 28068
          length: 758
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: registerAnyProvidedPrefixes
              children: []
              pos: 29190
              length: 27
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String ns
                children: []
                pos: 29225
                length: 9
              pos: 29177
              length: 532
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: int pos = ns.indexOf('.');
                children: []
                pos: 29270
                length: 26
              - type: while_statement
                fields:
                  text: |-
                    while (pos != -1) {
                          String prefixNs = ns.substring(0, pos);
                          pos = ns.indexOf('.', pos + 1);
                          if (providedNames.containsKey(prefixNs)) {
                            providedNames.get(prefixNs).addProvide(
                                node, module, false /* implicit */);
                          } else {
                            providedNames.put(
                                prefixNs,
                                new ProvidedName(prefixNs, node, module, false /* implicit */));
                          }
                        }
                children: []
                pos: 29301
                length: 404
              pos: 29264
              length: 445
          children: []
          pos: 29177
          length: 532
        - type: class_declaration
          fields:
            name:
              type: identifier
              fields:
                text: ProvidedName
              children: []
              pos: 29900
              length: 12
            body:
              type: class_body
              fields: {}
              children:
              - type: field_declaration
                fields:
                  text: private final String namespace;
                children: []
                pos: 29919
                length: 31
              - type: field_declaration
                fields:
                  text: private final Node firstNode;
                children: []
                pos: 30049
                length: 29
              - type: field_declaration
                fields:
                  text: private final JSModule firstModule;
                children: []
                pos: 30083
                length: 35
              - type: field_declaration
                fields:
                  text: private Node explicitNode = null;
                children: []
                pos: 30252
                length: 33
              - type: field_declaration
                fields:
                  text: private JSModule explicitModule = null;
                children: []
                pos: 30290
                length: 39
              - type: field_declaration
                fields:
                  text: private Node candidateDefinition = null;
                children: []
                pos: 30368
                length: 40
              - type: field_declaration
                fields:
                  text: private JSModule minimumModule = null;
                children: []
                pos: 30471
                length: 38
              - type: field_declaration
                fields:
                  text: private Node replacementNode = null;
                children: []
                pos: 30551
                length: 36
              - type: constructor_declaration
                fields:
                  text: |-
                    ProvidedName(String namespace, Node node, JSModule module,
                            boolean explicit) {
                          Preconditions.checkArgument(
                              node == null /* The base case */ ||
                              node.isExprResult());
                          this.namespace = namespace;
                          this.firstNode = node;
                          this.firstModule = module;

                          addProvide(node, module, explicit);
                        }
                children: []
                pos: 30593
                length: 344
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: addProvide
                    children: []
                    pos: 31008
                    length: 10
                  parameters:
                    type: method_parameters
                    fields: {}
                    children:
                    - type: formal_parameter
                      fields:
                        text: Node node
                      children: []
                      pos: 31019
                      length: 9
                    pos: 31003
                    length: 310
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: if_statement
                      fields:
                        condition:
                          type: parenthesized_expression
                          fields:
                            expression:
                              type: identifier
                              fields:
                                text: explicit
                              children: []
                              pos: 31077
                              length: 8
                          children: []
                          pos: 31076
                          length: 10
                      children:
                      - type: block
                        fields: {}
                        children:
                        - type: expression_statement
                          fields:
                            text: Preconditions.checkState(explicitNode == null);
                          children: []
                          pos: 31097
                          length: 47
                        - type: expression_statement
                          fields:
                            text: Preconditions.checkArgument(node.isExprResult());
                          children: []
                          pos: 31153
                          length: 49
                        - type: expression_statement
                          fields:
                            text: explicitNode = node;
                          children: []
                          pos: 31211
                          length: 20
                        - type: expression_statement
                          fields:
                            text: explicitModule = module;
                          children: []
                          pos: 31240
                          length: 24
                        pos: 31087
                        length: 185
                      pos: 31073
                      length: 199
                    - type: expression_statement
                      fields:
                        text: updateMinimumModule(module);
                      children: []
                      pos: 31279
                      length: 28
                    pos: 31065
                    length: 248
                children: []
                pos: 31003
                length: 310
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: isExplicitlyProvided
                    children: []
                    pos: 31327
                    length: 20
                  parameters:
                    type: method_parameters
                    fields: {}
                    children: []
                    pos: 31319
                    length: 73
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: return_statement
                      fields:
                        text: return explicitNode != null;
                      children: []
                      pos: 31358
                      length: 28
                    pos: 31350
                    length: 42
                children: []
                pos: 31319
                length: 73
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: addDefinition
                    children: []
                    pos: 31686
                    length: 13
                  parameters:
                    type: method_parameters
                    fields: {}
                    children:
                    - type: formal_parameter
                      fields:
                        text: Node node
                      children: []
                      pos: 31700
                      length: 9
                    pos: 31681
                    length: 430
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: expression_statement
                      fields:
                        text: |-
                          Preconditions.checkArgument(node.isExprResult() || // assign
                                                            node.isFunction() ||
                                                            node.isVar());
                      children: []
                      pos: 31736
                      length: 164
                    - type: expression_statement
                      fields:
                        text: Preconditions.checkArgument(explicitNode != node);
                      children: []
                      pos: 31907
                      length: 50
                    - type: if_statement
                      fields:
                        condition:
                          type: parenthesized_expression
                          fields:
                            expression:
                              type: or
                              fields:
                                left:
                                  type: parenthesized_expression
                                  fields:
                                    expression:
                                      type: equals
                                      fields:
                                        left:
                                          type: identifier
                                          fields:
                                            text: candidateDefinition
                                          children: []
                                          pos: 31969
                                          length: 19
                                        right:
                                          type: null_literal
                                          fields: {}
                                          children: []
                                          pos: 31992
                                          length: 4
                                      children: []
                                      pos: 31969
                                      length: 27
                                  children: []
                                  pos: 31968
                                  length: 29
                                right:
                                  type: unary_expression
                                  fields:
                                    text: "!node.isExprResult()"
                                  children: []
                                  pos: 32001
                                  length: 20
                              children: []
                              pos: 31968
                              length: 53
                          children: []
                          pos: 31967
                          length: 55
                      children:
                      - type: block
                        fields: {}
                        children:
                        - type: expression_statement
                          fields:
                            text: candidateDefinition = node;
                          children: []
                          pos: 32033
                          length: 27
                        - type: expression_statement
                          fields:
                            text: updateMinimumModule(module);
                          children: []
                          pos: 32069
                          length: 28
                        pos: 32023
                        length: 82
                      pos: 31964
                      length: 141
                    pos: 31728
                    length: 383
                children: []
                pos: 31681
                length: 430
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: updateMinimumModule
                    children: []
                    pos: 32130
                    length: 19
                  parameters:
                    type: method_parameters
                    fields: {}
                    children:
                    - type: formal_parameter
                      fields:
                        text: JSModule newModule
                      children: []
                      pos: 32150
                      length: 18
                    pos: 32117
                    length: 529
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: if_statement
                      fields:
                        condition:
                          type: parenthesized_expression
                          fields:
                            expression:
                              type: equals
                              fields:
                                left:
                                  type: identifier
                                  fields:
                                    text: minimumModule
                                  children: []
                                  pos: 32182
                                  length: 13
                                right:
                                  type: null_literal
                                  fields: {}
                                  children: []
                                  pos: 32199
                                  length: 4
                              children: []
                              pos: 32182
                              length: 21
                          children: []
                          pos: 32181
                          length: 23
                      children:
                      - type: block
                        fields: {}
                        children:
                        - type: expression_statement
                          fields:
                            text: minimumModule = newModule;
                          children: []
                          pos: 32215
                          length: 26
                        pos: 32205
                        length: 44
                      pos: 32178
                      length: 462
                    pos: 32170
                    length: 476
                children: []
                pos: 32117
                length: 529
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: replace
                    children: []
                    pos: 32911
                    length: 7
                  parameters:
                    type: method_parameters
                    fields: {}
                    children: []
                    pos: 32906
                    length: 2729
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: if_statement
                      fields:
                        condition:
                          type: parenthesized_expression
                          fields:
                            expression:
                              type: equals
                              fields:
                                left:
                                  type: identifier
                                  fields:
                                    text: firstNode
                                  children: []
                                  pos: 32933
                                  length: 9
                                right:
                                  type: null_literal
                                  fields: {}
                                  children: []
                                  pos: 32946
                                  length: 4
                              children: []
                              pos: 32933
                              length: 17
                          children: []
                          pos: 32932
                          length: 19
                      children:
                      - type: block
                        fields: {}
                        children:
                        - type: expression_statement
                          fields:
                            text: replacementNode = candidateDefinition;
                          children: []
                          pos: 33009
                          length: 38
                        - type: return_statement
                          fields:
                            text: return;
                          children: []
                          pos: 33056
                          length: 7
                        pos: 32952
                        length: 119
                      pos: 32929
                      length: 142
                    - type: if_statement
                      fields:
                        condition:
                          type: parenthesized_expression
                          fields:
                            expression:
                              type: and
                              fields:
                                left:
                                  type: not_equals
                                  fields:
                                    left:
                                      type: identifier
                                      fields:
                                        text: candidateDefinition
                                      children: []
                                      pos: 33190
                                      length: 19
                                    right:
                                      type: null_literal
                                      fields: {}
                                      children: []
                                      pos: 33213
                                      length: 4
                                  children: []
                                  pos: 33190
                                  length: 27
                                right:
                                  type: not_equals
                                  fields:
                                    left:
                                      type: identifier
                                      fields:
                                        text: explicitNode
                                      children: []
                                      pos: 33221
                                      length: 12
                                    right:
                                      type: null_literal
                                      fields: {}
                                      children: []
                                      pos: 33237
                                      length: 4
                                  children: []
                                  pos: 33221
                                  length: 20
                              children: []
                              pos: 33190
                              length: 51
                          children: []
                          pos: 33189
                          length: 53
                      children:
                      - type: block
                        fields: {}
                        children:
                        - type: expression_statement
                          fields:
                            text: explicitNode.detachFromParent();
                          children: []
                          pos: 33253
                          length: 32
                        - type: expression_statement
                          fields:
                            text: compiler.reportCodeChange();
                          children: []
                          pos: 33294
                          length: 28
                        - type: expression_statement
                          fields:
                            text: replacementNode = candidateDefinition;
                          children: []
                          pos: 33373
                          length: 38
                        - type: if_statement
                          fields:
                            condition:
                              type: parenthesized_expression
                              fields:
                                expression:
                                  type: and
                                  fields:
                                    left:
                                      type: method_invocation
                                      fields:
                                        text: candidateDefinition.isExprResult()
                                      children: []
                                      pos: 33424
                                      length: 34
                                    right:
                                      type: unary_expression
                                      fields:
                                        text: "!candidateDefinition.getFirstChild().isQualifiedName()"
                                      children: []
                                      pos: 33474
                                      length: 54
                                  children: []
                                  pos: 33424
                                  length: 104
                              children: []
                              pos: 33423
                              length: 106
                          children:
                          - type: block
                            fields: {}
                            children:
                            - type: expression_statement
                              fields:
                                text: candidateDefinition.putBooleanProp(Node.IS_NAMESPACE,
                                  true);
                              children: []
                              pos: 33542
                              length: 60
                            - type: local_variable_declaration
                              fields:
                                text: Node assignNode = candidateDefinition.getFirstChild();
                              children: []
                              pos: 33613
                              length: 54
                            - type: local_variable_declaration
                              fields:
                                text: Node nameNode = assignNode.getFirstChild();
                              children: []
                              pos: 33678
                              length: 43
                            - type: if_statement
                              fields:
                                condition:
                                  type: parenthesized_expression
                                  fields:
                                    expression:
                                      type: method_invocation
                                      fields:
                                        text: nameNode.isName()
                                      children: []
                                      pos: 33736
                                      length: 17
                                  children: []
                                  pos: 33735
                                  length: 19
                              children:
                              - type: block
                                fields: {}
                                children:
                                - type: local_variable_declaration
                                  fields:
                                    text: Node valueNode = nameNode.getNext();
                                  children: []
                                  pos: 33834
                                  length: 36
                                - type: expression_statement
                                  fields:
                                    text: assignNode.removeChild(nameNode);
                                  children: []
                                  pos: 33883
                                  length: 33
                                - type: expression_statement
                                  fields:
                                    text: assignNode.removeChild(valueNode);
                                  children: []
                                  pos: 33929
                                  length: 34
                                - type: expression_statement
                                  fields:
                                    text: nameNode.addChildToFront(valueNode);
                                  children: []
                                  pos: 33976
                                  length: 36
                                - type: local_variable_declaration
                                  fields:
                                    text: Node varNode = IR.var(nameNode);
                                  children: []
                                  pos: 34025
                                  length: 32
                                - type: expression_statement
                                  fields:
                                    text: varNode.copyInformationFrom(candidateDefinition);
                                  children: []
                                  pos: 34070
                                  length: 49
                                - type: expression_statement
                                  fields:
                                    text: |-
                                      candidateDefinition.getParent().replaceChild(
                                                      candidateDefinition, varNode);
                                  children: []
                                  pos: 34132
                                  length: 92
                                - type: expression_statement
                                  fields:
                                    text: nameNode.setJSDocInfo(assignNode.getJSDocInfo());
                                  children: []
                                  pos: 34237
                                  length: 49
                                - type: expression_statement
                                  fields:
                                    text: compiler.reportCodeChange();
                                  children: []
                                  pos: 34299
                                  length: 28
                                - type: expression_statement
                                  fields:
                                    text: replacementNode = varNode;
                                  children: []
                                  pos: 34340
                                  length: 26
                                pos: 33755
                                length: 623
                              pos: 33732
                              length: 646
                            pos: 33530
                            length: 858
                          pos: 33420
                          length: 968
                        pos: 33243
                        length: 1153
                      pos: 33186
                      length: 2443
                    pos: 32921
                    length: 2714
                children: []
                pos: 32906
                length: 2729
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: createDeclarationNode
                    children: []
                    pos: 35762
                    length: 21
                  parameters:
                    type: method_parameters
                    fields: {}
                    children: []
                    pos: 35749
                    length: 184
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: if_statement
                      fields:
                        condition:
                          type: parenthesized_expression
                          fields:
                            expression:
                              type: equals
                              fields:
                                left:
                                  type: method_invocation
                                  fields:
                                    text: namespace.indexOf('.')
                                  children: []
                                  pos: 35798
                                  length: 22
                                right:
                                  type: unary_expression
                                  fields:
                                    text: "-1"
                                  children: []
                                  pos: 35824
                                  length: 2
                              children: []
                              pos: 35798
                              length: 28
                          children: []
                          pos: 35797
                          length: 30
                      children:
                      - type: block
                        fields: {}
                        children:
                        - type: return_statement
                          fields:
                            text: return makeVarDeclNode();
                          children: []
                          pos: 35838
                          length: 25
                        pos: 35828
                        length: 43
                      pos: 35794
                      length: 133
                    pos: 35786
                    length: 147
                children: []
                pos: 35749
                length: 184
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: makeVarDeclNode
                    children: []
                    pos: 36065
                    length: 15
                  parameters:
                    type: method_parameters
                    fields: {}
                    children: []
                    pos: 36052
                    length: 619
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: local_variable_declaration
                      fields:
                        text: Node name = IR.name(namespace);
                      children: []
                      pos: 36091
                      length: 31
                    - type: expression_statement
                      fields:
                        text: name.addChildToFront(createNamespaceLiteral());
                      children: []
                      pos: 36129
                      length: 47
                    - type: local_variable_declaration
                      fields:
                        text: Node decl = IR.var(name);
                      children: []
                      pos: 36184
                      length: 25
                    - type: expression_statement
                      fields:
                        text: decl.putBooleanProp(Node.IS_NAMESPACE, true);
                      children: []
                      pos: 36216
                      length: 45
                    - type: if_statement
                      fields:
                        condition:
                          type: parenthesized_expression
                          fields:
                            expression:
                              type: method_invocation
                              fields:
                                text: compiler.getCodingConvention().isConstant(namespace)
                              children: []
                              pos: 36336
                              length: 52
                          children: []
                          pos: 36335
                          length: 54
                      children:
                      - type: block
                        fields: {}
                        children:
                        - type: expression_statement
                          fields:
                            text: name.putBooleanProp(Node.IS_CONSTANT_NAME, true);
                          children: []
                          pos: 36400
                          length: 49
                        pos: 36390
                        length: 67
                      pos: 36332
                      length: 125
                    - type: if_statement
                      fields:
                        condition:
                          type: parenthesized_expression
                          fields:
                            expression:
                              type: equals
                              fields:
                                left:
                                  type: identifier
                                  fields:
                                    text: candidateDefinition
                                  children: []
                                  pos: 36468
                                  length: 19
                                right:
                                  type: null_literal
                                  fields: {}
                                  children: []
                                  pos: 36491
                                  length: 4
                              children: []
                              pos: 36468
                              length: 27
                          children: []
                          pos: 36467
                          length: 29
                      children:
                      - type: block
                        fields: {}
                        children:
                        - type: expression_statement
                          fields:
                            text: name.setJSDocInfo(createConstantJsDoc());
                          children: []
                          pos: 36507
                          length: 41
                        pos: 36497
                        length: 59
                      pos: 36464
                      length: 92
                    - type: expression_statement
                      fields:
                        text: Preconditions.checkState(isNamespacePlaceholder(decl));
                      children: []
                      pos: 36564
                      length: 55
                    - type: expression_statement
                      fields:
                        text: setSourceInfo(decl);
                      children: []
                      pos: 36626
                      length: 20
                    - type: return_statement
                      fields:
                        text: return decl;
                      children: []
                      pos: 36653
                      length: 12
                    pos: 36083
                    length: 588
                children: []
                pos: 36052
                length: 619
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: createNamespaceLiteral
                    children: []
                    pos: 36885
                    length: 22
                  parameters:
                    type: method_parameters
                    fields: {}
                    children: []
                    pos: 36872
                    length: 197
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: local_variable_declaration
                      fields:
                        text: Node objlit = IR.objectlit();
                      children: []
                      pos: 36918
                      length: 29
                    - type: expression_statement
                      fields:
                        text: |-
                          objlit.setJSType(
                                    compiler.getTypeRegistry().createAnonymousObjectType(null));
                      children: []
                      pos: 36954
                      length: 88
                    - type: return_statement
                      fields:
                        text: return objlit;
                      children: []
                      pos: 37049
                      length: 14
                    pos: 36910
                    length: 159
                children: []
                pos: 36872
                length: 197
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: makeAssignmentExprNode
                    children: []
                    pos: 37202
                    length: 22
                  parameters:
                    type: method_parameters
                    fields: {}
                    children: []
                    pos: 37189
                    length: 628
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: local_variable_declaration
                      fields:
                        text: |-
                          Node decl = IR.exprResult(
                                    IR.assign(
                                        NodeUtil.newQualifiedNameNode(
                                            compiler.getCodingConvention(), namespace,
                                            firstNode /* real source info will be filled in below */,
                                            namespace),
                                        createNamespaceLiteral()));
                      children: []
                      pos: 37235
                      length: 301
                    - type: expression_statement
                      fields:
                        text: decl.putBooleanProp(Node.IS_NAMESPACE, true);
                      children: []
                      pos: 37543
                      length: 45
                    - type: if_statement
                      fields:
                        condition:
                          type: parenthesized_expression
                          fields:
                            expression:
                              type: equals
                              fields:
                                left:
                                  type: identifier
                                  fields:
                                    text: candidateDefinition
                                  children: []
                                  pos: 37599
                                  length: 19
                                right:
                                  type: null_literal
                                  fields: {}
                                  children: []
                                  pos: 37622
                                  length: 4
                              children: []
                              pos: 37599
                              length: 27
                          children: []
                          pos: 37598
                          length: 29
                      children:
                      - type: block
                        fields: {}
                        children:
                        - type: expression_statement
                          fields:
                            text: decl.getFirstChild().setJSDocInfo(createConstantJsDoc());
                          children: []
                          pos: 37638
                          length: 57
                        pos: 37628
                        length: 75
                      pos: 37595
                      length: 108
                    - type: expression_statement
                      fields:
                        text: Preconditions.checkState(isNamespacePlaceholder(decl));
                      children: []
                      pos: 37710
                      length: 55
                    - type: expression_statement
                      fields:
                        text: setSourceInfo(decl);
                      children: []
                      pos: 37772
                      length: 20
                    - type: return_statement
                      fields:
                        text: return decl;
                      children: []
                      pos: 37799
                      length: 12
                    pos: 37227
                    length: 590
                children: []
                pos: 37189
                length: 628
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: createConstantJsDoc
                    children: []
                    pos: 37841
                    length: 19
                  parameters:
                    type: method_parameters
                    fields: {}
                    children: []
                    pos: 37823
                    length: 176
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: local_variable_declaration
                      fields:
                        text: JSDocInfoBuilder builder = new JSDocInfoBuilder(false);
                      children: []
                      pos: 37871
                      length: 55
                    - type: expression_statement
                      fields:
                        text: builder.recordConstancy();
                      children: []
                      pos: 37933
                      length: 26
                    - type: return_statement
                      fields:
                        text: return builder.build(null);
                      children: []
                      pos: 37966
                      length: 27
                    pos: 37863
                    length: 136
                children: []
                pos: 37823
                length: 176
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: setSourceInfo
                    children: []
                    pos: 38075
                    length: 13
                  parameters:
                    type: method_parameters
                    fields: {}
                    children:
                    - type: formal_parameter
                      fields:
                        text: Node newNode
                      children: []
                      pos: 38089
                      length: 12
                    pos: 38062
                    length: 457
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: local_variable_declaration
                      fields:
                        text: Node provideStringNode = getProvideStringNode();
                      children: []
                      pos: 38111
                      length: 48
                    - type: local_variable_declaration
                      fields:
                        text: int offset = getSourceInfoOffset(provideStringNode);
                      children: []
                      pos: 38166
                      length: 52
                    - type: local_variable_declaration
                      fields:
                        text: |-
                          Node sourceInfoNode = provideStringNode == null
                                    ? firstNode : provideStringNode;
                      children: []
                      pos: 38225
                      length: 90
                    - type: expression_statement
                      fields:
                        text: newNode.copyInformationFromForTree(sourceInfoNode);
                      children: []
                      pos: 38322
                      length: 51
                    - type: if_statement
                      fields:
                        condition:
                          type: parenthesized_expression
                          fields:
                            expression:
                              type: not_equals
                              fields:
                                left:
                                  type: identifier
                                  fields:
                                    text: offset
                                  children: []
                                  pos: 38384
                                  length: 6
                                right:
                                  type: decimal_integer_literal
                                  fields:
                                    text: '0'
                                  children: []
                                  pos: 38394
                                  length: 1
                              children: []
                              pos: 38384
                              length: 11
                          children: []
                          pos: 38383
                          length: 13
                      children:
                      - type: block
                        fields: {}
                        children:
                        - type: expression_statement
                          fields:
                            text: |-
                              newNode.setSourceEncodedPositionForTree(
                                          sourceInfoNode.getSourcePosition() + offset);
                          children: []
                          pos: 38407
                          length: 98
                        pos: 38397
                        length: 116
                      pos: 38380
                      length: 133
                    pos: 38103
                    length: 416
                children: []
                pos: 38062
                length: 457
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: getSourceInfoOffset
                    children: []
                    pos: 38623
                    length: 19
                  parameters:
                    type: method_parameters
                    fields: {}
                    children:
                    - type: formal_parameter
                      fields:
                        text: Node provideStringNode
                      children: []
                      pos: 38643
                      length: 22
                    pos: 38611
                    length: 358
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: if_statement
                      fields:
                        condition:
                          type: parenthesized_expression
                          fields:
                            expression:
                              type: equals
                              fields:
                                left:
                                  type: identifier
                                  fields:
                                    text: provideStringNode
                                  children: []
                                  pos: 38679
                                  length: 17
                                right:
                                  type: null_literal
                                  fields: {}
                                  children: []
                                  pos: 38700
                                  length: 4
                              children: []
                              pos: 38679
                              length: 25
                          children: []
                          pos: 38678
                          length: 27
                      children:
                      - type: block
                        fields: {}
                        children:
                        - type: return_statement
                          fields:
                            text: return 0;
                          children: []
                          pos: 38716
                          length: 9
                        pos: 38706
                        length: 27
                      pos: 38675
                      length: 58
                    - type: local_variable_declaration
                      fields:
                        text: int indexOfLastDot = namespace.lastIndexOf('.');
                      children: []
                      pos: 38741
                      length: 48
                    - type: return_statement
                      fields:
                        text: return 2 + indexOfLastDot;
                      children: []
                      pos: 38937
                      length: 26
                    pos: 38667
                    length: 302
                children: []
                pos: 38611
                length: 358
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: getProvideStringNode
                    children: []
                    pos: 38988
                    length: 20
                  parameters:
                    type: method_parameters
                    fields: {}
                    children: []
                    pos: 38975
                    length: 211
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: return_statement
                      fields:
                        text: |-
                          return (firstNode.getFirstChild() != null &&
                                        NodeUtil.isExprCall(firstNode)) ?
                                    firstNode.getFirstChild().getLastChild() :
                                    null;
                      children: []
                      pos: 39019
                      length: 161
                    pos: 39011
                    length: 175
                children: []
                pos: 38975
                length: 211
              pos: 29886
              length: 9304
          children: []
          pos: 29886
          length: 9304
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isNamespacePlaceholder
              children: []
              pos: 39285
              length: 22
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Node n
                children: []
                pos: 39308
                length: 6
              pos: 39262
              length: 454
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: unary_expression
                        fields:
                          text: "!n.getBooleanProp(Node.IS_NAMESPACE)"
                        children: []
                        pos: 39326
                        length: 36
                    children: []
                    pos: 39325
                    length: 38
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return false;
                    children: []
                    pos: 39372
                    length: 13
                  pos: 39364
                  length: 27
                pos: 39322
                length: 69
              - type: local_variable_declaration
                fields:
                  text: Node value = null;
                children: []
                pos: 39397
                length: 18
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: n.isExprResult()
                        children: []
                        pos: 39424
                        length: 16
                    children: []
                    pos: 39423
                    length: 18
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: Node assign = n.getFirstChild();
                    children: []
                    pos: 39450
                    length: 32
                  - type: expression_statement
                    fields:
                      text: value = assign.getLastChild();
                    children: []
                    pos: 39489
                    length: 30
                  pos: 39442
                  length: 83
                pos: 39420
                length: 206
              - type: return_statement
                fields:
                  text: |-
                    return value != null
                          && value.isObjectLit()
                          && !value.hasChildren();
                children: []
                pos: 39632
                length: 80
              pos: 39316
              length: 400
          children: []
          pos: 39262
          length: 454
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: maybeAddStringNodeToSymbolTable
              children: []
              pos: 39901
              length: 31
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Node n
                children: []
                pos: 39933
                length: 6
              pos: 39888
              length: 1228
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: preprocessorSymbolTable
                            children: []
                            pos: 39951
                            length: 23
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 39978
                            length: 4
                        children: []
                        pos: 39951
                        length: 31
                    children: []
                    pos: 39950
                    length: 33
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return;
                    children: []
                    pos: 39992
                    length: 7
                  pos: 39984
                  length: 21
                pos: 39947
                length: 58
              - type: local_variable_declaration
                fields:
                  text: String name = n.getString();
                children: []
                pos: 40011
                length: 28
              - type: local_variable_declaration
                fields:
                  text: |-
                    Node syntheticRef = NodeUtil.newQualifiedNameNode(
                            compiler.getCodingConvention(), name,
                            n /* real source offsets will be filled in below */,
                            name);
                children: []
                pos: 40044
                length: 172
              - type: local_variable_declaration
                fields:
                  text: final int forQuote = 1;
                children: []
                pos: 40289
                length: 23
              - type: local_variable_declaration
                fields:
                  text: final int forDot = 1;
                children: []
                pos: 40317
                length: 21
              - type: local_variable_declaration
                fields:
                  text: Node current = null;
                children: []
                pos: 40344
                length: 20
              - type: for_statement
                fields:
                  text: |-
                    for (current = syntheticRef;
                             current.isGetProp();
                             current = current.getFirstChild()) {
                          int fullLen = current.getQualifiedName().length();
                          int namespaceLen = current.getFirstChild().getQualifiedName().length();

                          current.setSourceEncodedPosition(n.getSourcePosition() + forQuote);
                          current.setLength(fullLen);

                          current.getLastChild().setSourceEncodedPosition(
                              n.getSourcePosition() + namespaceLen + forQuote + forDot);
                          current.getLastChild().setLength(
                              current.getLastChild().getString().length());
                        }
                children: []
                pos: 40369
                length: 575
              - type: expression_statement
                fields:
                  text: current.setSourceEncodedPosition(n.getSourcePosition() + forQuote);
                children: []
                pos: 40950
                length: 67
              - type: expression_statement
                fields:
                  text: current.setLength(current.getString().length());
                children: []
                pos: 41022
                length: 48
              - type: expression_statement
                fields:
                  text: maybeAddToSymbolTable(syntheticRef);
                children: []
                pos: 41076
                length: 36
              pos: 39941
              length: 1175
          children: []
          pos: 39888
          length: 1228
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: maybeAddToSymbolTable
              children: []
              pos: 41205
              length: 21
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Node n
                children: []
                pos: 41227
                length: 6
              pos: 41192
              length: 144
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: preprocessorSymbolTable
                            children: []
                            pos: 41245
                            length: 23
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 41272
                            length: 4
                        children: []
                        pos: 41245
                        length: 31
                    children: []
                    pos: 41244
                    length: 33
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: preprocessorSymbolTable.addReference(n);
                    children: []
                    pos: 41286
                    length: 40
                  pos: 41278
                  length: 54
                pos: 41241
                length: 91
              pos: 41235
              length: 101
          children: []
          pos: 41192
          length: 144
        - type: class_declaration
          fields:
            name:
              type: identifier
              fields:
                text: UnrecognizedRequire
              children: []
              pos: 41523
              length: 19
            body:
              type: class_body
              fields: {}
              children:
              - type: field_declaration
                fields:
                  text: final Node requireNode;
                children: []
                pos: 41549
                length: 23
              - type: field_declaration
                fields:
                  text: final String namespace;
                children: []
                pos: 41577
                length: 23
              - type: field_declaration
                fields:
                  text: final String inputName;
                children: []
                pos: 41605
                length: 23
              - type: constructor_declaration
                fields:
                  text: |-
                    UnrecognizedRequire(Node requireNode, String namespace, String inputName) {
                          this.requireNode = requireNode;
                          this.namespace = namespace;
                          this.inputName = inputName;
                        }
                children: []
                pos: 41634
                length: 187
              pos: 41509
              length: 316
          children: []
          pos: 41509
          length: 316
        pos: 1398
        length: 40429
    children: []
    pos: 1398
    length: 40429
  pos: 0
  length: 41828
after_tree:
  type: program
  fields: {}
  children:
  - type: class_declaration
    fields:
      name:
        type: identifier
        fields:
          text: ProcessClosurePrimitives
        children: []
        pos: 1404
        length: 24
      body:
        type: class_body
        fields: {}
        children:
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType NULL_ARGUMENT_ERROR = DiagnosticType.error(
                    "JSC_NULL_ARGUMENT_ERROR",
                    "method \"{0}\" called without an argument");
          children: []
          pos: 1503
          length: 156
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType EXPECTED_OBJECTLIT_ERROR = DiagnosticType.error(
                    "JSC_EXPECTED_OBJECTLIT_ERROR",
                    "method \"{0}\" expected an object literal argument");
          children: []
          pos: 1663
          length: 175
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType EXPECTED_STRING_ERROR = DiagnosticType.error(
                    "JSC_EXPECTED_STRING_ERROR",
                    "method \"{0}\" expected an object string argument");
          children: []
          pos: 1842
          length: 168
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType INVALID_ARGUMENT_ERROR = DiagnosticType.error(
                    "JSC_INVALID_ARGUMENT_ERROR",
                    "method \"{0}\" called with invalid argument");
          children: []
          pos: 2014
          length: 164
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType INVALID_STYLE_ERROR = DiagnosticType.error(
                    "JSC_INVALID_CSS_NAME_MAP_STYLE_ERROR",
                    "Invalid CSS name map style {0}");
          children: []
          pos: 2182
          length: 158
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType TOO_MANY_ARGUMENTS_ERROR = DiagnosticType.error(
                    "JSC_TOO_MANY_ARGUMENTS_ERROR",
                    "method \"{0}\" called with more than one argument");
          children: []
          pos: 2344
          length: 174
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType DUPLICATE_NAMESPACE_ERROR = DiagnosticType.error(
                    "JSC_DUPLICATE_NAMESPACE_ERROR",
                    "namespace \"{0}\" cannot be provided twice");
          children: []
          pos: 2522
          length: 169
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType FUNCTION_NAMESPACE_ERROR = DiagnosticType.error(
                    "JSC_FUNCTION_NAMESPACE_ERROR",
                    "\"{0}\" cannot be both provided and declared as a function");
          children: []
          pos: 2695
          length: 183
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType MISSING_PROVIDE_ERROR = DiagnosticType.error(
                    "JSC_MISSING_PROVIDE_ERROR",
                    "required \"{0}\" namespace never provided");
          children: []
          pos: 2882
          length: 160
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType LATE_PROVIDE_ERROR = DiagnosticType.error(
                    "JSC_LATE_PROVIDE_ERROR",
                    "required \"{0}\" namespace not provided yet");
          children: []
          pos: 3046
          length: 156
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType INVALID_PROVIDE_ERROR = DiagnosticType.error(
                    "JSC_INVALID_PROVIDE_ERROR",
                    "\"{0}\" is not a valid JS identifier name");
          children: []
          pos: 3206
          length: 160
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType INVALID_DEFINE_NAME_ERROR = DiagnosticType.error(
                    "JSC_INVALID_DEFINE_NAME_ERROR",
                    "\"{0}\" is not a valid JS identifier name");
          children: []
          pos: 3370
          length: 168
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType MISSING_DEFINE_ANNOTATION = DiagnosticType.error(
                    "JSC_INVALID_MISSING_DEFINE_ANNOTATION",
                    "Missing @define annotation");
          children: []
          pos: 3542
          length: 161
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType XMODULE_REQUIRE_ERROR = DiagnosticType.warning(
                    "JSC_XMODULE_REQUIRE_ERROR",
                    "namespace \"{0}\" provided in module {1} " +
                    "but required in module {2}");
          children: []
          pos: 3707
          length: 199
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType NON_STRING_PASSED_TO_SET_CSS_NAME_MAPPING_ERROR =
                    DiagnosticType.error(
                        "JSC_NON_STRING_PASSED_TO_SET_CSS_NAME_MAPPING_ERROR",
                    "goog.setCssNameMapping only takes an object literal with string values");
          children: []
          pos: 3910
          length: 251
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType INVALID_CSS_RENAMING_MAP = DiagnosticType.warning(
                    "INVALID_CSS_RENAMING_MAP",
                    "Invalid entries in css renaming map: {0}");
          children: []
          pos: 4165
          length: 163
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType BASE_CLASS_ERROR = DiagnosticType.error(
                    "JSC_BASE_CLASS_ERROR",
                    "incorrect use of goog.base: {0}");
          children: []
          pos: 4332
          length: 140
        - type: field_declaration
          fields:
            text: static final String GOOG = "goog";
          children: []
          pos: 4512
          length: 34
        - type: field_declaration
          fields:
            text: private final AbstractCompiler compiler;
          children: []
          pos: 4550
          length: 40
        - type: field_declaration
          fields:
            text: private final JSModuleGraph moduleGraph;
          children: []
          pos: 4593
          length: 40
        - type: field_declaration
          fields:
            text: |-
              private final Map<String, ProvidedName> providedNames =
                    Maps.newLinkedHashMap();
          children: []
          pos: 4704
          length: 86
        - type: field_declaration
          fields:
            text: |-
              private final List<UnrecognizedRequire> unrecognizedRequires =
                    Lists.newArrayList();
          children: []
          pos: 4794
          length: 90
        - type: field_declaration
          fields:
            text: private final Set<String> exportedVariables = Sets.newHashSet();
          children: []
          pos: 4887
          length: 64
        - type: field_declaration
          fields:
            text: private final CheckLevel requiresLevel;
          children: []
          pos: 4954
          length: 39
        - type: field_declaration
          fields:
            text: private final PreprocessorSymbolTable preprocessorSymbolTable;
          children: []
          pos: 4996
          length: 62
        - type: field_declaration
          fields:
            text: private final List<Node> defineCalls = Lists.newArrayList();
          children: []
          pos: 5061
          length: 60
        - type: constructor_declaration
          fields:
            text: |-
              ProcessClosurePrimitives(AbstractCompiler compiler,
                    @Nullable PreprocessorSymbolTable preprocessorSymbolTable,
                    CheckLevel requiresLevel) {
                  this.compiler = compiler;
                  this.preprocessorSymbolTable = preprocessorSymbolTable;
                  this.moduleGraph = compiler.getModuleGraph();
                  this.requiresLevel = requiresLevel;

                  // goog is special-cased because it is provided in Closure's base library.
                  providedNames.put(GOOG,
                      new ProvidedName(GOOG, null, null, false /* implicit */));
                }
          children: []
          pos: 5125
          length: 509
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getExportedVariableNames
              children: []
              pos: 5650
              length: 24
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 5638
              length: 74
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return exportedVariables;
                children: []
                pos: 5683
                length: 25
              pos: 5677
              length: 35
          children: []
          pos: 5638
          length: 74
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: process
              children: []
              pos: 5740
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Node externs
                children: []
                pos: 5748
                length: 12
              pos: 5716
              length: 837
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: new NodeTraversal(compiler, this).traverse(root);
                children: []
                pos: 5779
                length: 49
              - type: enhanced_for_statement
                fields:
                  text: |-
                    for (Node n : defineCalls) {
                          replaceGoogDefines(n);
                        }
                children: []
                pos: 5834
                length: 63
              - type: enhanced_for_statement
                fields:
                  text: |-
                    for (ProvidedName pn : providedNames.values()) {
                          pn.replace();
                        }
                children: []
                pos: 5903
                length: 74
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: requiresLevel.isOn()
                        children: []
                        pos: 5987
                        length: 20
                    children: []
                    pos: 5986
                    length: 22
                children:
                - type: block
                  fields: {}
                  children:
                  - type: enhanced_for_statement
                    fields:
                      text: |-
                        for (UnrecognizedRequire r : unrecognizedRequires) {
                                DiagnosticType error;
                                ProvidedName expectedName = providedNames.get(r.namespace);
                                if (expectedName != null && expectedName.firstNode != null) {
                                  // The namespace ended up getting provided after it was required.
                                  error = LATE_PROVIDE_ERROR;
                                } else {
                                  error = MISSING_PROVIDE_ERROR;
                                }

                                compiler.report(JSError.make(
                                    r.inputName, r.requireNode, requiresLevel, error, r.namespace));
                              }
                    children: []
                    pos: 6017
                    length: 526
                  pos: 6009
                  length: 540
                pos: 5983
                length: 566
              pos: 5773
              length: 780
          children: []
          pos: 5716
          length: 837
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: replaceGoogDefines
              children: []
              pos: 6596
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Node n
                children: []
                pos: 6615
                length: 6
              pos: 6583
              length: 524
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: Node parent = n.getParent();
                children: []
                pos: 6629
                length: 28
              - type: expression_statement
                fields:
                  text: Preconditions.checkState(parent.isExprResult());
                children: []
                pos: 6662
                length: 48
              - type: local_variable_declaration
                fields:
                  text: String name = n.getChildAtIndex(1).getString();
                children: []
                pos: 6715
                length: 47
              - type: local_variable_declaration
                fields:
                  text: Node value = n.getChildAtIndex(2).detachFromParent();
                children: []
                pos: 6767
                length: 53
              - type: local_variable_declaration
                fields:
                  text: |-
                    Node replacement = NodeUtil.newQualifiedNameNodeDeclaration(
                            compiler.getCodingConvention(), name, value, n.getJSDocInfo());
                children: []
                pos: 6826
                length: 132
              - type: expression_statement
                fields:
                  text: replacement.useSourceInfoIfMissingFromForTree(n);
                children: []
                pos: 6963
                length: 49
              - type: expression_statement
                fields:
                  text: parent.getParent().replaceChild(parent, replacement);
                children: []
                pos: 7017
                length: 53
              - type: expression_statement
                fields:
                  text: compiler.reportCodeChange();
                children: []
                pos: 7075
                length: 28
              pos: 6623
              length: 484
          children: []
          pos: 6583
          length: 524
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: hotSwapScript
              children: []
              pos: 7135
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Node scriptRoot
                children: []
                pos: 7149
                length: 15
              pos: 7111
              length: 234
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: this.compiler.process(this);
                children: []
                pos: 7313
                length: 28
              pos: 7185
              length: 160
          children: []
          pos: 7111
          length: 234
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: visit
              children: []
              pos: 7373
              length: 5
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: NodeTraversal t
                children: []
                pos: 7379
                length: 15
              pos: 7349
              length: 3474
            body:
              type: block
              fields: {}
              children:
              - type: switch_expression
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: n.getType()
                        children: []
                        pos: 7431
                        length: 11
                    children: []
                    pos: 7430
                    length: 13
                  body:
                    type: switch_block
                    fields:
                      text: |-
                        {
                              case Token.CALL:
                                boolean isExpr = parent.isExprResult();
                                Node left = n.getFirstChild();
                                if (left.isGetProp()) {
                                  Node name = left.getFirstChild();
                                  if (name.isName() &&
                                      GOOG.equals(name.getString())) {
                                    // For the sake of simplicity, we report code changes
                                    // when we see a provides/requires, and don't worry about
                                    // reporting the change when we actually do the replacement.
                                    String methodName = name.getNext().getString();
                                    if ("base".equals(methodName)) {
                                      processBaseClassCall(t, n);
                                    } else if (!isExpr) {
                                      // All other methods must be called in an EXPR.
                                      break;
                                    } else if ("define".equals(methodName)) {
                                      processDefineCall(t, n, parent);
                                    } else if ("require".equals(methodName)) {
                                      processRequireCall(t, n, parent);
                                    } else if ("provide".equals(methodName)) {
                                      processProvideCall(t, n, parent);
                                    } else if ("exportSymbol".equals(methodName)) {
                                      Node arg = left.getNext();
                                      if (arg.isString()) {
                                        int dot = arg.getString().indexOf('.');
                                        if (dot == -1) {
                                          exportedVariables.add(arg.getString());
                                        } else {
                                          exportedVariables.add(arg.getString().substring(0, dot));
                                        }
                                      }
                                    } else if ("addDependency".equals(methodName)) {
                                      CodingConvention convention = compiler.getCodingConvention();
                                      List<String> typeDecls =
                                          convention.identifyTypeDeclarationCall(n);
                                      if (typeDecls != null) {
                                        for (String typeDecl : typeDecls) {
                                          compiler.getTypeRegistry().forwardDeclareType(typeDecl);
                                        }
                                      }

                                      // We can't modify parent, so just create a node that will
                                      // get compiled out.
                                      parent.replaceChild(n, IR.number(0));
                                      compiler.reportCodeChange();
                                    } else if ("setCssNameMapping".equals(methodName)) {
                                      processSetCssNameMapping(t, n, parent);
                                    }
                                  }
                                }
                                break;

                              case Token.ASSIGN:
                              case Token.NAME:
                                // If this is an assignment to a provided name, remove the provided
                                // object.
                                handleCandidateProvideDefinition(t, n, parent);
                                break;

                              case Token.EXPR_RESULT:
                                handleTypedefDefinition(t, n);
                                break;

                              case Token.FUNCTION:
                                // If this is a declaration of a provided named function, this is an
                                // error. Hoisted functions will explode if they're provided.
                                if (t.inGlobalScope() &&
                                    !NodeUtil.isFunctionExpression(n)) {
                                  String name = n.getFirstChild().getString();
                                  ProvidedName pn = providedNames.get(name);
                                  if (pn != null) {
                                    compiler.report(t.makeError(n, FUNCTION_NAMESPACE_ERROR, name));
                                  }
                                }
                                break;

                              case Token.GETPROP:
                                if (n.getFirstChild().isName() &&
                                    !parent.isCall() &&
                                    !parent.isAssign() &&
                                    "goog.base".equals(n.getQualifiedName())) {
                                  reportBadBaseClassUse(t, n, "May only be called directly.");
                                }
                                break;
                            }
                    children: []
                    pos: 7444
                    length: 3375
                children: []
                pos: 7423
                length: 3396
              pos: 7417
              length: 3406
          children: []
          pos: 7349
          length: 3474
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: processRequireCall
              children: []
              pos: 10886
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: NodeTraversal t
                children: []
                pos: 10905
                length: 15
              pos: 10873
              length: 1522
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: Node left = n.getFirstChild();
                children: []
                pos: 10949
                length: 30
              - type: local_variable_declaration
                fields:
                  text: Node arg = left.getNext();
                children: []
                pos: 10984
                length: 26
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: verifyLastArgumentIsString(t, left, arg)
                        children: []
                        pos: 11019
                        length: 40
                    children: []
                    pos: 11018
                    length: 42
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: String ns = arg.getString();
                    children: []
                    pos: 11069
                    length: 28
                  - type: local_variable_declaration
                    fields:
                      text: ProvidedName provided = providedNames.get(ns);
                    children: []
                    pos: 11104
                    length: 46
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: or
                            fields:
                              left:
                                type: equals
                                fields:
                                  left:
                                    type: identifier
                                    fields:
                                      text: provided
                                    children: []
                                    pos: 11161
                                    length: 8
                                  right:
                                    type: null_literal
                                    fields: {}
                                    children: []
                                    pos: 11173
                                    length: 4
                                children: []
                                pos: 11161
                                length: 16
                              right:
                                type: unary_expression
                                fields:
                                  text: "!provided.isExplicitlyProvided()"
                                children: []
                                pos: 11181
                                length: 32
                            children: []
                            pos: 11161
                            length: 52
                        children: []
                        pos: 11160
                        length: 54
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: |-
                            unrecognizedRequires.add(
                                        new UnrecognizedRequire(n, ns, t.getSourceName()));
                        children: []
                        pos: 11225
                        length: 89
                      pos: 11215
                      length: 107
                    pos: 11157
                    length: 719
                  - type: expression_statement
                    fields:
                      text: maybeAddToSymbolTable(left);
                    children: []
                    pos: 11884
                    length: 28
                  - type: expression_statement
                    fields:
                      text: maybeAddStringNodeToSymbolTable(arg);
                    children: []
                    pos: 11919
                    length: 37
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: not_equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: provided
                                children: []
                                pos: 12286
                                length: 8
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 12298
                                length: 4
                            children: []
                            pos: 12286
                            length: 16
                        children: []
                        pos: 12285
                        length: 18
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: parent.detachFromParent();
                        children: []
                        pos: 12314
                        length: 26
                      - type: expression_statement
                        fields:
                          text: compiler.reportCodeChange();
                        children: []
                        pos: 12349
                        length: 28
                      pos: 12304
                      length: 81
                    pos: 12282
                    length: 103
                  pos: 11061
                  length: 1330
                pos: 11015
                length: 1376
              pos: 10943
              length: 1452
          children: []
          pos: 10873
          length: 1522
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: processProvideCall
              children: []
              pos: 12458
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: NodeTraversal t
                children: []
                pos: 12477
                length: 15
              pos: 12445
              length: 836
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: Node left = n.getFirstChild();
                children: []
                pos: 12521
                length: 30
              - type: local_variable_declaration
                fields:
                  text: Node arg = left.getNext();
                children: []
                pos: 12556
                length: 26
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: verifyProvide(t, left, arg)
                        children: []
                        pos: 12591
                        length: 27
                    children: []
                    pos: 12590
                    length: 29
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: String ns = arg.getString();
                    children: []
                    pos: 12628
                    length: 28
                  - type: expression_statement
                    fields:
                      text: maybeAddToSymbolTable(left);
                    children: []
                    pos: 12664
                    length: 28
                  - type: expression_statement
                    fields:
                      text: maybeAddStringNodeToSymbolTable(arg);
                    children: []
                    pos: 12699
                    length: 37
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: method_invocation
                            fields:
                              text: providedNames.containsKey(ns)
                            children: []
                            pos: 12748
                            length: 29
                        children: []
                        pos: 12747
                        length: 31
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: local_variable_declaration
                        fields:
                          text: ProvidedName previouslyProvided = providedNames.get(ns);
                        children: []
                        pos: 12789
                        length: 56
                      - type: if_statement
                        fields:
                          condition:
                            type: parenthesized_expression
                            fields:
                              expression:
                                type: unary_expression
                                fields:
                                  text: "!previouslyProvided.isExplicitlyProvided()"
                                children: []
                                pos: 12858
                                length: 42
                            children: []
                            pos: 12857
                            length: 44
                        children:
                        - type: block
                          fields: {}
                          children:
                          - type: expression_statement
                            fields:
                              text: previouslyProvided.addProvide(parent, t.getModule(),
                                true);
                            children: []
                            pos: 12914
                            length: 59
                          pos: 12902
                          length: 81
                        pos: 12854
                        length: 235
                      pos: 12779
                      length: 318
                    pos: 12744
                    length: 527
                  pos: 12620
                  length: 657
                pos: 12587
                length: 690
              pos: 12515
              length: 766
          children: []
          pos: 12445
          length: 836
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: processDefineCall
              children: []
              pos: 13345
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: NodeTraversal t
                children: []
                pos: 13363
                length: 15
              pos: 13332
              length: 412
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: Node left = n.getFirstChild();
                children: []
                pos: 13407
                length: 30
              - type: local_variable_declaration
                fields:
                  text: Node args = left.getNext();
                children: []
                pos: 13442
                length: 27
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: verifyDefine(t, parent, left, args)
                        children: []
                        pos: 13478
                        length: 35
                    children: []
                    pos: 13477
                    length: 37
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: Node nameNode = args;
                    children: []
                    pos: 13523
                    length: 21
                  - type: local_variable_declaration
                    fields:
                      text: String name = args.getString();
                    children: []
                    pos: 13551
                    length: 31
                  - type: local_variable_declaration
                    fields:
                      text: Node value = args.getNext();
                    children: []
                    pos: 13589
                    length: 28
                  - type: expression_statement
                    fields:
                      text: maybeAddToSymbolTable(left);
                    children: []
                    pos: 13625
                    length: 28
                  - type: expression_statement
                    fields:
                      text: maybeAddStringNodeToSymbolTable(nameNode);
                    children: []
                    pos: 13660
                    length: 42
                  - type: expression_statement
                    fields:
                      text: this.defineCalls.add(n);
                    children: []
                    pos: 13710
                    length: 24
                  pos: 13515
                  length: 225
                pos: 13474
                length: 266
              pos: 13401
              length: 343
          children: []
          pos: 13332
          length: 412
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: handleTypedefDefinition
              children: []
              pos: 13865
              length: 23
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: NodeTraversal t
                children: []
                pos: 13896
                length: 15
              pos: 13852
              length: 430
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: JSDocInfo info = n.getFirstChild().getJSDocInfo();
                children: []
                pos: 13927
                length: 50
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: and
                        fields:
                          left:
                            type: and
                            fields:
                              left:
                                type: method_invocation
                                fields:
                                  text: t.inGlobalScope()
                                children: []
                                pos: 13986
                                length: 17
                              right:
                                type: not_equals
                                fields:
                                  left:
                                    type: identifier
                                    fields:
                                      text: info
                                    children: []
                                    pos: 14007
                                    length: 4
                                  right:
                                    type: null_literal
                                    fields: {}
                                    children: []
                                    pos: 14015
                                    length: 4
                                children: []
                                pos: 14007
                                length: 12
                            children: []
                            pos: 13986
                            length: 33
                          right:
                            type: method_invocation
                            fields:
                              text: info.hasTypedefType()
                            children: []
                            pos: 14023
                            length: 21
                        children: []
                        pos: 13986
                        length: 58
                    children: []
                    pos: 13985
                    length: 60
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: String name = n.getFirstChild().getQualifiedName();
                    children: []
                    pos: 14054
                    length: 51
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: not_equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: name
                                children: []
                                pos: 14116
                                length: 4
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 14124
                                length: 4
                            children: []
                            pos: 14116
                            length: 12
                        children: []
                        pos: 14115
                        length: 14
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: local_variable_declaration
                        fields:
                          text: ProvidedName pn = providedNames.get(name);
                        children: []
                        pos: 14140
                        length: 42
                      - type: if_statement
                        fields:
                          condition:
                            type: parenthesized_expression
                            fields:
                              expression:
                                type: not_equals
                                fields:
                                  left:
                                    type: identifier
                                    fields:
                                      text: pn
                                    children: []
                                    pos: 14195
                                    length: 2
                                  right:
                                    type: null_literal
                                    fields: {}
                                    children: []
                                    pos: 14201
                                    length: 4
                                children: []
                                pos: 14195
                                length: 10
                            children: []
                            pos: 14194
                            length: 12
                        children:
                        - type: block
                          fields: {}
                          children:
                          - type: expression_statement
                            fields:
                              text: pn.addDefinition(n, t.getModule());
                            children: []
                            pos: 14219
                            length: 35
                          pos: 14207
                          length: 57
                        pos: 14191
                        length: 73
                      pos: 14130
                      length: 142
                    pos: 14112
                    length: 160
                  pos: 14046
                  length: 232
                pos: 13982
                length: 296
              pos: 13921
              length: 361
          children: []
          pos: 13852
          length: 430
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: handleCandidateProvideDefinition
              children: []
              pos: 14373
              length: 32
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: NodeTraversal t
                children: []
                pos: 14413
                length: 15
              pos: 14360
              length: 681
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: t.inGlobalScope()
                        children: []
                        pos: 14461
                        length: 17
                    children: []
                    pos: 14460
                    length: 19
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: String name = null;
                    children: []
                    pos: 14488
                    length: 19
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: and
                            fields:
                              left:
                                type: method_invocation
                                fields:
                                  text: n.isName()
                                children: []
                                pos: 14518
                                length: 10
                              right:
                                type: method_invocation
                                fields:
                                  text: parent.isVar()
                                children: []
                                pos: 14532
                                length: 14
                            children: []
                            pos: 14518
                            length: 28
                        children: []
                        pos: 14517
                        length: 30
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: name = n.getString();
                        children: []
                        pos: 14558
                        length: 21
                      pos: 14548
                      length: 39
                    pos: 14514
                    length: 194
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: not_equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: name
                                children: []
                                pos: 14720
                                length: 4
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 14728
                                length: 4
                            children: []
                            pos: 14720
                            length: 12
                        children: []
                        pos: 14719
                        length: 14
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: if_statement
                        fields:
                          condition:
                            type: parenthesized_expression
                            fields:
                              expression:
                                type: method_invocation
                                fields:
                                  text: parent.getBooleanProp(Node.IS_NAMESPACE)
                                children: []
                                pos: 14748
                                length: 40
                            children: []
                            pos: 14747
                            length: 42
                        children:
                        - type: block
                          fields: {}
                          children:
                          - type: expression_statement
                            fields:
                              text: processProvideFromPreviousPass(t, name, parent);
                            children: []
                            pos: 14802
                            length: 48
                          pos: 14790
                          length: 70
                        pos: 14744
                        length: 279
                      pos: 14734
                      length: 297
                    pos: 14716
                    length: 315
                  pos: 14480
                  length: 557
                pos: 14457
                length: 580
              pos: 14451
              length: 590
          children: []
          pos: 14360
          length: 681
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: processBaseClassCall
              children: []
              pos: 15106
              length: 20
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: NodeTraversal t
                children: []
                pos: 15127
                length: 15
              pos: 15093
              length: 3611
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: Node callee = n.getFirstChild();
                children: []
                pos: 16023
                length: 32
              - type: local_variable_declaration
                fields:
                  text: Node thisArg = callee.getNext();
                children: []
                pos: 16060
                length: 32
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: thisArg
                                children: []
                                pos: 16101
                                length: 7
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 16112
                                length: 4
                            children: []
                            pos: 16101
                            length: 15
                          right:
                            type: unary_expression
                            fields:
                              text: "!thisArg.isThis()"
                            children: []
                            pos: 16120
                            length: 17
                        children: []
                        pos: 16101
                        length: 36
                    children: []
                    pos: 16100
                    length: 38
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: reportBadBaseClassUse(t, n, "First argument must be 'this'.");
                    children: []
                    pos: 16147
                    length: 62
                  - type: return_statement
                    fields:
                      text: return;
                    children: []
                    pos: 16216
                    length: 7
                  pos: 16139
                  length: 90
                pos: 16097
                length: 132
              - type: local_variable_declaration
                fields:
                  text: Node enclosingFnNameNode = getEnclosingDeclNameNode(t);
                children: []
                pos: 16235
                length: 55
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: enclosingFnNameNode
                            children: []
                            pos: 16299
                            length: 19
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 16322
                            length: 4
                        children: []
                        pos: 16299
                        length: 27
                    children: []
                    pos: 16298
                    length: 29
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: reportBadBaseClassUse(t, n, "Could not find enclosing
                        method.");
                    children: []
                    pos: 16336
                    length: 64
                  - type: return_statement
                    fields:
                      text: return;
                    children: []
                    pos: 16407
                    length: 7
                  pos: 16328
                  length: 92
                pos: 16295
                length: 125
              - type: local_variable_declaration
                fields:
                  text: String enclosingQname = enclosingFnNameNode.getQualifiedName();
                children: []
                pos: 16426
                length: 63
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: method_invocation
                            fields:
                              text: enclosingQname.indexOf(".prototype.")
                            children: []
                            pos: 16498
                            length: 37
                          right:
                            type: unary_expression
                            fields:
                              text: "-1"
                            children: []
                            pos: 16539
                            length: 2
                        children: []
                        pos: 16498
                        length: 43
                    children: []
                    pos: 16497
                    length: 45
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: Node enclosingParent = enclosingFnNameNode.getParent();
                    children: []
                    pos: 16581
                    length: 55
                  - type: local_variable_declaration
                    fields:
                      text: |-
                        Node maybeInheritsExpr = (enclosingParent.isAssign() ?
                                  enclosingParent.getParent() : enclosingParent).getNext();
                    children: []
                    pos: 16643
                    length: 122
                  - type: local_variable_declaration
                    fields:
                      text: Node baseClassNode = null;
                    children: []
                    pos: 16772
                    length: 26
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: and
                            fields:
                              left:
                                type: and
                                fields:
                                  left:
                                    type: not_equals
                                    fields:
                                      left:
                                        type: identifier
                                        fields:
                                          text: maybeInheritsExpr
                                        children: []
                                        pos: 16809
                                        length: 17
                                      right:
                                        type: null_literal
                                        fields: {}
                                        children: []
                                        pos: 16830
                                        length: 4
                                    children: []
                                    pos: 16809
                                    length: 25
                                  right:
                                    type: method_invocation
                                    fields:
                                      text: maybeInheritsExpr.isExprResult()
                                    children: []
                                    pos: 16848
                                    length: 32
                                children: []
                                pos: 16809
                                length: 71
                              right:
                                type: method_invocation
                                fields:
                                  text: maybeInheritsExpr.getFirstChild().isCall()
                                children: []
                                pos: 16894
                                length: 42
                            children: []
                            pos: 16809
                            length: 127
                        children: []
                        pos: 16808
                        length: 129
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: local_variable_declaration
                        fields:
                          text: Node callNode = maybeInheritsExpr.getFirstChild();
                        children: []
                        pos: 16948
                        length: 50
                      - type: if_statement
                        fields:
                          condition:
                            type: parenthesized_expression
                            fields:
                              expression:
                                type: and
                                fields:
                                  left:
                                    type: method_invocation
                                    fields:
                                      text: |-
                                        "goog.inherits".equals(
                                                        callNode.getFirstChild().getQualifiedName())
                                    children: []
                                    pos: 17011
                                    length: 84
                                  right:
                                    type: method_invocation
                                    fields:
                                      text: callNode.getLastChild().isQualifiedName()
                                    children: []
                                    pos: 17111
                                    length: 41
                                children: []
                                pos: 17011
                                length: 141
                            children: []
                            pos: 17010
                            length: 143
                        children:
                        - type: block
                          fields: {}
                          children:
                          - type: expression_statement
                            fields:
                              text: baseClassNode = callNode.getLastChild();
                            children: []
                            pos: 17166
                            length: 40
                          pos: 17154
                          length: 62
                        pos: 17007
                        length: 209
                      pos: 16938
                      length: 286
                    pos: 16805
                    length: 419
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: baseClassNode
                                children: []
                                pos: 17236
                                length: 13
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 17253
                                length: 4
                            children: []
                            pos: 17236
                            length: 21
                        children: []
                        pos: 17235
                        length: 23
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: |-
                            reportBadBaseClassUse(
                                        t, n, "Could not find goog.inherits for base class");
                        children: []
                        pos: 17269
                        length: 88
                      - type: return_statement
                        fields:
                          text: return;
                        children: []
                        pos: 17366
                        length: 7
                      pos: 17259
                      length: 122
                    pos: 17232
                    length: 149
                  - type: expression_statement
                    fields:
                      text: |-
                        n.replaceChild(
                                  callee,
                                  NodeUtil.newQualifiedNameNode(
                                    compiler.getCodingConvention(),
                                    String.format("%s.call", baseClassNode.getQualifiedName()),
                                    callee, "goog.base"));
                    children: []
                    pos: 17416
                    length: 225
                  - type: expression_statement
                    fields:
                      text: compiler.reportCodeChange();
                    children: []
                    pos: 17648
                    length: 28
                  pos: 16543
                  length: 1139
                pos: 16494
                length: 2206
              pos: 15152
              length: 3552
          children: []
          pos: 15093
          length: 3611
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getEnclosingDeclNameNode
              children: []
              pos: 18844
              length: 24
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: NodeTraversal t
                children: []
                pos: 18869
                length: 15
              pos: 18831
              length: 667
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: Node scopeRoot = t.getScopeRoot();
                children: []
                pos: 18892
                length: 34
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: NodeUtil.isFunctionDeclaration(scopeRoot)
                        children: []
                        pos: 18935
                        length: 41
                    children: []
                    pos: 18934
                    length: 43
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return scopeRoot.getFirstChild();
                    children: []
                    pos: 19014
                    length: 33
                  pos: 18978
                  length: 75
                pos: 18931
                length: 545
              - type: return_statement
                fields:
                  text: return null;
                children: []
                pos: 19482
                length: 12
              pos: 18886
              length: 612
          children: []
          pos: 18831
          length: 667
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: reportBadBaseClassUse
              children: []
              pos: 19574
              length: 21
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: NodeTraversal t
                children: []
                pos: 19603
                length: 15
              pos: 19561
              length: 162
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: compiler.report(t.makeError(n, BASE_CLASS_ERROR, extraMessage));
                children: []
                pos: 19655
                length: 64
              pos: 19649
              length: 74
          children: []
          pos: 19561
          length: 162
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: processProvideFromPreviousPass
              children: []
              pos: 19939
              length: 30
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: NodeTraversal t
                children: []
                pos: 19977
                length: 15
              pos: 19926
              length: 993
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: unary_expression
                        fields:
                          text: "!providedNames.containsKey(name)"
                        children: []
                        pos: 20030
                        length: 32
                    children: []
                    pos: 20029
                    length: 34
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: Node expr = new Node(Token.EXPR_RESULT);
                    children: []
                    pos: 20217
                    length: 40
                  - type: expression_statement
                    fields:
                      text: expr.copyInformationFromForTree(parent);
                    children: []
                    pos: 20264
                    length: 40
                  - type: expression_statement
                    fields:
                      text: parent.getParent().addChildBefore(expr, parent);
                    children: []
                    pos: 20311
                    length: 48
                  - type: expression_statement
                    fields:
                      text: compiler.reportCodeChange();
                    children: []
                    pos: 20366
                    length: 28
                  - type: local_variable_declaration
                    fields:
                      text: JSModule module = t.getModule();
                    children: []
                    pos: 20402
                    length: 32
                  - type: expression_statement
                    fields:
                      text: registerAnyProvidedPrefixes(name, expr, module);
                    children: []
                    pos: 20441
                    length: 48
                  - type: local_variable_declaration
                    fields:
                      text: ProvidedName provided = new ProvidedName(name, expr, module,
                        true);
                    children: []
                    pos: 20497
                    length: 67
                  - type: expression_statement
                    fields:
                      text: providedNames.put(name, provided);
                    children: []
                    pos: 20571
                    length: 34
                  - type: expression_statement
                    fields:
                      text: provided.addDefinition(parent, module);
                    children: []
                    pos: 20612
                    length: 39
                  pos: 20064
                  length: 593
                pos: 20026
                length: 889
              pos: 20020
              length: 899
          children: []
          pos: 19926
          length: 993
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: processSetCssNameMapping
              children: []
              pos: 21270
              length: 24
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: NodeTraversal t
                children: []
                pos: 21295
                length: 15
              pos: 21257
              length: 3268
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: Node left = n.getFirstChild();
                children: []
                pos: 21339
                length: 30
              - type: local_variable_declaration
                fields:
                  text: Node arg = left.getNext();
                children: []
                pos: 21374
                length: 26
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: verifySetCssNameMapping(t, left, arg)
                        children: []
                        pos: 21409
                        length: 37
                    children: []
                    pos: 21408
                    length: 39
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: final Map<String, String> cssNames = Maps.newHashMap();
                    children: []
                    pos: 21581
                    length: 55
                  - type: for_statement
                    fields:
                      text: |-
                        for (Node key = arg.getFirstChild(); key != null;
                                  key = key.getNext()) {
                                Node value = key.getFirstChild();
                                if (!key.isStringKey()
                                    || value == null
                                    || !value.isString()) {
                                  compiler.report(
                                      t.makeError(n,
                                          NON_STRING_PASSED_TO_SET_CSS_NAME_MAPPING_ERROR));
                                  return;
                                }
                                cssNames.put(key.getString(), value.getString());
                              }
                    children: []
                    pos: 21644
                    length: 439
                  - type: local_variable_declaration
                    fields:
                      text: String styleStr = "BY_PART";
                    children: []
                    pos: 22091
                    length: 28
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: not_equals
                            fields:
                              left:
                                type: method_invocation
                                fields:
                                  text: arg.getNext()
                                children: []
                                pos: 22130
                                length: 13
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 22147
                                length: 4
                            children: []
                            pos: 22130
                            length: 21
                        children: []
                        pos: 22129
                        length: 23
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: styleStr = arg.getNext().getString();
                        children: []
                        pos: 22163
                        length: 37
                      pos: 22153
                      length: 55
                    pos: 22126
                    length: 82
                  - type: local_variable_declaration
                    fields:
                      text: final CssRenamingMap.Style style;
                    children: []
                    pos: 22216
                    length: 33
                  - type: try_statement
                    fields:
                      body:
                        type: block
                        fields: {}
                        children:
                        - type: expression_statement
                          fields:
                            text: style = CssRenamingMap.Style.valueOf(styleStr);
                          children: []
                          pos: 22270
                          length: 47
                        pos: 22260
                        length: 65
                      excepts:
                        type: excepts
                        fields: {}
                        children:
                        - type: catch_clause
                          fields:
                            text: |-
                              catch (IllegalArgumentException e) {
                                      compiler.report(
                                          t.makeError(n, INVALID_STYLE_ERROR, styleStr));
                                      return;
                                    }
                          children: []
                          pos: 22326
                          length: 145
                        pos: 22256
                        length: 215
                    children: []
                    pos: 22256
                    length: 215
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: style
                                children: []
                                pos: 22483
                                length: 5
                              right:
                                type: field_access
                                fields:
                                  text: CssRenamingMap.Style.BY_PART
                                children: []
                                pos: 22492
                                length: 28
                            children: []
                            pos: 22483
                            length: 37
                        children: []
                        pos: 22482
                        length: 39
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: local_variable_declaration
                        fields:
                          text: List<String> errors = Lists.newArrayList();
                        children: []
                        pos: 22578
                        length: 43
                      - type: enhanced_for_statement
                        fields:
                          text: |-
                            for (String key : cssNames.keySet()) {
                                      if (key.contains("-")) {
                                        errors.add(key);
                                      }
                                    }
                        children: []
                        pos: 22630
                        length: 124
                      - type: if_statement
                        fields:
                          condition:
                            type: parenthesized_expression
                            fields:
                              expression:
                                type: not_equals
                                fields:
                                  left:
                                    type: method_invocation
                                    fields:
                                      text: errors.size()
                                    children: []
                                    pos: 22767
                                    length: 13
                                  right:
                                    type: decimal_integer_literal
                                    fields:
                                      text: '0'
                                    children: []
                                    pos: 22784
                                    length: 1
                                children: []
                                pos: 22767
                                length: 18
                            children: []
                            pos: 22766
                            length: 20
                        children:
                        - type: block
                          fields: {}
                          children:
                          - type: expression_statement
                            fields:
                              text: |-
                                compiler.report(
                                            t.makeError(n, INVALID_CSS_RENAMING_MAP, errors.toString()));
                            children: []
                            pos: 22799
                            length: 90
                          pos: 22787
                          length: 112
                        pos: 22763
                        length: 136
                      pos: 22522
                      length: 385
                    pos: 22479
                    length: 1520
                  - type: local_variable_declaration
                    fields:
                      text: |-
                        CssRenamingMap cssRenamingMap = new CssRenamingMap() {
                                @Override
                                public String get(String value) {
                                  if (cssNames.containsKey(value)) {
                                    return cssNames.get(value);
                                  } else {
                                    return value;
                                  }
                                }

                                @Override
                                public CssRenamingMap.Style getStyle() {
                                  return style;
                                }
                              };
                    children: []
                    pos: 24007
                    length: 377
                  - type: expression_statement
                    fields:
                      text: compiler.setCssRenamingMap(cssRenamingMap);
                    children: []
                    pos: 24391
                    length: 43
                  - type: expression_statement
                    fields:
                      text: parent.getParent().removeChild(parent);
                    children: []
                    pos: 24441
                    length: 39
                  - type: expression_statement
                    fields:
                      text: compiler.reportCodeChange();
                    children: []
                    pos: 24487
                    length: 28
                  pos: 21448
                  length: 3073
                pos: 21405
                length: 3116
              pos: 21333
              length: 3192
          children: []
          pos: 21257
          length: 3268
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: verifyProvide
              children: []
              pos: 24817
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: NodeTraversal t
                children: []
                pos: 24831
                length: 15
              pos: 24801
              length: 394
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: unary_expression
                        fields:
                          text: "!verifyLastArgumentIsString(t, methodName, arg)"
                        children: []
                        pos: 24885
                        length: 47
                    children: []
                    pos: 24884
                    length: 49
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return false;
                    children: []
                    pos: 24942
                    length: 13
                  pos: 24934
                  length: 27
                pos: 24881
                length: 80
              - type: enhanced_for_statement
                fields:
                  text: |-
                    for (String part : arg.getString().split("\\.")) {
                          if (!NodeUtil.isValidPropertyName(part)) {
                            compiler.report(t.makeError(arg, INVALID_PROVIDE_ERROR, part));
                            return false;
                          }
                        }
                children: []
                pos: 24967
                length: 207
              - type: return_statement
                fields:
                  text: return true;
                children: []
                pos: 25179
                length: 12
              pos: 24875
              length: 320
          children: []
          pos: 24801
          length: 394
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: verifyDefine
              children: []
              pos: 25487
              length: 12
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: NodeTraversal t
                children: []
                pos: 25500
                length: 15
              pos: 25471
              length: 906
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: Node arg = args;
                children: []
                pos: 25599
                length: 16
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: unary_expression
                            fields:
                              text: "!verifyNotNull(t, methodName, arg)"
                            children: []
                            pos: 25624
                            length: 34
                          right:
                            type: unary_expression
                            fields:
                              text: "!verifyOfType(t, methodName, arg, Token.STRING)"
                            children: []
                            pos: 25670
                            length: 47
                        children: []
                        pos: 25624
                        length: 93
                    children: []
                    pos: 25623
                    length: 95
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return false;
                    children: []
                    pos: 25727
                    length: 13
                  pos: 25719
                  length: 27
                pos: 25620
                length: 126
              - type: expression_statement
                fields:
                  text: arg = arg.getNext();
                children: []
                pos: 25777
                length: 20
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: unary_expression
                            fields:
                              text: "!verifyNotNull(t, methodName, arg)"
                            children: []
                            pos: 25806
                            length: 34
                          right:
                            type: unary_expression
                            fields:
                              text: "!verifyIsLast(t, methodName, arg)"
                            children: []
                            pos: 25852
                            length: 33
                        children: []
                        pos: 25806
                        length: 79
                    children: []
                    pos: 25805
                    length: 81
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return false;
                    children: []
                    pos: 25895
                    length: 13
                  pos: 25887
                  length: 27
                pos: 25802
                length: 112
              - type: local_variable_declaration
                fields:
                  text: String name = args.getString();
                children: []
                pos: 25920
                length: 31
              - type: enhanced_for_statement
                fields:
                  text: |-
                    for (String part : name.split("\\.")) {
                          if (!NodeUtil.isValidQualifiedName(part)) {
                            compiler.report(t.makeError(args, INVALID_DEFINE_NAME_ERROR, name));
                            return false;
                          }
                        }
                children: []
                pos: 25956
                length: 202
              - type: local_variable_declaration
                fields:
                  text: JSDocInfo info = expr.getFirstChild().getJSDocInfo();
                children: []
                pos: 26164
                length: 53
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: info
                                children: []
                                pos: 26226
                                length: 4
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 26234
                                length: 4
                            children: []
                            pos: 26226
                            length: 12
                          right:
                            type: unary_expression
                            fields:
                              text: "!info.isDefine()"
                            children: []
                            pos: 26242
                            length: 16
                        children: []
                        pos: 26226
                        length: 32
                    children: []
                    pos: 26225
                    length: 34
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: compiler.report(t.makeError(expr, MISSING_DEFINE_ANNOTATION));
                    children: []
                    pos: 26268
                    length: 62
                  - type: return_statement
                    fields:
                      text: return false;
                    children: []
                    pos: 26337
                    length: 13
                  pos: 26260
                  length: 96
                pos: 26222
                length: 134
              - type: return_statement
                fields:
                  text: return true;
                children: []
                pos: 26361
                length: 12
              pos: 25568
              length: 809
          children: []
          pos: 25471
          length: 906
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: verifyLastArgumentIsString
              children: []
              pos: 26600
              length: 26
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: NodeTraversal t
                children: []
                pos: 26634
                length: 15
              pos: 26584
              length: 247
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return verifyNotNull(t, methodName, arg) &&
                            verifyOfType(t, methodName, arg, Token.STRING) &&
                            verifyIsLast(t, methodName, arg);
                children: []
                pos: 26684
                length: 143
              pos: 26678
              length: 153
          children: []
          pos: 26584
          length: 247
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: verifyNotNull
              children: []
              pos: 26914
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: NodeTraversal t
                children: []
                pos: 26928
                length: 15
              pos: 26898
              length: 270
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: arg
                            children: []
                            pos: 26982
                            length: 3
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 26989
                            length: 4
                        children: []
                        pos: 26982
                        length: 11
                    children: []
                    pos: 26981
                    length: 13
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: |-
                        compiler.report(
                                  t.makeError(methodName,
                                      NULL_ARGUMENT_ERROR, methodName.getQualifiedName()));
                    children: []
                    pos: 27003
                    length: 118
                  - type: return_statement
                    fields:
                      text: return false;
                    children: []
                    pos: 27128
                    length: 13
                  pos: 26995
                  length: 152
                pos: 26978
                length: 169
              - type: return_statement
                fields:
                  text: return true;
                children: []
                pos: 27152
                length: 12
              pos: 26972
              length: 196
          children: []
          pos: 26898
          length: 270
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: verifyOfType
              children: []
              pos: 27251
              length: 12
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: NodeTraversal t
                children: []
                pos: 27264
                length: 15
              pos: 27235
              length: 312
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: method_invocation
                            fields:
                              text: arg.getType()
                            children: []
                            pos: 27341
                            length: 13
                          right:
                            type: identifier
                            fields:
                              text: desiredType
                            children: []
                            pos: 27358
                            length: 11
                        children: []
                        pos: 27341
                        length: 28
                    children: []
                    pos: 27340
                    length: 30
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: |-
                        compiler.report(
                                  t.makeError(methodName,
                                      INVALID_ARGUMENT_ERROR, methodName.getQualifiedName()));
                    children: []
                    pos: 27379
                    length: 121
                  - type: return_statement
                    fields:
                      text: return false;
                    children: []
                    pos: 27507
                    length: 13
                  pos: 27371
                  length: 155
                pos: 27337
                length: 189
              - type: return_statement
                fields:
                  text: return true;
                children: []
                pos: 27531
                length: 12
              pos: 27331
              length: 216
          children: []
          pos: 27235
          length: 312
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: verifyIsLast
              children: []
              pos: 27630
              length: 12
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: NodeTraversal t
                children: []
                pos: 27643
                length: 15
              pos: 27614
              length: 284
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: method_invocation
                            fields:
                              text: arg.getNext()
                            children: []
                            pos: 27697
                            length: 13
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 27714
                            length: 4
                        children: []
                        pos: 27697
                        length: 21
                    children: []
                    pos: 27696
                    length: 23
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: |-
                        compiler.report(
                                  t.makeError(methodName,
                                      TOO_MANY_ARGUMENTS_ERROR, methodName.getQualifiedName()));
                    children: []
                    pos: 27728
                    length: 123
                  - type: return_statement
                    fields:
                      text: return false;
                    children: []
                    pos: 27858
                    length: 13
                  pos: 27720
                  length: 157
                pos: 27693
                length: 184
              - type: return_statement
                fields:
                  text: return true;
                children: []
                pos: 27882
                length: 12
              pos: 27687
              length: 211
          children: []
          pos: 27614
          length: 284
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: verifySetCssNameMapping
              children: []
              pos: 28060
              length: 23
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: NodeTraversal t
                children: []
                pos: 28084
                length: 15
              pos: 28044
              length: 758
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: DiagnosticType diagnostic = null;
                children: []
                pos: 28145
                length: 33
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: firstArg
                            children: []
                            pos: 28187
                            length: 8
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 28199
                            length: 4
                        children: []
                        pos: 28187
                        length: 16
                    children: []
                    pos: 28186
                    length: 18
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: diagnostic = NULL_ARGUMENT_ERROR;
                    children: []
                    pos: 28213
                    length: 33
                  pos: 28205
                  length: 47
                pos: 28183
                length: 426
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: diagnostic
                            children: []
                            pos: 28618
                            length: 10
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 28632
                            length: 4
                        children: []
                        pos: 28618
                        length: 18
                    children: []
                    pos: 28617
                    length: 20
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: |-
                        compiler.report(
                                  t.makeError(methodName,
                                      diagnostic, methodName.getQualifiedName()));
                    children: []
                    pos: 28646
                    length: 109
                  - type: return_statement
                    fields:
                      text: return false;
                    children: []
                    pos: 28762
                    length: 13
                  pos: 28638
                  length: 143
                pos: 28614
                length: 167
              - type: return_statement
                fields:
                  text: return true;
                children: []
                pos: 28786
                length: 12
              pos: 28139
              length: 663
          children: []
          pos: 28044
          length: 758
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: registerAnyProvidedPrefixes
              children: []
              pos: 29166
              length: 27
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String ns
                children: []
                pos: 29201
                length: 9
              pos: 29153
              length: 532
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: int pos = ns.indexOf('.');
                children: []
                pos: 29246
                length: 26
              - type: while_statement
                fields:
                  text: |-
                    while (pos != -1) {
                          String prefixNs = ns.substring(0, pos);
                          pos = ns.indexOf('.', pos + 1);
                          if (providedNames.containsKey(prefixNs)) {
                            providedNames.get(prefixNs).addProvide(
                                node, module, false /* implicit */);
                          } else {
                            providedNames.put(
                                prefixNs,
                                new ProvidedName(prefixNs, node, module, false /* implicit */));
                          }
                        }
                children: []
                pos: 29277
                length: 404
              pos: 29240
              length: 445
          children: []
          pos: 29153
          length: 532
        - type: class_declaration
          fields:
            name:
              type: identifier
              fields:
                text: ProvidedName
              children: []
              pos: 29876
              length: 12
            body:
              type: class_body
              fields: {}
              children:
              - type: field_declaration
                fields:
                  text: private final String namespace;
                children: []
                pos: 29895
                length: 31
              - type: field_declaration
                fields:
                  text: private final Node firstNode;
                children: []
                pos: 30025
                length: 29
              - type: field_declaration
                fields:
                  text: private final JSModule firstModule;
                children: []
                pos: 30059
                length: 35
              - type: field_declaration
                fields:
                  text: private Node explicitNode = null;
                children: []
                pos: 30228
                length: 33
              - type: field_declaration
                fields:
                  text: private JSModule explicitModule = null;
                children: []
                pos: 30266
                length: 39
              - type: field_declaration
                fields:
                  text: private Node candidateDefinition = null;
                children: []
                pos: 30344
                length: 40
              - type: field_declaration
                fields:
                  text: private JSModule minimumModule = null;
                children: []
                pos: 30447
                length: 38
              - type: field_declaration
                fields:
                  text: private Node replacementNode = null;
                children: []
                pos: 30527
                length: 36
              - type: constructor_declaration
                fields:
                  text: |-
                    ProvidedName(String namespace, Node node, JSModule module,
                            boolean explicit) {
                          Preconditions.checkArgument(
                              node == null /* The base case */ ||
                              node.isExprResult());
                          this.namespace = namespace;
                          this.firstNode = node;
                          this.firstModule = module;

                          addProvide(node, module, explicit);
                        }
                children: []
                pos: 30569
                length: 344
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: addProvide
                    children: []
                    pos: 30984
                    length: 10
                  parameters:
                    type: method_parameters
                    fields: {}
                    children:
                    - type: formal_parameter
                      fields:
                        text: Node node
                      children: []
                      pos: 30995
                      length: 9
                    pos: 30979
                    length: 310
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: if_statement
                      fields:
                        condition:
                          type: parenthesized_expression
                          fields:
                            expression:
                              type: identifier
                              fields:
                                text: explicit
                              children: []
                              pos: 31053
                              length: 8
                          children: []
                          pos: 31052
                          length: 10
                      children:
                      - type: block
                        fields: {}
                        children:
                        - type: expression_statement
                          fields:
                            text: Preconditions.checkState(explicitNode == null);
                          children: []
                          pos: 31073
                          length: 47
                        - type: expression_statement
                          fields:
                            text: Preconditions.checkArgument(node.isExprResult());
                          children: []
                          pos: 31129
                          length: 49
                        - type: expression_statement
                          fields:
                            text: explicitNode = node;
                          children: []
                          pos: 31187
                          length: 20
                        - type: expression_statement
                          fields:
                            text: explicitModule = module;
                          children: []
                          pos: 31216
                          length: 24
                        pos: 31063
                        length: 185
                      pos: 31049
                      length: 199
                    - type: expression_statement
                      fields:
                        text: updateMinimumModule(module);
                      children: []
                      pos: 31255
                      length: 28
                    pos: 31041
                    length: 248
                children: []
                pos: 30979
                length: 310
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: isExplicitlyProvided
                    children: []
                    pos: 31303
                    length: 20
                  parameters:
                    type: method_parameters
                    fields: {}
                    children: []
                    pos: 31295
                    length: 73
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: return_statement
                      fields:
                        text: return explicitNode != null;
                      children: []
                      pos: 31334
                      length: 28
                    pos: 31326
                    length: 42
                children: []
                pos: 31295
                length: 73
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: addDefinition
                    children: []
                    pos: 31662
                    length: 13
                  parameters:
                    type: method_parameters
                    fields: {}
                    children:
                    - type: formal_parameter
                      fields:
                        text: Node node
                      children: []
                      pos: 31676
                      length: 9
                    pos: 31657
                    length: 430
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: expression_statement
                      fields:
                        text: |-
                          Preconditions.checkArgument(node.isExprResult() || // assign
                                                            node.isFunction() ||
                                                            node.isVar());
                      children: []
                      pos: 31712
                      length: 164
                    - type: expression_statement
                      fields:
                        text: Preconditions.checkArgument(explicitNode != node);
                      children: []
                      pos: 31883
                      length: 50
                    - type: if_statement
                      fields:
                        condition:
                          type: parenthesized_expression
                          fields:
                            expression:
                              type: or
                              fields:
                                left:
                                  type: parenthesized_expression
                                  fields:
                                    expression:
                                      type: equals
                                      fields:
                                        left:
                                          type: identifier
                                          fields:
                                            text: candidateDefinition
                                          children: []
                                          pos: 31945
                                          length: 19
                                        right:
                                          type: null_literal
                                          fields: {}
                                          children: []
                                          pos: 31968
                                          length: 4
                                      children: []
                                      pos: 31945
                                      length: 27
                                  children: []
                                  pos: 31944
                                  length: 29
                                right:
                                  type: unary_expression
                                  fields:
                                    text: "!node.isExprResult()"
                                  children: []
                                  pos: 31977
                                  length: 20
                              children: []
                              pos: 31944
                              length: 53
                          children: []
                          pos: 31943
                          length: 55
                      children:
                      - type: block
                        fields: {}
                        children:
                        - type: expression_statement
                          fields:
                            text: candidateDefinition = node;
                          children: []
                          pos: 32009
                          length: 27
                        - type: expression_statement
                          fields:
                            text: updateMinimumModule(module);
                          children: []
                          pos: 32045
                          length: 28
                        pos: 31999
                        length: 82
                      pos: 31940
                      length: 141
                    pos: 31704
                    length: 383
                children: []
                pos: 31657
                length: 430
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: updateMinimumModule
                    children: []
                    pos: 32106
                    length: 19
                  parameters:
                    type: method_parameters
                    fields: {}
                    children:
                    - type: formal_parameter
                      fields:
                        text: JSModule newModule
                      children: []
                      pos: 32126
                      length: 18
                    pos: 32093
                    length: 529
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: if_statement
                      fields:
                        condition:
                          type: parenthesized_expression
                          fields:
                            expression:
                              type: equals
                              fields:
                                left:
                                  type: identifier
                                  fields:
                                    text: minimumModule
                                  children: []
                                  pos: 32158
                                  length: 13
                                right:
                                  type: null_literal
                                  fields: {}
                                  children: []
                                  pos: 32175
                                  length: 4
                              children: []
                              pos: 32158
                              length: 21
                          children: []
                          pos: 32157
                          length: 23
                      children:
                      - type: block
                        fields: {}
                        children:
                        - type: expression_statement
                          fields:
                            text: minimumModule = newModule;
                          children: []
                          pos: 32191
                          length: 26
                        pos: 32181
                        length: 44
                      pos: 32154
                      length: 462
                    pos: 32146
                    length: 476
                children: []
                pos: 32093
                length: 529
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: replace
                    children: []
                    pos: 32887
                    length: 7
                  parameters:
                    type: method_parameters
                    fields: {}
                    children: []
                    pos: 32882
                    length: 2729
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: if_statement
                      fields:
                        condition:
                          type: parenthesized_expression
                          fields:
                            expression:
                              type: equals
                              fields:
                                left:
                                  type: identifier
                                  fields:
                                    text: firstNode
                                  children: []
                                  pos: 32909
                                  length: 9
                                right:
                                  type: null_literal
                                  fields: {}
                                  children: []
                                  pos: 32922
                                  length: 4
                              children: []
                              pos: 32909
                              length: 17
                          children: []
                          pos: 32908
                          length: 19
                      children:
                      - type: block
                        fields: {}
                        children:
                        - type: expression_statement
                          fields:
                            text: replacementNode = candidateDefinition;
                          children: []
                          pos: 32985
                          length: 38
                        - type: return_statement
                          fields:
                            text: return;
                          children: []
                          pos: 33032
                          length: 7
                        pos: 32928
                        length: 119
                      pos: 32905
                      length: 142
                    - type: if_statement
                      fields:
                        condition:
                          type: parenthesized_expression
                          fields:
                            expression:
                              type: and
                              fields:
                                left:
                                  type: not_equals
                                  fields:
                                    left:
                                      type: identifier
                                      fields:
                                        text: candidateDefinition
                                      children: []
                                      pos: 33166
                                      length: 19
                                    right:
                                      type: null_literal
                                      fields: {}
                                      children: []
                                      pos: 33189
                                      length: 4
                                  children: []
                                  pos: 33166
                                  length: 27
                                right:
                                  type: not_equals
                                  fields:
                                    left:
                                      type: identifier
                                      fields:
                                        text: explicitNode
                                      children: []
                                      pos: 33197
                                      length: 12
                                    right:
                                      type: null_literal
                                      fields: {}
                                      children: []
                                      pos: 33213
                                      length: 4
                                  children: []
                                  pos: 33197
                                  length: 20
                              children: []
                              pos: 33166
                              length: 51
                          children: []
                          pos: 33165
                          length: 53
                      children:
                      - type: block
                        fields: {}
                        children:
                        - type: expression_statement
                          fields:
                            text: explicitNode.detachFromParent();
                          children: []
                          pos: 33229
                          length: 32
                        - type: expression_statement
                          fields:
                            text: compiler.reportCodeChange();
                          children: []
                          pos: 33270
                          length: 28
                        - type: expression_statement
                          fields:
                            text: replacementNode = candidateDefinition;
                          children: []
                          pos: 33349
                          length: 38
                        - type: if_statement
                          fields:
                            condition:
                              type: parenthesized_expression
                              fields:
                                expression:
                                  type: and
                                  fields:
                                    left:
                                      type: method_invocation
                                      fields:
                                        text: candidateDefinition.isExprResult()
                                      children: []
                                      pos: 33400
                                      length: 34
                                    right:
                                      type: unary_expression
                                      fields:
                                        text: "!candidateDefinition.getFirstChild().isQualifiedName()"
                                      children: []
                                      pos: 33450
                                      length: 54
                                  children: []
                                  pos: 33400
                                  length: 104
                              children: []
                              pos: 33399
                              length: 106
                          children:
                          - type: block
                            fields: {}
                            children:
                            - type: expression_statement
                              fields:
                                text: candidateDefinition.putBooleanProp(Node.IS_NAMESPACE,
                                  true);
                              children: []
                              pos: 33518
                              length: 60
                            - type: local_variable_declaration
                              fields:
                                text: Node assignNode = candidateDefinition.getFirstChild();
                              children: []
                              pos: 33589
                              length: 54
                            - type: local_variable_declaration
                              fields:
                                text: Node nameNode = assignNode.getFirstChild();
                              children: []
                              pos: 33654
                              length: 43
                            - type: if_statement
                              fields:
                                condition:
                                  type: parenthesized_expression
                                  fields:
                                    expression:
                                      type: method_invocation
                                      fields:
                                        text: nameNode.isName()
                                      children: []
                                      pos: 33712
                                      length: 17
                                  children: []
                                  pos: 33711
                                  length: 19
                              children:
                              - type: block
                                fields: {}
                                children:
                                - type: local_variable_declaration
                                  fields:
                                    text: Node valueNode = nameNode.getNext();
                                  children: []
                                  pos: 33810
                                  length: 36
                                - type: expression_statement
                                  fields:
                                    text: assignNode.removeChild(nameNode);
                                  children: []
                                  pos: 33859
                                  length: 33
                                - type: expression_statement
                                  fields:
                                    text: assignNode.removeChild(valueNode);
                                  children: []
                                  pos: 33905
                                  length: 34
                                - type: expression_statement
                                  fields:
                                    text: nameNode.addChildToFront(valueNode);
                                  children: []
                                  pos: 33952
                                  length: 36
                                - type: local_variable_declaration
                                  fields:
                                    text: Node varNode = IR.var(nameNode);
                                  children: []
                                  pos: 34001
                                  length: 32
                                - type: expression_statement
                                  fields:
                                    text: varNode.copyInformationFrom(candidateDefinition);
                                  children: []
                                  pos: 34046
                                  length: 49
                                - type: expression_statement
                                  fields:
                                    text: |-
                                      candidateDefinition.getParent().replaceChild(
                                                      candidateDefinition, varNode);
                                  children: []
                                  pos: 34108
                                  length: 92
                                - type: expression_statement
                                  fields:
                                    text: nameNode.setJSDocInfo(assignNode.getJSDocInfo());
                                  children: []
                                  pos: 34213
                                  length: 49
                                - type: expression_statement
                                  fields:
                                    text: compiler.reportCodeChange();
                                  children: []
                                  pos: 34275
                                  length: 28
                                - type: expression_statement
                                  fields:
                                    text: replacementNode = varNode;
                                  children: []
                                  pos: 34316
                                  length: 26
                                pos: 33731
                                length: 623
                              pos: 33708
                              length: 646
                            pos: 33506
                            length: 858
                          pos: 33396
                          length: 968
                        pos: 33219
                        length: 1153
                      pos: 33162
                      length: 2443
                    pos: 32897
                    length: 2714
                children: []
                pos: 32882
                length: 2729
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: createDeclarationNode
                    children: []
                    pos: 35738
                    length: 21
                  parameters:
                    type: method_parameters
                    fields: {}
                    children: []
                    pos: 35725
                    length: 184
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: if_statement
                      fields:
                        condition:
                          type: parenthesized_expression
                          fields:
                            expression:
                              type: equals
                              fields:
                                left:
                                  type: method_invocation
                                  fields:
                                    text: namespace.indexOf('.')
                                  children: []
                                  pos: 35774
                                  length: 22
                                right:
                                  type: unary_expression
                                  fields:
                                    text: "-1"
                                  children: []
                                  pos: 35800
                                  length: 2
                              children: []
                              pos: 35774
                              length: 28
                          children: []
                          pos: 35773
                          length: 30
                      children:
                      - type: block
                        fields: {}
                        children:
                        - type: return_statement
                          fields:
                            text: return makeVarDeclNode();
                          children: []
                          pos: 35814
                          length: 25
                        pos: 35804
                        length: 43
                      pos: 35770
                      length: 133
                    pos: 35762
                    length: 147
                children: []
                pos: 35725
                length: 184
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: makeVarDeclNode
                    children: []
                    pos: 36041
                    length: 15
                  parameters:
                    type: method_parameters
                    fields: {}
                    children: []
                    pos: 36028
                    length: 619
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: local_variable_declaration
                      fields:
                        text: Node name = IR.name(namespace);
                      children: []
                      pos: 36067
                      length: 31
                    - type: expression_statement
                      fields:
                        text: name.addChildToFront(createNamespaceLiteral());
                      children: []
                      pos: 36105
                      length: 47
                    - type: local_variable_declaration
                      fields:
                        text: Node decl = IR.var(name);
                      children: []
                      pos: 36160
                      length: 25
                    - type: expression_statement
                      fields:
                        text: decl.putBooleanProp(Node.IS_NAMESPACE, true);
                      children: []
                      pos: 36192
                      length: 45
                    - type: if_statement
                      fields:
                        condition:
                          type: parenthesized_expression
                          fields:
                            expression:
                              type: method_invocation
                              fields:
                                text: compiler.getCodingConvention().isConstant(namespace)
                              children: []
                              pos: 36312
                              length: 52
                          children: []
                          pos: 36311
                          length: 54
                      children:
                      - type: block
                        fields: {}
                        children:
                        - type: expression_statement
                          fields:
                            text: name.putBooleanProp(Node.IS_CONSTANT_NAME, true);
                          children: []
                          pos: 36376
                          length: 49
                        pos: 36366
                        length: 67
                      pos: 36308
                      length: 125
                    - type: if_statement
                      fields:
                        condition:
                          type: parenthesized_expression
                          fields:
                            expression:
                              type: equals
                              fields:
                                left:
                                  type: identifier
                                  fields:
                                    text: candidateDefinition
                                  children: []
                                  pos: 36444
                                  length: 19
                                right:
                                  type: null_literal
                                  fields: {}
                                  children: []
                                  pos: 36467
                                  length: 4
                              children: []
                              pos: 36444
                              length: 27
                          children: []
                          pos: 36443
                          length: 29
                      children:
                      - type: block
                        fields: {}
                        children:
                        - type: expression_statement
                          fields:
                            text: name.setJSDocInfo(createConstantJsDoc());
                          children: []
                          pos: 36483
                          length: 41
                        pos: 36473
                        length: 59
                      pos: 36440
                      length: 92
                    - type: expression_statement
                      fields:
                        text: Preconditions.checkState(isNamespacePlaceholder(decl));
                      children: []
                      pos: 36540
                      length: 55
                    - type: expression_statement
                      fields:
                        text: setSourceInfo(decl);
                      children: []
                      pos: 36602
                      length: 20
                    - type: return_statement
                      fields:
                        text: return decl;
                      children: []
                      pos: 36629
                      length: 12
                    pos: 36059
                    length: 588
                children: []
                pos: 36028
                length: 619
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: createNamespaceLiteral
                    children: []
                    pos: 36861
                    length: 22
                  parameters:
                    type: method_parameters
                    fields: {}
                    children: []
                    pos: 36848
                    length: 197
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: local_variable_declaration
                      fields:
                        text: Node objlit = IR.objectlit();
                      children: []
                      pos: 36894
                      length: 29
                    - type: expression_statement
                      fields:
                        text: |-
                          objlit.setJSType(
                                    compiler.getTypeRegistry().createAnonymousObjectType(null));
                      children: []
                      pos: 36930
                      length: 88
                    - type: return_statement
                      fields:
                        text: return objlit;
                      children: []
                      pos: 37025
                      length: 14
                    pos: 36886
                    length: 159
                children: []
                pos: 36848
                length: 197
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: makeAssignmentExprNode
                    children: []
                    pos: 37178
                    length: 22
                  parameters:
                    type: method_parameters
                    fields: {}
                    children: []
                    pos: 37165
                    length: 628
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: local_variable_declaration
                      fields:
                        text: |-
                          Node decl = IR.exprResult(
                                    IR.assign(
                                        NodeUtil.newQualifiedNameNode(
                                            compiler.getCodingConvention(), namespace,
                                            firstNode /* real source info will be filled in below */,
                                            namespace),
                                        createNamespaceLiteral()));
                      children: []
                      pos: 37211
                      length: 301
                    - type: expression_statement
                      fields:
                        text: decl.putBooleanProp(Node.IS_NAMESPACE, true);
                      children: []
                      pos: 37519
                      length: 45
                    - type: if_statement
                      fields:
                        condition:
                          type: parenthesized_expression
                          fields:
                            expression:
                              type: equals
                              fields:
                                left:
                                  type: identifier
                                  fields:
                                    text: candidateDefinition
                                  children: []
                                  pos: 37575
                                  length: 19
                                right:
                                  type: null_literal
                                  fields: {}
                                  children: []
                                  pos: 37598
                                  length: 4
                              children: []
                              pos: 37575
                              length: 27
                          children: []
                          pos: 37574
                          length: 29
                      children:
                      - type: block
                        fields: {}
                        children:
                        - type: expression_statement
                          fields:
                            text: decl.getFirstChild().setJSDocInfo(createConstantJsDoc());
                          children: []
                          pos: 37614
                          length: 57
                        pos: 37604
                        length: 75
                      pos: 37571
                      length: 108
                    - type: expression_statement
                      fields:
                        text: Preconditions.checkState(isNamespacePlaceholder(decl));
                      children: []
                      pos: 37686
                      length: 55
                    - type: expression_statement
                      fields:
                        text: setSourceInfo(decl);
                      children: []
                      pos: 37748
                      length: 20
                    - type: return_statement
                      fields:
                        text: return decl;
                      children: []
                      pos: 37775
                      length: 12
                    pos: 37203
                    length: 590
                children: []
                pos: 37165
                length: 628
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: createConstantJsDoc
                    children: []
                    pos: 37817
                    length: 19
                  parameters:
                    type: method_parameters
                    fields: {}
                    children: []
                    pos: 37799
                    length: 176
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: local_variable_declaration
                      fields:
                        text: JSDocInfoBuilder builder = new JSDocInfoBuilder(false);
                      children: []
                      pos: 37847
                      length: 55
                    - type: expression_statement
                      fields:
                        text: builder.recordConstancy();
                      children: []
                      pos: 37909
                      length: 26
                    - type: return_statement
                      fields:
                        text: return builder.build(null);
                      children: []
                      pos: 37942
                      length: 27
                    pos: 37839
                    length: 136
                children: []
                pos: 37799
                length: 176
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: setSourceInfo
                    children: []
                    pos: 38051
                    length: 13
                  parameters:
                    type: method_parameters
                    fields: {}
                    children:
                    - type: formal_parameter
                      fields:
                        text: Node newNode
                      children: []
                      pos: 38065
                      length: 12
                    pos: 38038
                    length: 457
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: local_variable_declaration
                      fields:
                        text: Node provideStringNode = getProvideStringNode();
                      children: []
                      pos: 38087
                      length: 48
                    - type: local_variable_declaration
                      fields:
                        text: int offset = getSourceInfoOffset(provideStringNode);
                      children: []
                      pos: 38142
                      length: 52
                    - type: local_variable_declaration
                      fields:
                        text: |-
                          Node sourceInfoNode = provideStringNode == null
                                    ? firstNode : provideStringNode;
                      children: []
                      pos: 38201
                      length: 90
                    - type: expression_statement
                      fields:
                        text: newNode.copyInformationFromForTree(sourceInfoNode);
                      children: []
                      pos: 38298
                      length: 51
                    - type: if_statement
                      fields:
                        condition:
                          type: parenthesized_expression
                          fields:
                            expression:
                              type: not_equals
                              fields:
                                left:
                                  type: identifier
                                  fields:
                                    text: offset
                                  children: []
                                  pos: 38360
                                  length: 6
                                right:
                                  type: decimal_integer_literal
                                  fields:
                                    text: '0'
                                  children: []
                                  pos: 38370
                                  length: 1
                              children: []
                              pos: 38360
                              length: 11
                          children: []
                          pos: 38359
                          length: 13
                      children:
                      - type: block
                        fields: {}
                        children:
                        - type: expression_statement
                          fields:
                            text: |-
                              newNode.setSourceEncodedPositionForTree(
                                          sourceInfoNode.getSourcePosition() + offset);
                          children: []
                          pos: 38383
                          length: 98
                        pos: 38373
                        length: 116
                      pos: 38356
                      length: 133
                    pos: 38079
                    length: 416
                children: []
                pos: 38038
                length: 457
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: getSourceInfoOffset
                    children: []
                    pos: 38599
                    length: 19
                  parameters:
                    type: method_parameters
                    fields: {}
                    children:
                    - type: formal_parameter
                      fields:
                        text: Node provideStringNode
                      children: []
                      pos: 38619
                      length: 22
                    pos: 38587
                    length: 358
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: if_statement
                      fields:
                        condition:
                          type: parenthesized_expression
                          fields:
                            expression:
                              type: equals
                              fields:
                                left:
                                  type: identifier
                                  fields:
                                    text: provideStringNode
                                  children: []
                                  pos: 38655
                                  length: 17
                                right:
                                  type: null_literal
                                  fields: {}
                                  children: []
                                  pos: 38676
                                  length: 4
                              children: []
                              pos: 38655
                              length: 25
                          children: []
                          pos: 38654
                          length: 27
                      children:
                      - type: block
                        fields: {}
                        children:
                        - type: return_statement
                          fields:
                            text: return 0;
                          children: []
                          pos: 38692
                          length: 9
                        pos: 38682
                        length: 27
                      pos: 38651
                      length: 58
                    - type: local_variable_declaration
                      fields:
                        text: int indexOfLastDot = namespace.lastIndexOf('.');
                      children: []
                      pos: 38717
                      length: 48
                    - type: return_statement
                      fields:
                        text: return 2 + indexOfLastDot;
                      children: []
                      pos: 38913
                      length: 26
                    pos: 38643
                    length: 302
                children: []
                pos: 38587
                length: 358
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: getProvideStringNode
                    children: []
                    pos: 38964
                    length: 20
                  parameters:
                    type: method_parameters
                    fields: {}
                    children: []
                    pos: 38951
                    length: 211
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: return_statement
                      fields:
                        text: |-
                          return (firstNode.getFirstChild() != null &&
                                        NodeUtil.isExprCall(firstNode)) ?
                                    firstNode.getFirstChild().getLastChild() :
                                    null;
                      children: []
                      pos: 38995
                      length: 161
                    pos: 38987
                    length: 175
                children: []
                pos: 38951
                length: 211
              pos: 29862
              length: 9304
          children: []
          pos: 29862
          length: 9304
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isNamespacePlaceholder
              children: []
              pos: 39261
              length: 22
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Node n
                children: []
                pos: 39284
                length: 6
              pos: 39238
              length: 454
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: unary_expression
                        fields:
                          text: "!n.getBooleanProp(Node.IS_NAMESPACE)"
                        children: []
                        pos: 39302
                        length: 36
                    children: []
                    pos: 39301
                    length: 38
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return false;
                    children: []
                    pos: 39348
                    length: 13
                  pos: 39340
                  length: 27
                pos: 39298
                length: 69
              - type: local_variable_declaration
                fields:
                  text: Node value = null;
                children: []
                pos: 39373
                length: 18
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: n.isExprResult()
                        children: []
                        pos: 39400
                        length: 16
                    children: []
                    pos: 39399
                    length: 18
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: Node assign = n.getFirstChild();
                    children: []
                    pos: 39426
                    length: 32
                  - type: expression_statement
                    fields:
                      text: value = assign.getLastChild();
                    children: []
                    pos: 39465
                    length: 30
                  pos: 39418
                  length: 83
                pos: 39396
                length: 206
              - type: return_statement
                fields:
                  text: |-
                    return value != null
                          && value.isObjectLit()
                          && !value.hasChildren();
                children: []
                pos: 39608
                length: 80
              pos: 39292
              length: 400
          children: []
          pos: 39238
          length: 454
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: maybeAddStringNodeToSymbolTable
              children: []
              pos: 39877
              length: 31
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Node n
                children: []
                pos: 39909
                length: 6
              pos: 39864
              length: 1228
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: preprocessorSymbolTable
                            children: []
                            pos: 39927
                            length: 23
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 39954
                            length: 4
                        children: []
                        pos: 39927
                        length: 31
                    children: []
                    pos: 39926
                    length: 33
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return;
                    children: []
                    pos: 39968
                    length: 7
                  pos: 39960
                  length: 21
                pos: 39923
                length: 58
              - type: local_variable_declaration
                fields:
                  text: String name = n.getString();
                children: []
                pos: 39987
                length: 28
              - type: local_variable_declaration
                fields:
                  text: |-
                    Node syntheticRef = NodeUtil.newQualifiedNameNode(
                            compiler.getCodingConvention(), name,
                            n /* real source offsets will be filled in below */,
                            name);
                children: []
                pos: 40020
                length: 172
              - type: local_variable_declaration
                fields:
                  text: final int forQuote = 1;
                children: []
                pos: 40265
                length: 23
              - type: local_variable_declaration
                fields:
                  text: final int forDot = 1;
                children: []
                pos: 40293
                length: 21
              - type: local_variable_declaration
                fields:
                  text: Node current = null;
                children: []
                pos: 40320
                length: 20
              - type: for_statement
                fields:
                  text: |-
                    for (current = syntheticRef;
                             current.isGetProp();
                             current = current.getFirstChild()) {
                          int fullLen = current.getQualifiedName().length();
                          int namespaceLen = current.getFirstChild().getQualifiedName().length();

                          current.setSourceEncodedPosition(n.getSourcePosition() + forQuote);
                          current.setLength(fullLen);

                          current.getLastChild().setSourceEncodedPosition(
                              n.getSourcePosition() + namespaceLen + forQuote + forDot);
                          current.getLastChild().setLength(
                              current.getLastChild().getString().length());
                        }
                children: []
                pos: 40345
                length: 575
              - type: expression_statement
                fields:
                  text: current.setSourceEncodedPosition(n.getSourcePosition() + forQuote);
                children: []
                pos: 40926
                length: 67
              - type: expression_statement
                fields:
                  text: current.setLength(current.getString().length());
                children: []
                pos: 40998
                length: 48
              - type: expression_statement
                fields:
                  text: maybeAddToSymbolTable(syntheticRef);
                children: []
                pos: 41052
                length: 36
              pos: 39917
              length: 1175
          children: []
          pos: 39864
          length: 1228
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: maybeAddToSymbolTable
              children: []
              pos: 41181
              length: 21
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Node n
                children: []
                pos: 41203
                length: 6
              pos: 41168
              length: 144
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: preprocessorSymbolTable
                            children: []
                            pos: 41221
                            length: 23
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 41248
                            length: 4
                        children: []
                        pos: 41221
                        length: 31
                    children: []
                    pos: 41220
                    length: 33
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: preprocessorSymbolTable.addReference(n);
                    children: []
                    pos: 41262
                    length: 40
                  pos: 41254
                  length: 54
                pos: 41217
                length: 91
              pos: 41211
              length: 101
          children: []
          pos: 41168
          length: 144
        - type: class_declaration
          fields:
            name:
              type: identifier
              fields:
                text: UnrecognizedRequire
              children: []
              pos: 41499
              length: 19
            body:
              type: class_body
              fields: {}
              children:
              - type: field_declaration
                fields:
                  text: final Node requireNode;
                children: []
                pos: 41525
                length: 23
              - type: field_declaration
                fields:
                  text: final String namespace;
                children: []
                pos: 41553
                length: 23
              - type: field_declaration
                fields:
                  text: final String inputName;
                children: []
                pos: 41581
                length: 23
              - type: constructor_declaration
                fields:
                  text: |-
                    UnrecognizedRequire(Node requireNode, String namespace, String inputName) {
                          this.requireNode = requireNode;
                          this.namespace = namespace;
                          this.inputName = inputName;
                        }
                children: []
                pos: 41610
                length: 187
              pos: 41485
              length: 316
          children: []
          pos: 41485
          length: 316
        pos: 1398
        length: 40405
    children: []
    pos: 1398
    length: 40405
  pos: 0
  length: 41804
text_diff: |
  --- before
  +++ after
  @@ -326,7 +326,7 @@
         // the checks for broken requires turned off. In these cases, we
         // allow broken requires to be preserved by the first run to
         // let them be caught in the subsequent run.
  -      if (provided != null || requiresLevel.isOn()) {
  +      if (provided != null) {
           parent.detachFromParent();
           compiler.reportCodeChange();
         }
tree_diff: |+
  New cluster:
  MOVE from parenthesized_expression [12285,12327]
  ------------
  ===
  move-tree
  ---
  not_equals [12286,12302]
      identifier: provided [12286,12294]
      null_literal [12298,12302]
  to
  parenthesized_expression [12285,12327]
  at 0

  New cluster:
  ===
  delete-node
  ---
  or [12286,12326]
  ===
  ------------
  ===
  delete-node
  ---
  method_invocation: requiresLevel.isOn() [12306,12326]
  ===
  ===
  delete-node
  ---
  or [12286,12326]
  ===

...
