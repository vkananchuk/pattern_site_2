---
language: java
before_tree:
  type: program
  fields: {}
  children:
  - type: class_declaration
    fields:
      name:
        type: identifier
        fields:
          text: TimeSeries
        children: []
        pos: 4596
        length: 10
      body:
        type: class_body
        fields: {}
        children:
        - type: field_declaration
          fields:
            text: private static final long serialVersionUID = -5032960206869675528L;
          children: []
          pos: 4697
          length: 67
        - type: field_declaration
          fields:
            text: protected static final String DEFAULT_DOMAIN_DESCRIPTION = "Time";
          children: []
          pos: 4830
          length: 66
        - type: field_declaration
          fields:
            text: protected static final String DEFAULT_RANGE_DESCRIPTION = "Value";
          children: []
          pos: 4957
          length: 66
        - type: field_declaration
          fields:
            text: private String domain;
          children: []
          pos: 5072
          length: 22
        - type: field_declaration
          fields:
            text: private String range;
          children: []
          pos: 5142
          length: 21
        - type: field_declaration
          fields:
            text: protected Class timePeriodClass;
          children: []
          pos: 5216
          length: 32
        - type: field_declaration
          fields:
            text: protected List data;
          children: []
          pos: 5306
          length: 20
        - type: field_declaration
          fields:
            text: private int maximumItemCount;
          children: []
          pos: 5390
          length: 29
        - type: field_declaration
          fields:
            text: private long maximumItemAge;
          children: []
          pos: 5543
          length: 28
        - type: constructor_declaration
          fields:
            text: "public TimeSeries(Comparable name) {\r\n        this(name, DEFAULT_DOMAIN_DESCRIPTION,
              DEFAULT_RANGE_DESCRIPTION, \r\n                Day.class);\r\n    }"
          children: []
          pos: 5862
          length: 148
        - type: constructor_declaration
          fields:
            text: "public TimeSeries(Comparable name, Class timePeriodClass) {\r\n
              \       this(name, DEFAULT_DOMAIN_DESCRIPTION, DEFAULT_RANGE_DESCRIPTION,
              \r\n                timePeriodClass);\r\n    }"
          children: []
          pos: 6354
          length: 177
        - type: constructor_declaration
          fields:
            text: "public TimeSeries(Comparable name, String domain, String range,
              \r\n                      Class timePeriodClass) {\r\n        super(name);\r\n
              \       this.domain = domain;\r\n        this.range = range;\r\n        this.timePeriodClass
              = timePeriodClass;\r\n        this.data = new java.util.ArrayList();\r\n
              \       this.maximumItemCount = Integer.MAX_VALUE;\r\n        this.maximumItemAge
              = Long.MAX_VALUE;\r\n    }"
          children: []
          pos: 7219
          length: 397
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getDomainDescription
              children: []
              pos: 7825
              length: 20
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 7811
              length: 74
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return this.domain;
                children: []
                pos: 7859
                length: 19
              pos: 7848
              length: 37
          children: []
          pos: 7811
          length: 74
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setDomainDescription
              children: []
              pos: 8240
              length: 20
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String description
                children: []
                pos: 8261
                length: 18
              pos: 8228
              length: 189
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: String old = this.domain;
                children: []
                pos: 8292
                length: 25
              - type: expression_statement
                fields:
                  text: this.domain = description;
                children: []
                pos: 8327
                length: 26
              - type: expression_statement
                fields:
                  text: firePropertyChange("Domain", old, description);
                children: []
                pos: 8363
                length: 47
              pos: 8281
              length: 136
          children: []
          pos: 8228
          length: 189
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getRangeDescription
              children: []
              pos: 8623
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 8609
              length: 72
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return this.range;
                children: []
                pos: 8656
                length: 18
              pos: 8645
              length: 36
          children: []
          pos: 8609
          length: 72
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setRangeDescription
              children: []
              pos: 9009
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String description
                children: []
                pos: 9029
                length: 18
              pos: 8997
              length: 185
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: String old = this.range;
                children: []
                pos: 9060
                length: 24
              - type: expression_statement
                fields:
                  text: this.range = description;
                children: []
                pos: 9094
                length: 25
              - type: expression_statement
                fields:
                  text: firePropertyChange("Range", old, description);
                children: []
                pos: 9129
                length: 46
              pos: 9049
              length: 133
          children: []
          pos: 8997
          length: 185
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getItemCount
              children: []
              pos: 9310
              length: 12
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 9299
              length: 68
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return this.data.size();
                children: []
                pos: 9336
                length: 24
              pos: 9325
              length: 42
          children: []
          pos: 9299
          length: 68
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getItems
              children: []
              pos: 9592
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 9580
              length: 88
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return Collections.unmodifiableList(this.data);
                children: []
                pos: 9614
                length: 47
              pos: 9603
              length: 65
          children: []
          pos: 9580
          length: 88
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getMaximumItemCount
              children: []
              pos: 9943
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 9932
              length: 80
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return this.maximumItemCount;
                children: []
                pos: 9976
                length: 29
              pos: 9965
              length: 47
          children: []
          pos: 9932
          length: 80
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setMaximumItemCount
              children: []
              pos: 10490
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: int maximum
                children: []
                pos: 10510
                length: 11
              pos: 10478
              length: 342
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: less_than
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: maximum
                            children: []
                            pos: 10538
                            length: 7
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '0'
                            children: []
                            pos: 10548
                            length: 1
                        children: []
                        pos: 10538
                        length: 11
                    children: []
                    pos: 10537
                    length: 13
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: throw new IllegalArgumentException("Negative 'maximum'
                        argument.");
                    children: []
                    pos: 10566
                    length: 67
                  pos: 10551
                  length: 93
                pos: 10534
                length: 110
              - type: expression_statement
                fields:
                  text: this.maximumItemCount = maximum;
                children: []
                pos: 10654
                length: 32
              - type: local_variable_declaration
                fields:
                  text: int count = this.data.size();
                children: []
                pos: 10696
                length: 29
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: greater_than
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: count
                            children: []
                            pos: 10739
                            length: 5
                          right:
                            type: identifier
                            fields:
                              text: maximum
                            children: []
                            pos: 10747
                            length: 7
                        children: []
                        pos: 10739
                        length: 15
                    children: []
                    pos: 10738
                    length: 17
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: delete(0, count - maximum - 1);
                    children: []
                    pos: 10771
                    length: 31
                  pos: 10756
                  length: 57
                pos: 10735
                length: 78
              pos: 10523
              length: 297
          children: []
          pos: 10478
          length: 342
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getMaximumItemAge
              children: []
              pos: 11022
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 11010
              length: 77
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return this.maximumItemAge;
                children: []
                pos: 11053
                length: 27
              pos: 11042
              length: 45
          children: []
          pos: 11010
          length: 77
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setMaximumItemAge
              children: []
              pos: 11654
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: long periods
                children: []
                pos: 11672
                length: 12
              pos: 11642
              length: 289
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: less_than
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: periods
                            children: []
                            pos: 11701
                            length: 7
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '0'
                            children: []
                            pos: 11711
                            length: 1
                        children: []
                        pos: 11701
                        length: 11
                    children: []
                    pos: 11700
                    length: 13
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: throw new IllegalArgumentException("Negative 'periods'
                        argument.");
                    children: []
                    pos: 11729
                    length: 67
                  pos: 11714
                  length: 93
                pos: 11697
                length: 110
              - type: expression_statement
                fields:
                  text: this.maximumItemAge = periods;
                children: []
                pos: 11817
                length: 30
              - type: expression_statement
                fields:
                  text: removeAgedItems(true);
                children: []
                pos: 11857
                length: 22
              pos: 11686
              length: 245
          children: []
          pos: 11642
          length: 289
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getTimePeriodClass
              children: []
              pos: 12354
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 12341
              length: 80
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return this.timePeriodClass;
                children: []
                pos: 12386
                length: 28
              pos: 12375
              length: 46
          children: []
          pos: 12341
          length: 80
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getDataItem
              children: []
              pos: 12669
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: int index
                children: []
                pos: 12681
                length: 9
              pos: 12643
              length: 116
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return (TimeSeriesDataItem) this.data.get(index);
                children: []
                pos: 12703
                length: 49
              pos: 12692
              length: 67
          children: []
          pos: 12643
          length: 116
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getDataItem
              children: []
              pos: 13120
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: RegularTimePeriod period
                children: []
                pos: 13132
                length: 24
              pos: 13094
              length: 265
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: int index = getIndex(period);
                children: []
                pos: 13169
                length: 29
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: greater_or_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: index
                            children: []
                            pos: 13212
                            length: 5
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '0'
                            children: []
                            pos: 13221
                            length: 1
                        children: []
                        pos: 13212
                        length: 10
                    children: []
                    pos: 13211
                    length: 12
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return (TimeSeriesDataItem) this.data.get(index);
                    children: []
                    pos: 13239
                    length: 49
                  pos: 13224
                  length: 75
                pos: 13208
                length: 144
              pos: 13158
              length: 201
          children: []
          pos: 13094
          length: 265
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getTimePeriod
              children: []
              pos: 13565
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: int index
                children: []
                pos: 13579
                length: 9
              pos: 13540
              length: 106
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getDataItem(index).getPeriod();
                children: []
                pos: 13601
                length: 38
              pos: 13590
              length: 56
          children: []
          pos: 13540
          length: 106
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getNextTimePeriod
              children: []
              pos: 13847
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 13822
              length: 151
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: RegularTimePeriod last = getTimePeriod(getItemCount() - 1);
                children: []
                pos: 13878
                length: 59
              - type: return_statement
                fields:
                  text: return last.next();
                children: []
                pos: 13947
                length: 19
              pos: 13867
              length: 106
          children: []
          pos: 13822
          length: 151
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getTimePeriods
              children: []
              pos: 14152
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 14134
              length: 229
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: Collection result = new java.util.ArrayList();
                children: []
                pos: 14180
                length: 46
              - type: for_statement
                fields:
                  text: "for (int i = 0; i < getItemCount(); i++) {\r\n            result.add(getTimePeriod(i));\r\n
                    \       }"
                children: []
                pos: 14236
                length: 96
              - type: return_statement
                fields:
                  text: return result;
                children: []
                pos: 14342
                length: 14
              pos: 14169
              length: 194
          children: []
          pos: 14134
          length: 229
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getTimePeriodsUniqueToOtherSeries
              children: []
              pos: 14673
              length: 33
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: TimeSeries series
                children: []
                pos: 14707
                length: 17
              pos: 14655
              length: 423
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: Collection result = new java.util.ArrayList();
                children: []
                pos: 14739
                length: 46
              - type: for_statement
                fields:
                  text: "for (int i = 0; i < series.getItemCount(); i++) {\r\n            RegularTimePeriod
                    period = series.getTimePeriod(i);\r\n            int index = getIndex(period);\r\n
                    \           if (index < 0) {\r\n                result.add(period);\r\n
                    \           }\r\n        }"
                children: []
                pos: 14795
                length: 250
              - type: return_statement
                fields:
                  text: return result;
                children: []
                pos: 15055
                length: 14
              pos: 14726
              length: 352
          children: []
          pos: 14655
          length: 423
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getIndex
              children: []
              pos: 15324
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: RegularTimePeriod period
                children: []
                pos: 15333
                length: 24
              pos: 15313
              length: 336
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: period
                            children: []
                            pos: 15374
                            length: 6
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 15384
                            length: 4
                        children: []
                        pos: 15374
                        length: 14
                    children: []
                    pos: 15373
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: throw new IllegalArgumentException("Null 'period' argument.");
                    children: []
                    pos: 15405
                    length: 62
                  pos: 15390
                  length: 88
                pos: 15370
                length: 108
              - type: local_variable_declaration
                fields:
                  text: "TimeSeriesDataItem dummy = new TimeSeriesDataItem(\r\n              period,
                    Integer.MIN_VALUE);"
                children: []
                pos: 15489
                length: 93
              - type: return_statement
                fields:
                  text: return Collections.binarySearch(this.data, dummy);
                children: []
                pos: 15592
                length: 50
              pos: 15359
              length: 290
          children: []
          pos: 15313
          length: 336
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getValue
              children: []
              pos: 15851
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: int index
                children: []
                pos: 15860
                length: 9
              pos: 15837
              length: 89
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getDataItem(index).getValue();
                children: []
                pos: 15882
                length: 37
              pos: 15871
              length: 55
          children: []
          pos: 15837
          length: 89
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getValue
              children: []
              pos: 16258
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: RegularTimePeriod period
                children: []
                pos: 16267
                length: 24
              pos: 16244
              length: 228
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: int index = getIndex(period);
                children: []
                pos: 16306
                length: 29
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: greater_or_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: index
                            children: []
                            pos: 16349
                            length: 5
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '0'
                            children: []
                            pos: 16358
                            length: 1
                        children: []
                        pos: 16349
                        length: 10
                    children: []
                    pos: 16348
                    length: 12
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return getValue(index);
                    children: []
                    pos: 16376
                    length: 23
                  pos: 16361
                  length: 49
                pos: 16345
                length: 118
              pos: 16293
              length: 179
          children: []
          pos: 16244
          length: 228
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: add
              children: []
              pos: 16772
              length: 3
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: TimeSeriesDataItem item
                children: []
                pos: 16776
                length: 23
              pos: 16760
              length: 75
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: add(item, true);
                children: []
                pos: 16812
                length: 16
              pos: 16801
              length: 34
          children: []
          pos: 16760
          length: 75
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: add
              children: []
              pos: 17184
              length: 3
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: TimeSeriesDataItem item
                children: []
                pos: 17188
                length: 23
              pos: 17172
              length: 2546
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: item
                            children: []
                            pos: 17244
                            length: 4
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 17252
                            length: 4
                        children: []
                        pos: 17244
                        length: 12
                    children: []
                    pos: 17243
                    length: 14
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: throw new IllegalArgumentException("Null 'item' argument.");
                    children: []
                    pos: 17273
                    length: 60
                  pos: 17258
                  length: 86
                pos: 17240
                length: 104
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: unary_expression
                        fields:
                          text: "!item.getPeriod().getClass().equals(this.timePeriodClass)"
                        children: []
                        pos: 17358
                        length: 57
                    children: []
                    pos: 17357
                    length: 59
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: StringBuffer b = new StringBuffer();
                    children: []
                    pos: 17432
                    length: 36
                  - type: expression_statement
                    fields:
                      text: b.append("You are trying to add data where the time period
                        class ");
                    children: []
                    pos: 17482
                    length: 68
                  - type: expression_statement
                    fields:
                      text: b.append("is ");
                    children: []
                    pos: 17564
                    length: 16
                  - type: expression_statement
                    fields:
                      text: b.append(item.getPeriod().getClass().getName());
                    children: []
                    pos: 17594
                    length: 48
                  - type: expression_statement
                    fields:
                      text: b.append(", but the TimeSeries is expecting an instance
                        of ");
                    children: []
                    pos: 17656
                    length: 62
                  - type: expression_statement
                    fields:
                      text: b.append(this.timePeriodClass.getName());
                    children: []
                    pos: 17732
                    length: 41
                  - type: expression_statement
                    fields:
                      text: b.append(".");
                    children: []
                    pos: 17787
                    length: 14
                  - type: throw_statement
                    fields:
                      text: throw new SeriesException(b.toString());
                    children: []
                    pos: 17815
                    length: 40
                  pos: 17417
                  length: 449
                pos: 17354
                length: 512
              - type: local_variable_declaration
                fields:
                  text: boolean added = false;
                children: []
                pos: 17947
                length: 22
              - type: local_variable_declaration
                fields:
                  text: int count = getItemCount();
                children: []
                pos: 17979
                length: 27
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: count
                            children: []
                            pos: 18020
                            length: 5
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '0'
                            children: []
                            pos: 18029
                            length: 1
                        children: []
                        pos: 18020
                        length: 10
                    children: []
                    pos: 18019
                    length: 12
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: this.data.add(item);
                    children: []
                    pos: 18047
                    length: 20
                  - type: expression_statement
                    fields:
                      text: added = true;
                    children: []
                    pos: 18081
                    length: 13
                  pos: 18032
                  length: 73
                pos: 18016
                length: 1174
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: identifier
                        fields:
                          text: added
                        children: []
                        pos: 19204
                        length: 5
                    children: []
                    pos: 19203
                    length: 7
                children:
                - type: block
                  fields: {}
                  children:
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: greater_than
                            fields:
                              left:
                                type: method_invocation
                                fields:
                                  text: getItemCount()
                                children: []
                                pos: 19307
                                length: 14
                              right:
                                type: field_access
                                fields:
                                  text: this.maximumItemCount
                                children: []
                                pos: 19324
                                length: 21
                            children: []
                            pos: 19307
                            length: 38
                        children: []
                        pos: 19306
                        length: 40
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: this.data.remove(0);
                        children: []
                        pos: 19366
                        length: 20
                      pos: 19347
                      length: 54
                    pos: 19303
                    length: 98
                  - type: expression_statement
                    fields:
                      text: removeAgedItems(false);
                    children: []
                    pos: 19417
                    length: 23
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: identifier
                            fields:
                              text: notify
                            children: []
                            pos: 19636
                            length: 6
                        children: []
                        pos: 19635
                        length: 8
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: fireSeriesChanged();
                        children: []
                        pos: 19663
                        length: 20
                      pos: 19644
                      length: 54
                    pos: 19632
                    length: 66
                  pos: 19211
                  length: 498
                pos: 19200
                length: 509
              pos: 17229
              length: 2489
          children: []
          pos: 17172
          length: 2546
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: add
              children: []
              pos: 19989
              length: 3
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: RegularTimePeriod period
                children: []
                pos: 19993
                length: 24
              pos: 19977
              length: 138
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: add(period, value, true);
                children: []
                pos: 20083
                length: 25
              pos: 20033
              length: 82
          children: []
          pos: 19977
          length: 138
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: add
              children: []
              pos: 20427
              length: 3
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: RegularTimePeriod period
                children: []
                pos: 20431
                length: 24
              pos: 20415
              length: 221
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: TimeSeriesDataItem item = new TimeSeriesDataItem(period, value);
                children: []
                pos: 20537
                length: 64
              - type: expression_statement
                fields:
                  text: add(item, notify);
                children: []
                pos: 20611
                length: 18
              pos: 20487
              length: 149
          children: []
          pos: 20415
          length: 221
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: add
              children: []
              pos: 20970
              length: 3
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: RegularTimePeriod period
                children: []
                pos: 20974
                length: 24
              pos: 20958
              length: 138
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: add(period, value, true);
                children: []
                pos: 21064
                length: 25
              pos: 21014
              length: 82
          children: []
          pos: 20958
          length: 138
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: add
              children: []
              pos: 21471
              length: 3
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: RegularTimePeriod period
                children: []
                pos: 21475
                length: 24
              pos: 21459
              length: 221
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: TimeSeriesDataItem item = new TimeSeriesDataItem(period, value);
                children: []
                pos: 21581
                length: 64
              - type: expression_statement
                fields:
                  text: add(item, notify);
                children: []
                pos: 21655
                length: 18
              pos: 21531
              length: 149
          children: []
          pos: 21459
          length: 221
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: update
              children: []
              pos: 21986
              length: 6
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: RegularTimePeriod period
                children: []
                pos: 21993
                length: 24
              pos: 21974
              length: 561
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: TimeSeriesDataItem temp = new TimeSeriesDataItem(period, value);
                children: []
                pos: 22044
                length: 64
              - type: local_variable_declaration
                fields:
                  text: int index = Collections.binarySearch(this.data, temp);
                children: []
                pos: 22118
                length: 54
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: greater_or_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: index
                            children: []
                            pos: 22186
                            length: 5
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '0'
                            children: []
                            pos: 22195
                            length: 1
                        children: []
                        pos: 22186
                        length: 10
                    children: []
                    pos: 22185
                    length: 12
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: TimeSeriesDataItem pair = (TimeSeriesDataItem) this.data.get(index);
                    children: []
                    pos: 22213
                    length: 68
                  - type: expression_statement
                    fields:
                      text: pair.setValue(value);
                    children: []
                    pos: 22295
                    length: 21
                  - type: expression_statement
                    fields:
                      text: fireSeriesChanged();
                    children: []
                    pos: 22330
                    length: 20
                  pos: 22198
                  length: 163
                pos: 22182
                length: 344
              pos: 22033
              length: 502
          children: []
          pos: 21974
          length: 561
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: update
              children: []
              pos: 22750
              length: 6
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: int index
                children: []
                pos: 22757
                length: 9
              pos: 22738
              length: 168
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: TimeSeriesDataItem item = getDataItem(index);
                children: []
                pos: 22793
                length: 45
              - type: expression_statement
                fields:
                  text: item.setValue(value);
                children: []
                pos: 22848
                length: 21
              - type: expression_statement
                fields:
                  text: fireSeriesChanged();
                children: []
                pos: 22879
                length: 20
              pos: 22782
              length: 124
          children: []
          pos: 22738
          length: 168
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: addAndOrUpdate
              children: []
              pos: 23224
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: TimeSeries series
                children: []
                pos: 23239
                length: 17
              pos: 23206
              length: 564
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: "TimeSeries overwritten = new TimeSeries(\"Overwritten values
                    from: \" \r\n                + getKey(), series.getTimePeriodClass());"
                children: []
                pos: 23269
                length: 127
              - type: for_statement
                fields:
                  text: "for (int i = 0; i < series.getItemCount(); i++) {\r\n            TimeSeriesDataItem
                    item = series.getDataItem(i);\r\n            TimeSeriesDataItem
                    oldItem = addOrUpdate(item.getPeriod(), \r\n                    item.getValue());\r\n
                    \           if (oldItem != null) {\r\n                overwritten.add(oldItem);\r\n
                    \           }\r\n        }"
                children: []
                pos: 23406
                length: 328
              - type: return_statement
                fields:
                  text: return overwritten;
                children: []
                pos: 23744
                length: 19
              pos: 23258
              length: 512
          children: []
          pos: 23206
          length: 564
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: addOrUpdate
              children: []
              pos: 24266
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: RegularTimePeriod period
                children: []
                pos: 24278
                length: 24
              pos: 24240
              length: 195
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return this.addOrUpdate(period, new Double(value));
                children: []
                pos: 24373
                length: 51
              pos: 24362
              length: 73
          children: []
          pos: 24240
          length: 195
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: addOrUpdate
              children: []
              pos: 24965
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: RegularTimePeriod period
                children: []
                pos: 24977
                length: 24
              pos: 24939
              length: 1514
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: period
                            children: []
                            pos: 25078
                            length: 6
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 25088
                            length: 4
                        children: []
                        pos: 25078
                        length: 14
                    children: []
                    pos: 25077
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: throw new IllegalArgumentException("Null 'period' argument.");
                    children: []
                    pos: 25109
                    length: 62
                  pos: 25094
                  length: 91
                pos: 25074
                length: 111
              - type: local_variable_declaration
                fields:
                  text: TimeSeriesDataItem overwritten = null;
                children: []
                pos: 25195
                length: 38
              - type: local_variable_declaration
                fields:
                  text: TimeSeriesDataItem key = new TimeSeriesDataItem(period, value);
                children: []
                pos: 25245
                length: 63
              - type: local_variable_declaration
                fields:
                  text: int index = Collections.binarySearch(this.data, key);
                children: []
                pos: 25318
                length: 53
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: greater_or_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: index
                            children: []
                            pos: 25385
                            length: 5
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '0'
                            children: []
                            pos: 25394
                            length: 1
                        children: []
                        pos: 25385
                        length: 10
                    children: []
                    pos: 25384
                    length: 12
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: "TimeSeriesDataItem existing \r\n                = (TimeSeriesDataItem)
                        this.data.get(index);"
                    children: []
                    pos: 25412
                    length: 90
                  - type: expression_statement
                    fields:
                      text: overwritten = (TimeSeriesDataItem) existing.clone();
                    children: []
                    pos: 25516
                    length: 52
                  - type: expression_statement
                    fields:
                      text: existing.setValue(value);
                    children: []
                    pos: 25582
                    length: 25
                  - type: expression_statement
                    fields:
                      text: removeAgedItems(false);
                    children: []
                    pos: 25621
                    length: 23
                  - type: expression_statement
                    fields:
                      text: fireSeriesChanged();
                    children: []
                    pos: 25836
                    length: 20
                  pos: 25397
                  length: 470
                pos: 25381
                length: 1034
              - type: return_statement
                fields:
                  text: return overwritten;
                children: []
                pos: 26425
                length: 19
              pos: 25061
              length: 1392
          children: []
          pos: 24939
          length: 1514
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: removeAgedItems
              children: []
              pos: 26875
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: boolean notify
                children: []
                pos: 26891
                length: 14
              pos: 26863
              length: 606
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: greater_than
                        fields:
                          left:
                            type: method_invocation
                            fields:
                              text: getItemCount()
                            children: []
                            pos: 27024
                            length: 14
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '1'
                            children: []
                            pos: 27041
                            length: 1
                        children: []
                        pos: 27024
                        length: 18
                    children: []
                    pos: 27023
                    length: 20
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: long latest = getTimePeriod(getItemCount() - 1).getSerialIndex();
                    children: []
                    pos: 27059
                    length: 65
                  - type: local_variable_declaration
                    fields:
                      text: boolean removed = false;
                    children: []
                    pos: 27138
                    length: 24
                  - type: while_statement
                    fields:
                      text: "while ((latest - getTimePeriod(0).getSerialIndex()) \r\n
                        \                   > this.maximumItemAge) {\r\n                this.data.remove(0);\r\n
                        \               removed = true;\r\n            }"
                    children: []
                    pos: 27176
                    length: 184
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: and
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: removed
                                children: []
                                pos: 27378
                                length: 7
                              right:
                                type: identifier
                                fields:
                                  text: notify
                                children: []
                                pos: 27389
                                length: 6
                            children: []
                            pos: 27378
                            length: 17
                        children: []
                        pos: 27377
                        length: 19
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: fireSeriesChanged();
                        children: []
                        pos: 27416
                        length: 20
                      pos: 27397
                      length: 54
                    pos: 27374
                    length: 77
                  pos: 27044
                  length: 418
                pos: 27020
                length: 442
              pos: 26907
              length: 562
          children: []
          pos: 26863
          length: 606
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: removeAgedItems
              children: []
              pos: 27994
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: long latest
                children: []
                pos: 28010
                length: 11
              pos: 27982
              length: 1354
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: long index = Long.MAX_VALUE;
                children: []
                pos: 28130
                length: 28
              - type: try_statement
                fields:
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: local_variable_declaration
                      fields:
                        text: "Method m = RegularTimePeriod.class.getDeclaredMethod(\r\n
                          \                   \"createInstance\", new Class[] {Class.class,
                          Date.class, \r\n                    TimeZone.class});"
                      children: []
                      pos: 28188
                      length: 170
                    - type: local_variable_declaration
                      fields:
                        text: "RegularTimePeriod newest = (RegularTimePeriod) m.invoke(\r\n
                          \                   this.timePeriodClass, new Object[] {this.timePeriodClass,\r\n
                          \                           new Date(latest), TimeZone.getDefault()});"
                      children: []
                      pos: 28372
                      length: 207
                    - type: expression_statement
                      fields:
                        text: index = newest.getSerialIndex();
                      children: []
                      pos: 28593
                      length: 32
                    pos: 28173
                    length: 463
                  excepts:
                    type: excepts
                    fields: {}
                    children:
                    - type: catch_clause
                      fields:
                        text: "catch (NoSuchMethodException e) {\r\n            e.printStackTrace();\r\n
                          \       }"
                      children: []
                      pos: 28646
                      length: 78
                    - type: catch_clause
                      fields:
                        text: "catch (IllegalAccessException e) {\r\n            e.printStackTrace();\r\n
                          \       }"
                      children: []
                      pos: 28734
                      length: 79
                    - type: catch_clause
                      fields:
                        text: "catch (InvocationTargetException e) {\r\n            e.printStackTrace();\r\n
                          \       }"
                      children: []
                      pos: 28823
                      length: 82
                    pos: 28169
                    length: 736
                children: []
                pos: 28169
                length: 736
              - type: local_variable_declaration
                fields:
                  text: boolean removed = false;
                children: []
                pos: 29027
                length: 24
              - type: while_statement
                fields:
                  text: "while (getItemCount() > 0 && (index \r\n                -
                    getTimePeriod(0).getSerialIndex()) > this.maximumItemAge) {\r\n
                    \           this.data.remove(0);\r\n            removed = true;\r\n
                    \       }"
                children: []
                pos: 29061
                length: 189
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: and
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: removed
                            children: []
                            pos: 29264
                            length: 7
                          right:
                            type: identifier
                            fields:
                              text: notify
                            children: []
                            pos: 29275
                            length: 6
                        children: []
                        pos: 29264
                        length: 17
                    children: []
                    pos: 29263
                    length: 19
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: fireSeriesChanged();
                    children: []
                    pos: 29298
                    length: 20
                  pos: 29283
                  length: 46
                pos: 29260
                length: 69
              pos: 28039
              length: 1297
          children: []
          pos: 27982
          length: 1354
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: clear
              children: []
              pos: 29497
              length: 5
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 29485
              length: 142
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: greater_than
                        fields:
                          left:
                            type: method_invocation
                            fields:
                              text: this.data.size()
                            children: []
                            pos: 29520
                            length: 16
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '0'
                            children: []
                            pos: 29539
                            length: 1
                        children: []
                        pos: 29520
                        length: 20
                    children: []
                    pos: 29519
                    length: 22
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: this.data.clear();
                    children: []
                    pos: 29557
                    length: 18
                  - type: expression_statement
                    fields:
                      text: fireSeriesChanged();
                    children: []
                    pos: 29589
                    length: 20
                  pos: 29542
                  length: 78
                pos: 29516
                length: 104
              pos: 29505
              length: 122
          children: []
          pos: 29485
          length: 142
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: delete
              children: []
              pos: 30007
              length: 6
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: RegularTimePeriod period
                children: []
                pos: 30014
                length: 24
              pos: 29995
              length: 202
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: int index = getIndex(period);
                children: []
                pos: 30051
                length: 29
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: greater_or_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: index
                            children: []
                            pos: 30094
                            length: 5
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '0'
                            children: []
                            pos: 30103
                            length: 1
                        children: []
                        pos: 30094
                        length: 10
                    children: []
                    pos: 30093
                    length: 12
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: this.data.remove(index);
                    children: []
                    pos: 30121
                    length: 24
                  - type: expression_statement
                    fields:
                      text: fireSeriesChanged();
                    children: []
                    pos: 30159
                    length: 20
                  pos: 30106
                  length: 84
                pos: 30090
                length: 100
              pos: 30040
              length: 157
          children: []
          pos: 29995
          length: 202
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: delete
              children: []
              pos: 30431
              length: 6
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: int start
                children: []
                pos: 30438
                length: 9
              pos: 30419
              length: 292
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: less_than
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: end
                            children: []
                            pos: 30473
                            length: 3
                          right:
                            type: identifier
                            fields:
                              text: start
                            children: []
                            pos: 30479
                            length: 5
                        children: []
                        pos: 30473
                        length: 11
                    children: []
                    pos: 30472
                    length: 13
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: throw new IllegalArgumentException("Requires start <=
                        end.");
                    children: []
                    pos: 30501
                    length: 61
                  pos: 30486
                  length: 87
                pos: 30469
                length: 104
              - type: for_statement
                fields:
                  text: "for (int i = 0; i <= (end - start); i++) {\r\n            this.data.remove(start);\r\n
                    \       }"
                children: []
                pos: 30583
                length: 91
              - type: expression_statement
                fields:
                  text: fireSeriesChanged();
                children: []
                pos: 30684
                length: 20
              pos: 30458
              length: 253
          children: []
          pos: 30419
          length: 292
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: clone
              children: []
              pos: 31219
              length: 5
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 31205
              length: 210
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: TimeSeries clone = (TimeSeries) super.clone();
                children: []
                pos: 31272
                length: 46
              - type: expression_statement
                fields:
                  text: clone.data = (List) ObjectUtilities.deepClone(this.data);
                children: []
                pos: 31328
                length: 57
              - type: return_statement
                fields:
                  text: return clone;
                children: []
                pos: 31395
                length: 13
              pos: 31261
              length: 154
          children: []
          pos: 31205
          length: 210
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: createCopy
              children: []
              pos: 31883
              length: 10
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: int start
                children: []
                pos: 31894
                length: 9
              pos: 31865
              length: 952
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: less_than
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: start
                            children: []
                            pos: 31975
                            length: 5
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '0'
                            children: []
                            pos: 31983
                            length: 1
                        children: []
                        pos: 31975
                        length: 9
                    children: []
                    pos: 31974
                    length: 11
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: throw new IllegalArgumentException("Requires start >=
                        0.");
                    children: []
                    pos: 32001
                    length: 59
                  pos: 31986
                  length: 85
                pos: 31971
                length: 100
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: less_than
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: end
                            children: []
                            pos: 32085
                            length: 3
                          right:
                            type: identifier
                            fields:
                              text: start
                            children: []
                            pos: 32091
                            length: 5
                        children: []
                        pos: 32085
                        length: 11
                    children: []
                    pos: 32084
                    length: 13
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: throw new IllegalArgumentException("Requires start <=
                        end.");
                    children: []
                    pos: 32113
                    length: 61
                  pos: 32098
                  length: 87
                pos: 32081
                length: 104
              - type: local_variable_declaration
                fields:
                  text: TimeSeries copy = (TimeSeries) super.clone();
                children: []
                pos: 32195
                length: 45
              - type: expression_statement
                fields:
                  text: copy.data = new java.util.ArrayList();
                children: []
                pos: 32252
                length: 38
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: greater_than
                        fields:
                          left:
                            type: method_invocation
                            fields:
                              text: this.data.size()
                            children: []
                            pos: 32304
                            length: 16
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '0'
                            children: []
                            pos: 32323
                            length: 1
                        children: []
                        pos: 32304
                        length: 20
                    children: []
                    pos: 32303
                    length: 22
                children:
                - type: block
                  fields: {}
                  children:
                  - type: for_statement
                    fields:
                      text: "for (int index = start; index <= end; index++) {\r\n
                        \               TimeSeriesDataItem item \r\n                    =
                        (TimeSeriesDataItem) this.data.get(index);\r\n                TimeSeriesDataItem
                        clone = (TimeSeriesDataItem) item.clone();\r\n                try
                        {\r\n                    copy.add(clone);\r\n                }\r\n
                        \               catch (SeriesException e) {\r\n                    e.printStackTrace();\r\n
                        \               }\r\n            }"
                    children: []
                    pos: 32341
                    length: 436
                  pos: 32326
                  length: 462
                pos: 32300
                length: 488
              - type: return_statement
                fields:
                  text: return copy;
                children: []
                pos: 32798
                length: 12
              pos: 31958
              length: 859
          children: []
          pos: 31865
          length: 952
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: createCopy
              children: []
              pos: 33265
              length: 10
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: RegularTimePeriod start
                children: []
                pos: 33276
                length: 23
              pos: 33247
              length: 1438
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: start
                            children: []
                            pos: 33384
                            length: 5
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 33393
                            length: 4
                        children: []
                        pos: 33384
                        length: 13
                    children: []
                    pos: 33383
                    length: 15
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: throw new IllegalArgumentException("Null 'start' argument.");
                    children: []
                    pos: 33414
                    length: 61
                  pos: 33399
                  length: 87
                pos: 33380
                length: 106
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: end
                            children: []
                            pos: 33500
                            length: 3
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 33507
                            length: 4
                        children: []
                        pos: 33500
                        length: 11
                    children: []
                    pos: 33499
                    length: 13
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: throw new IllegalArgumentException("Null 'end' argument.");
                    children: []
                    pos: 33528
                    length: 59
                  pos: 33513
                  length: 85
                pos: 33496
                length: 102
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: greater_than
                        fields:
                          left:
                            type: method_invocation
                            fields:
                              text: start.compareTo(end)
                            children: []
                            pos: 33612
                            length: 20
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '0'
                            children: []
                            pos: 33635
                            length: 1
                        children: []
                        pos: 33612
                        length: 24
                    children: []
                    pos: 33611
                    length: 26
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: "throw new IllegalArgumentException(\r\n                    \"Requires
                        start on or before end.\");"
                    children: []
                    pos: 33653
                    length: 93
                  pos: 33638
                  length: 119
                pos: 33608
                length: 149
              - type: local_variable_declaration
                fields:
                  text: boolean emptyRange = false;
                children: []
                pos: 33767
                length: 27
              - type: local_variable_declaration
                fields:
                  text: int startIndex = getIndex(start);
                children: []
                pos: 33804
                length: 33
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: less_than
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: startIndex
                            children: []
                            pos: 33851
                            length: 10
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '0'
                            children: []
                            pos: 33864
                            length: 1
                        children: []
                        pos: 33851
                        length: 14
                    children: []
                    pos: 33850
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: startIndex = -(startIndex + 1);
                    children: []
                    pos: 33882
                    length: 31
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: startIndex
                                children: []
                                pos: 33931
                                length: 10
                              right:
                                type: method_invocation
                                fields:
                                  text: this.data.size()
                                children: []
                                pos: 33945
                                length: 16
                            children: []
                            pos: 33931
                            length: 30
                        children: []
                        pos: 33930
                        length: 32
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: emptyRange = true;
                        children: []
                        pos: 33982
                        length: 18
                      pos: 33963
                      length: 86
                    pos: 33927
                    length: 122
                  pos: 33867
                  length: 193
                pos: 33847
                length: 213
              - type: local_variable_declaration
                fields:
                  text: int endIndex = getIndex(end);
                children: []
                pos: 34070
                length: 29
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: less_than
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: endIndex
                            children: []
                            pos: 34113
                            length: 8
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '0'
                            children: []
                            pos: 34124
                            length: 1
                        children: []
                        pos: 34113
                        length: 12
                    children: []
                    pos: 34112
                    length: 14
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: endIndex = -(endIndex + 1);
                    children: []
                    pos: 34194
                    length: 27
                  - type: expression_statement
                    fields:
                      text: endIndex = endIndex - 1;
                    children: []
                    pos: 34274
                    length: 24
                  pos: 34127
                  length: 221
                pos: 34109
                length: 239
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: less_than
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: endIndex
                            children: []
                            pos: 34362
                            length: 8
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '0'
                            children: []
                            pos: 34373
                            length: 1
                        children: []
                        pos: 34362
                        length: 12
                    children: []
                    pos: 34361
                    length: 14
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: emptyRange = true;
                    children: []
                    pos: 34391
                    length: 18
                  pos: 34376
                  length: 44
                pos: 34358
                length: 62
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: identifier
                        fields:
                          text: emptyRange
                        children: []
                        pos: 34434
                        length: 10
                    children: []
                    pos: 34433
                    length: 12
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: TimeSeries copy = (TimeSeries) super.clone();
                    children: []
                    pos: 34461
                    length: 45
                  - type: expression_statement
                    fields:
                      text: copy.data = new java.util.ArrayList();
                    children: []
                    pos: 34520
                    length: 38
                  - type: return_statement
                    fields:
                      text: return copy;
                    children: []
                    pos: 34572
                    length: 12
                  pos: 34446
                  length: 149
                pos: 34430
                length: 246
              pos: 33367
              length: 1318
          children: []
          pos: 33247
          length: 1438
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: equals
              children: []
              pos: 34914
              length: 6
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Object object
                children: []
                pos: 34921
                length: 13
              pos: 34899
              length: 1168
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: object
                            children: []
                            pos: 34951
                            length: 6
                          right:
                            type: this
                            fields: {}
                            children: []
                            pos: 34961
                            length: 4
                        children: []
                        pos: 34951
                        length: 14
                    children: []
                    pos: 34950
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return true;
                    children: []
                    pos: 34982
                    length: 12
                  pos: 34967
                  length: 38
                pos: 34947
                length: 58
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: unary_expression
                            fields:
                              text: "!(object instanceof TimeSeries)"
                            children: []
                            pos: 35019
                            length: 31
                          right:
                            type: unary_expression
                            fields:
                              text: "!super.equals(object)"
                            children: []
                            pos: 35054
                            length: 21
                        children: []
                        pos: 35019
                        length: 56
                    children: []
                    pos: 35018
                    length: 58
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return false;
                    children: []
                    pos: 35092
                    length: 13
                  pos: 35077
                  length: 39
                pos: 35015
                length: 101
              - type: local_variable_declaration
                fields:
                  text: TimeSeries s = (TimeSeries) object;
                children: []
                pos: 35126
                length: 35
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: unary_expression
                        fields:
                          text: "!ObjectUtilities.equal(\r\n            getDomainDescription(),
                            s.getDomainDescription()\r\n        )"
                        children: []
                        pos: 35175
                        length: 96
                    children: []
                    pos: 35174
                    length: 98
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return false;
                    children: []
                    pos: 35288
                    length: 13
                  pos: 35273
                  length: 39
                pos: 35171
                length: 141
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: unary_expression
                        fields:
                          text: "!ObjectUtilities.equal(\r\n            getRangeDescription(),
                            s.getRangeDescription()\r\n        )"
                        children: []
                        pos: 35328
                        length: 94
                    children: []
                    pos: 35327
                    length: 96
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return false;
                    children: []
                    pos: 35439
                    length: 13
                  pos: 35424
                  length: 39
                pos: 35324
                length: 139
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: unary_expression
                        fields:
                          text: "!getClass().equals(s.getClass())"
                        children: []
                        pos: 35479
                        length: 32
                    children: []
                    pos: 35478
                    length: 34
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return false;
                    children: []
                    pos: 35528
                    length: 13
                  pos: 35513
                  length: 39
                pos: 35475
                length: 77
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: method_invocation
                            fields:
                              text: getMaximumItemAge()
                            children: []
                            pos: 35568
                            length: 19
                          right:
                            type: method_invocation
                            fields:
                              text: s.getMaximumItemAge()
                            children: []
                            pos: 35591
                            length: 21
                        children: []
                        pos: 35568
                        length: 44
                    children: []
                    pos: 35567
                    length: 46
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return false;
                    children: []
                    pos: 35629
                    length: 13
                  pos: 35614
                  length: 39
                pos: 35564
                length: 89
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: method_invocation
                            fields:
                              text: getMaximumItemCount()
                            children: []
                            pos: 35669
                            length: 21
                          right:
                            type: method_invocation
                            fields:
                              text: s.getMaximumItemCount()
                            children: []
                            pos: 35694
                            length: 23
                        children: []
                        pos: 35669
                        length: 48
                    children: []
                    pos: 35668
                    length: 50
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return false;
                    children: []
                    pos: 35734
                    length: 13
                  pos: 35719
                  length: 39
                pos: 35665
                length: 93
              - type: local_variable_declaration
                fields:
                  text: int count = getItemCount();
                children: []
                pos: 35770
                length: 27
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: count
                            children: []
                            pos: 35811
                            length: 5
                          right:
                            type: method_invocation
                            fields:
                              text: s.getItemCount()
                            children: []
                            pos: 35820
                            length: 16
                        children: []
                        pos: 35811
                        length: 25
                    children: []
                    pos: 35810
                    length: 27
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return false;
                    children: []
                    pos: 35853
                    length: 13
                  pos: 35838
                  length: 39
                pos: 35807
                length: 70
              - type: for_statement
                fields:
                  text: "for (int i = 0; i < count; i++) {\r\n            if (!getDataItem(i).equals(s.getDataItem(i)))
                    {\r\n                return false;\r\n            }\r\n        }"
                children: []
                pos: 35887
                length: 151
              - type: return_statement
                fields:
                  text: return true;
                children: []
                pos: 36048
                length: 12
              pos: 34936
              length: 1131
          children: []
          pos: 34899
          length: 1168
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: hashCode
              children: []
              pos: 36191
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 36180
              length: 1125
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: int result = super.hashCode();
                children: []
                pos: 36213
                length: 30
              - type: expression_statement
                fields:
                  text: "result = 29 * result + (this.domain != null ? this.domain.hashCode()
                    \r\n                : 0);"
                children: []
                pos: 36253
                length: 92
              - type: expression_statement
                fields:
                  text: 'result = 29 * result + (this.range != null ? this.range.hashCode()
                    : 0);'
                children: []
                pos: 36355
                length: 72
              - type: expression_statement
                fields:
                  text: "result = 29 * result + (this.timePeriodClass != null \r\n
                    \               ? this.timePeriodClass.hashCode() : 0);"
                children: []
                pos: 36437
                length: 110
              - type: local_variable_declaration
                fields:
                  text: int count = getItemCount();
                children: []
                pos: 36682
                length: 27
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: greater_than
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: count
                            children: []
                            pos: 36723
                            length: 5
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '0'
                            children: []
                            pos: 36731
                            length: 1
                        children: []
                        pos: 36723
                        length: 9
                    children: []
                    pos: 36722
                    length: 11
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: TimeSeriesDataItem item = getDataItem(0);
                    children: []
                    pos: 36749
                    length: 41
                  - type: expression_statement
                    fields:
                      text: result = 29 * result + item.hashCode();
                    children: []
                    pos: 36804
                    length: 39
                  pos: 36734
                  length: 120
                pos: 36719
                length: 135
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: greater_than
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: count
                            children: []
                            pos: 36868
                            length: 5
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '1'
                            children: []
                            pos: 36876
                            length: 1
                        children: []
                        pos: 36868
                        length: 9
                    children: []
                    pos: 36867
                    length: 11
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: TimeSeriesDataItem item = getDataItem(count - 1);
                    children: []
                    pos: 36894
                    length: 49
                  - type: expression_statement
                    fields:
                      text: result = 29 * result + item.hashCode();
                    children: []
                    pos: 36957
                    length: 39
                  pos: 36879
                  length: 128
                pos: 36864
                length: 143
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: greater_than
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: count
                            children: []
                            pos: 37021
                            length: 5
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '2'
                            children: []
                            pos: 37029
                            length: 1
                        children: []
                        pos: 37021
                        length: 9
                    children: []
                    pos: 37020
                    length: 11
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: TimeSeriesDataItem item = getDataItem(count / 2);
                    children: []
                    pos: 37047
                    length: 49
                  - type: expression_statement
                    fields:
                      text: result = 29 * result + item.hashCode();
                    children: []
                    pos: 37110
                    length: 39
                  pos: 37032
                  length: 128
                pos: 37017
                length: 143
              - type: expression_statement
                fields:
                  text: result = 29 * result + this.maximumItemCount;
                children: []
                pos: 37170
                length: 45
              - type: expression_statement
                fields:
                  text: result = 29 * result + (int) this.maximumItemAge;
                children: []
                pos: 37225
                length: 49
              - type: return_statement
                fields:
                  text: return result;
                children: []
                pos: 37284
                length: 14
              pos: 36202
              length: 1103
          children: []
          pos: 36180
          length: 1125
        pos: 4583
        length: 32727
    children: []
    pos: 4583
    length: 32727
  pos: 0
  length: 37312
after_tree:
  type: program
  fields: {}
  children:
  - type: class_declaration
    fields:
      name:
        type: identifier
        fields:
          text: TimeSeries
        children: []
        pos: 4596
        length: 10
      body:
        type: class_body
        fields: {}
        children:
        - type: field_declaration
          fields:
            text: private static final long serialVersionUID = -5032960206869675528L;
          children: []
          pos: 4697
          length: 67
        - type: field_declaration
          fields:
            text: protected static final String DEFAULT_DOMAIN_DESCRIPTION = "Time";
          children: []
          pos: 4830
          length: 66
        - type: field_declaration
          fields:
            text: protected static final String DEFAULT_RANGE_DESCRIPTION = "Value";
          children: []
          pos: 4957
          length: 66
        - type: field_declaration
          fields:
            text: private String domain;
          children: []
          pos: 5072
          length: 22
        - type: field_declaration
          fields:
            text: private String range;
          children: []
          pos: 5142
          length: 21
        - type: field_declaration
          fields:
            text: protected Class timePeriodClass;
          children: []
          pos: 5216
          length: 32
        - type: field_declaration
          fields:
            text: protected List data;
          children: []
          pos: 5306
          length: 20
        - type: field_declaration
          fields:
            text: private int maximumItemCount;
          children: []
          pos: 5390
          length: 29
        - type: field_declaration
          fields:
            text: private long maximumItemAge;
          children: []
          pos: 5543
          length: 28
        - type: constructor_declaration
          fields:
            text: "public TimeSeries(Comparable name) {\r\n        this(name, DEFAULT_DOMAIN_DESCRIPTION,
              DEFAULT_RANGE_DESCRIPTION, \r\n                Day.class);\r\n    }"
          children: []
          pos: 5862
          length: 148
        - type: constructor_declaration
          fields:
            text: "public TimeSeries(Comparable name, Class timePeriodClass) {\r\n
              \       this(name, DEFAULT_DOMAIN_DESCRIPTION, DEFAULT_RANGE_DESCRIPTION,
              \r\n                timePeriodClass);\r\n    }"
          children: []
          pos: 6354
          length: 177
        - type: constructor_declaration
          fields:
            text: "public TimeSeries(Comparable name, String domain, String range,
              \r\n                      Class timePeriodClass) {\r\n        super(name);\r\n
              \       this.domain = domain;\r\n        this.range = range;\r\n        this.timePeriodClass
              = timePeriodClass;\r\n        this.data = new java.util.ArrayList();\r\n
              \       this.maximumItemCount = Integer.MAX_VALUE;\r\n        this.maximumItemAge
              = Long.MAX_VALUE;\r\n    }"
          children: []
          pos: 7219
          length: 397
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getDomainDescription
              children: []
              pos: 7825
              length: 20
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 7811
              length: 74
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return this.domain;
                children: []
                pos: 7859
                length: 19
              pos: 7848
              length: 37
          children: []
          pos: 7811
          length: 74
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setDomainDescription
              children: []
              pos: 8240
              length: 20
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String description
                children: []
                pos: 8261
                length: 18
              pos: 8228
              length: 189
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: String old = this.domain;
                children: []
                pos: 8292
                length: 25
              - type: expression_statement
                fields:
                  text: this.domain = description;
                children: []
                pos: 8327
                length: 26
              - type: expression_statement
                fields:
                  text: firePropertyChange("Domain", old, description);
                children: []
                pos: 8363
                length: 47
              pos: 8281
              length: 136
          children: []
          pos: 8228
          length: 189
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getRangeDescription
              children: []
              pos: 8623
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 8609
              length: 72
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return this.range;
                children: []
                pos: 8656
                length: 18
              pos: 8645
              length: 36
          children: []
          pos: 8609
          length: 72
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setRangeDescription
              children: []
              pos: 9009
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String description
                children: []
                pos: 9029
                length: 18
              pos: 8997
              length: 185
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: String old = this.range;
                children: []
                pos: 9060
                length: 24
              - type: expression_statement
                fields:
                  text: this.range = description;
                children: []
                pos: 9094
                length: 25
              - type: expression_statement
                fields:
                  text: firePropertyChange("Range", old, description);
                children: []
                pos: 9129
                length: 46
              pos: 9049
              length: 133
          children: []
          pos: 8997
          length: 185
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getItemCount
              children: []
              pos: 9310
              length: 12
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 9299
              length: 68
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return this.data.size();
                children: []
                pos: 9336
                length: 24
              pos: 9325
              length: 42
          children: []
          pos: 9299
          length: 68
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getItems
              children: []
              pos: 9592
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 9580
              length: 88
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return Collections.unmodifiableList(this.data);
                children: []
                pos: 9614
                length: 47
              pos: 9603
              length: 65
          children: []
          pos: 9580
          length: 88
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getMaximumItemCount
              children: []
              pos: 9943
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 9932
              length: 80
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return this.maximumItemCount;
                children: []
                pos: 9976
                length: 29
              pos: 9965
              length: 47
          children: []
          pos: 9932
          length: 80
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setMaximumItemCount
              children: []
              pos: 10490
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: int maximum
                children: []
                pos: 10510
                length: 11
              pos: 10478
              length: 342
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: less_than
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: maximum
                            children: []
                            pos: 10538
                            length: 7
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '0'
                            children: []
                            pos: 10548
                            length: 1
                        children: []
                        pos: 10538
                        length: 11
                    children: []
                    pos: 10537
                    length: 13
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: throw new IllegalArgumentException("Negative 'maximum'
                        argument.");
                    children: []
                    pos: 10566
                    length: 67
                  pos: 10551
                  length: 93
                pos: 10534
                length: 110
              - type: expression_statement
                fields:
                  text: this.maximumItemCount = maximum;
                children: []
                pos: 10654
                length: 32
              - type: local_variable_declaration
                fields:
                  text: int count = this.data.size();
                children: []
                pos: 10696
                length: 29
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: greater_than
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: count
                            children: []
                            pos: 10739
                            length: 5
                          right:
                            type: identifier
                            fields:
                              text: maximum
                            children: []
                            pos: 10747
                            length: 7
                        children: []
                        pos: 10739
                        length: 15
                    children: []
                    pos: 10738
                    length: 17
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: delete(0, count - maximum - 1);
                    children: []
                    pos: 10771
                    length: 31
                  pos: 10756
                  length: 57
                pos: 10735
                length: 78
              pos: 10523
              length: 297
          children: []
          pos: 10478
          length: 342
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getMaximumItemAge
              children: []
              pos: 11022
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 11010
              length: 77
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return this.maximumItemAge;
                children: []
                pos: 11053
                length: 27
              pos: 11042
              length: 45
          children: []
          pos: 11010
          length: 77
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setMaximumItemAge
              children: []
              pos: 11654
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: long periods
                children: []
                pos: 11672
                length: 12
              pos: 11642
              length: 289
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: less_than
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: periods
                            children: []
                            pos: 11701
                            length: 7
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '0'
                            children: []
                            pos: 11711
                            length: 1
                        children: []
                        pos: 11701
                        length: 11
                    children: []
                    pos: 11700
                    length: 13
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: throw new IllegalArgumentException("Negative 'periods'
                        argument.");
                    children: []
                    pos: 11729
                    length: 67
                  pos: 11714
                  length: 93
                pos: 11697
                length: 110
              - type: expression_statement
                fields:
                  text: this.maximumItemAge = periods;
                children: []
                pos: 11817
                length: 30
              - type: expression_statement
                fields:
                  text: removeAgedItems(true);
                children: []
                pos: 11857
                length: 22
              pos: 11686
              length: 245
          children: []
          pos: 11642
          length: 289
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getTimePeriodClass
              children: []
              pos: 12354
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 12341
              length: 80
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return this.timePeriodClass;
                children: []
                pos: 12386
                length: 28
              pos: 12375
              length: 46
          children: []
          pos: 12341
          length: 80
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getDataItem
              children: []
              pos: 12669
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: int index
                children: []
                pos: 12681
                length: 9
              pos: 12643
              length: 116
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return (TimeSeriesDataItem) this.data.get(index);
                children: []
                pos: 12703
                length: 49
              pos: 12692
              length: 67
          children: []
          pos: 12643
          length: 116
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getDataItem
              children: []
              pos: 13120
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: RegularTimePeriod period
                children: []
                pos: 13132
                length: 24
              pos: 13094
              length: 265
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: int index = getIndex(period);
                children: []
                pos: 13169
                length: 29
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: greater_or_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: index
                            children: []
                            pos: 13212
                            length: 5
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '0'
                            children: []
                            pos: 13221
                            length: 1
                        children: []
                        pos: 13212
                        length: 10
                    children: []
                    pos: 13211
                    length: 12
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return (TimeSeriesDataItem) this.data.get(index);
                    children: []
                    pos: 13239
                    length: 49
                  pos: 13224
                  length: 75
                pos: 13208
                length: 144
              pos: 13158
              length: 201
          children: []
          pos: 13094
          length: 265
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getTimePeriod
              children: []
              pos: 13565
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: int index
                children: []
                pos: 13579
                length: 9
              pos: 13540
              length: 106
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getDataItem(index).getPeriod();
                children: []
                pos: 13601
                length: 38
              pos: 13590
              length: 56
          children: []
          pos: 13540
          length: 106
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getNextTimePeriod
              children: []
              pos: 13847
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 13822
              length: 151
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: RegularTimePeriod last = getTimePeriod(getItemCount() - 1);
                children: []
                pos: 13878
                length: 59
              - type: return_statement
                fields:
                  text: return last.next();
                children: []
                pos: 13947
                length: 19
              pos: 13867
              length: 106
          children: []
          pos: 13822
          length: 151
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getTimePeriods
              children: []
              pos: 14152
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 14134
              length: 229
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: Collection result = new java.util.ArrayList();
                children: []
                pos: 14180
                length: 46
              - type: for_statement
                fields:
                  text: "for (int i = 0; i < getItemCount(); i++) {\r\n            result.add(getTimePeriod(i));\r\n
                    \       }"
                children: []
                pos: 14236
                length: 96
              - type: return_statement
                fields:
                  text: return result;
                children: []
                pos: 14342
                length: 14
              pos: 14169
              length: 194
          children: []
          pos: 14134
          length: 229
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getTimePeriodsUniqueToOtherSeries
              children: []
              pos: 14673
              length: 33
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: TimeSeries series
                children: []
                pos: 14707
                length: 17
              pos: 14655
              length: 423
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: Collection result = new java.util.ArrayList();
                children: []
                pos: 14739
                length: 46
              - type: for_statement
                fields:
                  text: "for (int i = 0; i < series.getItemCount(); i++) {\r\n            RegularTimePeriod
                    period = series.getTimePeriod(i);\r\n            int index = getIndex(period);\r\n
                    \           if (index < 0) {\r\n                result.add(period);\r\n
                    \           }\r\n        }"
                children: []
                pos: 14795
                length: 250
              - type: return_statement
                fields:
                  text: return result;
                children: []
                pos: 15055
                length: 14
              pos: 14726
              length: 352
          children: []
          pos: 14655
          length: 423
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getIndex
              children: []
              pos: 15324
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: RegularTimePeriod period
                children: []
                pos: 15333
                length: 24
              pos: 15313
              length: 336
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: period
                            children: []
                            pos: 15374
                            length: 6
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 15384
                            length: 4
                        children: []
                        pos: 15374
                        length: 14
                    children: []
                    pos: 15373
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: throw new IllegalArgumentException("Null 'period' argument.");
                    children: []
                    pos: 15405
                    length: 62
                  pos: 15390
                  length: 88
                pos: 15370
                length: 108
              - type: local_variable_declaration
                fields:
                  text: "TimeSeriesDataItem dummy = new TimeSeriesDataItem(\r\n              period,
                    Integer.MIN_VALUE);"
                children: []
                pos: 15489
                length: 93
              - type: return_statement
                fields:
                  text: return Collections.binarySearch(this.data, dummy);
                children: []
                pos: 15592
                length: 50
              pos: 15359
              length: 290
          children: []
          pos: 15313
          length: 336
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getValue
              children: []
              pos: 15851
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: int index
                children: []
                pos: 15860
                length: 9
              pos: 15837
              length: 89
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getDataItem(index).getValue();
                children: []
                pos: 15882
                length: 37
              pos: 15871
              length: 55
          children: []
          pos: 15837
          length: 89
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getValue
              children: []
              pos: 16258
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: RegularTimePeriod period
                children: []
                pos: 16267
                length: 24
              pos: 16244
              length: 228
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: int index = getIndex(period);
                children: []
                pos: 16306
                length: 29
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: greater_or_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: index
                            children: []
                            pos: 16349
                            length: 5
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '0'
                            children: []
                            pos: 16358
                            length: 1
                        children: []
                        pos: 16349
                        length: 10
                    children: []
                    pos: 16348
                    length: 12
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return getValue(index);
                    children: []
                    pos: 16376
                    length: 23
                  pos: 16361
                  length: 49
                pos: 16345
                length: 118
              pos: 16293
              length: 179
          children: []
          pos: 16244
          length: 228
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: add
              children: []
              pos: 16772
              length: 3
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: TimeSeriesDataItem item
                children: []
                pos: 16776
                length: 23
              pos: 16760
              length: 75
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: add(item, true);
                children: []
                pos: 16812
                length: 16
              pos: 16801
              length: 34
          children: []
          pos: 16760
          length: 75
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: add
              children: []
              pos: 17184
              length: 3
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: TimeSeriesDataItem item
                children: []
                pos: 17188
                length: 23
              pos: 17172
              length: 2546
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: item
                            children: []
                            pos: 17244
                            length: 4
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 17252
                            length: 4
                        children: []
                        pos: 17244
                        length: 12
                    children: []
                    pos: 17243
                    length: 14
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: throw new IllegalArgumentException("Null 'item' argument.");
                    children: []
                    pos: 17273
                    length: 60
                  pos: 17258
                  length: 86
                pos: 17240
                length: 104
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: unary_expression
                        fields:
                          text: "!item.getPeriod().getClass().equals(this.timePeriodClass)"
                        children: []
                        pos: 17358
                        length: 57
                    children: []
                    pos: 17357
                    length: 59
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: StringBuffer b = new StringBuffer();
                    children: []
                    pos: 17432
                    length: 36
                  - type: expression_statement
                    fields:
                      text: b.append("You are trying to add data where the time period
                        class ");
                    children: []
                    pos: 17482
                    length: 68
                  - type: expression_statement
                    fields:
                      text: b.append("is ");
                    children: []
                    pos: 17564
                    length: 16
                  - type: expression_statement
                    fields:
                      text: b.append(item.getPeriod().getClass().getName());
                    children: []
                    pos: 17594
                    length: 48
                  - type: expression_statement
                    fields:
                      text: b.append(", but the TimeSeries is expecting an instance
                        of ");
                    children: []
                    pos: 17656
                    length: 62
                  - type: expression_statement
                    fields:
                      text: b.append(this.timePeriodClass.getName());
                    children: []
                    pos: 17732
                    length: 41
                  - type: expression_statement
                    fields:
                      text: b.append(".");
                    children: []
                    pos: 17787
                    length: 14
                  - type: throw_statement
                    fields:
                      text: throw new SeriesException(b.toString());
                    children: []
                    pos: 17815
                    length: 40
                  pos: 17417
                  length: 449
                pos: 17354
                length: 512
              - type: local_variable_declaration
                fields:
                  text: boolean added = false;
                children: []
                pos: 17947
                length: 22
              - type: local_variable_declaration
                fields:
                  text: int count = getItemCount();
                children: []
                pos: 17979
                length: 27
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: count
                            children: []
                            pos: 18020
                            length: 5
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '0'
                            children: []
                            pos: 18029
                            length: 1
                        children: []
                        pos: 18020
                        length: 10
                    children: []
                    pos: 18019
                    length: 12
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: this.data.add(item);
                    children: []
                    pos: 18047
                    length: 20
                  - type: expression_statement
                    fields:
                      text: added = true;
                    children: []
                    pos: 18081
                    length: 13
                  pos: 18032
                  length: 73
                pos: 18016
                length: 1174
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: identifier
                        fields:
                          text: added
                        children: []
                        pos: 19204
                        length: 5
                    children: []
                    pos: 19203
                    length: 7
                children:
                - type: block
                  fields: {}
                  children:
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: greater_than
                            fields:
                              left:
                                type: method_invocation
                                fields:
                                  text: getItemCount()
                                children: []
                                pos: 19307
                                length: 14
                              right:
                                type: field_access
                                fields:
                                  text: this.maximumItemCount
                                children: []
                                pos: 19324
                                length: 21
                            children: []
                            pos: 19307
                            length: 38
                        children: []
                        pos: 19306
                        length: 40
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: this.data.remove(0);
                        children: []
                        pos: 19366
                        length: 20
                      pos: 19347
                      length: 54
                    pos: 19303
                    length: 98
                  - type: expression_statement
                    fields:
                      text: removeAgedItems(false);
                    children: []
                    pos: 19417
                    length: 23
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: identifier
                            fields:
                              text: notify
                            children: []
                            pos: 19636
                            length: 6
                        children: []
                        pos: 19635
                        length: 8
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: fireSeriesChanged();
                        children: []
                        pos: 19663
                        length: 20
                      pos: 19644
                      length: 54
                    pos: 19632
                    length: 66
                  pos: 19211
                  length: 498
                pos: 19200
                length: 509
              pos: 17229
              length: 2489
          children: []
          pos: 17172
          length: 2546
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: add
              children: []
              pos: 19989
              length: 3
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: RegularTimePeriod period
                children: []
                pos: 19993
                length: 24
              pos: 19977
              length: 138
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: add(period, value, true);
                children: []
                pos: 20083
                length: 25
              pos: 20033
              length: 82
          children: []
          pos: 19977
          length: 138
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: add
              children: []
              pos: 20427
              length: 3
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: RegularTimePeriod period
                children: []
                pos: 20431
                length: 24
              pos: 20415
              length: 221
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: TimeSeriesDataItem item = new TimeSeriesDataItem(period, value);
                children: []
                pos: 20537
                length: 64
              - type: expression_statement
                fields:
                  text: add(item, notify);
                children: []
                pos: 20611
                length: 18
              pos: 20487
              length: 149
          children: []
          pos: 20415
          length: 221
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: add
              children: []
              pos: 20970
              length: 3
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: RegularTimePeriod period
                children: []
                pos: 20974
                length: 24
              pos: 20958
              length: 138
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: add(period, value, true);
                children: []
                pos: 21064
                length: 25
              pos: 21014
              length: 82
          children: []
          pos: 20958
          length: 138
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: add
              children: []
              pos: 21471
              length: 3
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: RegularTimePeriod period
                children: []
                pos: 21475
                length: 24
              pos: 21459
              length: 221
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: TimeSeriesDataItem item = new TimeSeriesDataItem(period, value);
                children: []
                pos: 21581
                length: 64
              - type: expression_statement
                fields:
                  text: add(item, notify);
                children: []
                pos: 21655
                length: 18
              pos: 21531
              length: 149
          children: []
          pos: 21459
          length: 221
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: update
              children: []
              pos: 21986
              length: 6
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: RegularTimePeriod period
                children: []
                pos: 21993
                length: 24
              pos: 21974
              length: 561
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: TimeSeriesDataItem temp = new TimeSeriesDataItem(period, value);
                children: []
                pos: 22044
                length: 64
              - type: local_variable_declaration
                fields:
                  text: int index = Collections.binarySearch(this.data, temp);
                children: []
                pos: 22118
                length: 54
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: greater_or_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: index
                            children: []
                            pos: 22186
                            length: 5
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '0'
                            children: []
                            pos: 22195
                            length: 1
                        children: []
                        pos: 22186
                        length: 10
                    children: []
                    pos: 22185
                    length: 12
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: TimeSeriesDataItem pair = (TimeSeriesDataItem) this.data.get(index);
                    children: []
                    pos: 22213
                    length: 68
                  - type: expression_statement
                    fields:
                      text: pair.setValue(value);
                    children: []
                    pos: 22295
                    length: 21
                  - type: expression_statement
                    fields:
                      text: fireSeriesChanged();
                    children: []
                    pos: 22330
                    length: 20
                  pos: 22198
                  length: 163
                pos: 22182
                length: 344
              pos: 22033
              length: 502
          children: []
          pos: 21974
          length: 561
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: update
              children: []
              pos: 22750
              length: 6
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: int index
                children: []
                pos: 22757
                length: 9
              pos: 22738
              length: 168
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: TimeSeriesDataItem item = getDataItem(index);
                children: []
                pos: 22793
                length: 45
              - type: expression_statement
                fields:
                  text: item.setValue(value);
                children: []
                pos: 22848
                length: 21
              - type: expression_statement
                fields:
                  text: fireSeriesChanged();
                children: []
                pos: 22879
                length: 20
              pos: 22782
              length: 124
          children: []
          pos: 22738
          length: 168
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: addAndOrUpdate
              children: []
              pos: 23224
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: TimeSeries series
                children: []
                pos: 23239
                length: 17
              pos: 23206
              length: 564
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: "TimeSeries overwritten = new TimeSeries(\"Overwritten values
                    from: \" \r\n                + getKey(), series.getTimePeriodClass());"
                children: []
                pos: 23269
                length: 127
              - type: for_statement
                fields:
                  text: "for (int i = 0; i < series.getItemCount(); i++) {\r\n            TimeSeriesDataItem
                    item = series.getDataItem(i);\r\n            TimeSeriesDataItem
                    oldItem = addOrUpdate(item.getPeriod(), \r\n                    item.getValue());\r\n
                    \           if (oldItem != null) {\r\n                overwritten.add(oldItem);\r\n
                    \           }\r\n        }"
                children: []
                pos: 23406
                length: 328
              - type: return_statement
                fields:
                  text: return overwritten;
                children: []
                pos: 23744
                length: 19
              pos: 23258
              length: 512
          children: []
          pos: 23206
          length: 564
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: addOrUpdate
              children: []
              pos: 24266
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: RegularTimePeriod period
                children: []
                pos: 24278
                length: 24
              pos: 24240
              length: 195
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return this.addOrUpdate(period, new Double(value));
                children: []
                pos: 24373
                length: 51
              pos: 24362
              length: 73
          children: []
          pos: 24240
          length: 195
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: addOrUpdate
              children: []
              pos: 24965
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: RegularTimePeriod period
                children: []
                pos: 24977
                length: 24
              pos: 24939
              length: 1514
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: period
                            children: []
                            pos: 25078
                            length: 6
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 25088
                            length: 4
                        children: []
                        pos: 25078
                        length: 14
                    children: []
                    pos: 25077
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: throw new IllegalArgumentException("Null 'period' argument.");
                    children: []
                    pos: 25109
                    length: 62
                  pos: 25094
                  length: 91
                pos: 25074
                length: 111
              - type: local_variable_declaration
                fields:
                  text: TimeSeriesDataItem overwritten = null;
                children: []
                pos: 25195
                length: 38
              - type: local_variable_declaration
                fields:
                  text: TimeSeriesDataItem key = new TimeSeriesDataItem(period, value);
                children: []
                pos: 25245
                length: 63
              - type: local_variable_declaration
                fields:
                  text: int index = Collections.binarySearch(this.data, key);
                children: []
                pos: 25318
                length: 53
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: greater_or_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: index
                            children: []
                            pos: 25385
                            length: 5
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '0'
                            children: []
                            pos: 25394
                            length: 1
                        children: []
                        pos: 25385
                        length: 10
                    children: []
                    pos: 25384
                    length: 12
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: "TimeSeriesDataItem existing \r\n                = (TimeSeriesDataItem)
                        this.data.get(index);"
                    children: []
                    pos: 25412
                    length: 90
                  - type: expression_statement
                    fields:
                      text: overwritten = (TimeSeriesDataItem) existing.clone();
                    children: []
                    pos: 25516
                    length: 52
                  - type: expression_statement
                    fields:
                      text: existing.setValue(value);
                    children: []
                    pos: 25582
                    length: 25
                  - type: expression_statement
                    fields:
                      text: removeAgedItems(false);
                    children: []
                    pos: 25621
                    length: 23
                  - type: expression_statement
                    fields:
                      text: fireSeriesChanged();
                    children: []
                    pos: 25836
                    length: 20
                  pos: 25397
                  length: 470
                pos: 25381
                length: 1034
              - type: return_statement
                fields:
                  text: return overwritten;
                children: []
                pos: 26425
                length: 19
              pos: 25061
              length: 1392
          children: []
          pos: 24939
          length: 1514
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: removeAgedItems
              children: []
              pos: 26875
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: boolean notify
                children: []
                pos: 26891
                length: 14
              pos: 26863
              length: 606
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: greater_than
                        fields:
                          left:
                            type: method_invocation
                            fields:
                              text: getItemCount()
                            children: []
                            pos: 27024
                            length: 14
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '1'
                            children: []
                            pos: 27041
                            length: 1
                        children: []
                        pos: 27024
                        length: 18
                    children: []
                    pos: 27023
                    length: 20
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: long latest = getTimePeriod(getItemCount() - 1).getSerialIndex();
                    children: []
                    pos: 27059
                    length: 65
                  - type: local_variable_declaration
                    fields:
                      text: boolean removed = false;
                    children: []
                    pos: 27138
                    length: 24
                  - type: while_statement
                    fields:
                      text: "while ((latest - getTimePeriod(0).getSerialIndex()) \r\n
                        \                   > this.maximumItemAge) {\r\n                this.data.remove(0);\r\n
                        \               removed = true;\r\n            }"
                    children: []
                    pos: 27176
                    length: 184
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: and
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: removed
                                children: []
                                pos: 27378
                                length: 7
                              right:
                                type: identifier
                                fields:
                                  text: notify
                                children: []
                                pos: 27389
                                length: 6
                            children: []
                            pos: 27378
                            length: 17
                        children: []
                        pos: 27377
                        length: 19
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: fireSeriesChanged();
                        children: []
                        pos: 27416
                        length: 20
                      pos: 27397
                      length: 54
                    pos: 27374
                    length: 77
                  pos: 27044
                  length: 418
                pos: 27020
                length: 442
              pos: 26907
              length: 562
          children: []
          pos: 26863
          length: 606
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: removeAgedItems
              children: []
              pos: 27994
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: long latest
                children: []
                pos: 28010
                length: 11
              pos: 27982
              length: 1354
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: long index = Long.MAX_VALUE;
                children: []
                pos: 28130
                length: 28
              - type: try_statement
                fields:
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: local_variable_declaration
                      fields:
                        text: "Method m = RegularTimePeriod.class.getDeclaredMethod(\r\n
                          \                   \"createInstance\", new Class[] {Class.class,
                          Date.class, \r\n                    TimeZone.class});"
                      children: []
                      pos: 28188
                      length: 170
                    - type: local_variable_declaration
                      fields:
                        text: "RegularTimePeriod newest = (RegularTimePeriod) m.invoke(\r\n
                          \                   this.timePeriodClass, new Object[] {this.timePeriodClass,\r\n
                          \                           new Date(latest), TimeZone.getDefault()});"
                      children: []
                      pos: 28372
                      length: 207
                    - type: expression_statement
                      fields:
                        text: index = newest.getSerialIndex();
                      children: []
                      pos: 28593
                      length: 32
                    pos: 28173
                    length: 463
                  excepts:
                    type: excepts
                    fields: {}
                    children:
                    - type: catch_clause
                      fields:
                        text: "catch (NoSuchMethodException e) {\r\n            e.printStackTrace();\r\n
                          \       }"
                      children: []
                      pos: 28646
                      length: 78
                    - type: catch_clause
                      fields:
                        text: "catch (IllegalAccessException e) {\r\n            e.printStackTrace();\r\n
                          \       }"
                      children: []
                      pos: 28734
                      length: 79
                    - type: catch_clause
                      fields:
                        text: "catch (InvocationTargetException e) {\r\n            e.printStackTrace();\r\n
                          \       }"
                      children: []
                      pos: 28823
                      length: 82
                    pos: 28169
                    length: 736
                children: []
                pos: 28169
                length: 736
              - type: local_variable_declaration
                fields:
                  text: boolean removed = false;
                children: []
                pos: 29027
                length: 24
              - type: while_statement
                fields:
                  text: "while (getItemCount() > 0 && (index \r\n                -
                    getTimePeriod(0).getSerialIndex()) > this.maximumItemAge) {\r\n
                    \           this.data.remove(0);\r\n            removed = true;\r\n
                    \       }"
                children: []
                pos: 29061
                length: 189
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: and
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: removed
                            children: []
                            pos: 29264
                            length: 7
                          right:
                            type: identifier
                            fields:
                              text: notify
                            children: []
                            pos: 29275
                            length: 6
                        children: []
                        pos: 29264
                        length: 17
                    children: []
                    pos: 29263
                    length: 19
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: fireSeriesChanged();
                    children: []
                    pos: 29298
                    length: 20
                  pos: 29283
                  length: 46
                pos: 29260
                length: 69
              pos: 28039
              length: 1297
          children: []
          pos: 27982
          length: 1354
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: clear
              children: []
              pos: 29497
              length: 5
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 29485
              length: 142
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: greater_than
                        fields:
                          left:
                            type: method_invocation
                            fields:
                              text: this.data.size()
                            children: []
                            pos: 29520
                            length: 16
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '0'
                            children: []
                            pos: 29539
                            length: 1
                        children: []
                        pos: 29520
                        length: 20
                    children: []
                    pos: 29519
                    length: 22
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: this.data.clear();
                    children: []
                    pos: 29557
                    length: 18
                  - type: expression_statement
                    fields:
                      text: fireSeriesChanged();
                    children: []
                    pos: 29589
                    length: 20
                  pos: 29542
                  length: 78
                pos: 29516
                length: 104
              pos: 29505
              length: 122
          children: []
          pos: 29485
          length: 142
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: delete
              children: []
              pos: 30007
              length: 6
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: RegularTimePeriod period
                children: []
                pos: 30014
                length: 24
              pos: 29995
              length: 202
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: int index = getIndex(period);
                children: []
                pos: 30051
                length: 29
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: greater_or_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: index
                            children: []
                            pos: 30094
                            length: 5
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '0'
                            children: []
                            pos: 30103
                            length: 1
                        children: []
                        pos: 30094
                        length: 10
                    children: []
                    pos: 30093
                    length: 12
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: this.data.remove(index);
                    children: []
                    pos: 30121
                    length: 24
                  - type: expression_statement
                    fields:
                      text: fireSeriesChanged();
                    children: []
                    pos: 30159
                    length: 20
                  pos: 30106
                  length: 84
                pos: 30090
                length: 100
              pos: 30040
              length: 157
          children: []
          pos: 29995
          length: 202
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: delete
              children: []
              pos: 30431
              length: 6
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: int start
                children: []
                pos: 30438
                length: 9
              pos: 30419
              length: 292
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: less_than
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: end
                            children: []
                            pos: 30473
                            length: 3
                          right:
                            type: identifier
                            fields:
                              text: start
                            children: []
                            pos: 30479
                            length: 5
                        children: []
                        pos: 30473
                        length: 11
                    children: []
                    pos: 30472
                    length: 13
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: throw new IllegalArgumentException("Requires start <=
                        end.");
                    children: []
                    pos: 30501
                    length: 61
                  pos: 30486
                  length: 87
                pos: 30469
                length: 104
              - type: for_statement
                fields:
                  text: "for (int i = 0; i <= (end - start); i++) {\r\n            this.data.remove(start);\r\n
                    \       }"
                children: []
                pos: 30583
                length: 91
              - type: expression_statement
                fields:
                  text: fireSeriesChanged();
                children: []
                pos: 30684
                length: 20
              pos: 30458
              length: 253
          children: []
          pos: 30419
          length: 292
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: clone
              children: []
              pos: 31219
              length: 5
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 31205
              length: 146
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: Object clone = createCopy(0, getItemCount() - 1);
                children: []
                pos: 31272
                length: 49
              - type: return_statement
                fields:
                  text: return clone;
                children: []
                pos: 31331
                length: 13
              pos: 31261
              length: 90
          children: []
          pos: 31205
          length: 146
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: createCopy
              children: []
              pos: 31819
              length: 10
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: int start
                children: []
                pos: 31830
                length: 9
              pos: 31801
              length: 952
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: less_than
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: start
                            children: []
                            pos: 31911
                            length: 5
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '0'
                            children: []
                            pos: 31919
                            length: 1
                        children: []
                        pos: 31911
                        length: 9
                    children: []
                    pos: 31910
                    length: 11
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: throw new IllegalArgumentException("Requires start >=
                        0.");
                    children: []
                    pos: 31937
                    length: 59
                  pos: 31922
                  length: 85
                pos: 31907
                length: 100
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: less_than
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: end
                            children: []
                            pos: 32021
                            length: 3
                          right:
                            type: identifier
                            fields:
                              text: start
                            children: []
                            pos: 32027
                            length: 5
                        children: []
                        pos: 32021
                        length: 11
                    children: []
                    pos: 32020
                    length: 13
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: throw new IllegalArgumentException("Requires start <=
                        end.");
                    children: []
                    pos: 32049
                    length: 61
                  pos: 32034
                  length: 87
                pos: 32017
                length: 104
              - type: local_variable_declaration
                fields:
                  text: TimeSeries copy = (TimeSeries) super.clone();
                children: []
                pos: 32131
                length: 45
              - type: expression_statement
                fields:
                  text: copy.data = new java.util.ArrayList();
                children: []
                pos: 32188
                length: 38
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: greater_than
                        fields:
                          left:
                            type: method_invocation
                            fields:
                              text: this.data.size()
                            children: []
                            pos: 32240
                            length: 16
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '0'
                            children: []
                            pos: 32259
                            length: 1
                        children: []
                        pos: 32240
                        length: 20
                    children: []
                    pos: 32239
                    length: 22
                children:
                - type: block
                  fields: {}
                  children:
                  - type: for_statement
                    fields:
                      text: "for (int index = start; index <= end; index++) {\r\n
                        \               TimeSeriesDataItem item \r\n                    =
                        (TimeSeriesDataItem) this.data.get(index);\r\n                TimeSeriesDataItem
                        clone = (TimeSeriesDataItem) item.clone();\r\n                try
                        {\r\n                    copy.add(clone);\r\n                }\r\n
                        \               catch (SeriesException e) {\r\n                    e.printStackTrace();\r\n
                        \               }\r\n            }"
                    children: []
                    pos: 32277
                    length: 436
                  pos: 32262
                  length: 462
                pos: 32236
                length: 488
              - type: return_statement
                fields:
                  text: return copy;
                children: []
                pos: 32734
                length: 12
              pos: 31894
              length: 859
          children: []
          pos: 31801
          length: 952
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: createCopy
              children: []
              pos: 33201
              length: 10
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: RegularTimePeriod start
                children: []
                pos: 33212
                length: 23
              pos: 33183
              length: 1438
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: start
                            children: []
                            pos: 33320
                            length: 5
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 33329
                            length: 4
                        children: []
                        pos: 33320
                        length: 13
                    children: []
                    pos: 33319
                    length: 15
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: throw new IllegalArgumentException("Null 'start' argument.");
                    children: []
                    pos: 33350
                    length: 61
                  pos: 33335
                  length: 87
                pos: 33316
                length: 106
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: end
                            children: []
                            pos: 33436
                            length: 3
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 33443
                            length: 4
                        children: []
                        pos: 33436
                        length: 11
                    children: []
                    pos: 33435
                    length: 13
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: throw new IllegalArgumentException("Null 'end' argument.");
                    children: []
                    pos: 33464
                    length: 59
                  pos: 33449
                  length: 85
                pos: 33432
                length: 102
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: greater_than
                        fields:
                          left:
                            type: method_invocation
                            fields:
                              text: start.compareTo(end)
                            children: []
                            pos: 33548
                            length: 20
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '0'
                            children: []
                            pos: 33571
                            length: 1
                        children: []
                        pos: 33548
                        length: 24
                    children: []
                    pos: 33547
                    length: 26
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: "throw new IllegalArgumentException(\r\n                    \"Requires
                        start on or before end.\");"
                    children: []
                    pos: 33589
                    length: 93
                  pos: 33574
                  length: 119
                pos: 33544
                length: 149
              - type: local_variable_declaration
                fields:
                  text: boolean emptyRange = false;
                children: []
                pos: 33703
                length: 27
              - type: local_variable_declaration
                fields:
                  text: int startIndex = getIndex(start);
                children: []
                pos: 33740
                length: 33
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: less_than
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: startIndex
                            children: []
                            pos: 33787
                            length: 10
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '0'
                            children: []
                            pos: 33800
                            length: 1
                        children: []
                        pos: 33787
                        length: 14
                    children: []
                    pos: 33786
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: startIndex = -(startIndex + 1);
                    children: []
                    pos: 33818
                    length: 31
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: startIndex
                                children: []
                                pos: 33867
                                length: 10
                              right:
                                type: method_invocation
                                fields:
                                  text: this.data.size()
                                children: []
                                pos: 33881
                                length: 16
                            children: []
                            pos: 33867
                            length: 30
                        children: []
                        pos: 33866
                        length: 32
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: emptyRange = true;
                        children: []
                        pos: 33918
                        length: 18
                      pos: 33899
                      length: 86
                    pos: 33863
                    length: 122
                  pos: 33803
                  length: 193
                pos: 33783
                length: 213
              - type: local_variable_declaration
                fields:
                  text: int endIndex = getIndex(end);
                children: []
                pos: 34006
                length: 29
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: less_than
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: endIndex
                            children: []
                            pos: 34049
                            length: 8
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '0'
                            children: []
                            pos: 34060
                            length: 1
                        children: []
                        pos: 34049
                        length: 12
                    children: []
                    pos: 34048
                    length: 14
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: endIndex = -(endIndex + 1);
                    children: []
                    pos: 34130
                    length: 27
                  - type: expression_statement
                    fields:
                      text: endIndex = endIndex - 1;
                    children: []
                    pos: 34210
                    length: 24
                  pos: 34063
                  length: 221
                pos: 34045
                length: 239
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: less_than
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: endIndex
                            children: []
                            pos: 34298
                            length: 8
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '0'
                            children: []
                            pos: 34309
                            length: 1
                        children: []
                        pos: 34298
                        length: 12
                    children: []
                    pos: 34297
                    length: 14
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: emptyRange = true;
                    children: []
                    pos: 34327
                    length: 18
                  pos: 34312
                  length: 44
                pos: 34294
                length: 62
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: identifier
                        fields:
                          text: emptyRange
                        children: []
                        pos: 34370
                        length: 10
                    children: []
                    pos: 34369
                    length: 12
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: TimeSeries copy = (TimeSeries) super.clone();
                    children: []
                    pos: 34397
                    length: 45
                  - type: expression_statement
                    fields:
                      text: copy.data = new java.util.ArrayList();
                    children: []
                    pos: 34456
                    length: 38
                  - type: return_statement
                    fields:
                      text: return copy;
                    children: []
                    pos: 34508
                    length: 12
                  pos: 34382
                  length: 149
                pos: 34366
                length: 246
              pos: 33303
              length: 1318
          children: []
          pos: 33183
          length: 1438
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: equals
              children: []
              pos: 34850
              length: 6
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Object object
                children: []
                pos: 34857
                length: 13
              pos: 34835
              length: 1168
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: object
                            children: []
                            pos: 34887
                            length: 6
                          right:
                            type: this
                            fields: {}
                            children: []
                            pos: 34897
                            length: 4
                        children: []
                        pos: 34887
                        length: 14
                    children: []
                    pos: 34886
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return true;
                    children: []
                    pos: 34918
                    length: 12
                  pos: 34903
                  length: 38
                pos: 34883
                length: 58
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: unary_expression
                            fields:
                              text: "!(object instanceof TimeSeries)"
                            children: []
                            pos: 34955
                            length: 31
                          right:
                            type: unary_expression
                            fields:
                              text: "!super.equals(object)"
                            children: []
                            pos: 34990
                            length: 21
                        children: []
                        pos: 34955
                        length: 56
                    children: []
                    pos: 34954
                    length: 58
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return false;
                    children: []
                    pos: 35028
                    length: 13
                  pos: 35013
                  length: 39
                pos: 34951
                length: 101
              - type: local_variable_declaration
                fields:
                  text: TimeSeries s = (TimeSeries) object;
                children: []
                pos: 35062
                length: 35
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: unary_expression
                        fields:
                          text: "!ObjectUtilities.equal(\r\n            getDomainDescription(),
                            s.getDomainDescription()\r\n        )"
                        children: []
                        pos: 35111
                        length: 96
                    children: []
                    pos: 35110
                    length: 98
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return false;
                    children: []
                    pos: 35224
                    length: 13
                  pos: 35209
                  length: 39
                pos: 35107
                length: 141
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: unary_expression
                        fields:
                          text: "!ObjectUtilities.equal(\r\n            getRangeDescription(),
                            s.getRangeDescription()\r\n        )"
                        children: []
                        pos: 35264
                        length: 94
                    children: []
                    pos: 35263
                    length: 96
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return false;
                    children: []
                    pos: 35375
                    length: 13
                  pos: 35360
                  length: 39
                pos: 35260
                length: 139
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: unary_expression
                        fields:
                          text: "!getClass().equals(s.getClass())"
                        children: []
                        pos: 35415
                        length: 32
                    children: []
                    pos: 35414
                    length: 34
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return false;
                    children: []
                    pos: 35464
                    length: 13
                  pos: 35449
                  length: 39
                pos: 35411
                length: 77
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: method_invocation
                            fields:
                              text: getMaximumItemAge()
                            children: []
                            pos: 35504
                            length: 19
                          right:
                            type: method_invocation
                            fields:
                              text: s.getMaximumItemAge()
                            children: []
                            pos: 35527
                            length: 21
                        children: []
                        pos: 35504
                        length: 44
                    children: []
                    pos: 35503
                    length: 46
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return false;
                    children: []
                    pos: 35565
                    length: 13
                  pos: 35550
                  length: 39
                pos: 35500
                length: 89
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: method_invocation
                            fields:
                              text: getMaximumItemCount()
                            children: []
                            pos: 35605
                            length: 21
                          right:
                            type: method_invocation
                            fields:
                              text: s.getMaximumItemCount()
                            children: []
                            pos: 35630
                            length: 23
                        children: []
                        pos: 35605
                        length: 48
                    children: []
                    pos: 35604
                    length: 50
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return false;
                    children: []
                    pos: 35670
                    length: 13
                  pos: 35655
                  length: 39
                pos: 35601
                length: 93
              - type: local_variable_declaration
                fields:
                  text: int count = getItemCount();
                children: []
                pos: 35706
                length: 27
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: count
                            children: []
                            pos: 35747
                            length: 5
                          right:
                            type: method_invocation
                            fields:
                              text: s.getItemCount()
                            children: []
                            pos: 35756
                            length: 16
                        children: []
                        pos: 35747
                        length: 25
                    children: []
                    pos: 35746
                    length: 27
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return false;
                    children: []
                    pos: 35789
                    length: 13
                  pos: 35774
                  length: 39
                pos: 35743
                length: 70
              - type: for_statement
                fields:
                  text: "for (int i = 0; i < count; i++) {\r\n            if (!getDataItem(i).equals(s.getDataItem(i)))
                    {\r\n                return false;\r\n            }\r\n        }"
                children: []
                pos: 35823
                length: 151
              - type: return_statement
                fields:
                  text: return true;
                children: []
                pos: 35984
                length: 12
              pos: 34872
              length: 1131
          children: []
          pos: 34835
          length: 1168
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: hashCode
              children: []
              pos: 36127
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 36116
              length: 1125
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: int result = super.hashCode();
                children: []
                pos: 36149
                length: 30
              - type: expression_statement
                fields:
                  text: "result = 29 * result + (this.domain != null ? this.domain.hashCode()
                    \r\n                : 0);"
                children: []
                pos: 36189
                length: 92
              - type: expression_statement
                fields:
                  text: 'result = 29 * result + (this.range != null ? this.range.hashCode()
                    : 0);'
                children: []
                pos: 36291
                length: 72
              - type: expression_statement
                fields:
                  text: "result = 29 * result + (this.timePeriodClass != null \r\n
                    \               ? this.timePeriodClass.hashCode() : 0);"
                children: []
                pos: 36373
                length: 110
              - type: local_variable_declaration
                fields:
                  text: int count = getItemCount();
                children: []
                pos: 36618
                length: 27
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: greater_than
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: count
                            children: []
                            pos: 36659
                            length: 5
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '0'
                            children: []
                            pos: 36667
                            length: 1
                        children: []
                        pos: 36659
                        length: 9
                    children: []
                    pos: 36658
                    length: 11
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: TimeSeriesDataItem item = getDataItem(0);
                    children: []
                    pos: 36685
                    length: 41
                  - type: expression_statement
                    fields:
                      text: result = 29 * result + item.hashCode();
                    children: []
                    pos: 36740
                    length: 39
                  pos: 36670
                  length: 120
                pos: 36655
                length: 135
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: greater_than
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: count
                            children: []
                            pos: 36804
                            length: 5
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '1'
                            children: []
                            pos: 36812
                            length: 1
                        children: []
                        pos: 36804
                        length: 9
                    children: []
                    pos: 36803
                    length: 11
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: TimeSeriesDataItem item = getDataItem(count - 1);
                    children: []
                    pos: 36830
                    length: 49
                  - type: expression_statement
                    fields:
                      text: result = 29 * result + item.hashCode();
                    children: []
                    pos: 36893
                    length: 39
                  pos: 36815
                  length: 128
                pos: 36800
                length: 143
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: greater_than
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: count
                            children: []
                            pos: 36957
                            length: 5
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '2'
                            children: []
                            pos: 36965
                            length: 1
                        children: []
                        pos: 36957
                        length: 9
                    children: []
                    pos: 36956
                    length: 11
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: TimeSeriesDataItem item = getDataItem(count / 2);
                    children: []
                    pos: 36983
                    length: 49
                  - type: expression_statement
                    fields:
                      text: result = 29 * result + item.hashCode();
                    children: []
                    pos: 37046
                    length: 39
                  pos: 36968
                  length: 128
                pos: 36953
                length: 143
              - type: expression_statement
                fields:
                  text: result = 29 * result + this.maximumItemCount;
                children: []
                pos: 37106
                length: 45
              - type: expression_statement
                fields:
                  text: result = 29 * result + (int) this.maximumItemAge;
                children: []
                pos: 37161
                length: 49
              - type: return_statement
                fields:
                  text: return result;
                children: []
                pos: 37220
                length: 14
              pos: 36138
              length: 1103
          children: []
          pos: 36116
          length: 1125
        pos: 4583
        length: 32663
    children: []
    pos: 4583
    length: 32663
  pos: 0
  length: 37248
text_diff: "--- before\n+++ after\n@@ -854,8 +854,7 @@\n      *         subclasses
  may differ.\r\n      */\r\n     public Object clone() throws CloneNotSupportedException
  {\r\n-        TimeSeries clone = (TimeSeries) super.clone();\r\n-        clone.data
  = (List) ObjectUtilities.deepClone(this.data);\r\n+        Object clone = createCopy(0,
  getItemCount() - 1);\r\n         return clone;\r\n     }\r\n \r\n"
tree_diff: |+
  New cluster:
  UPDATE from TimeSeries clone = (TimeSeries) super.clone(); to Object clone = createCopy(0, getItemCount() - 1);
  ------------
  ===
  update-node
  ---
  local_variable_declaration: TimeSeries clone = (TimeSeries) super.clone(); [31272,31318]
  replace TimeSeries clone = (TimeSeries) super.clone(); by Object clone = createCopy(0, getItemCount() - 1);

  New cluster:
  ===
  delete-node
  ---
  expression_statement: clone.data = (List) ObjectUtilities.deepClone(this.data); [31328,31385]
  ===
  ------------
  ===
  delete-node
  ---
  expression_statement: clone.data = (List) ObjectUtilities.deepClone(this.data); [31328,31385]
  ===

...
