---
language: java
before_tree:
  type: program
  fields: {}
  children:
  - type: class_declaration
    fields:
      name:
        type: identifier
        fields:
          text: Compiler
        children: []
        pos: 2118
        length: 8
      body:
        type: class_body
        fields: {}
        children:
        - type: field_declaration
          fields:
            text: CompilerOptions options = null;
          children: []
          pos: 2156
          length: 31
        - type: field_declaration
          fields:
            text: private PassConfig passes = null;
          children: []
          pos: 2191
          length: 33
        - type: field_declaration
          fields:
            text: private CompilerInput[] externs;
          children: []
          pos: 2252
          length: 32
        - type: field_declaration
          fields:
            text: private JSModule[] modules;
          children: []
          pos: 2315
          length: 27
        - type: field_declaration
          fields:
            text: private JSModuleGraph moduleGraph;
          children: []
          pos: 2386
          length: 34
        - type: field_declaration
          fields:
            text: private CompilerInput[] inputs;
          children: []
          pos: 2450
          length: 31
        - type: field_declaration
          fields:
            text: private ErrorManager errorManager;
          children: []
          pos: 2543
          length: 34
        - type: field_declaration
          fields:
            text: private SymbolTable symbolTable = null;
          children: []
          pos: 2610
          length: 39
        - type: field_declaration
          fields:
            text: Node externsRoot;
          children: []
          pos: 2680
          length: 17
        - type: field_declaration
          fields:
            text: Node jsRoot;
          children: []
          pos: 2700
          length: 12
        - type: field_declaration
          fields:
            text: Node externAndJsRoot;
          children: []
          pos: 2715
          length: 21
        - type: field_declaration
          fields:
            text: private Map<String, CompilerInput> inputsByName;
          children: []
          pos: 2740
          length: 48
        - type: field_declaration
          fields:
            text: private SourceMap sourceMap;
          children: []
          pos: 2821
          length: 28
        - type: field_declaration
          fields:
            text: private String externExports = null;
          children: []
          pos: 2901
          length: 36
        - type: field_declaration
          fields:
            text: private int uniqueNameId = 0;
          children: []
          pos: 3032
          length: 29
        - type: field_declaration
          fields:
            text: private boolean normalized = false;
          children: []
          pos: 3218
          length: 35
        - type: field_declaration
          fields:
            text: private boolean useThreads = true;
          children: []
          pos: 3290
          length: 34
        - type: field_declaration
          fields:
            text: private FunctionInformationMap functionInformationMap;
          children: []
          pos: 3366
          length: 54
        - type: field_declaration
          fields:
            text: private final StringBuilder debugLog = new StringBuilder();
          children: []
          pos: 3455
          length: 59
        - type: field_declaration
          fields:
            text: CodingConvention defaultCodingConvention = new GoogleCodingConvention();
          children: []
          pos: 3571
          length: 72
        - type: field_declaration
          fields:
            text: private JSTypeRegistry typeRegistry;
          children: []
          pos: 3647
          length: 36
        - type: field_declaration
          fields:
            text: private Config parserConfig = null;
          children: []
          pos: 3686
          length: 35
        - type: field_declaration
          fields:
            text: private ReverseAbstractInterpreter abstractInterpreter;
          children: []
          pos: 3725
          length: 55
        - type: field_declaration
          fields:
            text: private final TypeValidator typeValidator;
          children: []
          pos: 3783
          length: 42
        - type: field_declaration
          fields:
            text: public PerformanceTracker tracker;
          children: []
          pos: 3829
          length: 34
        - type: field_declaration
          fields:
            text: |-
              private final com.google.javascript.rhino.ErrorReporter oldErrorReporter =
                    RhinoErrorReporter.forOldRhino(this);
          children: []
          pos: 3946
          length: 118
        - type: field_declaration
          fields:
            text: |-
              private final ErrorReporter defaultErrorReporter =
                    RhinoErrorReporter.forNewRhino(this);
          children: []
          pos: 4142
          length: 94
        - type: field_declaration
          fields:
            text: |-
              public static final DiagnosticType OPTIMIZE_LOOP_ERROR = DiagnosticType.error(
                    "JSC_OPTIMIZE_LOOP_ERROR",
                    "Exceeded max number of optimization iterations: {0}");
          children: []
          pos: 4291
          length: 173
        - type: field_declaration
          fields:
            text: |-
              public static final DiagnosticType MOTION_ITERATIONS_ERROR =
                    DiagnosticType.error("JSC_OPTIMIZE_LOOP_ERROR",
                        "Exceeded max number of code motion iterations: {0}");
          children: []
          pos: 4467
          length: 179
        - type: field_declaration
          fields:
            text: private static final long COMPILER_STACK_SIZE = 1048576L;
          children: []
          pos: 4650
          length: 57
        - type: field_declaration
          fields:
            text: |-
              private static final Logger logger =
                    Logger.getLogger("com.google.javascript.jscomp");
          children: []
          pos: 4895
          length: 92
        - type: field_declaration
          fields:
            text: private final PrintStream outStream;
          children: []
          pos: 4991
          length: 36
        - type: constructor_declaration
          fields:
            text: |-
              public Compiler() {
                  this((PrintStream) null);
                }
          children: []
          pos: 5115
          length: 53
        - type: constructor_declaration
          fields:
            text: |-
              public Compiler(PrintStream stream) {
                  addChangeHandler(recentChange);
                  this.typeValidator = new TypeValidator(this);
                  outStream = stream;
                }
          children: []
          pos: 5267
          length: 151
        - type: constructor_declaration
          fields:
            text: |-
              public Compiler(ErrorManager errorManager) {
                  this();
                  setErrorManager(errorManager);
                }
          children: []
          pos: 5492
          length: 95
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: acquireSymbolTable
              children: []
              pos: 5659
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 5635
              length: 181
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: symbolTable
                            children: []
                            pos: 5690
                            length: 11
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 5705
                            length: 4
                        children: []
                        pos: 5690
                        length: 19
                    children: []
                    pos: 5689
                    length: 21
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: symbolTable = new SymbolTable(this);
                    children: []
                    pos: 5719
                    length: 36
                  pos: 5711
                  length: 50
                pos: 5686
                length: 75
              - type: expression_statement
                fields:
                  text: symbolTable.acquire();
                children: []
                pos: 5766
                length: 22
              - type: return_statement
                fields:
                  text: return symbolTable;
                children: []
                pos: 5793
                length: 19
              pos: 5680
              length: 136
          children: []
          pos: 5635
          length: 181
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setErrorManager
              children: []
              pos: 5948
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: ErrorManager errorManager
                children: []
                pos: 5964
                length: 25
              pos: 5936
              length: 189
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: |-
                    Preconditions.checkNotNull(
                            errorManager, "the error manager cannot be null");
                children: []
                pos: 5997
                length: 86
              - type: expression_statement
                fields:
                  text: this.errorManager = errorManager;
                children: []
                pos: 6088
                length: 33
              pos: 5991
              length: 134
          children: []
          pos: 5936
          length: 189
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: createMessageFormatter
              children: []
              pos: 6268
              length: 22
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 6243
              length: 175
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: boolean colorize = options.shouldColorizeErrorOutput();
                children: []
                pos: 6299
                length: 55
              - type: return_statement
                fields:
                  text: return options.errorFormat.toFormatter(this, colorize);
                children: []
                pos: 6359
                length: 55
              pos: 6293
              length: 125
          children: []
          pos: 6243
          length: 175
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: initOptions
              children: []
              pos: 6548
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: CompilerOptions options
                children: []
                pos: 6560
                length: 23
              pos: 6536
              length: 491
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: this.options = options;
                children: []
                pos: 6591
                length: 23
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: errorManager
                            children: []
                            pos: 6623
                            length: 12
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 6639
                            length: 4
                        children: []
                        pos: 6623
                        length: 20
                    children: []
                    pos: 6622
                    length: 22
                children:
                - type: block
                  fields: {}
                  children:
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: outStream
                                children: []
                                pos: 6657
                                length: 9
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 6670
                                length: 4
                            children: []
                            pos: 6657
                            length: 17
                        children: []
                        pos: 6656
                        length: 19
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: |-
                            setErrorManager(
                                        new LoggerErrorManager(createMessageFormatter(), logger));
                        children: []
                        pos: 6686
                        length: 87
                      pos: 6676
                      length: 105
                    pos: 6653
                    length: 364
                  pos: 6645
                  length: 378
                pos: 6619
                length: 404
              pos: 6585
              length: 442
          children: []
          pos: 6536
          length: 491
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: init
              children: []
              pos: 7117
              length: 4
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSSourceFile[] externs
                children: []
                pos: 7122
                length: 22
              pos: 7105
              length: 344
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: initOptions(options);
                children: []
                pos: 7206
                length: 21
              - type: expression_statement
                fields:
                  text: this.externs = makeCompilerInput(externs, true);
                children: []
                pos: 7237
                length: 48
              - type: expression_statement
                fields:
                  text: this.modules = null;
                children: []
                pos: 7290
                length: 20
              - type: expression_statement
                fields:
                  text: this.moduleGraph = null;
                children: []
                pos: 7315
                length: 24
              - type: expression_statement
                fields:
                  text: this.inputs = makeCompilerInput(inputs, false);
                children: []
                pos: 7344
                length: 47
              - type: expression_statement
                fields:
                  text: initBasedOnOptions();
                children: []
                pos: 7396
                length: 21
              - type: expression_statement
                fields:
                  text: initInputsByNameMap();
                children: []
                pos: 7423
                length: 22
              pos: 7200
              length: 249
          children: []
          pos: 7105
          length: 344
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType MODULE_DEPENDENCY_ERROR =
                    DiagnosticType.error("JSC_MODULE_DEPENDENCY_ERROR",
                        "Bad dependency: {0} -> {1}. "
                            + "Modules must be listed in dependency order.");
          children: []
          pos: 7453
          length: 216
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: init
              children: []
              pos: 7759
              length: 4
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSSourceFile[] externs
                children: []
                pos: 7764
                length: 22
              pos: 7747
              length: 836
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: initOptions(options);
                children: []
                pos: 7845
                length: 21
              - type: expression_statement
                fields:
                  text: checkFirstModule(modules);
                children: []
                pos: 7872
                length: 26
              - type: expression_statement
                fields:
                  text: fillEmptyModules(modules);
                children: []
                pos: 7903
                length: 26
              - type: expression_statement
                fields:
                  text: this.externs = makeCompilerInput(externs, true);
                children: []
                pos: 7935
                length: 48
              - type: expression_statement
                fields:
                  text: this.modules = modules;
                children: []
                pos: 7988
                length: 23
              - type: try_statement
                fields:
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: expression_statement
                      fields:
                        text: this.moduleGraph = new JSModuleGraph(modules);
                      children: []
                      pos: 8130
                      length: 46
                    pos: 8122
                    length: 60
                  excepts:
                    type: excepts
                    fields: {}
                    children:
                    - type: catch_clause
                      fields:
                        text: |-
                          catch (JSModuleGraph.ModuleDependenceException e) {
                                // problems with the module format.  Report as an error.  The
                                // message gives all details.
                                report(JSError.make(MODULE_DEPENDENCY_ERROR,
                                    e.getModule().getName(), e.getDependentModule().getName()));
                                return;
                              }
                      children: []
                      pos: 8183
                      length: 297
                    pos: 8118
                    length: 362
                children: []
                pos: 8118
                length: 362
              - type: expression_statement
                fields:
                  text: this.inputs = getAllInputsFromModules();
                children: []
                pos: 8485
                length: 40
              - type: expression_statement
                fields:
                  text: initBasedOnOptions();
                children: []
                pos: 8530
                length: 21
              - type: expression_statement
                fields:
                  text: initInputsByNameMap();
                children: []
                pos: 8557
                length: 22
              pos: 7839
              length: 744
          children: []
          pos: 7747
          length: 836
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: initBasedOnOptions
              children: []
              pos: 8682
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 8669
              length: 170
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: field_access
                            fields:
                              text: options.sourceMapOutputPath
                            children: []
                            pos: 8756
                            length: 27
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 8787
                            length: 4
                        children: []
                        pos: 8756
                        length: 35
                    children: []
                    pos: 8755
                    length: 37
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: sourceMap = new SourceMap();
                    children: []
                    pos: 8801
                    length: 28
                  pos: 8793
                  length: 42
                pos: 8752
                length: 83
              pos: 8703
              length: 136
          children: []
          pos: 8669
          length: 170
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: makeCompilerInput
              children: []
              pos: 8867
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSSourceFile[] files
                children: []
                pos: 8892
                length: 20
              pos: 8843
              length: 284
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: CompilerInput [] inputs = new CompilerInput[files.length];
                children: []
                pos: 8938
                length: 58
              - type: for_statement
                fields:
                  text: |-
                    for (int i = 0; i < files.length; ++i) {
                          inputs[i] = new CompilerInput(files[i], isExtern);
                        }
                children: []
                pos: 9001
                length: 103
              - type: return_statement
                fields:
                  text: return inputs;
                children: []
                pos: 9109
                length: 14
              pos: 8932
              length: 195
          children: []
          pos: 8843
          length: 284
        - type: field_declaration
          fields:
            text: |-
              private static final DiagnosticType EMPTY_MODULE_LIST_ERROR =
                    DiagnosticType.error("JSC_EMPTY_MODULE_LIST_ERROR",
                        "At least one module must be provided");
          children: []
          pos: 9131
          length: 170
        - type: field_declaration
          fields:
            text: |-
              private static final DiagnosticType EMPTY_ROOT_MODULE_ERROR =
                    DiagnosticType.error("JSC_EMPTY_ROOT_MODULE_ERROR",
                        "Root module '{0}' must contain at least one source code input");
          children: []
          pos: 9305
          length: 195
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: checkFirstModule
              children: []
              pos: 9650
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSModule[] modules
                children: []
                pos: 9667
                length: 18
              pos: 9637
              length: 281
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: field_access
                            fields:
                              text: modules.length
                            children: []
                            pos: 9697
                            length: 14
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '0'
                            children: []
                            pos: 9715
                            length: 1
                        children: []
                        pos: 9697
                        length: 19
                    children: []
                    pos: 9696
                    length: 21
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: report(JSError.make(EMPTY_MODULE_LIST_ERROR));
                    children: []
                    pos: 9726
                    length: 46
                  pos: 9718
                  length: 60
                pos: 9693
                length: 221
              pos: 9687
              length: 231
          children: []
          pos: 9637
          length: 281
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: fillEmptyModules
              children: []
              pos: 10049
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSModule[] modules
                children: []
                pos: 10066
                length: 18
              pos: 10036
              length: 272
            body:
              type: block
              fields: {}
              children:
              - type: for_statement
                fields:
                  text: |-
                    for (int i = 1; i < modules.length; i ++) {
                          JSModule module = modules[i];
                          if (module.getInputs().isEmpty()) {
                            module.add(JSSourceFile.fromCode("[" + module.getName() + "]", ""));
                          }
                        }
                children: []
                pos: 10092
                length: 212
              pos: 10086
              length: 222
          children: []
          pos: 10036
          length: 272
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType DUPLICATE_INPUT_IN_MODULES =
                    DiagnosticType.error("JSC_DUPLICATE_INPUT_IN_MODULES_ERROR",
                        "Two modules cannot contain the same input, but module {0} and {1} "
                            + "both include \"{2}\"");
          children: []
          pos: 10314
          length: 243
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: rebuildInputsFromModules
              children: []
              pos: 10815
              length: 24
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 10803
              length: 111
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: inputs = getAllInputsFromModules();
                children: []
                pos: 10848
                length: 35
              - type: expression_statement
                fields:
                  text: initInputsByNameMap();
                children: []
                pos: 10888
                length: 22
              pos: 10842
              length: 72
          children: []
          pos: 10803
          length: 111
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getAllInputsFromModules
              children: []
              pos: 11048
              length: 23
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 11024
              length: 839
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: List<CompilerInput> inputs = new ArrayList<CompilerInput>();
                children: []
                pos: 11080
                length: 60
              - type: local_variable_declaration
                fields:
                  text: Map<String, JSModule> inputMap = new HashMap<String, JSModule>();
                children: []
                pos: 11145
                length: 65
              - type: enhanced_for_statement
                fields:
                  text: |-
                    for (JSModule module : modules) {
                          for (CompilerInput input : module.getInputs()) {
                            String inputName = input.getName();
                            JSModule firstModule = inputMap.get(inputName);
                            if (firstModule == null) {
                              inputs.add(input);
                              inputMap.put(inputName, module);
                            } else {
                              report(JSError.make(DUPLICATE_INPUT_IN_MODULES,
                                  firstModule.getName(), module.getName(), inputName));
                            }
                          }
                        }
                children: []
                pos: 11215
                length: 462
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: hasErrors()
                        children: []
                        pos: 11686
                        length: 11
                    children: []
                    pos: 11685
                    length: 13
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return new CompilerInput[0];
                    children: []
                    pos: 11763
                    length: 28
                  pos: 11699
                  length: 98
                pos: 11682
                length: 115
              - type: return_statement
                fields:
                  text: return inputs.toArray(new CompilerInput[inputs.size()]);
                children: []
                pos: 11803
                length: 56
              pos: 11074
              length: 789
          children: []
          pos: 11024
          length: 839
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType DUPLICATE_INPUT =
                    DiagnosticType.error("JSC_DUPLICATE_INPUT", "Duplicate input: {0}");
          children: []
          pos: 11867
          length: 120
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType DUPLICATE_EXTERN_INPUT =
                    DiagnosticType.error("JSC_DUPLICATE_EXTERN_INPUT",
                        "Duplicate extern input: {0}");
          children: []
          pos: 11990
          length: 151
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: initInputsByNameMap
              children: []
              pos: 12262
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 12257
              length: 585
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: inputsByName = new HashMap<String, CompilerInput>();
                children: []
                pos: 12290
                length: 52
              - type: enhanced_for_statement
                fields:
                  text: |-
                    for (CompilerInput input : externs) {
                          String name = input.getName();
                          if (!inputsByName.containsKey(name)) {
                            inputsByName.put(name, input);
                          } else {
                            report(JSError.make(DUPLICATE_EXTERN_INPUT, name));
                          }
                        }
                children: []
                pos: 12347
                length: 247
              - type: enhanced_for_statement
                fields:
                  text: |-
                    for (CompilerInput input : inputs) {
                          String name = input.getName();
                          if (!inputsByName.containsKey(name)) {
                            inputsByName.put(name, input);
                          } else {
                            report(JSError.make(DUPLICATE_INPUT, name));
                          }
                        }
                children: []
                pos: 12599
                length: 239
              pos: 12284
              length: 558
          children: []
          pos: 12257
          length: 585
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: compile
              children: []
              pos: 12860
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSSourceFile extern
                children: []
                pos: 12875
                length: 19
              pos: 12846
              length: 168
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return compile(extern, new JSSourceFile[] { input }, options);
                children: []
                pos: 12948
                length: 62
              pos: 12941
              length: 73
          children: []
          pos: 12846
          length: 168
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: compile
              children: []
              pos: 13032
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSSourceFile extern
                children: []
                pos: 13047
                length: 19
              pos: 13018
              length: 170
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return compile(new JSSourceFile[] { extern }, input, options);
                children: []
                pos: 13122
                length: 62
              pos: 13115
              length: 73
          children: []
          pos: 13018
          length: 170
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: compile
              children: []
              pos: 13206
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSSourceFile extern
                children: []
                pos: 13221
                length: 19
              pos: 13192
              length: 170
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return compile(new JSSourceFile[] { extern }, modules, options);
                children: []
                pos: 13294
                length: 64
              pos: 13287
              length: 75
          children: []
          pos: 13192
          length: 170
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: compile
              children: []
              pos: 13424
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSSourceFile[] externs
                children: []
                pos: 13432
                length: 22
              pos: 13410
              length: 526
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: Preconditions.checkState(jsRoot == null);
                children: []
                pos: 13613
                length: 41
              - type: try_statement
                fields:
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: expression_statement
                      fields:
                        text: init(externs, inputs, options);
                      children: []
                      pos: 13672
                      length: 31
                    - type: if_statement
                      fields:
                        condition:
                          type: parenthesized_expression
                          fields:
                            expression:
                              type: method_invocation
                              fields:
                                text: hasErrors()
                              children: []
                              pos: 13714
                              length: 11
                          children: []
                          pos: 13713
                          length: 13
                      children:
                      - type: block
                        fields: {}
                        children:
                        - type: return_statement
                          fields:
                            text: return getResult();
                          children: []
                          pos: 13737
                          length: 19
                        pos: 13727
                        length: 37
                      pos: 13710
                      length: 54
                    - type: return_statement
                      fields:
                        text: return compile();
                      children: []
                      pos: 13771
                      length: 17
                    pos: 13664
                    length: 130
                  excepts:
                    type: excepts
                    fields: {}
                    children: []
                    pos: 13660
                    length: 272
                children: []
                pos: 13660
                length: 272
              pos: 13552
              length: 384
          children: []
          pos: 13410
          length: 526
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: compile
              children: []
              pos: 13999
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSSourceFile[] externs
                children: []
                pos: 14007
                length: 22
              pos: 13985
              length: 523
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: Preconditions.checkState(jsRoot == null);
                children: []
                pos: 14184
                length: 41
              - type: try_statement
                fields:
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: expression_statement
                      fields:
                        text: init(externs, modules, options);
                      children: []
                      pos: 14243
                      length: 32
                    - type: if_statement
                      fields:
                        condition:
                          type: parenthesized_expression
                          fields:
                            expression:
                              type: method_invocation
                              fields:
                                text: hasErrors()
                              children: []
                              pos: 14286
                              length: 11
                          children: []
                          pos: 14285
                          length: 13
                      children:
                      - type: block
                        fields: {}
                        children:
                        - type: return_statement
                          fields:
                            text: return getResult();
                          children: []
                          pos: 14309
                          length: 19
                        pos: 14299
                        length: 37
                      pos: 14282
                      length: 54
                    - type: return_statement
                      fields:
                        text: return compile();
                      children: []
                      pos: 14343
                      length: 17
                    pos: 14235
                    length: 131
                  excepts:
                    type: excepts
                    fields: {}
                    children: []
                    pos: 14231
                    length: 273
                children: []
                pos: 14231
                length: 273
              pos: 14124
              length: 384
          children: []
          pos: 13985
          length: 523
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: compile
              children: []
              pos: 14527
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 14512
              length: 203
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return runInCompilerThread(new Callable<Result>() {
                          public Result call() throws Exception {
                            compileInternal();
                            return getResult();
                          }
                        });
                children: []
                pos: 14543
                length: 168
              pos: 14537
              length: 178
          children: []
          pos: 14512
          length: 203
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: disableThreads
              children: []
              pos: 14836
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 14824
              length: 58
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: useThreads = false;
                children: []
                pos: 14859
                length: 19
              pos: 14853
              length: 29
          children: []
          pos: 14824
          length: 58
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: runInCompilerThread
              children: []
              pos: 14933
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final Callable<T> callable
                children: []
                pos: 14953
                length: 26
              pos: 14886
              length: 1544
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: final boolean dumpTraceReport = options.tracer.isOn();
                children: []
                pos: 15369
                length: 54
              - type: local_variable_declaration
                fields:
                  text: final Object[] result = new Object[1];
                children: []
                pos: 15428
                length: 38
              - type: local_variable_declaration
                fields:
                  text: final Throwable[] exception = new Throwable[1];
                children: []
                pos: 15471
                length: 47
              - type: local_variable_declaration
                fields:
                  text: |-
                    Runnable runnable = new Runnable() {
                          public void run() {
                            try {
                              if (dumpTraceReport) {
                                Tracer.initCurrentThreadTrace();
                              }
                              result[0] = callable.call();
                            } catch (Throwable e) {
                              exception[0] = e;
                            } finally {
                              if (dumpTraceReport) {
                                Tracer.logAndClearCurrentThreadTrace();
                              }
                            }
                          }
                        };
                children: []
                pos: 15523
                length: 407
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: identifier
                        fields:
                          text: useThreads
                        children: []
                        pos: 15940
                        length: 10
                    children: []
                    pos: 15939
                    length: 12
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: Thread th = new Thread(null, runnable, "jscompiler", COMPILER_STACK_SIZE);
                    children: []
                    pos: 15960
                    length: 74
                  - type: expression_statement
                    fields:
                      text: th.start();
                    children: []
                    pos: 16041
                    length: 11
                  - type: while_statement
                    fields:
                      text: |-
                        while (true) {
                                try {
                                  th.join();
                                  break;
                                } catch (InterruptedException ignore) {
                                  // ignore
                                }
                              }
                    children: []
                    pos: 16059
                    length: 152
                  pos: 15952
                  length: 265
                pos: 15936
                length: 316
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: array_access
                            fields:
                              array:
                                type: identifier
                                fields:
                                  text: exception
                                children: []
                                pos: 16322
                                length: 9
                              index:
                                type: decimal_integer_literal
                                fields:
                                  text: '0'
                                children: []
                                pos: 16332
                                length: 1
                            children: []
                            pos: 16322
                            length: 12
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 16338
                            length: 4
                        children: []
                        pos: 16322
                        length: 20
                    children: []
                    pos: 16321
                    length: 22
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: throw new RuntimeException(exception[0]);
                    children: []
                    pos: 16352
                    length: 41
                  pos: 16344
                  length: 55
                pos: 16318
                length: 81
              - type: return_statement
                fields:
                  text: return (T) result[0];
                children: []
                pos: 16405
                length: 21
              pos: 14981
              length: 1449
          children: []
          pos: 14886
          length: 1544
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: compileInternal
              children: []
              pos: 16447
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 16434
              length: 782
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: parse();
                children: []
                pos: 16471
                length: 8
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: hasErrors()
                        children: []
                        pos: 16488
                        length: 11
                    children: []
                    pos: 16487
                    length: 13
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return;
                    children: []
                    pos: 16509
                    length: 7
                  pos: 16501
                  length: 21
                pos: 16484
                length: 38
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: unary_expression
                        fields:
                          text: "!precheck()"
                        children: []
                        pos: 16532
                        length: 11
                    children: []
                    pos: 16531
                    length: 13
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return;
                    children: []
                    pos: 16553
                    length: 7
                  pos: 16545
                  length: 21
                pos: 16528
                length: 38
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: field_access
                        fields:
                          text: options.nameAnonymousFunctionsOnly
                        children: []
                        pos: 16576
                        length: 34
                    children: []
                    pos: 16575
                    length: 36
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: check();
                    children: []
                    pos: 16691
                    length: 8
                  - type: return_statement
                    fields:
                      text: return;
                    children: []
                    pos: 16706
                    length: 7
                  pos: 16612
                  length: 107
                pos: 16572
                length: 147
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: unary_expression
                        fields:
                          text: "!options.skipAllPasses"
                        children: []
                        pos: 16729
                        length: 22
                    children: []
                    pos: 16728
                    length: 24
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: check();
                    children: []
                    pos: 16761
                    length: 8
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: method_invocation
                            fields:
                              text: hasErrors()
                            children: []
                            pos: 16780
                            length: 11
                        children: []
                        pos: 16779
                        length: 13
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: return_statement
                        fields:
                          text: return;
                        children: []
                        pos: 16803
                        length: 7
                      pos: 16793
                      length: 25
                    pos: 16776
                    length: 42
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: not_equals
                            fields:
                              left:
                                type: field_access
                                fields:
                                  text: options.externExportsPath
                                children: []
                                pos: 16830
                                length: 25
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 16859
                                length: 4
                            children: []
                            pos: 16830
                            length: 33
                        children: []
                        pos: 16829
                        length: 35
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: externExports();
                        children: []
                        pos: 16875
                        length: 16
                      pos: 16865
                      length: 34
                    pos: 16826
                    length: 73
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: unary_expression
                            fields:
                              text: "!options.ideMode"
                            children: []
                            pos: 16989
                            length: 16
                        children: []
                        pos: 16988
                        length: 18
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: optimize();
                        children: []
                        pos: 17017
                        length: 11
                      pos: 17007
                      length: 29
                    pos: 16985
                    length: 51
                  pos: 16753
                  length: 289
                pos: 16725
                length: 317
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: field_access
                        fields:
                          text: options.recordFunctionInformation
                        children: []
                        pos: 17052
                        length: 33
                    children: []
                    pos: 17051
                    length: 35
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: recordFunctionInformation();
                    children: []
                    pos: 17095
                    length: 28
                  pos: 17087
                  length: 42
                pos: 17048
                length: 81
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: field_access
                            fields:
                              text: options.devMode
                            children: []
                            pos: 17139
                            length: 15
                          right:
                            type: field_access
                            fields:
                              text: DevMode.START_AND_END
                            children: []
                            pos: 17158
                            length: 21
                        children: []
                        pos: 17139
                        length: 40
                    children: []
                    pos: 17138
                    length: 42
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: runSanityCheck();
                    children: []
                    pos: 17189
                    length: 17
                  pos: 17181
                  length: 31
                pos: 17135
                length: 77
              pos: 16465
              length: 751
          children: []
          pos: 16434
          length: 782
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: parse
              children: []
              pos: 17232
              length: 5
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 17220
              length: 44
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: parseInputs();
                children: []
                pos: 17246
                length: 14
              pos: 17240
              length: 24
          children: []
          pos: 17220
          length: 44
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getPassConfig
              children: []
              pos: 17279
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 17268
              length: 126
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: passes
                            children: []
                            pos: 17305
                            length: 6
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 17315
                            length: 4
                        children: []
                        pos: 17305
                        length: 14
                    children: []
                    pos: 17304
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: passes = createPassConfigInternal();
                    children: []
                    pos: 17329
                    length: 36
                  pos: 17321
                  length: 50
                pos: 17301
                length: 70
              - type: return_statement
                fields:
                  text: return passes;
                children: []
                pos: 17376
                length: 14
              pos: 17295
              length: 99
          children: []
          pos: 17268
          length: 126
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: createPassConfigInternal
              children: []
              pos: 17518
              length: 24
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 17507
              length: 86
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return new DefaultPassConfig(options);
                children: []
                pos: 17551
                length: 38
              pos: 17545
              length: 48
          children: []
          pos: 17507
          length: 86
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setPassConfig
              children: []
              pos: 17810
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: PassConfig passes
                children: []
                pos: 17824
                length: 17
              pos: 17798
              length: 543
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: Preconditions.checkNotNull(passes);
                children: []
                pos: 18158
                length: 35
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: field_access
                            fields:
                              text: this.passes
                            children: []
                            pos: 18203
                            length: 11
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 18218
                            length: 4
                        children: []
                        pos: 18203
                        length: 19
                    children: []
                    pos: 18202
                    length: 21
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: throw new IllegalStateException("this.passes has already
                        been assigned");
                    children: []
                    pos: 18232
                    length: 73
                  pos: 18224
                  length: 87
                pos: 18199
                length: 112
              - type: expression_statement
                fields:
                  text: this.passes = passes;
                children: []
                pos: 18316
                length: 21
              pos: 17843
              length: 498
          children: []
          pos: 17798
          length: 543
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: precheck
              children: []
              pos: 18548
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 18540
              length: 41
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return true;
                children: []
                pos: 18565
                length: 12
              pos: 18559
              length: 22
          children: []
          pos: 18540
          length: 41
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: check
              children: []
              pos: 18597
              length: 5
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 18585
              length: 1308
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: runCustomPasses(CustomPassExecutionTime.BEFORE_CHECKS);
                children: []
                pos: 18611
                length: 55
              - type: local_variable_declaration
                fields:
                  text: PhaseOptimizer phaseOptimizer = new PhaseOptimizer(this, tracker);
                children: []
                pos: 18672
                length: 66
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: field_access
                            fields:
                              text: options.devMode
                            children: []
                            pos: 18747
                            length: 15
                          right:
                            type: field_access
                            fields:
                              text: DevMode.EVERY_PASS
                            children: []
                            pos: 18766
                            length: 18
                        children: []
                        pos: 18747
                        length: 37
                    children: []
                    pos: 18746
                    length: 39
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: phaseOptimizer.setSanityCheck(sanityCheck);
                    children: []
                    pos: 18794
                    length: 43
                  pos: 18786
                  length: 57
                pos: 18743
                length: 100
              - type: expression_statement
                fields:
                  text: phaseOptimizer.consume(getPassConfig().getChecks());
                children: []
                pos: 18848
                length: 52
              - type: expression_statement
                fields:
                  text: phaseOptimizer.process(externsRoot, jsRoot);
                children: []
                pos: 18905
                length: 44
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: hasErrors()
                        children: []
                        pos: 18958
                        length: 11
                    children: []
                    pos: 18957
                    length: 13
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return;
                    children: []
                    pos: 18979
                    length: 7
                  pos: 18971
                  length: 21
                pos: 18954
                length: 38
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: field_access
                        fields:
                          text: options.nameAnonymousFunctionsOnly
                        children: []
                        pos: 19079
                        length: 34
                    children: []
                    pos: 19078
                    length: 36
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return;
                    children: []
                    pos: 19123
                    length: 7
                  pos: 19115
                  length: 21
                pos: 19075
                length: 61
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: field_access
                        fields:
                          text: options.removeTryCatchFinally
                        children: []
                        pos: 19146
                        length: 29
                    children: []
                    pos: 19145
                    length: 31
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: removeTryCatchFinally();
                    children: []
                    pos: 19185
                    length: 24
                  pos: 19177
                  length: 38
                pos: 19142
                length: 73
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: or
                            fields:
                              left:
                                type: or
                                fields:
                                  left:
                                    type: unary_expression
                                    fields:
                                      text: "!options.stripTypes.isEmpty()"
                                    children: []
                                    pos: 19225
                                    length: 29
                                  right:
                                    type: unary_expression
                                    fields:
                                      text: "!options.stripNameSuffixes.isEmpty()"
                                    children: []
                                    pos: 19266
                                    length: 36
                                children: []
                                pos: 19225
                                length: 77
                              right:
                                type: unary_expression
                                fields:
                                  text: "!options.stripTypePrefixes.isEmpty()"
                                children: []
                                pos: 19314
                                length: 36
                            children: []
                            pos: 19225
                            length: 125
                          right:
                            type: unary_expression
                            fields:
                              text: "!options.stripNamePrefixes.isEmpty()"
                            children: []
                            pos: 19362
                            length: 36
                        children: []
                        pos: 19225
                        length: 173
                    children: []
                    pos: 19224
                    length: 175
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: |-
                        stripCode(options.stripTypes, options.stripNameSuffixes,
                                  options.stripTypePrefixes, options.stripNamePrefixes);
                    children: []
                    pos: 19408
                    length: 121
                  pos: 19400
                  length: 135
                pos: 19221
                length: 314
              - type: expression_statement
                fields:
                  text: runCustomPasses(CustomPassExecutionTime.BEFORE_OPTIMIZATIONS);
                children: []
                pos: 19541
                length: 62
              - type: expression_statement
                fields:
                  text: normalize();
                children: []
                pos: 19877
                length: 12
              pos: 18605
              length: 1288
          children: []
          pos: 18585
          length: 1308
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: externExports
              children: []
              pos: 19910
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 19897
              length: 262
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: logger.info("Creating extern file for exports");
                children: []
                pos: 19932
                length: 48
              - type: expression_statement
                fields:
                  text: startPass("externExports");
                children: []
                pos: 19985
                length: 27
              - type: local_variable_declaration
                fields:
                  text: ExternExportsPass pass = new ExternExportsPass(this);
                children: []
                pos: 20018
                length: 53
              - type: expression_statement
                fields:
                  text: process(pass);
                children: []
                pos: 20076
                length: 14
              - type: expression_statement
                fields:
                  text: externExports = pass.getGeneratedExterns();
                children: []
                pos: 20096
                length: 43
              - type: expression_statement
                fields:
                  text: endPass();
                children: []
                pos: 20145
                length: 10
              pos: 19926
              length: 233
          children: []
          pos: 19897
          length: 262
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: process
              children: []
              pos: 20168
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: CompilerPass p
                children: []
                pos: 20176
                length: 14
              pos: 20163
              length: 70
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: p.process(externsRoot, jsRoot);
                children: []
                pos: 20198
                length: 31
              pos: 20192
              length: 41
          children: []
          pos: 20163
          length: 70
        - type: field_declaration
          fields:
            text: |-
              private final PassFactory sanityCheck =
                    new PassFactory("sanityCheck", false) {
                  @Override
                  protected CompilerPass createInternal(AbstractCompiler compiler) {
                    return new SanityCheck(compiler);
                  }
                };
          children: []
          pos: 20237
          length: 221
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: maybeSanityCheck
              children: []
              pos: 20475
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 20462
              length: 116
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: field_access
                            fields:
                              text: options.devMode
                            children: []
                            pos: 20504
                            length: 15
                          right:
                            type: field_access
                            fields:
                              text: DevMode.EVERY_PASS
                            children: []
                            pos: 20523
                            length: 18
                        children: []
                        pos: 20504
                        length: 37
                    children: []
                    pos: 20503
                    length: 39
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: runSanityCheck();
                    children: []
                    pos: 20551
                    length: 17
                  pos: 20543
                  length: 31
                pos: 20500
                length: 74
              pos: 20494
              length: 84
          children: []
          pos: 20462
          length: 116
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: runSanityCheck
              children: []
              pos: 20595
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 20582
              length: 94
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: sanityCheck.create(this).process(externsRoot, jsRoot);
                children: []
                pos: 20618
                length: 54
              pos: 20612
              length: 64
          children: []
          pos: 20582
          length: 94
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: removeTryCatchFinally
              children: []
              pos: 20761
              length: 21
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 20756
              length: 199
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: logger.info("Remove try/catch/finally");
                children: []
                pos: 20791
                length: 40
              - type: expression_statement
                fields:
                  text: startPass("removeTryCatchFinally");
                children: []
                pos: 20836
                length: 35
              - type: local_variable_declaration
                fields:
                  text: RemoveTryCatch r = new RemoveTryCatch(this);
                children: []
                pos: 20876
                length: 44
              - type: expression_statement
                fields:
                  text: process(r);
                children: []
                pos: 20925
                length: 11
              - type: expression_statement
                fields:
                  text: endPass();
                children: []
                pos: 20941
                length: 10
              pos: 20785
              length: 170
          children: []
          pos: 20756
          length: 199
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: stripCode
              children: []
              pos: 21104
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Set<String> stripTypes
                children: []
                pos: 21114
                length: 22
              pos: 21099
              length: 349
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: logger.info("Strip code");
                children: []
                pos: 21243
                length: 26
              - type: expression_statement
                fields:
                  text: startPass("stripCode");
                children: []
                pos: 21274
                length: 23
              - type: local_variable_declaration
                fields:
                  text: |-
                    StripCode r = new StripCode(this, stripTypes, stripNameSuffixes,
                            stripTypePrefixes, stripNamePrefixes);
                children: []
                pos: 21302
                length: 111
              - type: expression_statement
                fields:
                  text: process(r);
                children: []
                pos: 21418
                length: 11
              - type: expression_statement
                fields:
                  text: endPass();
                children: []
                pos: 21434
                length: 10
              pos: 21237
              length: 211
          children: []
          pos: 21099
          length: 349
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: runCustomPasses
              children: []
              pos: 21550
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: CustomPassExecutionTime executionTime
                children: []
                pos: 21566
                length: 37
              pos: 21537
              length: 351
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: field_access
                            fields:
                              text: options.customPasses
                            children: []
                            pos: 21615
                            length: 20
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 21639
                            length: 4
                        children: []
                        pos: 21615
                        length: 28
                    children: []
                    pos: 21614
                    length: 30
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: Tracer t = newTracer("runCustomPasses");
                    children: []
                    pos: 21653
                    length: 40
                  - type: try_statement
                    fields:
                      body:
                        type: block
                        fields: {}
                        children:
                        - type: enhanced_for_statement
                          fields:
                            text: |-
                              for (CompilerPass p : options.customPasses.get(executionTime)) {
                                        process(p);
                                      }
                          children: []
                          pos: 21714
                          length: 96
                        pos: 21704
                        length: 114
                      excepts:
                        type: excepts
                        fields: {}
                        children: []
                        pos: 21700
                        length: 178
                    children: []
                    pos: 21700
                    length: 178
                  pos: 21645
                  length: 239
                pos: 21611
                length: 273
              pos: 21605
              length: 283
          children: []
          pos: 21537
          length: 351
        - type: field_declaration
          fields:
            text: private Tracer currentTracer = null;
          children: []
          pos: 21892
          length: 36
        - type: field_declaration
          fields:
            text: private String currentPassName = null;
          children: []
          pos: 21931
          length: 38
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: startPass
              children: []
              pos: 22026
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String passName
                children: []
                pos: 22036
                length: 15
              pos: 22021
              length: 163
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: Preconditions.checkState(currentTracer == null);
                children: []
                pos: 22059
                length: 48
              - type: expression_statement
                fields:
                  text: currentPassName = passName;
                children: []
                pos: 22112
                length: 27
              - type: expression_statement
                fields:
                  text: currentTracer = newTracer(passName);
                children: []
                pos: 22144
                length: 36
              pos: 22053
              length: 131
          children: []
          pos: 22021
          length: 163
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: endPass
              children: []
              pos: 22235
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 22230
              length: 301
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: |-
                    Preconditions.checkState(currentTracer != null,
                            "Tracer should not be null at the end of a pass.");
                children: []
                pos: 22251
                length: 107
              - type: expression_statement
                fields:
                  text: stopTracer(currentTracer, currentPassName);
                children: []
                pos: 22363
                length: 43
              - type: local_variable_declaration
                fields:
                  text: String passToCheck = currentPassName;
                children: []
                pos: 22411
                length: 37
              - type: expression_statement
                fields:
                  text: currentPassName = null;
                children: []
                pos: 22453
                length: 23
              - type: expression_statement
                fields:
                  text: currentTracer = null;
                children: []
                pos: 22481
                length: 21
              - type: expression_statement
                fields:
                  text: maybeSanityCheck();
                children: []
                pos: 22508
                length: 19
              pos: 22245
              length: 286
          children: []
          pos: 22230
          length: 301
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: newTracer
              children: []
              pos: 22605
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String passName
                children: []
                pos: 22615
                length: 15
              pos: 22598
              length: 270
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: |-
                    String comment = passName
                            + (recentChange.hasCodeChanged() ? " on recently changed AST" : "");
                children: []
                pos: 22638
                length: 102
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: options.tracer.isOn()
                        children: []
                        pos: 22749
                        length: 21
                    children: []
                    pos: 22748
                    length: 23
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: tracker.recordPassStart(passName);
                    children: []
                    pos: 22780
                    length: 34
                  pos: 22772
                  length: 48
                pos: 22745
                length: 75
              - type: return_statement
                fields:
                  text: return new Tracer("Compiler", comment);
                children: []
                pos: 22825
                length: 39
              pos: 22632
              length: 236
          children: []
          pos: 22598
          length: 270
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: stopTracer
              children: []
              pos: 22877
              length: 10
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Tracer t
                children: []
                pos: 22888
                length: 8
              pos: 22872
              length: 163
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: long result = t.stop();
                children: []
                pos: 22921
                length: 23
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: options.tracer.isOn()
                        children: []
                        pos: 22953
                        length: 21
                    children: []
                    pos: 22952
                    length: 23
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: tracker.recordPassStop(passName, result);
                    children: []
                    pos: 22984
                    length: 41
                  pos: 22976
                  length: 55
                pos: 22949
                length: 82
              pos: 22915
              length: 120
          children: []
          pos: 22872
          length: 163
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getResult
              children: []
              pos: 23109
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 23095
              length: 332
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: PassConfig.State state = getPassConfig().getIntermediateState();
                children: []
                pos: 23127
                length: 64
              - type: return_statement
                fields:
                  text: |-
                    return new Result(getErrors(), getWarnings(), debugLog.toString(),
                            state.variableMap, state.propertyMap,
                            state.anonymousFunctionNameMap, functionInformationMap,
                            sourceMap, externExports, state.cssNames);
                children: []
                pos: 23196
                length: 227
              pos: 23121
              length: 306
          children: []
          pos: 23095
          length: 332
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getMessages
              children: []
              pos: 23528
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 23511
              length: 60
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getErrors();
                children: []
                pos: 23548
                length: 19
              pos: 23542
              length: 29
          children: []
          pos: 23511
          length: 60
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getErrors
              children: []
              pos: 23651
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 23634
              length: 71
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return errorManager.getErrors();
                children: []
                pos: 23669
                length: 32
              pos: 23663
              length: 42
          children: []
          pos: 23634
          length: 71
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getWarnings
              children: []
              pos: 23787
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 23770
              length: 75
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return errorManager.getWarnings();
                children: []
                pos: 23807
                length: 34
              pos: 23801
              length: 44
          children: []
          pos: 23770
          length: 75
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getRoot
              children: []
              pos: 23952
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 23940
              length: 55
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return externAndJsRoot;
                children: []
                pos: 23968
                length: 23
              pos: 23962
              length: 33
          children: []
          pos: 23940
          length: 55
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: nextUniqueNameId
              children: []
              pos: 24070
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 24058
              length: 63
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return uniqueNameId++;
                children: []
                pos: 24095
                length: 22
              pos: 24089
              length: 32
          children: []
          pos: 24058
          length: 63
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: resetUniqueNameId
              children: []
              pos: 24202
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 24176
              length: 73
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: uniqueNameId = 0;
                children: []
                pos: 24228
                length: 17
              pos: 24222
              length: 27
          children: []
          pos: 24176
          length: 73
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getUniqueNameIdSupplier
              children: []
              pos: 24282
              length: 23
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 24253
              length: 227
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: final Compiler self = this;
                children: []
                pos: 24314
                length: 27
              - type: return_statement
                fields:
                  text: |-
                    return new Supplier<String>() {
                          public String get() {
                            return String.valueOf(self.nextUniqueNameId());
                          }
                        };
                children: []
                pos: 24346
                length: 130
              pos: 24308
              length: 172
          children: []
          pos: 24253
          length: 227
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setNormalized
              children: []
              pos: 24640
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 24623
              length: 61
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: normalized = true;
                children: []
                pos: 24662
                length: 18
              pos: 24656
              length: 28
          children: []
          pos: 24623
          length: 61
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setUnnormalized
              children: []
              pos: 24846
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 24829
              length: 64
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: normalized = false;
                children: []
                pos: 24870
                length: 19
              pos: 24864
              length: 29
          children: []
          pos: 24829
          length: 64
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isNormalized
              children: []
              pos: 24917
              length: 12
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 24897
              length: 63
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return normalized;
                children: []
                pos: 24938
                length: 18
              pos: 24932
              length: 28
          children: []
          pos: 24897
          length: 63
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: areNodesEqualForInlining
              children: []
              pos: 24984
              length: 24
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Node n1
                children: []
                pos: 25009
                length: 7
              pos: 24964
              length: 381
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: field_access
                            fields:
                              text: options.ambiguateProperties
                            children: []
                            pos: 25037
                            length: 27
                          right:
                            type: field_access
                            fields:
                              text: options.disambiguateProperties
                            children: []
                            pos: 25076
                            length: 30
                        children: []
                        pos: 25037
                        length: 69
                    children: []
                    pos: 25036
                    length: 71
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return n1.checkTreeTypeAwareEqualsSilent(n2);
                    children: []
                    pos: 25234
                    length: 45
                  pos: 25108
                  length: 177
                pos: 25033
                length: 308
              pos: 25027
              length: 318
          children: []
          pos: 24964
          length: 381
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getInput
              children: []
              pos: 25689
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String name
                children: []
                pos: 25698
                length: 11
              pos: 25656
              length: 95
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return inputsByName.get(name);
                children: []
                pos: 25717
                length: 30
              pos: 25711
              length: 40
          children: []
          pos: 25656
          length: 95
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: newExternInput
              children: []
              pos: 25788
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String name
                children: []
                pos: 25803
                length: 11
              pos: 25755
              length: 407
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: inputsByName.containsKey(name)
                        children: []
                        pos: 25826
                        length: 30
                    children: []
                    pos: 25825
                    length: 32
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: 'throw new IllegalArgumentException("Conflicting externs
                        name: " + name);'
                    children: []
                    pos: 25866
                    length: 72
                  pos: 25858
                  length: 86
                pos: 25822
                length: 122
              - type: local_variable_declaration
                fields:
                  text: SourceAst ast = new SyntheticAst(name);
                children: []
                pos: 25949
                length: 39
              - type: local_variable_declaration
                fields:
                  text: CompilerInput input = new CompilerInput(ast, name, true);
                children: []
                pos: 25993
                length: 57
              - type: expression_statement
                fields:
                  text: inputsByName.put(name, input);
                children: []
                pos: 26055
                length: 30
              - type: expression_statement
                fields:
                  text: externsRoot.addChildToFront(ast.getAstRoot(this));
                children: []
                pos: 26090
                length: 50
              - type: return_statement
                fields:
                  text: return input;
                children: []
                pos: 26145
                length: 13
              pos: 25816
              length: 346
          children: []
          pos: 25755
          length: 407
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: addIncrementalSourceAst
              children: []
              pos: 26250
              length: 23
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JsAst ast
                children: []
                pos: 26274
                length: 9
              pos: 26245
              length: 276
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: String sourceName = ast.getSourceFile().getName();
                children: []
                pos: 26291
                length: 50
              - type: expression_statement
                fields:
                  text: |-
                    Preconditions.checkState(
                            getInput(sourceName) == null,
                            "Duplicate input of name " + sourceName);
                children: []
                pos: 26346
                length: 113
              - type: expression_statement
                fields:
                  text: inputsByName.put(sourceName, new CompilerInput(ast));
                children: []
                pos: 26464
                length: 53
              pos: 26285
              length: 236
          children: []
          pos: 26245
          length: 276
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getModuleGraph
              children: []
              pos: 26551
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 26525
              length: 72
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return moduleGraph;
                children: []
                pos: 26574
                length: 19
              pos: 26568
              length: 29
          children: []
          pos: 26525
          length: 72
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getTypeRegistry
              children: []
              pos: 26635
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 26601
              length: 179
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: typeRegistry
                            children: []
                            pos: 26663
                            length: 12
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 26679
                            length: 4
                        children: []
                        pos: 26663
                        length: 20
                    children: []
                    pos: 26662
                    length: 22
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: typeRegistry = new JSTypeRegistry(oldErrorReporter);
                    children: []
                    pos: 26693
                    length: 52
                  pos: 26685
                  length: 66
                pos: 26659
                length: 92
              - type: return_statement
                fields:
                  text: return typeRegistry;
                children: []
                pos: 26756
                length: 20
              pos: 26653
              length: 127
          children: []
          pos: 26601
          length: 179
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getScopeCreator
              children: []
              pos: 26809
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 26784
              length: 94
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getPassConfig().getScopeCreator();
                children: []
                pos: 26833
                length: 41
              pos: 26827
              length: 51
          children: []
          pos: 26784
          length: 94
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getTopScope
              children: []
              pos: 26907
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 26882
              length: 86
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getPassConfig().getTopScope();
                children: []
                pos: 26927
                length: 37
              pos: 26921
              length: 47
          children: []
          pos: 26882
          length: 86
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getReverseAbstractInterpreter
              children: []
              pos: 27018
              length: 29
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 26972
              length: 565
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: abstractInterpreter
                            children: []
                            pos: 27060
                            length: 19
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 27083
                            length: 4
                        children: []
                        pos: 27060
                        length: 27
                    children: []
                    pos: 27059
                    length: 29
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: |-
                        ChainableReverseAbstractInterpreter interpreter =
                                  new SemanticReverseAbstractInterpreter(
                                      getCodingConvention(), getTypeRegistry());
                    children: []
                    pos: 27097
                    length: 156
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: field_access
                            fields:
                              text: options.closurePass
                            children: []
                            pos: 27264
                            length: 19
                        children: []
                        pos: 27263
                        length: 21
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: |-
                            interpreter = new ClosureReverseAbstractInterpreter(
                                        getCodingConvention(), getTypeRegistry())
                                        .append(interpreter).getFirst();
                        children: []
                        pos: 27295
                        length: 151
                      pos: 27285
                      length: 169
                    pos: 27260
                    length: 194
                  - type: expression_statement
                    fields:
                      text: abstractInterpreter = interpreter;
                    children: []
                    pos: 27461
                    length: 34
                  pos: 27089
                  length: 412
                pos: 27056
                length: 445
              - type: return_statement
                fields:
                  text: return abstractInterpreter;
                children: []
                pos: 27506
                length: 27
              pos: 27050
              length: 487
          children: []
          pos: 26972
          length: 565
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getTypeValidator
              children: []
              pos: 27567
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 27541
              length: 76
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return typeValidator;
                children: []
                pos: 27592
                length: 21
              pos: 27586
              length: 31
          children: []
          pos: 27541
          length: 76
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: parseInputs
              children: []
              pos: 27954
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 27949
              length: 2055
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: boolean devMode = options.devMode != DevMode.OFF;
                children: []
                pos: 27974
                length: 49
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: externsRoot
                            children: []
                            pos: 28146
                            length: 11
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 28161
                            length: 4
                        children: []
                        pos: 28146
                        length: 19
                    children: []
                    pos: 28145
                    length: 21
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: externsRoot.detachChildren();
                    children: []
                    pos: 28175
                    length: 29
                  pos: 28167
                  length: 43
                pos: 28142
                length: 68
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: jsRoot
                            children: []
                            pos: 28219
                            length: 6
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 28229
                            length: 4
                        children: []
                        pos: 28219
                        length: 14
                    children: []
                    pos: 28218
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: jsRoot.detachChildren();
                    children: []
                    pos: 28243
                    length: 24
                  pos: 28235
                  length: 38
                pos: 28215
                length: 58
              - type: expression_statement
                fields:
                  text: jsRoot = new Node(Token.BLOCK);
                children: []
                pos: 28309
                length: 31
              - type: expression_statement
                fields:
                  text: jsRoot.setIsSyntheticBlock(true);
                children: []
                pos: 28345
                length: 33
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: options.tracer.isOn()
                        children: []
                        pos: 28388
                        length: 21
                    children: []
                    pos: 28387
                    length: 23
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: |-
                        tracker = new PerformanceTracker(jsRoot,
                                  options.tracer == TracerMode.ALL);
                    children: []
                    pos: 28419
                    length: 85
                  - type: expression_statement
                    fields:
                      text: addChangeHandler(tracker.getCodeChangeHandler());
                    children: []
                    pos: 28511
                    length: 49
                  pos: 28411
                  length: 155
                pos: 28384
                length: 182
              - type: local_variable_declaration
                fields:
                  text: Tracer tracer = newTracer("parseInputs");
                children: []
                pos: 28572
                length: 41
              - type: try_statement
                fields:
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: expression_statement
                      fields:
                        text: externsRoot = new Node(Token.BLOCK);
                      children: []
                      pos: 28663
                      length: 36
                    - type: expression_statement
                      fields:
                        text: externsRoot.setIsSyntheticBlock(true);
                      children: []
                      pos: 28706
                      length: 38
                    - type: enhanced_for_statement
                      fields:
                        text: |-
                          for (CompilerInput input : externs) {
                                  Node n = input.getAstRoot(this);
                                  if (hasErrors()) {
                                    return null;
                                  }
                                  externsRoot.addChildToBack(n);
                                }
                      children: []
                      pos: 28751
                      length: 185
                    - type: enhanced_for_statement
                      fields:
                        text: |-
                          for (CompilerInput input : inputs) {
                                  Node n = input.getAstRoot(this);
                                  if (hasErrors()) {
                                    return null;
                                  }

                                  // Inputs can have a null AST during initial parse.
                                  if (n == null) {
                                    continue;
                                  }

                                  if (devMode) {
                                    runSanityCheck();
                                    if (hasErrors()) {
                                      return null;
                                    }
                                  }

                                  if (options.sourceMapOutputPath != null ||
                                      options.nameReferenceReportPath != null) {

                                    // Annotate the nodes in the tree with information from the
                                    // input file. This information is used to construct the SourceMap.
                                    SourceInformationAnnotator sia =
                                        new SourceInformationAnnotator(input.getName());
                                    NodeTraversal.traverse(this, n, sia);
                                  }

                                  jsRoot.addChildToBack(n);
                                }
                      children: []
                      pos: 28944
                      length: 844
                    - type: expression_statement
                      fields:
                        text: externAndJsRoot = new Node(Token.BLOCK, externsRoot,
                          jsRoot);
                      children: []
                      pos: 29796
                      length: 61
                    - type: expression_statement
                      fields:
                        text: externAndJsRoot.setIsSyntheticBlock(true);
                      children: []
                      pos: 29864
                      length: 42
                    - type: return_statement
                      fields:
                        text: return externAndJsRoot;
                      children: []
                      pos: 29914
                      length: 23
                    pos: 28623
                    length: 1320
                  excepts:
                    type: excepts
                    fields: {}
                    children: []
                    pos: 28619
                    length: 1381
                children: []
                pos: 28619
                length: 1381
              pos: 27968
              length: 2036
          children: []
          pos: 27949
          length: 2055
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: parse
              children: []
              pos: 30020
              length: 5
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSSourceFile file
                children: []
                pos: 30026
                length: 17
              pos: 30008
              length: 172
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: initCompilerOptionsIfTesting();
                children: []
                pos: 30051
                length: 31
              - type: expression_statement
                fields:
                  text: 'addToDebugLog("Parsing: " + file.getName());'
                children: []
                pos: 30087
                length: 44
              - type: return_statement
                fields:
                  text: return new JsAst(file).getAstRoot(this);
                children: []
                pos: 30136
                length: 40
              pos: 30045
              length: 135
          children: []
          pos: 30008
          length: 172
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: parseSyntheticCode
              children: []
              pos: 30201
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String js
                children: []
                pos: 30220
                length: 9
              pos: 30184
              length: 231
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: |-
                    CompilerInput input = new CompilerInput(
                            JSSourceFile.fromCode(" [synthetic] ", js));
                children: []
                pos: 30237
                length: 93
              - type: expression_statement
                fields:
                  text: inputsByName.put(input.getName(), input);
                children: []
                pos: 30335
                length: 41
              - type: return_statement
                fields:
                  text: return input.getAstRoot(this);
                children: []
                pos: 30381
                length: 30
              pos: 30231
              length: 184
          children: []
          pos: 30184
          length: 231
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: initCompilerOptionsIfTesting
              children: []
              pos: 30424
              length: 28
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 30419
              length: 220
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: options
                            children: []
                            pos: 30465
                            length: 7
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 30476
                            length: 4
                        children: []
                        pos: 30465
                        length: 15
                    children: []
                    pos: 30464
                    length: 17
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: initOptions(new CompilerOptions());
                    children: []
                    pos: 30594
                    length: 35
                  pos: 30482
                  length: 153
                pos: 30461
                length: 174
              pos: 30455
              length: 184
          children: []
          pos: 30419
          length: 220
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: parseSyntheticCode
              children: []
              pos: 30660
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String fileName
                children: []
                pos: 30679
                length: 15
              pos: 30643
              length: 160
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: initCompilerOptionsIfTesting();
                children: []
                pos: 30713
                length: 31
              - type: return_statement
                fields:
                  text: return parse(JSSourceFile.fromCode(fileName, js));
                children: []
                pos: 30749
                length: 50
              pos: 30707
              length: 96
          children: []
          pos: 30643
          length: 160
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: parseTestCode
              children: []
              pos: 30812
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String js
                children: []
                pos: 30826
                length: 9
              pos: 30807
              length: 327
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: initCompilerOptionsIfTesting();
                children: []
                pos: 30843
                length: 31
              - type: local_variable_declaration
                fields:
                  text: |-
                    CompilerInput input = new CompilerInput(
                            JSSourceFile.fromCode(" [testcode] ", js));
                children: []
                pos: 30879
                length: 92
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: inputsByName
                            children: []
                            pos: 30980
                            length: 12
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 30996
                            length: 4
                        children: []
                        pos: 30980
                        length: 20
                    children: []
                    pos: 30979
                    length: 22
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: inputsByName = Maps.newHashMap();
                    children: []
                    pos: 31010
                    length: 33
                  pos: 31002
                  length: 47
                pos: 30976
                length: 73
              - type: expression_statement
                fields:
                  text: inputsByName.put(input.getName(), input);
                children: []
                pos: 31054
                length: 41
              - type: return_statement
                fields:
                  text: return input.getAstRoot(this);
                children: []
                pos: 31100
                length: 30
              pos: 30837
              length: 297
          children: []
          pos: 30807
          length: 327
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getDefaultErrorReporter
              children: []
              pos: 31164
              length: 23
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 31138
              length: 90
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return defaultErrorReporter;
                children: []
                pos: 31196
                length: 28
              pos: 31190
              length: 38
          children: []
          pos: 31138
          length: 90
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: toSource
              children: []
              pos: 31497
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 31483
              length: 635
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return runInCompilerThread(new Callable<String>() {
                          public String call() throws Exception {
                            Tracer tracer = newTracer("toSource");
                            try {
                              CodeBuilder cb = new CodeBuilder();
                              if (jsRoot != null) {
                                int i = 0;
                                for (Node scriptNode = jsRoot.getFirstChild();
                                     scriptNode != null;
                                     scriptNode = scriptNode.getNext()) {
                                  toSource(cb, i++, scriptNode);
                                }
                              }
                              return cb.toString();
                            } finally {
                              stopTracer(tracer, "toSource");
                            }
                          }
                        });
                children: []
                pos: 31514
                length: 600
              pos: 31508
              length: 610
          children: []
          pos: 31483
          length: 635
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: toSourceArray
              children: []
              pos: 32211
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 32195
              length: 699
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return runInCompilerThread(new Callable<String[]>() {
                          public String[] call() throws Exception {
                            Tracer tracer = newTracer("toSourceArray");
                            try {
                              int numInputs = inputs.length;
                              String[] sources = new String[numInputs];
                              CodeBuilder cb = new CodeBuilder();
                              for (int i = 0; i < numInputs; i++) {
                                Node scriptNode = inputs[i].getAstRoot(Compiler.this);
                                cb.reset();
                                toSource(cb, i, scriptNode);
                                sources[i] = cb.toString();
                              }
                              return sources;
                            } finally {
                              stopTracer(tracer, "toSourceArray");
                            }
                          }
                        });
                children: []
                pos: 32233
                length: 657
              pos: 32227
              length: 667
          children: []
          pos: 32195
          length: 699
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: toSource
              children: []
              pos: 32983
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final JSModule module
                children: []
                pos: 32992
                length: 21
              pos: 32969
              length: 712
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return runInCompilerThread(new Callable<String>() {
                          public String call() throws Exception {
                            List<CompilerInput> inputs = module.getInputs();
                            int numInputs = inputs.size();
                            if (numInputs == 0) {
                              return "";
                            }
                            CodeBuilder cb = new CodeBuilder();
                            for (int i = 0; i < numInputs; i++) {
                              Node scriptNode = inputs.get(i).getAstRoot(Compiler.this);
                              if (scriptNode == null) {
                                throw new IllegalArgumentException(
                                    "Bad module: " + module.getName());
                              }
                              toSource(cb, i, scriptNode);
                            }
                            return cb.toString();
                          }
                        });
                children: []
                pos: 33021
                length: 656
              pos: 33015
              length: 666
          children: []
          pos: 32969
          length: 712
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: toSourceArray
              children: []
              pos: 33787
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final JSModule module
                children: []
                pos: 33801
                length: 21
              pos: 33771
              length: 853
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return runInCompilerThread(new Callable<String[]>() {
                          public String[] call() throws Exception {
                            List<CompilerInput> inputs = module.getInputs();
                            int numInputs = inputs.size();
                            if (numInputs == 0) {
                              return new String[0];
                            }

                            String[] sources = new String[numInputs];
                            CodeBuilder cb = new CodeBuilder();
                            for (int i = 0; i < numInputs; i++) {
                              Node scriptNode = inputs.get(i).getAstRoot(Compiler.this);
                              if (scriptNode == null) {
                                throw new IllegalArgumentException(
                                    "Bad module input: " + inputs.get(i).getName());
                              }

                              cb.reset();
                              toSource(cb, i, scriptNode);
                              sources[i] = cb.toString();
                            }
                            return sources;
                          }
                        });
                children: []
                pos: 33830
                length: 790
              pos: 33824
              length: 800
          children: []
          pos: 33771
          length: 853
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: toSource
              children: []
              pos: 34993
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final CodeBuilder cb
                children: []
                pos: 35002
                length: 20
              pos: 34981
              length: 1717
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: "runInCompilerThread(new Callable<Void>() {\n      public
                    Void call() throws Exception {\n        if (options.printInputDelimiter)
                    {\n          if ((cb.getLength() > 0) && !cb.endsWith(\"\\n\"))
                    {\n            cb.append(\"\\n\");  // Make sure that the label
                    starts on a new line\n          }\n          Preconditions.checkState(root.getType()
                    == Token.SCRIPT);\n          \n          String delimiter = options.inputDelimiter;\n
                    \         \n          String sourceName = (String)root.getProp(Node.SOURCENAME_PROP);\n
                    \         Preconditions.checkState(sourceName != null);\n          Preconditions.checkState(!sourceName.isEmpty());\n
                    \         \n          delimiter = delimiter.replaceAll(\"%name%\",
                    sourceName)\n            .replaceAll(\"%num%\", String.valueOf(inputSeqNum));\n\n
                    \         cb.append(delimiter)\n            .append(\"\\n\");\n
                    \       }\n        if (root.getJSDocInfo() != null &&\n            root.getJSDocInfo().getLicense()
                    != null) {\n          cb.append(\"/*\\n\")\n            .append(root.getJSDocInfo().getLicense())\n
                    \           .append(\"*/\\n\");\n        }\n\n        // If there
                    is a valid source map, then indicate to it that the current\n
                    \       // root node's mappings are offset by the given string
                    builder buffer.\n        if (options.sourceMapOutputPath != null)
                    {\n          sourceMap.setStartingPosition(\n              cb.getLineIndex(),
                    cb.getColumnIndex());\n        }\n\n        String code = toSource(root);\n
                    \       if (!code.isEmpty()) {\n          cb.append(code);\n          if
                    (!code.endsWith(\";\")) {\n            cb.append(\";\");\n          }\n
                    \       }\n        return null;\n      }\n    });"
                children: []
                pos: 35116
                length: 1578
              pos: 35110
              length: 1588
          children: []
          pos: 34981
          length: 1717
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: toSource
              children: []
              pos: 36783
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Node n
                children: []
                pos: 36792
                length: 6
              pos: 36764
              length: 356
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: initCompilerOptionsIfTesting();
                children: []
                pos: 36806
                length: 31
              - type: local_variable_declaration
                fields:
                  text: CodePrinter.Builder builder = new CodePrinter.Builder(n);
                children: []
                pos: 36847
                length: 57
              - type: expression_statement
                fields:
                  text: builder.setPrettyPrint(options.prettyPrint);
                children: []
                pos: 36909
                length: 44
              - type: expression_statement
                fields:
                  text: builder.setLineBreak(options.lineBreak);
                children: []
                pos: 36958
                length: 40
              - type: expression_statement
                fields:
                  text: builder.setSourceMap(sourceMap);
                children: []
                pos: 37003
                length: 32
              - type: expression_statement
                fields:
                  text: builder.setOutputCharset(options.outputCharset);
                children: []
                pos: 37040
                length: 48
              - type: return_statement
                fields:
                  text: return builder.build();
                children: []
                pos: 37093
                length: 23
              pos: 36800
              length: 320
          children: []
          pos: 36764
          length: 356
        - type: class_declaration
          fields:
            name:
              type: identifier
              fields:
                text: CodeBuilder
              children: []
              pos: 37303
              length: 11
            body:
              type: class_body
              fields: {}
              children:
              - type: field_declaration
                fields:
                  text: private final StringBuilder sb = new StringBuilder();
                children: []
                pos: 37321
                length: 53
              - type: field_declaration
                fields:
                  text: private int lineCount = 0;
                children: []
                pos: 37379
                length: 26
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: reset
                    children: []
                    pos: 37482
                    length: 5
                  parameters:
                    type: method_parameters
                    fields: {}
                    children: []
                    pos: 37477
                    length: 43
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: expression_statement
                      fields:
                        text: sb.setLength(0);
                      children: []
                      pos: 37498
                      length: 16
                    pos: 37490
                    length: 30
                children: []
                pos: 37477
                length: 43
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: append
                    children: []
                    pos: 37594
                    length: 6
                  parameters:
                    type: method_parameters
                    fields: {}
                    children:
                    - type: formal_parameter
                      fields:
                        text: String str
                      children: []
                      pos: 37601
                      length: 10
                    pos: 37582
                    length: 249
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: expression_statement
                      fields:
                        text: sb.append(str);
                      children: []
                      pos: 37621
                      length: 15
                    - type: local_variable_declaration
                      fields:
                        text: int index = -1;
                      children: []
                      pos: 37701
                      length: 15
                    - type: while_statement
                      fields:
                        text: |-
                          while ((index = str.indexOf('\n', index + 1)) >= 0) {
                                  ++lineCount;
                                }
                      children: []
                      pos: 37723
                      length: 82
                    - type: return_statement
                      fields:
                        text: return this;
                      children: []
                      pos: 37813
                      length: 12
                    pos: 37613
                    length: 218
                children: []
                pos: 37582
                length: 249
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: toString
                    children: []
                    pos: 37913
                    length: 8
                  parameters:
                    type: method_parameters
                    fields: {}
                    children: []
                    pos: 37885
                    length: 74
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: return_statement
                      fields:
                        text: return sb.toString();
                      children: []
                      pos: 37932
                      length: 21
                    pos: 37924
                    length: 35
                children: []
                pos: 37885
                length: 74
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: getLength
                    children: []
                    pos: 38026
                    length: 9
                  parameters:
                    type: method_parameters
                    fields: {}
                    children: []
                    pos: 38015
                    length: 56
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: return_statement
                      fields:
                        text: return sb.length();
                      children: []
                      pos: 38046
                      length: 19
                    pos: 38038
                    length: 33
                children: []
                pos: 38015
                length: 56
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: getLineIndex
                    children: []
                    pos: 38160
                    length: 12
                  parameters:
                    type: method_parameters
                    fields: {}
                    children: []
                    pos: 38156
                    length: 50
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: return_statement
                      fields:
                        text: return lineCount;
                      children: []
                      pos: 38183
                      length: 17
                    pos: 38175
                    length: 31
                children: []
                pos: 38156
                length: 50
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: getColumnIndex
                    children: []
                    pos: 38297
                    length: 14
                  parameters:
                    type: method_parameters
                    fields: {}
                    children: []
                    pos: 38293
                    length: 137
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: local_variable_declaration
                      fields:
                        text: int index = sb.lastIndexOf("\n");
                      children: []
                      pos: 38322
                      length: 33
                    - type: return_statement
                      fields:
                        text: 'return (index >= 0) ? sb.length() - (index + 1) : sb.length();'
                      children: []
                      pos: 38362
                      length: 62
                    pos: 38314
                    length: 116
                children: []
                pos: 38293
                length: 137
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: endsWith
                    children: []
                    pos: 38511
                    length: 8
                  parameters:
                    type: method_parameters
                    fields: {}
                    children:
                    - type: formal_parameter
                      fields:
                        text: String suffix
                      children: []
                      pos: 38520
                      length: 13
                    pos: 38503
                    length: 157
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: return_statement
                      fields:
                        text: |-
                          return (sb.length() > suffix.length())
                                    && suffix.equals(sb.substring(sb.length() - suffix.length()));
                      children: []
                      pos: 38543
                      length: 111
                    pos: 38535
                    length: 125
                children: []
                pos: 38503
                length: 157
              pos: 37283
              length: 1381
          children: []
          pos: 37283
          length: 1381
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: optimize
              children: []
              pos: 38854
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 38842
              length: 360
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: PhaseOptimizer phaseOptimizer = new PhaseOptimizer(this, tracker);
                children: []
                pos: 38871
                length: 66
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: field_access
                            fields:
                              text: options.devMode
                            children: []
                            pos: 38946
                            length: 15
                          right:
                            type: field_access
                            fields:
                              text: DevMode.EVERY_PASS
                            children: []
                            pos: 38965
                            length: 18
                        children: []
                        pos: 38946
                        length: 37
                    children: []
                    pos: 38945
                    length: 39
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: phaseOptimizer.setSanityCheck(sanityCheck);
                    children: []
                    pos: 38993
                    length: 43
                  pos: 38985
                  length: 57
                pos: 38942
                length: 100
              - type: expression_statement
                fields:
                  text: phaseOptimizer.consume(getPassConfig().getOptimizations());
                children: []
                pos: 39047
                length: 59
              - type: expression_statement
                fields:
                  text: phaseOptimizer.process(externsRoot, jsRoot);
                children: []
                pos: 39111
                length: 44
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: hasErrors()
                        children: []
                        pos: 39164
                        length: 11
                    children: []
                    pos: 39163
                    length: 13
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return;
                    children: []
                    pos: 39185
                    length: 7
                  pos: 39177
                  length: 21
                pos: 39160
                length: 38
              pos: 38865
              length: 337
          children: []
          pos: 38842
          length: 360
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setCssRenamingMap
              children: []
              pos: 39223
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: CssRenamingMap map
                children: []
                pos: 39241
                length: 18
              pos: 39206
              length: 94
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: options.cssRenamingMap = map;
                children: []
                pos: 39267
                length: 29
              pos: 39261
              length: 39
          children: []
          pos: 39206
          length: 94
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getCssRenamingMap
              children: []
              pos: 39331
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 39304
              length: 87
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return options.cssRenamingMap;
                children: []
                pos: 39357
                length: 30
              pos: 39351
              length: 40
          children: []
          pos: 39304
          length: 87
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: processDefines
              children: []
              pos: 39756
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 39744
              length: 138
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: |-
                    (new DefaultPassConfig(options)).processDefines.create(this)
                            .process(externsRoot, jsRoot);
                children: []
                pos: 39779
                length: 99
              pos: 39773
              length: 109
          children: []
          pos: 39744
          length: 138
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isInliningForbidden
              children: []
              pos: 39894
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 39886
              length: 203
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return options.propertyRenaming == PropertyRenamingPolicy.HEURISTIC ||
                            options.propertyRenaming ==
                                PropertyRenamingPolicy.AGGRESSIVE_HEURISTIC;
                children: []
                pos: 39922
                length: 163
              pos: 39916
              length: 173
          children: []
          pos: 39886
          length: 203
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: computeCFG
              children: []
              pos: 40148
              length: 10
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 40125
              length: 283
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: logger.info("Computing Control Flow Graph");
                children: []
                pos: 40167
                length: 44
              - type: local_variable_declaration
                fields:
                  text: Tracer tracer = newTracer("computeCFG");
                children: []
                pos: 40216
                length: 40
              - type: local_variable_declaration
                fields:
                  text: ControlFlowAnalysis cfa = new ControlFlowAnalysis(this, true);
                children: []
                pos: 40261
                length: 62
              - type: expression_statement
                fields:
                  text: process(cfa);
                children: []
                pos: 40328
                length: 13
              - type: expression_statement
                fields:
                  text: stopTracer(tracer, "computeCFG");
                children: []
                pos: 40346
                length: 33
              - type: return_statement
                fields:
                  text: return cfa.getCfg();
                children: []
                pos: 40384
                length: 20
              pos: 40161
              length: 247
          children: []
          pos: 40125
          length: 283
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: normalize
              children: []
              pos: 40424
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 40412
              length: 166
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: logger.info("Normalizing");
                children: []
                pos: 40442
                length: 27
              - type: expression_statement
                fields:
                  text: startPass("normalize");
                children: []
                pos: 40474
                length: 23
              - type: expression_statement
                fields:
                  text: process(new Normalize(this, false));
                children: []
                pos: 40502
                length: 36
              - type: expression_statement
                fields:
                  text: setNormalized();
                children: []
                pos: 40543
                length: 16
              - type: expression_statement
                fields:
                  text: endPass();
                children: []
                pos: 40564
                length: 10
              pos: 40436
              length: 142
          children: []
          pos: 40412
          length: 166
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: prepareAst
              children: []
              pos: 40599
              length: 10
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Node root
                children: []
                pos: 40610
                length: 9
              pos: 40582
              length: 203
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: Tracer tracer = newTracer("prepareAst");
                children: []
                pos: 40627
                length: 40
              - type: local_variable_declaration
                fields:
                  text: CompilerPass pass = new PrepareAst(this);
                children: []
                pos: 40672
                length: 41
              - type: expression_statement
                fields:
                  text: pass.process(null, root);
                children: []
                pos: 40718
                length: 25
              - type: expression_statement
                fields:
                  text: stopTracer(tracer, "prepareAst");
                children: []
                pos: 40748
                length: 33
              pos: 40621
              length: 164
          children: []
          pos: 40582
          length: 203
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: recordFunctionInformation
              children: []
              pos: 40794
              length: 25
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 40789
              length: 414
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: logger.info("Recording function information");
                children: []
                pos: 40828
                length: 46
              - type: expression_statement
                fields:
                  text: startPass("recordFunctionInformation");
                children: []
                pos: 40879
                length: 39
              - type: local_variable_declaration
                fields:
                  text: |-
                    RecordFunctionInformation recordFunctionInfoPass =
                            new RecordFunctionInformation(
                                this, getPassConfig().getIntermediateState().functionNames);
                children: []
                pos: 40923
                length: 162
              - type: expression_statement
                fields:
                  text: process(recordFunctionInfoPass);
                children: []
                pos: 41090
                length: 32
              - type: expression_statement
                fields:
                  text: functionInformationMap = recordFunctionInfoPass.getMap();
                children: []
                pos: 41127
                length: 57
              - type: expression_statement
                fields:
                  text: endPass();
                children: []
                pos: 41189
                length: 10
              pos: 40822
              length: 381
          children: []
          pos: 40789
          length: 414
        - type: field_declaration
          fields:
            text: |-
              protected final CodeChangeHandler.RecentChange recentChange =
                    new CodeChangeHandler.RecentChange();
          children: []
          pos: 41207
          length: 105
        - type: field_declaration
          fields:
            text: |-
              private final List<CodeChangeHandler> codeChangeHandlers =
                    Lists.<CodeChangeHandler>newArrayList();
          children: []
          pos: 41315
          length: 105
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: addChangeHandler
              children: []
              pos: 41441
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: CodeChangeHandler handler
                children: []
                pos: 41458
                length: 25
              pos: 41424
              length: 103
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: codeChangeHandlers.add(handler);
                children: []
                pos: 41491
                length: 32
              pos: 41485
              length: 42
          children: []
          pos: 41424
          length: 103
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: removeChangeHandler
              children: []
              pos: 41548
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: CodeChangeHandler handler
                children: []
                pos: 41568
                length: 25
              pos: 41531
              length: 109
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: codeChangeHandlers.remove(handler);
                children: []
                pos: 41601
                length: 35
              pos: 41595
              length: 45
          children: []
          pos: 41531
          length: 109
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: reportCodeChange
              children: []
              pos: 41859
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 41835
              length: 143
            body:
              type: block
              fields: {}
              children:
              - type: enhanced_for_statement
                fields:
                  text: |-
                    for (CodeChangeHandler handler : codeChangeHandlers) {
                          handler.reportChange();
                        }
                children: []
                pos: 41884
                length: 90
              pos: 41878
              length: 100
          children: []
          pos: 41835
          length: 143
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getCodingConvention
              children: []
              pos: 42018
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 41982
              length: 227
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: CodingConvention convention = options.getCodingConvention();
                children: []
                pos: 42046
                length: 60
              - type: expression_statement
                fields:
                  text: 'convention = convention != null ? convention : defaultCodingConvention;'
                children: []
                pos: 42111
                length: 71
              - type: return_statement
                fields:
                  text: return convention;
                children: []
                pos: 42187
                length: 18
              pos: 42040
              length: 169
          children: []
          pos: 41982
          length: 227
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isIdeMode
              children: []
              pos: 42240
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 42213
              length: 72
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return options.ideMode;
                children: []
                pos: 42258
                length: 23
              pos: 42252
              length: 33
          children: []
          pos: 42213
          length: 72
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getParserConfig
              children: []
              pos: 42308
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 42289
              length: 196
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: parserConfig
                            children: []
                            pos: 42336
                            length: 12
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 42352
                            length: 4
                        children: []
                        pos: 42336
                        length: 20
                    children: []
                    pos: 42335
                    length: 22
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: |-
                        parserConfig = ParserRunner.createConfig(
                                  getTypeRegistry(), isIdeMode());
                    children: []
                    pos: 42366
                    length: 84
                  pos: 42358
                  length: 98
                pos: 42332
                length: 124
              - type: return_statement
                fields:
                  text: return parserConfig;
                children: []
                pos: 42461
                length: 20
              pos: 42326
              length: 159
          children: []
          pos: 42289
          length: 196
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isTypeCheckingEnabled
              children: []
              pos: 42516
              length: 21
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 42489
              length: 87
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return options.checkTypes;
                children: []
                pos: 42546
                length: 26
              pos: 42540
              length: 36
          children: []
          pos: 42489
          length: 87
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: report
              children: []
              pos: 42781
              length: 6
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSError error
                children: []
                pos: 42788
                length: 13
              pos: 42757
              length: 356
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: CheckLevel level = error.level;
                children: []
                pos: 42809
                length: 31
              - type: local_variable_declaration
                fields:
                  text: WarningsGuard guard = options.getWarningsGuard();
                children: []
                pos: 42845
                length: 49
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: guard
                            children: []
                            pos: 42903
                            length: 5
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 42912
                            length: 4
                        children: []
                        pos: 42903
                        length: 13
                    children: []
                    pos: 42902
                    length: 15
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: CheckLevel newLevel = guard.level(error);
                    children: []
                    pos: 42926
                    length: 41
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: not_equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: newLevel
                                children: []
                                pos: 42978
                                length: 8
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 42990
                                length: 4
                            children: []
                            pos: 42978
                            length: 16
                        children: []
                        pos: 42977
                        length: 18
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: level = newLevel;
                        children: []
                        pos: 43006
                        length: 17
                      pos: 42996
                      length: 35
                    pos: 42974
                    length: 57
                  pos: 42918
                  length: 119
                pos: 42899
                length: 138
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: level.isOn()
                        children: []
                        pos: 43047
                        length: 12
                    children: []
                    pos: 43046
                    length: 14
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: errorManager.report(level, error);
                    children: []
                    pos: 43069
                    length: 34
                  pos: 43061
                  length: 48
                pos: 43043
                length: 66
              pos: 42803
              length: 310
          children: []
          pos: 42757
          length: 356
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: throwInternalError
              children: []
              pos: 43177
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String message
                children: []
                pos: 43196
                length: 14
              pos: 43160
              length: 345
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: |-
                    String finalMessage =
                          "INTERNAL COMPILER ERROR.\n" +
                          "Please report this problem.\n" + message;
                children: []
                pos: 43235
                length: 107
              - type: local_variable_declaration
                fields:
                  text: RuntimeException e = new RuntimeException(finalMessage, cause);
                children: []
                pos: 43348
                length: 63
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: cause
                            children: []
                            pos: 43420
                            length: 5
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 43429
                            length: 4
                        children: []
                        pos: 43420
                        length: 13
                    children: []
                    pos: 43419
                    length: 15
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: e.setStackTrace(cause.getStackTrace());
                    children: []
                    pos: 43443
                    length: 39
                  pos: 43435
                  length: 53
                pos: 43416
                length: 72
              - type: throw_statement
                fields:
                  text: throw e;
                children: []
                pos: 43493
                length: 8
              pos: 43229
              length: 276
          children: []
          pos: 43160
          length: 345
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getErrorCount
              children: []
              pos: 43565
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 43554
              length: 73
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return errorManager.getErrorCount();
                children: []
                pos: 43587
                length: 36
              pos: 43581
              length: 46
          children: []
          pos: 43554
          length: 73
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getWarningCount
              children: []
              pos: 43688
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 43677
              length: 77
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return errorManager.getWarningCount();
                children: []
                pos: 43712
                length: 38
              pos: 43706
              length: 48
          children: []
          pos: 43677
          length: 77
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: hasHaltingErrors
              children: []
              pos: 43778
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 43758
              length: 92
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return !isIdeMode() && getErrorCount() > 0;
                children: []
                pos: 43803
                length: 43
              pos: 43797
              length: 53
          children: []
          pos: 43758
          length: 92
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: hasErrors
              children: []
              pos: 44287
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 44272
              length: 63
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return hasHaltingErrors();
                children: []
                pos: 44305
                length: 26
              pos: 44299
              length: 36
          children: []
          pos: 44272
          length: 63
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: addToDebugLog
              children: []
              pos: 44414
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String str
                children: []
                pos: 44428
                length: 10
              pos: 44397
              length: 123
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: debugLog.append(str);
                children: []
                pos: 44446
                length: 21
              - type: expression_statement
                fields:
                  text: debugLog.append('\n');
                children: []
                pos: 44472
                length: 22
              - type: expression_statement
                fields:
                  text: logger.fine(str);
                children: []
                pos: 44499
                length: 17
              pos: 44440
              length: 80
          children: []
          pos: 44397
          length: 123
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getSourceFileByName
              children: []
              pos: 44543
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String sourceName
                children: []
                pos: 44563
                length: 17
              pos: 44524
              length: 193
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: inputsByName.containsKey(sourceName)
                        children: []
                        pos: 44592
                        length: 36
                    children: []
                    pos: 44591
                    length: 38
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return inputsByName.get(sourceName).getSourceFile();
                    children: []
                    pos: 44638
                    length: 52
                  pos: 44630
                  length: 66
                pos: 44588
                length: 108
              - type: return_statement
                fields:
                  text: return null;
                children: []
                pos: 44701
                length: 12
              pos: 44582
              length: 135
          children: []
          pos: 44524
          length: 193
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getSourceLine
              children: []
              pos: 44735
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String sourceName
                children: []
                pos: 44749
                length: 17
              pos: 44721
              length: 263
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: less_than
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: lineNumber
                            children: []
                            pos: 44794
                            length: 10
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '1'
                            children: []
                            pos: 44807
                            length: 1
                        children: []
                        pos: 44794
                        length: 14
                    children: []
                    pos: 44793
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return null;
                    children: []
                    pos: 44818
                    length: 12
                  pos: 44810
                  length: 26
                pos: 44790
                length: 46
              - type: local_variable_declaration
                fields:
                  text: SourceFile input = getSourceFileByName(sourceName);
                children: []
                pos: 44841
                length: 51
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: input
                            children: []
                            pos: 44901
                            length: 5
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 44910
                            length: 4
                        children: []
                        pos: 44901
                        length: 13
                    children: []
                    pos: 44900
                    length: 15
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return input.getLine(lineNumber);
                    children: []
                    pos: 44924
                    length: 33
                  pos: 44916
                  length: 47
                pos: 44897
                length: 66
              - type: return_statement
                fields:
                  text: return null;
                children: []
                pos: 44968
                length: 12
              pos: 44784
              length: 200
          children: []
          pos: 44721
          length: 263
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getSourceRegion
              children: []
              pos: 45002
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String sourceName
                children: []
                pos: 45018
                length: 17
              pos: 44988
              length: 267
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: less_than
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: lineNumber
                            children: []
                            pos: 45063
                            length: 10
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '1'
                            children: []
                            pos: 45076
                            length: 1
                        children: []
                        pos: 45063
                        length: 14
                    children: []
                    pos: 45062
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return null;
                    children: []
                    pos: 45087
                    length: 12
                  pos: 45079
                  length: 26
                pos: 45059
                length: 46
              - type: local_variable_declaration
                fields:
                  text: SourceFile input = getSourceFileByName(sourceName);
                children: []
                pos: 45110
                length: 51
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: input
                            children: []
                            pos: 45170
                            length: 5
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 45179
                            length: 4
                        children: []
                        pos: 45170
                        length: 13
                    children: []
                    pos: 45169
                    length: 15
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return input.getRegion(lineNumber);
                    children: []
                    pos: 45193
                    length: 35
                  pos: 45185
                  length: 49
                pos: 45166
                length: 68
              - type: return_statement
                fields:
                  text: return null;
                children: []
                pos: 45239
                length: 12
              pos: 45053
              length: 202
          children: []
          pos: 44988
          length: 267
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getNodeForCodeInsertion
              children: []
              pos: 45460
              length: 23
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSModule module
                children: []
                pos: 45484
                length: 15
              pos: 45443
              length: 431
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: module
                            children: []
                            pos: 45511
                            length: 6
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 45521
                            length: 4
                        children: []
                        pos: 45511
                        length: 14
                    children: []
                    pos: 45510
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: equals
                            fields:
                              left:
                                type: field_access
                                fields:
                                  text: inputs.length
                                children: []
                                pos: 45539
                                length: 13
                              right:
                                type: decimal_integer_literal
                                fields:
                                  text: '0'
                                children: []
                                pos: 45556
                                length: 1
                            children: []
                            pos: 45539
                            length: 18
                        children: []
                        pos: 45538
                        length: 20
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: throw_statement
                        fields:
                          text: throw new IllegalStateException("No inputs");
                        children: []
                        pos: 45569
                        length: 45
                      pos: 45559
                      length: 63
                    pos: 45535
                    length: 87
                  - type: return_statement
                    fields:
                      text: return inputs[0].getAstRoot(this);
                    children: []
                    pos: 45630
                    length: 34
                  pos: 45527
                  length: 143
                pos: 45507
                length: 163
              - type: local_variable_declaration
                fields:
                  text: List<CompilerInput> inputs = module.getInputs();
                children: []
                pos: 45676
                length: 48
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: greater_than
                        fields:
                          left:
                            type: method_invocation
                            fields:
                              text: inputs.size()
                            children: []
                            pos: 45733
                            length: 13
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '0'
                            children: []
                            pos: 45749
                            length: 1
                        children: []
                        pos: 45733
                        length: 17
                    children: []
                    pos: 45732
                    length: 19
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return inputs.get(0).getAstRoot(this);
                    children: []
                    pos: 45760
                    length: 38
                  pos: 45752
                  length: 52
                pos: 45729
                length: 75
              - type: throw_statement
                fields:
                  text: throw new IllegalStateException("Root module has no inputs");
                children: []
                pos: 45809
                length: 61
              pos: 45501
              length: 373
          children: []
          pos: 45443
          length: 431
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getSourceMap
              children: []
              pos: 45895
              length: 12
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 45878
              length: 59
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return sourceMap;
                children: []
                pos: 45916
                length: 17
              pos: 45910
              length: 27
          children: []
          pos: 45878
          length: 59
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getVariableMap
              children: []
              pos: 45953
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 45941
              length: 97
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getPassConfig().getIntermediateState().variableMap;
                children: []
                pos: 45976
                length: 58
              pos: 45970
              length: 68
          children: []
          pos: 45941
          length: 97
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getPropertyMap
              children: []
              pos: 46054
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 46042
              length: 97
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getPassConfig().getIntermediateState().propertyMap;
                children: []
                pos: 46077
                length: 58
              pos: 46071
              length: 68
          children: []
          pos: 46042
          length: 97
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getOptions
              children: []
              pos: 46159
              length: 10
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 46143
              length: 54
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return options;
                children: []
                pos: 46178
                length: 15
              pos: 46172
              length: 25
          children: []
          pos: 46143
          length: 54
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getFunctionalInformationMap
              children: []
              pos: 46224
              length: 27
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 46201
              length: 93
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return functionInformationMap;
                children: []
                pos: 46260
                length: 30
              pos: 46254
              length: 40
          children: []
          pos: 46201
          length: 93
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setLoggingLevel
              children: []
              pos: 46403
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Level level
                children: []
                pos: 46419
                length: 11
              pos: 46384
              length: 81
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: logger.setLevel(level);
                children: []
                pos: 46438
                length: 23
              pos: 46432
              length: 33
          children: []
          pos: 46384
          length: 81
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getAstDotGraph
              children: []
              pos: 46559
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 46545
              length: 274
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: jsRoot
                            children: []
                            pos: 46605
                            length: 6
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 46615
                            length: 4
                        children: []
                        pos: 46605
                        length: 14
                    children: []
                    pos: 46604
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: ControlFlowAnalysis cfa = new ControlFlowAnalysis(this,
                        true);
                    children: []
                    pos: 46629
                    length: 62
                  - type: expression_statement
                    fields:
                      text: cfa.process(null, jsRoot);
                    children: []
                    pos: 46698
                    length: 26
                  - type: return_statement
                    fields:
                      text: return DotFormatter.toDot(jsRoot, cfa.getCfg());
                    children: []
                    pos: 46731
                    length: 48
                  pos: 46621
                  length: 164
                pos: 46601
                length: 214
              pos: 46595
              length: 224
          children: []
          pos: 46545
          length: 274
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getErrorManager
              children: []
              pos: 46855
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 46823
              length: 155
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: options
                            children: []
                            pos: 46883
                            length: 7
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 46894
                            length: 4
                        children: []
                        pos: 46883
                        length: 15
                    children: []
                    pos: 46882
                    length: 17
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: initOptions(new CompilerOptions());
                    children: []
                    pos: 46908
                    length: 35
                  pos: 46900
                  length: 49
                pos: 46879
                length: 70
              - type: return_statement
                fields:
                  text: return errorManager;
                children: []
                pos: 46954
                length: 20
              pos: 46873
              length: 105
          children: []
          pos: 46823
          length: 155
        - type: class_declaration
          fields:
            name:
              type: identifier
              fields:
                text: IntermediateState
              children: []
              pos: 47600
              length: 17
            body:
              type: class_body
              fields: {}
              children:
              - type: field_declaration
                fields:
                  text: private static final long serialVersionUID = 1L;
                children: []
                pos: 47648
                length: 48
              - type: field_declaration
                fields:
                  text: Node externsRoot;
                children: []
                pos: 47702
                length: 17
              - type: field_declaration
                fields:
                  text: private Node jsRoot;
                children: []
                pos: 47724
                length: 20
              - type: field_declaration
                fields:
                  text: private CompilerInput[] externs;
                children: []
                pos: 47749
                length: 32
              - type: field_declaration
                fields:
                  text: private CompilerInput[] inputs;
                children: []
                pos: 47786
                length: 31
              - type: field_declaration
                fields:
                  text: private JSModule[] modules;
                children: []
                pos: 47822
                length: 27
              - type: field_declaration
                fields:
                  text: private PassConfig.State passConfigState;
                children: []
                pos: 47854
                length: 41
              - type: field_declaration
                fields:
                  text: private JSTypeRegistry typeRegistry;
                children: []
                pos: 47900
                length: 36
              - type: field_declaration
                fields:
                  text: private boolean normalized;
                children: []
                pos: 47941
                length: 27
              - type: constructor_declaration
                fields:
                  text: private IntermediateState() {}
                children: []
                pos: 47974
                length: 30
              pos: 47580
              length: 428
          children: []
          pos: 47580
          length: 428
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getState
              children: []
              pos: 48129
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 48104
              length: 406
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: IntermediateState state = new IntermediateState();
                children: []
                pos: 48146
                length: 50
              - type: expression_statement
                fields:
                  text: state.externsRoot = externsRoot;
                children: []
                pos: 48201
                length: 32
              - type: expression_statement
                fields:
                  text: state.jsRoot = jsRoot;
                children: []
                pos: 48238
                length: 22
              - type: expression_statement
                fields:
                  text: state.externs = externs;
                children: []
                pos: 48265
                length: 24
              - type: expression_statement
                fields:
                  text: state.inputs = inputs;
                children: []
                pos: 48294
                length: 22
              - type: expression_statement
                fields:
                  text: state.modules = modules;
                children: []
                pos: 48321
                length: 24
              - type: expression_statement
                fields:
                  text: state.passConfigState = getPassConfig().getIntermediateState();
                children: []
                pos: 48350
                length: 63
              - type: expression_statement
                fields:
                  text: state.typeRegistry = typeRegistry;
                children: []
                pos: 48418
                length: 34
              - type: expression_statement
                fields:
                  text: state.normalized = normalized;
                children: []
                pos: 48457
                length: 30
              - type: return_statement
                fields:
                  text: return state;
                children: []
                pos: 48493
                length: 13
              pos: 48140
              length: 370
          children: []
          pos: 48104
          length: 406
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setState
              children: []
              pos: 48659
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: IntermediateState state
                children: []
                pos: 48668
                length: 23
              pos: 48647
              length: 380
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: externsRoot = state.externsRoot;
                children: []
                pos: 48699
                length: 32
              - type: expression_statement
                fields:
                  text: jsRoot = state.jsRoot;
                children: []
                pos: 48736
                length: 22
              - type: expression_statement
                fields:
                  text: externs = state.externs;
                children: []
                pos: 48763
                length: 24
              - type: expression_statement
                fields:
                  text: inputs = state.inputs;
                children: []
                pos: 48792
                length: 22
              - type: expression_statement
                fields:
                  text: modules = state.modules;
                children: []
                pos: 48819
                length: 24
              - type: expression_statement
                fields:
                  text: passes = createPassConfigInternal();
                children: []
                pos: 48848
                length: 36
              - type: expression_statement
                fields:
                  text: getPassConfig().setIntermediateState(state.passConfigState);
                children: []
                pos: 48889
                length: 60
              - type: expression_statement
                fields:
                  text: typeRegistry = state.typeRegistry;
                children: []
                pos: 48954
                length: 34
              - type: expression_statement
                fields:
                  text: normalized = state.normalized;
                children: []
                pos: 48993
                length: 30
              pos: 48693
              length: 334
          children: []
          pos: 48647
          length: 380
        pos: 2105
        length: 46924
    children: []
    pos: 2105
    length: 46924
  pos: 0
  length: 49030
after_tree:
  type: program
  fields: {}
  children:
  - type: class_declaration
    fields:
      name:
        type: identifier
        fields:
          text: Compiler
        children: []
        pos: 2118
        length: 8
      body:
        type: class_body
        fields: {}
        children:
        - type: field_declaration
          fields:
            text: CompilerOptions options = null;
          children: []
          pos: 2156
          length: 31
        - type: field_declaration
          fields:
            text: private PassConfig passes = null;
          children: []
          pos: 2191
          length: 33
        - type: field_declaration
          fields:
            text: private CompilerInput[] externs;
          children: []
          pos: 2252
          length: 32
        - type: field_declaration
          fields:
            text: private JSModule[] modules;
          children: []
          pos: 2315
          length: 27
        - type: field_declaration
          fields:
            text: private JSModuleGraph moduleGraph;
          children: []
          pos: 2386
          length: 34
        - type: field_declaration
          fields:
            text: private CompilerInput[] inputs;
          children: []
          pos: 2450
          length: 31
        - type: field_declaration
          fields:
            text: private ErrorManager errorManager;
          children: []
          pos: 2543
          length: 34
        - type: field_declaration
          fields:
            text: private SymbolTable symbolTable = null;
          children: []
          pos: 2610
          length: 39
        - type: field_declaration
          fields:
            text: Node externsRoot;
          children: []
          pos: 2680
          length: 17
        - type: field_declaration
          fields:
            text: Node jsRoot;
          children: []
          pos: 2700
          length: 12
        - type: field_declaration
          fields:
            text: Node externAndJsRoot;
          children: []
          pos: 2715
          length: 21
        - type: field_declaration
          fields:
            text: private Map<String, CompilerInput> inputsByName;
          children: []
          pos: 2740
          length: 48
        - type: field_declaration
          fields:
            text: private SourceMap sourceMap;
          children: []
          pos: 2821
          length: 28
        - type: field_declaration
          fields:
            text: private String externExports = null;
          children: []
          pos: 2901
          length: 36
        - type: field_declaration
          fields:
            text: private int uniqueNameId = 0;
          children: []
          pos: 3032
          length: 29
        - type: field_declaration
          fields:
            text: private boolean normalized = false;
          children: []
          pos: 3218
          length: 35
        - type: field_declaration
          fields:
            text: private boolean useThreads = true;
          children: []
          pos: 3290
          length: 34
        - type: field_declaration
          fields:
            text: private FunctionInformationMap functionInformationMap;
          children: []
          pos: 3366
          length: 54
        - type: field_declaration
          fields:
            text: private final StringBuilder debugLog = new StringBuilder();
          children: []
          pos: 3455
          length: 59
        - type: field_declaration
          fields:
            text: CodingConvention defaultCodingConvention = new GoogleCodingConvention();
          children: []
          pos: 3571
          length: 72
        - type: field_declaration
          fields:
            text: private JSTypeRegistry typeRegistry;
          children: []
          pos: 3647
          length: 36
        - type: field_declaration
          fields:
            text: private Config parserConfig = null;
          children: []
          pos: 3686
          length: 35
        - type: field_declaration
          fields:
            text: private ReverseAbstractInterpreter abstractInterpreter;
          children: []
          pos: 3725
          length: 55
        - type: field_declaration
          fields:
            text: private final TypeValidator typeValidator;
          children: []
          pos: 3783
          length: 42
        - type: field_declaration
          fields:
            text: public PerformanceTracker tracker;
          children: []
          pos: 3829
          length: 34
        - type: field_declaration
          fields:
            text: |-
              private final com.google.javascript.rhino.ErrorReporter oldErrorReporter =
                    RhinoErrorReporter.forOldRhino(this);
          children: []
          pos: 3946
          length: 118
        - type: field_declaration
          fields:
            text: |-
              private final ErrorReporter defaultErrorReporter =
                    RhinoErrorReporter.forNewRhino(this);
          children: []
          pos: 4142
          length: 94
        - type: field_declaration
          fields:
            text: |-
              public static final DiagnosticType OPTIMIZE_LOOP_ERROR = DiagnosticType.error(
                    "JSC_OPTIMIZE_LOOP_ERROR",
                    "Exceeded max number of optimization iterations: {0}");
          children: []
          pos: 4291
          length: 173
        - type: field_declaration
          fields:
            text: |-
              public static final DiagnosticType MOTION_ITERATIONS_ERROR =
                    DiagnosticType.error("JSC_OPTIMIZE_LOOP_ERROR",
                        "Exceeded max number of code motion iterations: {0}");
          children: []
          pos: 4467
          length: 179
        - type: field_declaration
          fields:
            text: private static final long COMPILER_STACK_SIZE = 1048576L;
          children: []
          pos: 4650
          length: 57
        - type: field_declaration
          fields:
            text: |-
              private static final Logger logger =
                    Logger.getLogger("com.google.javascript.jscomp");
          children: []
          pos: 4895
          length: 92
        - type: field_declaration
          fields:
            text: private final PrintStream outStream;
          children: []
          pos: 4991
          length: 36
        - type: constructor_declaration
          fields:
            text: |-
              public Compiler() {
                  this((PrintStream) null);
                }
          children: []
          pos: 5115
          length: 53
        - type: constructor_declaration
          fields:
            text: |-
              public Compiler(PrintStream stream) {
                  addChangeHandler(recentChange);
                  this.typeValidator = new TypeValidator(this);
                  outStream = stream;
                }
          children: []
          pos: 5267
          length: 151
        - type: constructor_declaration
          fields:
            text: |-
              public Compiler(ErrorManager errorManager) {
                  this();
                  setErrorManager(errorManager);
                }
          children: []
          pos: 5492
          length: 95
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: acquireSymbolTable
              children: []
              pos: 5659
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 5635
              length: 181
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: symbolTable
                            children: []
                            pos: 5690
                            length: 11
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 5705
                            length: 4
                        children: []
                        pos: 5690
                        length: 19
                    children: []
                    pos: 5689
                    length: 21
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: symbolTable = new SymbolTable(this);
                    children: []
                    pos: 5719
                    length: 36
                  pos: 5711
                  length: 50
                pos: 5686
                length: 75
              - type: expression_statement
                fields:
                  text: symbolTable.acquire();
                children: []
                pos: 5766
                length: 22
              - type: return_statement
                fields:
                  text: return symbolTable;
                children: []
                pos: 5793
                length: 19
              pos: 5680
              length: 136
          children: []
          pos: 5635
          length: 181
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setErrorManager
              children: []
              pos: 5948
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: ErrorManager errorManager
                children: []
                pos: 5964
                length: 25
              pos: 5936
              length: 189
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: |-
                    Preconditions.checkNotNull(
                            errorManager, "the error manager cannot be null");
                children: []
                pos: 5997
                length: 86
              - type: expression_statement
                fields:
                  text: this.errorManager = errorManager;
                children: []
                pos: 6088
                length: 33
              pos: 5991
              length: 134
          children: []
          pos: 5936
          length: 189
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: createMessageFormatter
              children: []
              pos: 6268
              length: 22
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 6243
              length: 175
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: boolean colorize = options.shouldColorizeErrorOutput();
                children: []
                pos: 6299
                length: 55
              - type: return_statement
                fields:
                  text: return options.errorFormat.toFormatter(this, colorize);
                children: []
                pos: 6359
                length: 55
              pos: 6293
              length: 125
          children: []
          pos: 6243
          length: 175
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: initOptions
              children: []
              pos: 6548
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: CompilerOptions options
                children: []
                pos: 6560
                length: 23
              pos: 6536
              length: 491
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: this.options = options;
                children: []
                pos: 6591
                length: 23
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: errorManager
                            children: []
                            pos: 6623
                            length: 12
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 6639
                            length: 4
                        children: []
                        pos: 6623
                        length: 20
                    children: []
                    pos: 6622
                    length: 22
                children:
                - type: block
                  fields: {}
                  children:
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: outStream
                                children: []
                                pos: 6657
                                length: 9
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 6670
                                length: 4
                            children: []
                            pos: 6657
                            length: 17
                        children: []
                        pos: 6656
                        length: 19
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: |-
                            setErrorManager(
                                        new LoggerErrorManager(createMessageFormatter(), logger));
                        children: []
                        pos: 6686
                        length: 87
                      pos: 6676
                      length: 105
                    pos: 6653
                    length: 364
                  pos: 6645
                  length: 378
                pos: 6619
                length: 404
              pos: 6585
              length: 442
          children: []
          pos: 6536
          length: 491
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: init
              children: []
              pos: 7117
              length: 4
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSSourceFile[] externs
                children: []
                pos: 7122
                length: 22
              pos: 7105
              length: 344
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: initOptions(options);
                children: []
                pos: 7206
                length: 21
              - type: expression_statement
                fields:
                  text: this.externs = makeCompilerInput(externs, true);
                children: []
                pos: 7237
                length: 48
              - type: expression_statement
                fields:
                  text: this.modules = null;
                children: []
                pos: 7290
                length: 20
              - type: expression_statement
                fields:
                  text: this.moduleGraph = null;
                children: []
                pos: 7315
                length: 24
              - type: expression_statement
                fields:
                  text: this.inputs = makeCompilerInput(inputs, false);
                children: []
                pos: 7344
                length: 47
              - type: expression_statement
                fields:
                  text: initBasedOnOptions();
                children: []
                pos: 7396
                length: 21
              - type: expression_statement
                fields:
                  text: initInputsByNameMap();
                children: []
                pos: 7423
                length: 22
              pos: 7200
              length: 249
          children: []
          pos: 7105
          length: 344
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType MODULE_DEPENDENCY_ERROR =
                    DiagnosticType.error("JSC_MODULE_DEPENDENCY_ERROR",
                        "Bad dependency: {0} -> {1}. "
                            + "Modules must be listed in dependency order.");
          children: []
          pos: 7453
          length: 216
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: init
              children: []
              pos: 7759
              length: 4
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSSourceFile[] externs
                children: []
                pos: 7764
                length: 22
              pos: 7747
              length: 805
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: initOptions(options);
                children: []
                pos: 7845
                length: 21
              - type: expression_statement
                fields:
                  text: checkFirstModule(modules);
                children: []
                pos: 7872
                length: 26
              - type: expression_statement
                fields:
                  text: this.externs = makeCompilerInput(externs, true);
                children: []
                pos: 7904
                length: 48
              - type: expression_statement
                fields:
                  text: this.modules = modules;
                children: []
                pos: 7957
                length: 23
              - type: try_statement
                fields:
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: expression_statement
                      fields:
                        text: this.moduleGraph = new JSModuleGraph(modules);
                      children: []
                      pos: 8099
                      length: 46
                    pos: 8091
                    length: 60
                  excepts:
                    type: excepts
                    fields: {}
                    children:
                    - type: catch_clause
                      fields:
                        text: |-
                          catch (JSModuleGraph.ModuleDependenceException e) {
                                // problems with the module format.  Report as an error.  The
                                // message gives all details.
                                report(JSError.make(MODULE_DEPENDENCY_ERROR,
                                    e.getModule().getName(), e.getDependentModule().getName()));
                                return;
                              }
                      children: []
                      pos: 8152
                      length: 297
                    pos: 8087
                    length: 362
                children: []
                pos: 8087
                length: 362
              - type: expression_statement
                fields:
                  text: this.inputs = getAllInputsFromModules();
                children: []
                pos: 8454
                length: 40
              - type: expression_statement
                fields:
                  text: initBasedOnOptions();
                children: []
                pos: 8499
                length: 21
              - type: expression_statement
                fields:
                  text: initInputsByNameMap();
                children: []
                pos: 8526
                length: 22
              pos: 7839
              length: 713
          children: []
          pos: 7747
          length: 805
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: initBasedOnOptions
              children: []
              pos: 8651
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 8638
              length: 170
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: field_access
                            fields:
                              text: options.sourceMapOutputPath
                            children: []
                            pos: 8725
                            length: 27
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 8756
                            length: 4
                        children: []
                        pos: 8725
                        length: 35
                    children: []
                    pos: 8724
                    length: 37
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: sourceMap = new SourceMap();
                    children: []
                    pos: 8770
                    length: 28
                  pos: 8762
                  length: 42
                pos: 8721
                length: 83
              pos: 8672
              length: 136
          children: []
          pos: 8638
          length: 170
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: makeCompilerInput
              children: []
              pos: 8836
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSSourceFile[] files
                children: []
                pos: 8861
                length: 20
              pos: 8812
              length: 284
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: CompilerInput [] inputs = new CompilerInput[files.length];
                children: []
                pos: 8907
                length: 58
              - type: for_statement
                fields:
                  text: |-
                    for (int i = 0; i < files.length; ++i) {
                          inputs[i] = new CompilerInput(files[i], isExtern);
                        }
                children: []
                pos: 8970
                length: 103
              - type: return_statement
                fields:
                  text: return inputs;
                children: []
                pos: 9078
                length: 14
              pos: 8901
              length: 195
          children: []
          pos: 8812
          length: 284
        - type: field_declaration
          fields:
            text: |-
              private static final DiagnosticType EMPTY_MODULE_LIST_ERROR =
                    DiagnosticType.error("JSC_EMPTY_MODULE_LIST_ERROR",
                        "At least one module must be provided");
          children: []
          pos: 9100
          length: 170
        - type: field_declaration
          fields:
            text: |-
              private static final DiagnosticType EMPTY_ROOT_MODULE_ERROR =
                    DiagnosticType.error("JSC_EMPTY_ROOT_MODULE_ERROR",
                        "Root module '{0}' must contain at least one source code input");
          children: []
          pos: 9274
          length: 195
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: checkFirstModule
              children: []
              pos: 9619
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSModule[] modules
                children: []
                pos: 9636
                length: 18
              pos: 9606
              length: 281
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: field_access
                            fields:
                              text: modules.length
                            children: []
                            pos: 9666
                            length: 14
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '0'
                            children: []
                            pos: 9684
                            length: 1
                        children: []
                        pos: 9666
                        length: 19
                    children: []
                    pos: 9665
                    length: 21
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: report(JSError.make(EMPTY_MODULE_LIST_ERROR));
                    children: []
                    pos: 9695
                    length: 46
                  pos: 9687
                  length: 60
                pos: 9662
                length: 221
              pos: 9656
              length: 231
          children: []
          pos: 9606
          length: 281
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType DUPLICATE_INPUT_IN_MODULES =
                    DiagnosticType.error("JSC_DUPLICATE_INPUT_IN_MODULES_ERROR",
                        "Two modules cannot contain the same input, but module {0} and {1} "
                            + "both include \"{2}\"");
          children: []
          pos: 10008
          length: 243
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: rebuildInputsFromModules
              children: []
              pos: 10509
              length: 24
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 10497
              length: 111
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: inputs = getAllInputsFromModules();
                children: []
                pos: 10542
                length: 35
              - type: expression_statement
                fields:
                  text: initInputsByNameMap();
                children: []
                pos: 10582
                length: 22
              pos: 10536
              length: 72
          children: []
          pos: 10497
          length: 111
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getAllInputsFromModules
              children: []
              pos: 10742
              length: 23
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 10718
              length: 839
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: List<CompilerInput> inputs = new ArrayList<CompilerInput>();
                children: []
                pos: 10774
                length: 60
              - type: local_variable_declaration
                fields:
                  text: Map<String, JSModule> inputMap = new HashMap<String, JSModule>();
                children: []
                pos: 10839
                length: 65
              - type: enhanced_for_statement
                fields:
                  text: |-
                    for (JSModule module : modules) {
                          for (CompilerInput input : module.getInputs()) {
                            String inputName = input.getName();
                            JSModule firstModule = inputMap.get(inputName);
                            if (firstModule == null) {
                              inputs.add(input);
                              inputMap.put(inputName, module);
                            } else {
                              report(JSError.make(DUPLICATE_INPUT_IN_MODULES,
                                  firstModule.getName(), module.getName(), inputName));
                            }
                          }
                        }
                children: []
                pos: 10909
                length: 462
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: hasErrors()
                        children: []
                        pos: 11380
                        length: 11
                    children: []
                    pos: 11379
                    length: 13
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return new CompilerInput[0];
                    children: []
                    pos: 11457
                    length: 28
                  pos: 11393
                  length: 98
                pos: 11376
                length: 115
              - type: return_statement
                fields:
                  text: return inputs.toArray(new CompilerInput[inputs.size()]);
                children: []
                pos: 11497
                length: 56
              pos: 10768
              length: 789
          children: []
          pos: 10718
          length: 839
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType DUPLICATE_INPUT =
                    DiagnosticType.error("JSC_DUPLICATE_INPUT", "Duplicate input: {0}");
          children: []
          pos: 11561
          length: 120
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType DUPLICATE_EXTERN_INPUT =
                    DiagnosticType.error("JSC_DUPLICATE_EXTERN_INPUT",
                        "Duplicate extern input: {0}");
          children: []
          pos: 11684
          length: 151
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: initInputsByNameMap
              children: []
              pos: 11956
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 11951
              length: 585
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: inputsByName = new HashMap<String, CompilerInput>();
                children: []
                pos: 11984
                length: 52
              - type: enhanced_for_statement
                fields:
                  text: |-
                    for (CompilerInput input : externs) {
                          String name = input.getName();
                          if (!inputsByName.containsKey(name)) {
                            inputsByName.put(name, input);
                          } else {
                            report(JSError.make(DUPLICATE_EXTERN_INPUT, name));
                          }
                        }
                children: []
                pos: 12041
                length: 247
              - type: enhanced_for_statement
                fields:
                  text: |-
                    for (CompilerInput input : inputs) {
                          String name = input.getName();
                          if (!inputsByName.containsKey(name)) {
                            inputsByName.put(name, input);
                          } else {
                            report(JSError.make(DUPLICATE_INPUT, name));
                          }
                        }
                children: []
                pos: 12293
                length: 239
              pos: 11978
              length: 558
          children: []
          pos: 11951
          length: 585
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: compile
              children: []
              pos: 12554
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSSourceFile extern
                children: []
                pos: 12569
                length: 19
              pos: 12540
              length: 168
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return compile(extern, new JSSourceFile[] { input }, options);
                children: []
                pos: 12642
                length: 62
              pos: 12635
              length: 73
          children: []
          pos: 12540
          length: 168
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: compile
              children: []
              pos: 12726
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSSourceFile extern
                children: []
                pos: 12741
                length: 19
              pos: 12712
              length: 170
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return compile(new JSSourceFile[] { extern }, input, options);
                children: []
                pos: 12816
                length: 62
              pos: 12809
              length: 73
          children: []
          pos: 12712
          length: 170
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: compile
              children: []
              pos: 12900
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSSourceFile extern
                children: []
                pos: 12915
                length: 19
              pos: 12886
              length: 170
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return compile(new JSSourceFile[] { extern }, modules, options);
                children: []
                pos: 12988
                length: 64
              pos: 12981
              length: 75
          children: []
          pos: 12886
          length: 170
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: compile
              children: []
              pos: 13118
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSSourceFile[] externs
                children: []
                pos: 13126
                length: 22
              pos: 13104
              length: 526
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: Preconditions.checkState(jsRoot == null);
                children: []
                pos: 13307
                length: 41
              - type: try_statement
                fields:
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: expression_statement
                      fields:
                        text: init(externs, inputs, options);
                      children: []
                      pos: 13366
                      length: 31
                    - type: if_statement
                      fields:
                        condition:
                          type: parenthesized_expression
                          fields:
                            expression:
                              type: method_invocation
                              fields:
                                text: hasErrors()
                              children: []
                              pos: 13408
                              length: 11
                          children: []
                          pos: 13407
                          length: 13
                      children:
                      - type: block
                        fields: {}
                        children:
                        - type: return_statement
                          fields:
                            text: return getResult();
                          children: []
                          pos: 13431
                          length: 19
                        pos: 13421
                        length: 37
                      pos: 13404
                      length: 54
                    - type: return_statement
                      fields:
                        text: return compile();
                      children: []
                      pos: 13465
                      length: 17
                    pos: 13358
                    length: 130
                  excepts:
                    type: excepts
                    fields: {}
                    children: []
                    pos: 13354
                    length: 272
                children: []
                pos: 13354
                length: 272
              pos: 13246
              length: 384
          children: []
          pos: 13104
          length: 526
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: compile
              children: []
              pos: 13693
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSSourceFile[] externs
                children: []
                pos: 13701
                length: 22
              pos: 13679
              length: 523
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: Preconditions.checkState(jsRoot == null);
                children: []
                pos: 13878
                length: 41
              - type: try_statement
                fields:
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: expression_statement
                      fields:
                        text: init(externs, modules, options);
                      children: []
                      pos: 13937
                      length: 32
                    - type: if_statement
                      fields:
                        condition:
                          type: parenthesized_expression
                          fields:
                            expression:
                              type: method_invocation
                              fields:
                                text: hasErrors()
                              children: []
                              pos: 13980
                              length: 11
                          children: []
                          pos: 13979
                          length: 13
                      children:
                      - type: block
                        fields: {}
                        children:
                        - type: return_statement
                          fields:
                            text: return getResult();
                          children: []
                          pos: 14003
                          length: 19
                        pos: 13993
                        length: 37
                      pos: 13976
                      length: 54
                    - type: return_statement
                      fields:
                        text: return compile();
                      children: []
                      pos: 14037
                      length: 17
                    pos: 13929
                    length: 131
                  excepts:
                    type: excepts
                    fields: {}
                    children: []
                    pos: 13925
                    length: 273
                children: []
                pos: 13925
                length: 273
              pos: 13818
              length: 384
          children: []
          pos: 13679
          length: 523
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: compile
              children: []
              pos: 14221
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 14206
              length: 203
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return runInCompilerThread(new Callable<Result>() {
                          public Result call() throws Exception {
                            compileInternal();
                            return getResult();
                          }
                        });
                children: []
                pos: 14237
                length: 168
              pos: 14231
              length: 178
          children: []
          pos: 14206
          length: 203
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: disableThreads
              children: []
              pos: 14530
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 14518
              length: 58
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: useThreads = false;
                children: []
                pos: 14553
                length: 19
              pos: 14547
              length: 29
          children: []
          pos: 14518
          length: 58
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: runInCompilerThread
              children: []
              pos: 14627
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final Callable<T> callable
                children: []
                pos: 14647
                length: 26
              pos: 14580
              length: 1544
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: final boolean dumpTraceReport = options.tracer.isOn();
                children: []
                pos: 15063
                length: 54
              - type: local_variable_declaration
                fields:
                  text: final Object[] result = new Object[1];
                children: []
                pos: 15122
                length: 38
              - type: local_variable_declaration
                fields:
                  text: final Throwable[] exception = new Throwable[1];
                children: []
                pos: 15165
                length: 47
              - type: local_variable_declaration
                fields:
                  text: |-
                    Runnable runnable = new Runnable() {
                          public void run() {
                            try {
                              if (dumpTraceReport) {
                                Tracer.initCurrentThreadTrace();
                              }
                              result[0] = callable.call();
                            } catch (Throwable e) {
                              exception[0] = e;
                            } finally {
                              if (dumpTraceReport) {
                                Tracer.logAndClearCurrentThreadTrace();
                              }
                            }
                          }
                        };
                children: []
                pos: 15217
                length: 407
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: identifier
                        fields:
                          text: useThreads
                        children: []
                        pos: 15634
                        length: 10
                    children: []
                    pos: 15633
                    length: 12
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: Thread th = new Thread(null, runnable, "jscompiler", COMPILER_STACK_SIZE);
                    children: []
                    pos: 15654
                    length: 74
                  - type: expression_statement
                    fields:
                      text: th.start();
                    children: []
                    pos: 15735
                    length: 11
                  - type: while_statement
                    fields:
                      text: |-
                        while (true) {
                                try {
                                  th.join();
                                  break;
                                } catch (InterruptedException ignore) {
                                  // ignore
                                }
                              }
                    children: []
                    pos: 15753
                    length: 152
                  pos: 15646
                  length: 265
                pos: 15630
                length: 316
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: array_access
                            fields:
                              array:
                                type: identifier
                                fields:
                                  text: exception
                                children: []
                                pos: 16016
                                length: 9
                              index:
                                type: decimal_integer_literal
                                fields:
                                  text: '0'
                                children: []
                                pos: 16026
                                length: 1
                            children: []
                            pos: 16016
                            length: 12
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 16032
                            length: 4
                        children: []
                        pos: 16016
                        length: 20
                    children: []
                    pos: 16015
                    length: 22
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: throw new RuntimeException(exception[0]);
                    children: []
                    pos: 16046
                    length: 41
                  pos: 16038
                  length: 55
                pos: 16012
                length: 81
              - type: return_statement
                fields:
                  text: return (T) result[0];
                children: []
                pos: 16099
                length: 21
              pos: 14675
              length: 1449
          children: []
          pos: 14580
          length: 1544
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: compileInternal
              children: []
              pos: 16141
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 16128
              length: 782
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: parse();
                children: []
                pos: 16165
                length: 8
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: hasErrors()
                        children: []
                        pos: 16182
                        length: 11
                    children: []
                    pos: 16181
                    length: 13
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return;
                    children: []
                    pos: 16203
                    length: 7
                  pos: 16195
                  length: 21
                pos: 16178
                length: 38
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: unary_expression
                        fields:
                          text: "!precheck()"
                        children: []
                        pos: 16226
                        length: 11
                    children: []
                    pos: 16225
                    length: 13
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return;
                    children: []
                    pos: 16247
                    length: 7
                  pos: 16239
                  length: 21
                pos: 16222
                length: 38
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: field_access
                        fields:
                          text: options.nameAnonymousFunctionsOnly
                        children: []
                        pos: 16270
                        length: 34
                    children: []
                    pos: 16269
                    length: 36
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: check();
                    children: []
                    pos: 16385
                    length: 8
                  - type: return_statement
                    fields:
                      text: return;
                    children: []
                    pos: 16400
                    length: 7
                  pos: 16306
                  length: 107
                pos: 16266
                length: 147
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: unary_expression
                        fields:
                          text: "!options.skipAllPasses"
                        children: []
                        pos: 16423
                        length: 22
                    children: []
                    pos: 16422
                    length: 24
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: check();
                    children: []
                    pos: 16455
                    length: 8
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: method_invocation
                            fields:
                              text: hasErrors()
                            children: []
                            pos: 16474
                            length: 11
                        children: []
                        pos: 16473
                        length: 13
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: return_statement
                        fields:
                          text: return;
                        children: []
                        pos: 16497
                        length: 7
                      pos: 16487
                      length: 25
                    pos: 16470
                    length: 42
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: not_equals
                            fields:
                              left:
                                type: field_access
                                fields:
                                  text: options.externExportsPath
                                children: []
                                pos: 16524
                                length: 25
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 16553
                                length: 4
                            children: []
                            pos: 16524
                            length: 33
                        children: []
                        pos: 16523
                        length: 35
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: externExports();
                        children: []
                        pos: 16569
                        length: 16
                      pos: 16559
                      length: 34
                    pos: 16520
                    length: 73
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: unary_expression
                            fields:
                              text: "!options.ideMode"
                            children: []
                            pos: 16683
                            length: 16
                        children: []
                        pos: 16682
                        length: 18
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: optimize();
                        children: []
                        pos: 16711
                        length: 11
                      pos: 16701
                      length: 29
                    pos: 16679
                    length: 51
                  pos: 16447
                  length: 289
                pos: 16419
                length: 317
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: field_access
                        fields:
                          text: options.recordFunctionInformation
                        children: []
                        pos: 16746
                        length: 33
                    children: []
                    pos: 16745
                    length: 35
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: recordFunctionInformation();
                    children: []
                    pos: 16789
                    length: 28
                  pos: 16781
                  length: 42
                pos: 16742
                length: 81
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: field_access
                            fields:
                              text: options.devMode
                            children: []
                            pos: 16833
                            length: 15
                          right:
                            type: field_access
                            fields:
                              text: DevMode.START_AND_END
                            children: []
                            pos: 16852
                            length: 21
                        children: []
                        pos: 16833
                        length: 40
                    children: []
                    pos: 16832
                    length: 42
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: runSanityCheck();
                    children: []
                    pos: 16883
                    length: 17
                  pos: 16875
                  length: 31
                pos: 16829
                length: 77
              pos: 16159
              length: 751
          children: []
          pos: 16128
          length: 782
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: parse
              children: []
              pos: 16926
              length: 5
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 16914
              length: 44
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: parseInputs();
                children: []
                pos: 16940
                length: 14
              pos: 16934
              length: 24
          children: []
          pos: 16914
          length: 44
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getPassConfig
              children: []
              pos: 16973
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 16962
              length: 126
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: passes
                            children: []
                            pos: 16999
                            length: 6
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 17009
                            length: 4
                        children: []
                        pos: 16999
                        length: 14
                    children: []
                    pos: 16998
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: passes = createPassConfigInternal();
                    children: []
                    pos: 17023
                    length: 36
                  pos: 17015
                  length: 50
                pos: 16995
                length: 70
              - type: return_statement
                fields:
                  text: return passes;
                children: []
                pos: 17070
                length: 14
              pos: 16989
              length: 99
          children: []
          pos: 16962
          length: 126
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: createPassConfigInternal
              children: []
              pos: 17212
              length: 24
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 17201
              length: 86
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return new DefaultPassConfig(options);
                children: []
                pos: 17245
                length: 38
              pos: 17239
              length: 48
          children: []
          pos: 17201
          length: 86
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setPassConfig
              children: []
              pos: 17504
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: PassConfig passes
                children: []
                pos: 17518
                length: 17
              pos: 17492
              length: 543
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: Preconditions.checkNotNull(passes);
                children: []
                pos: 17852
                length: 35
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: field_access
                            fields:
                              text: this.passes
                            children: []
                            pos: 17897
                            length: 11
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 17912
                            length: 4
                        children: []
                        pos: 17897
                        length: 19
                    children: []
                    pos: 17896
                    length: 21
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: throw new IllegalStateException("this.passes has already
                        been assigned");
                    children: []
                    pos: 17926
                    length: 73
                  pos: 17918
                  length: 87
                pos: 17893
                length: 112
              - type: expression_statement
                fields:
                  text: this.passes = passes;
                children: []
                pos: 18010
                length: 21
              pos: 17537
              length: 498
          children: []
          pos: 17492
          length: 543
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: precheck
              children: []
              pos: 18242
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 18234
              length: 41
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return true;
                children: []
                pos: 18259
                length: 12
              pos: 18253
              length: 22
          children: []
          pos: 18234
          length: 41
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: check
              children: []
              pos: 18291
              length: 5
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 18279
              length: 1308
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: runCustomPasses(CustomPassExecutionTime.BEFORE_CHECKS);
                children: []
                pos: 18305
                length: 55
              - type: local_variable_declaration
                fields:
                  text: PhaseOptimizer phaseOptimizer = new PhaseOptimizer(this, tracker);
                children: []
                pos: 18366
                length: 66
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: field_access
                            fields:
                              text: options.devMode
                            children: []
                            pos: 18441
                            length: 15
                          right:
                            type: field_access
                            fields:
                              text: DevMode.EVERY_PASS
                            children: []
                            pos: 18460
                            length: 18
                        children: []
                        pos: 18441
                        length: 37
                    children: []
                    pos: 18440
                    length: 39
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: phaseOptimizer.setSanityCheck(sanityCheck);
                    children: []
                    pos: 18488
                    length: 43
                  pos: 18480
                  length: 57
                pos: 18437
                length: 100
              - type: expression_statement
                fields:
                  text: phaseOptimizer.consume(getPassConfig().getChecks());
                children: []
                pos: 18542
                length: 52
              - type: expression_statement
                fields:
                  text: phaseOptimizer.process(externsRoot, jsRoot);
                children: []
                pos: 18599
                length: 44
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: hasErrors()
                        children: []
                        pos: 18652
                        length: 11
                    children: []
                    pos: 18651
                    length: 13
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return;
                    children: []
                    pos: 18673
                    length: 7
                  pos: 18665
                  length: 21
                pos: 18648
                length: 38
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: field_access
                        fields:
                          text: options.nameAnonymousFunctionsOnly
                        children: []
                        pos: 18773
                        length: 34
                    children: []
                    pos: 18772
                    length: 36
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return;
                    children: []
                    pos: 18817
                    length: 7
                  pos: 18809
                  length: 21
                pos: 18769
                length: 61
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: field_access
                        fields:
                          text: options.removeTryCatchFinally
                        children: []
                        pos: 18840
                        length: 29
                    children: []
                    pos: 18839
                    length: 31
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: removeTryCatchFinally();
                    children: []
                    pos: 18879
                    length: 24
                  pos: 18871
                  length: 38
                pos: 18836
                length: 73
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: or
                            fields:
                              left:
                                type: or
                                fields:
                                  left:
                                    type: unary_expression
                                    fields:
                                      text: "!options.stripTypes.isEmpty()"
                                    children: []
                                    pos: 18919
                                    length: 29
                                  right:
                                    type: unary_expression
                                    fields:
                                      text: "!options.stripNameSuffixes.isEmpty()"
                                    children: []
                                    pos: 18960
                                    length: 36
                                children: []
                                pos: 18919
                                length: 77
                              right:
                                type: unary_expression
                                fields:
                                  text: "!options.stripTypePrefixes.isEmpty()"
                                children: []
                                pos: 19008
                                length: 36
                            children: []
                            pos: 18919
                            length: 125
                          right:
                            type: unary_expression
                            fields:
                              text: "!options.stripNamePrefixes.isEmpty()"
                            children: []
                            pos: 19056
                            length: 36
                        children: []
                        pos: 18919
                        length: 173
                    children: []
                    pos: 18918
                    length: 175
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: |-
                        stripCode(options.stripTypes, options.stripNameSuffixes,
                                  options.stripTypePrefixes, options.stripNamePrefixes);
                    children: []
                    pos: 19102
                    length: 121
                  pos: 19094
                  length: 135
                pos: 18915
                length: 314
              - type: expression_statement
                fields:
                  text: runCustomPasses(CustomPassExecutionTime.BEFORE_OPTIMIZATIONS);
                children: []
                pos: 19235
                length: 62
              - type: expression_statement
                fields:
                  text: normalize();
                children: []
                pos: 19571
                length: 12
              pos: 18299
              length: 1288
          children: []
          pos: 18279
          length: 1308
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: externExports
              children: []
              pos: 19604
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 19591
              length: 262
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: logger.info("Creating extern file for exports");
                children: []
                pos: 19626
                length: 48
              - type: expression_statement
                fields:
                  text: startPass("externExports");
                children: []
                pos: 19679
                length: 27
              - type: local_variable_declaration
                fields:
                  text: ExternExportsPass pass = new ExternExportsPass(this);
                children: []
                pos: 19712
                length: 53
              - type: expression_statement
                fields:
                  text: process(pass);
                children: []
                pos: 19770
                length: 14
              - type: expression_statement
                fields:
                  text: externExports = pass.getGeneratedExterns();
                children: []
                pos: 19790
                length: 43
              - type: expression_statement
                fields:
                  text: endPass();
                children: []
                pos: 19839
                length: 10
              pos: 19620
              length: 233
          children: []
          pos: 19591
          length: 262
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: process
              children: []
              pos: 19862
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: CompilerPass p
                children: []
                pos: 19870
                length: 14
              pos: 19857
              length: 70
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: p.process(externsRoot, jsRoot);
                children: []
                pos: 19892
                length: 31
              pos: 19886
              length: 41
          children: []
          pos: 19857
          length: 70
        - type: field_declaration
          fields:
            text: |-
              private final PassFactory sanityCheck =
                    new PassFactory("sanityCheck", false) {
                  @Override
                  protected CompilerPass createInternal(AbstractCompiler compiler) {
                    return new SanityCheck(compiler);
                  }
                };
          children: []
          pos: 19931
          length: 221
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: maybeSanityCheck
              children: []
              pos: 20169
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 20156
              length: 116
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: field_access
                            fields:
                              text: options.devMode
                            children: []
                            pos: 20198
                            length: 15
                          right:
                            type: field_access
                            fields:
                              text: DevMode.EVERY_PASS
                            children: []
                            pos: 20217
                            length: 18
                        children: []
                        pos: 20198
                        length: 37
                    children: []
                    pos: 20197
                    length: 39
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: runSanityCheck();
                    children: []
                    pos: 20245
                    length: 17
                  pos: 20237
                  length: 31
                pos: 20194
                length: 74
              pos: 20188
              length: 84
          children: []
          pos: 20156
          length: 116
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: runSanityCheck
              children: []
              pos: 20289
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 20276
              length: 94
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: sanityCheck.create(this).process(externsRoot, jsRoot);
                children: []
                pos: 20312
                length: 54
              pos: 20306
              length: 64
          children: []
          pos: 20276
          length: 94
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: removeTryCatchFinally
              children: []
              pos: 20455
              length: 21
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 20450
              length: 199
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: logger.info("Remove try/catch/finally");
                children: []
                pos: 20485
                length: 40
              - type: expression_statement
                fields:
                  text: startPass("removeTryCatchFinally");
                children: []
                pos: 20530
                length: 35
              - type: local_variable_declaration
                fields:
                  text: RemoveTryCatch r = new RemoveTryCatch(this);
                children: []
                pos: 20570
                length: 44
              - type: expression_statement
                fields:
                  text: process(r);
                children: []
                pos: 20619
                length: 11
              - type: expression_statement
                fields:
                  text: endPass();
                children: []
                pos: 20635
                length: 10
              pos: 20479
              length: 170
          children: []
          pos: 20450
          length: 199
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: stripCode
              children: []
              pos: 20798
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Set<String> stripTypes
                children: []
                pos: 20808
                length: 22
              pos: 20793
              length: 349
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: logger.info("Strip code");
                children: []
                pos: 20937
                length: 26
              - type: expression_statement
                fields:
                  text: startPass("stripCode");
                children: []
                pos: 20968
                length: 23
              - type: local_variable_declaration
                fields:
                  text: |-
                    StripCode r = new StripCode(this, stripTypes, stripNameSuffixes,
                            stripTypePrefixes, stripNamePrefixes);
                children: []
                pos: 20996
                length: 111
              - type: expression_statement
                fields:
                  text: process(r);
                children: []
                pos: 21112
                length: 11
              - type: expression_statement
                fields:
                  text: endPass();
                children: []
                pos: 21128
                length: 10
              pos: 20931
              length: 211
          children: []
          pos: 20793
          length: 349
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: runCustomPasses
              children: []
              pos: 21244
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: CustomPassExecutionTime executionTime
                children: []
                pos: 21260
                length: 37
              pos: 21231
              length: 351
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: field_access
                            fields:
                              text: options.customPasses
                            children: []
                            pos: 21309
                            length: 20
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 21333
                            length: 4
                        children: []
                        pos: 21309
                        length: 28
                    children: []
                    pos: 21308
                    length: 30
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: Tracer t = newTracer("runCustomPasses");
                    children: []
                    pos: 21347
                    length: 40
                  - type: try_statement
                    fields:
                      body:
                        type: block
                        fields: {}
                        children:
                        - type: enhanced_for_statement
                          fields:
                            text: |-
                              for (CompilerPass p : options.customPasses.get(executionTime)) {
                                        process(p);
                                      }
                          children: []
                          pos: 21408
                          length: 96
                        pos: 21398
                        length: 114
                      excepts:
                        type: excepts
                        fields: {}
                        children: []
                        pos: 21394
                        length: 178
                    children: []
                    pos: 21394
                    length: 178
                  pos: 21339
                  length: 239
                pos: 21305
                length: 273
              pos: 21299
              length: 283
          children: []
          pos: 21231
          length: 351
        - type: field_declaration
          fields:
            text: private Tracer currentTracer = null;
          children: []
          pos: 21586
          length: 36
        - type: field_declaration
          fields:
            text: private String currentPassName = null;
          children: []
          pos: 21625
          length: 38
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: startPass
              children: []
              pos: 21720
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String passName
                children: []
                pos: 21730
                length: 15
              pos: 21715
              length: 163
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: Preconditions.checkState(currentTracer == null);
                children: []
                pos: 21753
                length: 48
              - type: expression_statement
                fields:
                  text: currentPassName = passName;
                children: []
                pos: 21806
                length: 27
              - type: expression_statement
                fields:
                  text: currentTracer = newTracer(passName);
                children: []
                pos: 21838
                length: 36
              pos: 21747
              length: 131
          children: []
          pos: 21715
          length: 163
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: endPass
              children: []
              pos: 21929
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 21924
              length: 301
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: |-
                    Preconditions.checkState(currentTracer != null,
                            "Tracer should not be null at the end of a pass.");
                children: []
                pos: 21945
                length: 107
              - type: expression_statement
                fields:
                  text: stopTracer(currentTracer, currentPassName);
                children: []
                pos: 22057
                length: 43
              - type: local_variable_declaration
                fields:
                  text: String passToCheck = currentPassName;
                children: []
                pos: 22105
                length: 37
              - type: expression_statement
                fields:
                  text: currentPassName = null;
                children: []
                pos: 22147
                length: 23
              - type: expression_statement
                fields:
                  text: currentTracer = null;
                children: []
                pos: 22175
                length: 21
              - type: expression_statement
                fields:
                  text: maybeSanityCheck();
                children: []
                pos: 22202
                length: 19
              pos: 21939
              length: 286
          children: []
          pos: 21924
          length: 301
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: newTracer
              children: []
              pos: 22299
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String passName
                children: []
                pos: 22309
                length: 15
              pos: 22292
              length: 270
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: |-
                    String comment = passName
                            + (recentChange.hasCodeChanged() ? " on recently changed AST" : "");
                children: []
                pos: 22332
                length: 102
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: options.tracer.isOn()
                        children: []
                        pos: 22443
                        length: 21
                    children: []
                    pos: 22442
                    length: 23
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: tracker.recordPassStart(passName);
                    children: []
                    pos: 22474
                    length: 34
                  pos: 22466
                  length: 48
                pos: 22439
                length: 75
              - type: return_statement
                fields:
                  text: return new Tracer("Compiler", comment);
                children: []
                pos: 22519
                length: 39
              pos: 22326
              length: 236
          children: []
          pos: 22292
          length: 270
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: stopTracer
              children: []
              pos: 22571
              length: 10
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Tracer t
                children: []
                pos: 22582
                length: 8
              pos: 22566
              length: 163
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: long result = t.stop();
                children: []
                pos: 22615
                length: 23
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: options.tracer.isOn()
                        children: []
                        pos: 22647
                        length: 21
                    children: []
                    pos: 22646
                    length: 23
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: tracker.recordPassStop(passName, result);
                    children: []
                    pos: 22678
                    length: 41
                  pos: 22670
                  length: 55
                pos: 22643
                length: 82
              pos: 22609
              length: 120
          children: []
          pos: 22566
          length: 163
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getResult
              children: []
              pos: 22803
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 22789
              length: 332
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: PassConfig.State state = getPassConfig().getIntermediateState();
                children: []
                pos: 22821
                length: 64
              - type: return_statement
                fields:
                  text: |-
                    return new Result(getErrors(), getWarnings(), debugLog.toString(),
                            state.variableMap, state.propertyMap,
                            state.anonymousFunctionNameMap, functionInformationMap,
                            sourceMap, externExports, state.cssNames);
                children: []
                pos: 22890
                length: 227
              pos: 22815
              length: 306
          children: []
          pos: 22789
          length: 332
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getMessages
              children: []
              pos: 23222
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 23205
              length: 60
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getErrors();
                children: []
                pos: 23242
                length: 19
              pos: 23236
              length: 29
          children: []
          pos: 23205
          length: 60
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getErrors
              children: []
              pos: 23345
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 23328
              length: 71
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return errorManager.getErrors();
                children: []
                pos: 23363
                length: 32
              pos: 23357
              length: 42
          children: []
          pos: 23328
          length: 71
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getWarnings
              children: []
              pos: 23481
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 23464
              length: 75
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return errorManager.getWarnings();
                children: []
                pos: 23501
                length: 34
              pos: 23495
              length: 44
          children: []
          pos: 23464
          length: 75
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getRoot
              children: []
              pos: 23646
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 23634
              length: 55
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return externAndJsRoot;
                children: []
                pos: 23662
                length: 23
              pos: 23656
              length: 33
          children: []
          pos: 23634
          length: 55
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: nextUniqueNameId
              children: []
              pos: 23764
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 23752
              length: 63
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return uniqueNameId++;
                children: []
                pos: 23789
                length: 22
              pos: 23783
              length: 32
          children: []
          pos: 23752
          length: 63
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: resetUniqueNameId
              children: []
              pos: 23896
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 23870
              length: 73
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: uniqueNameId = 0;
                children: []
                pos: 23922
                length: 17
              pos: 23916
              length: 27
          children: []
          pos: 23870
          length: 73
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getUniqueNameIdSupplier
              children: []
              pos: 23976
              length: 23
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 23947
              length: 227
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: final Compiler self = this;
                children: []
                pos: 24008
                length: 27
              - type: return_statement
                fields:
                  text: |-
                    return new Supplier<String>() {
                          public String get() {
                            return String.valueOf(self.nextUniqueNameId());
                          }
                        };
                children: []
                pos: 24040
                length: 130
              pos: 24002
              length: 172
          children: []
          pos: 23947
          length: 227
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setNormalized
              children: []
              pos: 24334
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 24317
              length: 61
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: normalized = true;
                children: []
                pos: 24356
                length: 18
              pos: 24350
              length: 28
          children: []
          pos: 24317
          length: 61
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setUnnormalized
              children: []
              pos: 24540
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 24523
              length: 64
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: normalized = false;
                children: []
                pos: 24564
                length: 19
              pos: 24558
              length: 29
          children: []
          pos: 24523
          length: 64
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isNormalized
              children: []
              pos: 24611
              length: 12
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 24591
              length: 63
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return normalized;
                children: []
                pos: 24632
                length: 18
              pos: 24626
              length: 28
          children: []
          pos: 24591
          length: 63
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: areNodesEqualForInlining
              children: []
              pos: 24678
              length: 24
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Node n1
                children: []
                pos: 24703
                length: 7
              pos: 24658
              length: 381
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: field_access
                            fields:
                              text: options.ambiguateProperties
                            children: []
                            pos: 24731
                            length: 27
                          right:
                            type: field_access
                            fields:
                              text: options.disambiguateProperties
                            children: []
                            pos: 24770
                            length: 30
                        children: []
                        pos: 24731
                        length: 69
                    children: []
                    pos: 24730
                    length: 71
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return n1.checkTreeTypeAwareEqualsSilent(n2);
                    children: []
                    pos: 24928
                    length: 45
                  pos: 24802
                  length: 177
                pos: 24727
                length: 308
              pos: 24721
              length: 318
          children: []
          pos: 24658
          length: 381
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getInput
              children: []
              pos: 25383
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String name
                children: []
                pos: 25392
                length: 11
              pos: 25350
              length: 95
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return inputsByName.get(name);
                children: []
                pos: 25411
                length: 30
              pos: 25405
              length: 40
          children: []
          pos: 25350
          length: 95
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: newExternInput
              children: []
              pos: 25482
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String name
                children: []
                pos: 25497
                length: 11
              pos: 25449
              length: 407
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: inputsByName.containsKey(name)
                        children: []
                        pos: 25520
                        length: 30
                    children: []
                    pos: 25519
                    length: 32
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: 'throw new IllegalArgumentException("Conflicting externs
                        name: " + name);'
                    children: []
                    pos: 25560
                    length: 72
                  pos: 25552
                  length: 86
                pos: 25516
                length: 122
              - type: local_variable_declaration
                fields:
                  text: SourceAst ast = new SyntheticAst(name);
                children: []
                pos: 25643
                length: 39
              - type: local_variable_declaration
                fields:
                  text: CompilerInput input = new CompilerInput(ast, name, true);
                children: []
                pos: 25687
                length: 57
              - type: expression_statement
                fields:
                  text: inputsByName.put(name, input);
                children: []
                pos: 25749
                length: 30
              - type: expression_statement
                fields:
                  text: externsRoot.addChildToFront(ast.getAstRoot(this));
                children: []
                pos: 25784
                length: 50
              - type: return_statement
                fields:
                  text: return input;
                children: []
                pos: 25839
                length: 13
              pos: 25510
              length: 346
          children: []
          pos: 25449
          length: 407
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: addIncrementalSourceAst
              children: []
              pos: 25944
              length: 23
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JsAst ast
                children: []
                pos: 25968
                length: 9
              pos: 25939
              length: 276
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: String sourceName = ast.getSourceFile().getName();
                children: []
                pos: 25985
                length: 50
              - type: expression_statement
                fields:
                  text: |-
                    Preconditions.checkState(
                            getInput(sourceName) == null,
                            "Duplicate input of name " + sourceName);
                children: []
                pos: 26040
                length: 113
              - type: expression_statement
                fields:
                  text: inputsByName.put(sourceName, new CompilerInput(ast));
                children: []
                pos: 26158
                length: 53
              pos: 25979
              length: 236
          children: []
          pos: 25939
          length: 276
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getModuleGraph
              children: []
              pos: 26245
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 26219
              length: 72
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return moduleGraph;
                children: []
                pos: 26268
                length: 19
              pos: 26262
              length: 29
          children: []
          pos: 26219
          length: 72
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getTypeRegistry
              children: []
              pos: 26329
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 26295
              length: 179
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: typeRegistry
                            children: []
                            pos: 26357
                            length: 12
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 26373
                            length: 4
                        children: []
                        pos: 26357
                        length: 20
                    children: []
                    pos: 26356
                    length: 22
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: typeRegistry = new JSTypeRegistry(oldErrorReporter);
                    children: []
                    pos: 26387
                    length: 52
                  pos: 26379
                  length: 66
                pos: 26353
                length: 92
              - type: return_statement
                fields:
                  text: return typeRegistry;
                children: []
                pos: 26450
                length: 20
              pos: 26347
              length: 127
          children: []
          pos: 26295
          length: 179
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getScopeCreator
              children: []
              pos: 26503
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 26478
              length: 94
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getPassConfig().getScopeCreator();
                children: []
                pos: 26527
                length: 41
              pos: 26521
              length: 51
          children: []
          pos: 26478
          length: 94
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getTopScope
              children: []
              pos: 26601
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 26576
              length: 86
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getPassConfig().getTopScope();
                children: []
                pos: 26621
                length: 37
              pos: 26615
              length: 47
          children: []
          pos: 26576
          length: 86
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getReverseAbstractInterpreter
              children: []
              pos: 26712
              length: 29
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 26666
              length: 565
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: abstractInterpreter
                            children: []
                            pos: 26754
                            length: 19
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 26777
                            length: 4
                        children: []
                        pos: 26754
                        length: 27
                    children: []
                    pos: 26753
                    length: 29
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: |-
                        ChainableReverseAbstractInterpreter interpreter =
                                  new SemanticReverseAbstractInterpreter(
                                      getCodingConvention(), getTypeRegistry());
                    children: []
                    pos: 26791
                    length: 156
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: field_access
                            fields:
                              text: options.closurePass
                            children: []
                            pos: 26958
                            length: 19
                        children: []
                        pos: 26957
                        length: 21
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: |-
                            interpreter = new ClosureReverseAbstractInterpreter(
                                        getCodingConvention(), getTypeRegistry())
                                        .append(interpreter).getFirst();
                        children: []
                        pos: 26989
                        length: 151
                      pos: 26979
                      length: 169
                    pos: 26954
                    length: 194
                  - type: expression_statement
                    fields:
                      text: abstractInterpreter = interpreter;
                    children: []
                    pos: 27155
                    length: 34
                  pos: 26783
                  length: 412
                pos: 26750
                length: 445
              - type: return_statement
                fields:
                  text: return abstractInterpreter;
                children: []
                pos: 27200
                length: 27
              pos: 26744
              length: 487
          children: []
          pos: 26666
          length: 565
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getTypeValidator
              children: []
              pos: 27261
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 27235
              length: 76
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return typeValidator;
                children: []
                pos: 27286
                length: 21
              pos: 27280
              length: 31
          children: []
          pos: 27235
          length: 76
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: parseInputs
              children: []
              pos: 27648
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 27643
              length: 2055
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: boolean devMode = options.devMode != DevMode.OFF;
                children: []
                pos: 27668
                length: 49
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: externsRoot
                            children: []
                            pos: 27840
                            length: 11
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 27855
                            length: 4
                        children: []
                        pos: 27840
                        length: 19
                    children: []
                    pos: 27839
                    length: 21
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: externsRoot.detachChildren();
                    children: []
                    pos: 27869
                    length: 29
                  pos: 27861
                  length: 43
                pos: 27836
                length: 68
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: jsRoot
                            children: []
                            pos: 27913
                            length: 6
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 27923
                            length: 4
                        children: []
                        pos: 27913
                        length: 14
                    children: []
                    pos: 27912
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: jsRoot.detachChildren();
                    children: []
                    pos: 27937
                    length: 24
                  pos: 27929
                  length: 38
                pos: 27909
                length: 58
              - type: expression_statement
                fields:
                  text: jsRoot = new Node(Token.BLOCK);
                children: []
                pos: 28003
                length: 31
              - type: expression_statement
                fields:
                  text: jsRoot.setIsSyntheticBlock(true);
                children: []
                pos: 28039
                length: 33
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: options.tracer.isOn()
                        children: []
                        pos: 28082
                        length: 21
                    children: []
                    pos: 28081
                    length: 23
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: |-
                        tracker = new PerformanceTracker(jsRoot,
                                  options.tracer == TracerMode.ALL);
                    children: []
                    pos: 28113
                    length: 85
                  - type: expression_statement
                    fields:
                      text: addChangeHandler(tracker.getCodeChangeHandler());
                    children: []
                    pos: 28205
                    length: 49
                  pos: 28105
                  length: 155
                pos: 28078
                length: 182
              - type: local_variable_declaration
                fields:
                  text: Tracer tracer = newTracer("parseInputs");
                children: []
                pos: 28266
                length: 41
              - type: try_statement
                fields:
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: expression_statement
                      fields:
                        text: externsRoot = new Node(Token.BLOCK);
                      children: []
                      pos: 28357
                      length: 36
                    - type: expression_statement
                      fields:
                        text: externsRoot.setIsSyntheticBlock(true);
                      children: []
                      pos: 28400
                      length: 38
                    - type: enhanced_for_statement
                      fields:
                        text: |-
                          for (CompilerInput input : externs) {
                                  Node n = input.getAstRoot(this);
                                  if (hasErrors()) {
                                    return null;
                                  }
                                  externsRoot.addChildToBack(n);
                                }
                      children: []
                      pos: 28445
                      length: 185
                    - type: enhanced_for_statement
                      fields:
                        text: |-
                          for (CompilerInput input : inputs) {
                                  Node n = input.getAstRoot(this);
                                  if (hasErrors()) {
                                    return null;
                                  }

                                  // Inputs can have a null AST during initial parse.
                                  if (n == null) {
                                    continue;
                                  }

                                  if (devMode) {
                                    runSanityCheck();
                                    if (hasErrors()) {
                                      return null;
                                    }
                                  }

                                  if (options.sourceMapOutputPath != null ||
                                      options.nameReferenceReportPath != null) {

                                    // Annotate the nodes in the tree with information from the
                                    // input file. This information is used to construct the SourceMap.
                                    SourceInformationAnnotator sia =
                                        new SourceInformationAnnotator(input.getName());
                                    NodeTraversal.traverse(this, n, sia);
                                  }

                                  jsRoot.addChildToBack(n);
                                }
                      children: []
                      pos: 28638
                      length: 844
                    - type: expression_statement
                      fields:
                        text: externAndJsRoot = new Node(Token.BLOCK, externsRoot,
                          jsRoot);
                      children: []
                      pos: 29490
                      length: 61
                    - type: expression_statement
                      fields:
                        text: externAndJsRoot.setIsSyntheticBlock(true);
                      children: []
                      pos: 29558
                      length: 42
                    - type: return_statement
                      fields:
                        text: return externAndJsRoot;
                      children: []
                      pos: 29608
                      length: 23
                    pos: 28317
                    length: 1320
                  excepts:
                    type: excepts
                    fields: {}
                    children: []
                    pos: 28313
                    length: 1381
                children: []
                pos: 28313
                length: 1381
              pos: 27662
              length: 2036
          children: []
          pos: 27643
          length: 2055
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: parse
              children: []
              pos: 29714
              length: 5
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSSourceFile file
                children: []
                pos: 29720
                length: 17
              pos: 29702
              length: 172
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: initCompilerOptionsIfTesting();
                children: []
                pos: 29745
                length: 31
              - type: expression_statement
                fields:
                  text: 'addToDebugLog("Parsing: " + file.getName());'
                children: []
                pos: 29781
                length: 44
              - type: return_statement
                fields:
                  text: return new JsAst(file).getAstRoot(this);
                children: []
                pos: 29830
                length: 40
              pos: 29739
              length: 135
          children: []
          pos: 29702
          length: 172
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: parseSyntheticCode
              children: []
              pos: 29895
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String js
                children: []
                pos: 29914
                length: 9
              pos: 29878
              length: 231
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: |-
                    CompilerInput input = new CompilerInput(
                            JSSourceFile.fromCode(" [synthetic] ", js));
                children: []
                pos: 29931
                length: 93
              - type: expression_statement
                fields:
                  text: inputsByName.put(input.getName(), input);
                children: []
                pos: 30029
                length: 41
              - type: return_statement
                fields:
                  text: return input.getAstRoot(this);
                children: []
                pos: 30075
                length: 30
              pos: 29925
              length: 184
          children: []
          pos: 29878
          length: 231
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: initCompilerOptionsIfTesting
              children: []
              pos: 30118
              length: 28
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 30113
              length: 220
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: options
                            children: []
                            pos: 30159
                            length: 7
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 30170
                            length: 4
                        children: []
                        pos: 30159
                        length: 15
                    children: []
                    pos: 30158
                    length: 17
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: initOptions(new CompilerOptions());
                    children: []
                    pos: 30288
                    length: 35
                  pos: 30176
                  length: 153
                pos: 30155
                length: 174
              pos: 30149
              length: 184
          children: []
          pos: 30113
          length: 220
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: parseSyntheticCode
              children: []
              pos: 30354
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String fileName
                children: []
                pos: 30373
                length: 15
              pos: 30337
              length: 160
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: initCompilerOptionsIfTesting();
                children: []
                pos: 30407
                length: 31
              - type: return_statement
                fields:
                  text: return parse(JSSourceFile.fromCode(fileName, js));
                children: []
                pos: 30443
                length: 50
              pos: 30401
              length: 96
          children: []
          pos: 30337
          length: 160
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: parseTestCode
              children: []
              pos: 30506
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String js
                children: []
                pos: 30520
                length: 9
              pos: 30501
              length: 327
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: initCompilerOptionsIfTesting();
                children: []
                pos: 30537
                length: 31
              - type: local_variable_declaration
                fields:
                  text: |-
                    CompilerInput input = new CompilerInput(
                            JSSourceFile.fromCode(" [testcode] ", js));
                children: []
                pos: 30573
                length: 92
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: inputsByName
                            children: []
                            pos: 30674
                            length: 12
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 30690
                            length: 4
                        children: []
                        pos: 30674
                        length: 20
                    children: []
                    pos: 30673
                    length: 22
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: inputsByName = Maps.newHashMap();
                    children: []
                    pos: 30704
                    length: 33
                  pos: 30696
                  length: 47
                pos: 30670
                length: 73
              - type: expression_statement
                fields:
                  text: inputsByName.put(input.getName(), input);
                children: []
                pos: 30748
                length: 41
              - type: return_statement
                fields:
                  text: return input.getAstRoot(this);
                children: []
                pos: 30794
                length: 30
              pos: 30531
              length: 297
          children: []
          pos: 30501
          length: 327
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getDefaultErrorReporter
              children: []
              pos: 30858
              length: 23
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 30832
              length: 90
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return defaultErrorReporter;
                children: []
                pos: 30890
                length: 28
              pos: 30884
              length: 38
          children: []
          pos: 30832
          length: 90
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: toSource
              children: []
              pos: 31191
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 31177
              length: 635
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return runInCompilerThread(new Callable<String>() {
                          public String call() throws Exception {
                            Tracer tracer = newTracer("toSource");
                            try {
                              CodeBuilder cb = new CodeBuilder();
                              if (jsRoot != null) {
                                int i = 0;
                                for (Node scriptNode = jsRoot.getFirstChild();
                                     scriptNode != null;
                                     scriptNode = scriptNode.getNext()) {
                                  toSource(cb, i++, scriptNode);
                                }
                              }
                              return cb.toString();
                            } finally {
                              stopTracer(tracer, "toSource");
                            }
                          }
                        });
                children: []
                pos: 31208
                length: 600
              pos: 31202
              length: 610
          children: []
          pos: 31177
          length: 635
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: toSourceArray
              children: []
              pos: 31905
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 31889
              length: 699
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return runInCompilerThread(new Callable<String[]>() {
                          public String[] call() throws Exception {
                            Tracer tracer = newTracer("toSourceArray");
                            try {
                              int numInputs = inputs.length;
                              String[] sources = new String[numInputs];
                              CodeBuilder cb = new CodeBuilder();
                              for (int i = 0; i < numInputs; i++) {
                                Node scriptNode = inputs[i].getAstRoot(Compiler.this);
                                cb.reset();
                                toSource(cb, i, scriptNode);
                                sources[i] = cb.toString();
                              }
                              return sources;
                            } finally {
                              stopTracer(tracer, "toSourceArray");
                            }
                          }
                        });
                children: []
                pos: 31927
                length: 657
              pos: 31921
              length: 667
          children: []
          pos: 31889
          length: 699
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: toSource
              children: []
              pos: 32677
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final JSModule module
                children: []
                pos: 32686
                length: 21
              pos: 32663
              length: 712
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return runInCompilerThread(new Callable<String>() {
                          public String call() throws Exception {
                            List<CompilerInput> inputs = module.getInputs();
                            int numInputs = inputs.size();
                            if (numInputs == 0) {
                              return "";
                            }
                            CodeBuilder cb = new CodeBuilder();
                            for (int i = 0; i < numInputs; i++) {
                              Node scriptNode = inputs.get(i).getAstRoot(Compiler.this);
                              if (scriptNode == null) {
                                throw new IllegalArgumentException(
                                    "Bad module: " + module.getName());
                              }
                              toSource(cb, i, scriptNode);
                            }
                            return cb.toString();
                          }
                        });
                children: []
                pos: 32715
                length: 656
              pos: 32709
              length: 666
          children: []
          pos: 32663
          length: 712
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: toSourceArray
              children: []
              pos: 33481
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final JSModule module
                children: []
                pos: 33495
                length: 21
              pos: 33465
              length: 853
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return runInCompilerThread(new Callable<String[]>() {
                          public String[] call() throws Exception {
                            List<CompilerInput> inputs = module.getInputs();
                            int numInputs = inputs.size();
                            if (numInputs == 0) {
                              return new String[0];
                            }

                            String[] sources = new String[numInputs];
                            CodeBuilder cb = new CodeBuilder();
                            for (int i = 0; i < numInputs; i++) {
                              Node scriptNode = inputs.get(i).getAstRoot(Compiler.this);
                              if (scriptNode == null) {
                                throw new IllegalArgumentException(
                                    "Bad module input: " + inputs.get(i).getName());
                              }

                              cb.reset();
                              toSource(cb, i, scriptNode);
                              sources[i] = cb.toString();
                            }
                            return sources;
                          }
                        });
                children: []
                pos: 33524
                length: 790
              pos: 33518
              length: 800
          children: []
          pos: 33465
          length: 853
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: toSource
              children: []
              pos: 34687
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final CodeBuilder cb
                children: []
                pos: 34696
                length: 20
              pos: 34675
              length: 1717
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: "runInCompilerThread(new Callable<Void>() {\n      public
                    Void call() throws Exception {\n        if (options.printInputDelimiter)
                    {\n          if ((cb.getLength() > 0) && !cb.endsWith(\"\\n\"))
                    {\n            cb.append(\"\\n\");  // Make sure that the label
                    starts on a new line\n          }\n          Preconditions.checkState(root.getType()
                    == Token.SCRIPT);\n          \n          String delimiter = options.inputDelimiter;\n
                    \         \n          String sourceName = (String)root.getProp(Node.SOURCENAME_PROP);\n
                    \         Preconditions.checkState(sourceName != null);\n          Preconditions.checkState(!sourceName.isEmpty());\n
                    \         \n          delimiter = delimiter.replaceAll(\"%name%\",
                    sourceName)\n            .replaceAll(\"%num%\", String.valueOf(inputSeqNum));\n\n
                    \         cb.append(delimiter)\n            .append(\"\\n\");\n
                    \       }\n        if (root.getJSDocInfo() != null &&\n            root.getJSDocInfo().getLicense()
                    != null) {\n          cb.append(\"/*\\n\")\n            .append(root.getJSDocInfo().getLicense())\n
                    \           .append(\"*/\\n\");\n        }\n\n        // If there
                    is a valid source map, then indicate to it that the current\n
                    \       // root node's mappings are offset by the given string
                    builder buffer.\n        if (options.sourceMapOutputPath != null)
                    {\n          sourceMap.setStartingPosition(\n              cb.getLineIndex(),
                    cb.getColumnIndex());\n        }\n\n        String code = toSource(root);\n
                    \       if (!code.isEmpty()) {\n          cb.append(code);\n          if
                    (!code.endsWith(\";\")) {\n            cb.append(\";\");\n          }\n
                    \       }\n        return null;\n      }\n    });"
                children: []
                pos: 34810
                length: 1578
              pos: 34804
              length: 1588
          children: []
          pos: 34675
          length: 1717
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: toSource
              children: []
              pos: 36477
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Node n
                children: []
                pos: 36486
                length: 6
              pos: 36458
              length: 356
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: initCompilerOptionsIfTesting();
                children: []
                pos: 36500
                length: 31
              - type: local_variable_declaration
                fields:
                  text: CodePrinter.Builder builder = new CodePrinter.Builder(n);
                children: []
                pos: 36541
                length: 57
              - type: expression_statement
                fields:
                  text: builder.setPrettyPrint(options.prettyPrint);
                children: []
                pos: 36603
                length: 44
              - type: expression_statement
                fields:
                  text: builder.setLineBreak(options.lineBreak);
                children: []
                pos: 36652
                length: 40
              - type: expression_statement
                fields:
                  text: builder.setSourceMap(sourceMap);
                children: []
                pos: 36697
                length: 32
              - type: expression_statement
                fields:
                  text: builder.setOutputCharset(options.outputCharset);
                children: []
                pos: 36734
                length: 48
              - type: return_statement
                fields:
                  text: return builder.build();
                children: []
                pos: 36787
                length: 23
              pos: 36494
              length: 320
          children: []
          pos: 36458
          length: 356
        - type: class_declaration
          fields:
            name:
              type: identifier
              fields:
                text: CodeBuilder
              children: []
              pos: 36997
              length: 11
            body:
              type: class_body
              fields: {}
              children:
              - type: field_declaration
                fields:
                  text: private final StringBuilder sb = new StringBuilder();
                children: []
                pos: 37015
                length: 53
              - type: field_declaration
                fields:
                  text: private int lineCount = 0;
                children: []
                pos: 37073
                length: 26
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: reset
                    children: []
                    pos: 37176
                    length: 5
                  parameters:
                    type: method_parameters
                    fields: {}
                    children: []
                    pos: 37171
                    length: 43
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: expression_statement
                      fields:
                        text: sb.setLength(0);
                      children: []
                      pos: 37192
                      length: 16
                    pos: 37184
                    length: 30
                children: []
                pos: 37171
                length: 43
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: append
                    children: []
                    pos: 37288
                    length: 6
                  parameters:
                    type: method_parameters
                    fields: {}
                    children:
                    - type: formal_parameter
                      fields:
                        text: String str
                      children: []
                      pos: 37295
                      length: 10
                    pos: 37276
                    length: 249
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: expression_statement
                      fields:
                        text: sb.append(str);
                      children: []
                      pos: 37315
                      length: 15
                    - type: local_variable_declaration
                      fields:
                        text: int index = -1;
                      children: []
                      pos: 37395
                      length: 15
                    - type: while_statement
                      fields:
                        text: |-
                          while ((index = str.indexOf('\n', index + 1)) >= 0) {
                                  ++lineCount;
                                }
                      children: []
                      pos: 37417
                      length: 82
                    - type: return_statement
                      fields:
                        text: return this;
                      children: []
                      pos: 37507
                      length: 12
                    pos: 37307
                    length: 218
                children: []
                pos: 37276
                length: 249
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: toString
                    children: []
                    pos: 37607
                    length: 8
                  parameters:
                    type: method_parameters
                    fields: {}
                    children: []
                    pos: 37579
                    length: 74
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: return_statement
                      fields:
                        text: return sb.toString();
                      children: []
                      pos: 37626
                      length: 21
                    pos: 37618
                    length: 35
                children: []
                pos: 37579
                length: 74
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: getLength
                    children: []
                    pos: 37720
                    length: 9
                  parameters:
                    type: method_parameters
                    fields: {}
                    children: []
                    pos: 37709
                    length: 56
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: return_statement
                      fields:
                        text: return sb.length();
                      children: []
                      pos: 37740
                      length: 19
                    pos: 37732
                    length: 33
                children: []
                pos: 37709
                length: 56
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: getLineIndex
                    children: []
                    pos: 37854
                    length: 12
                  parameters:
                    type: method_parameters
                    fields: {}
                    children: []
                    pos: 37850
                    length: 50
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: return_statement
                      fields:
                        text: return lineCount;
                      children: []
                      pos: 37877
                      length: 17
                    pos: 37869
                    length: 31
                children: []
                pos: 37850
                length: 50
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: getColumnIndex
                    children: []
                    pos: 37991
                    length: 14
                  parameters:
                    type: method_parameters
                    fields: {}
                    children: []
                    pos: 37987
                    length: 137
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: local_variable_declaration
                      fields:
                        text: int index = sb.lastIndexOf("\n");
                      children: []
                      pos: 38016
                      length: 33
                    - type: return_statement
                      fields:
                        text: 'return (index >= 0) ? sb.length() - (index + 1) : sb.length();'
                      children: []
                      pos: 38056
                      length: 62
                    pos: 38008
                    length: 116
                children: []
                pos: 37987
                length: 137
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: endsWith
                    children: []
                    pos: 38205
                    length: 8
                  parameters:
                    type: method_parameters
                    fields: {}
                    children:
                    - type: formal_parameter
                      fields:
                        text: String suffix
                      children: []
                      pos: 38214
                      length: 13
                    pos: 38197
                    length: 157
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: return_statement
                      fields:
                        text: |-
                          return (sb.length() > suffix.length())
                                    && suffix.equals(sb.substring(sb.length() - suffix.length()));
                      children: []
                      pos: 38237
                      length: 111
                    pos: 38229
                    length: 125
                children: []
                pos: 38197
                length: 157
              pos: 36977
              length: 1381
          children: []
          pos: 36977
          length: 1381
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: optimize
              children: []
              pos: 38548
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 38536
              length: 360
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: PhaseOptimizer phaseOptimizer = new PhaseOptimizer(this, tracker);
                children: []
                pos: 38565
                length: 66
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: field_access
                            fields:
                              text: options.devMode
                            children: []
                            pos: 38640
                            length: 15
                          right:
                            type: field_access
                            fields:
                              text: DevMode.EVERY_PASS
                            children: []
                            pos: 38659
                            length: 18
                        children: []
                        pos: 38640
                        length: 37
                    children: []
                    pos: 38639
                    length: 39
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: phaseOptimizer.setSanityCheck(sanityCheck);
                    children: []
                    pos: 38687
                    length: 43
                  pos: 38679
                  length: 57
                pos: 38636
                length: 100
              - type: expression_statement
                fields:
                  text: phaseOptimizer.consume(getPassConfig().getOptimizations());
                children: []
                pos: 38741
                length: 59
              - type: expression_statement
                fields:
                  text: phaseOptimizer.process(externsRoot, jsRoot);
                children: []
                pos: 38805
                length: 44
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: hasErrors()
                        children: []
                        pos: 38858
                        length: 11
                    children: []
                    pos: 38857
                    length: 13
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return;
                    children: []
                    pos: 38879
                    length: 7
                  pos: 38871
                  length: 21
                pos: 38854
                length: 38
              pos: 38559
              length: 337
          children: []
          pos: 38536
          length: 360
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setCssRenamingMap
              children: []
              pos: 38917
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: CssRenamingMap map
                children: []
                pos: 38935
                length: 18
              pos: 38900
              length: 94
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: options.cssRenamingMap = map;
                children: []
                pos: 38961
                length: 29
              pos: 38955
              length: 39
          children: []
          pos: 38900
          length: 94
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getCssRenamingMap
              children: []
              pos: 39025
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 38998
              length: 87
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return options.cssRenamingMap;
                children: []
                pos: 39051
                length: 30
              pos: 39045
              length: 40
          children: []
          pos: 38998
          length: 87
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: processDefines
              children: []
              pos: 39450
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 39438
              length: 138
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: |-
                    (new DefaultPassConfig(options)).processDefines.create(this)
                            .process(externsRoot, jsRoot);
                children: []
                pos: 39473
                length: 99
              pos: 39467
              length: 109
          children: []
          pos: 39438
          length: 138
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isInliningForbidden
              children: []
              pos: 39588
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 39580
              length: 203
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return options.propertyRenaming == PropertyRenamingPolicy.HEURISTIC ||
                            options.propertyRenaming ==
                                PropertyRenamingPolicy.AGGRESSIVE_HEURISTIC;
                children: []
                pos: 39616
                length: 163
              pos: 39610
              length: 173
          children: []
          pos: 39580
          length: 203
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: computeCFG
              children: []
              pos: 39842
              length: 10
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 39819
              length: 283
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: logger.info("Computing Control Flow Graph");
                children: []
                pos: 39861
                length: 44
              - type: local_variable_declaration
                fields:
                  text: Tracer tracer = newTracer("computeCFG");
                children: []
                pos: 39910
                length: 40
              - type: local_variable_declaration
                fields:
                  text: ControlFlowAnalysis cfa = new ControlFlowAnalysis(this, true);
                children: []
                pos: 39955
                length: 62
              - type: expression_statement
                fields:
                  text: process(cfa);
                children: []
                pos: 40022
                length: 13
              - type: expression_statement
                fields:
                  text: stopTracer(tracer, "computeCFG");
                children: []
                pos: 40040
                length: 33
              - type: return_statement
                fields:
                  text: return cfa.getCfg();
                children: []
                pos: 40078
                length: 20
              pos: 39855
              length: 247
          children: []
          pos: 39819
          length: 283
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: normalize
              children: []
              pos: 40118
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 40106
              length: 166
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: logger.info("Normalizing");
                children: []
                pos: 40136
                length: 27
              - type: expression_statement
                fields:
                  text: startPass("normalize");
                children: []
                pos: 40168
                length: 23
              - type: expression_statement
                fields:
                  text: process(new Normalize(this, false));
                children: []
                pos: 40196
                length: 36
              - type: expression_statement
                fields:
                  text: setNormalized();
                children: []
                pos: 40237
                length: 16
              - type: expression_statement
                fields:
                  text: endPass();
                children: []
                pos: 40258
                length: 10
              pos: 40130
              length: 142
          children: []
          pos: 40106
          length: 166
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: prepareAst
              children: []
              pos: 40293
              length: 10
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Node root
                children: []
                pos: 40304
                length: 9
              pos: 40276
              length: 203
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: Tracer tracer = newTracer("prepareAst");
                children: []
                pos: 40321
                length: 40
              - type: local_variable_declaration
                fields:
                  text: CompilerPass pass = new PrepareAst(this);
                children: []
                pos: 40366
                length: 41
              - type: expression_statement
                fields:
                  text: pass.process(null, root);
                children: []
                pos: 40412
                length: 25
              - type: expression_statement
                fields:
                  text: stopTracer(tracer, "prepareAst");
                children: []
                pos: 40442
                length: 33
              pos: 40315
              length: 164
          children: []
          pos: 40276
          length: 203
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: recordFunctionInformation
              children: []
              pos: 40488
              length: 25
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 40483
              length: 414
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: logger.info("Recording function information");
                children: []
                pos: 40522
                length: 46
              - type: expression_statement
                fields:
                  text: startPass("recordFunctionInformation");
                children: []
                pos: 40573
                length: 39
              - type: local_variable_declaration
                fields:
                  text: |-
                    RecordFunctionInformation recordFunctionInfoPass =
                            new RecordFunctionInformation(
                                this, getPassConfig().getIntermediateState().functionNames);
                children: []
                pos: 40617
                length: 162
              - type: expression_statement
                fields:
                  text: process(recordFunctionInfoPass);
                children: []
                pos: 40784
                length: 32
              - type: expression_statement
                fields:
                  text: functionInformationMap = recordFunctionInfoPass.getMap();
                children: []
                pos: 40821
                length: 57
              - type: expression_statement
                fields:
                  text: endPass();
                children: []
                pos: 40883
                length: 10
              pos: 40516
              length: 381
          children: []
          pos: 40483
          length: 414
        - type: field_declaration
          fields:
            text: |-
              protected final CodeChangeHandler.RecentChange recentChange =
                    new CodeChangeHandler.RecentChange();
          children: []
          pos: 40901
          length: 105
        - type: field_declaration
          fields:
            text: |-
              private final List<CodeChangeHandler> codeChangeHandlers =
                    Lists.<CodeChangeHandler>newArrayList();
          children: []
          pos: 41009
          length: 105
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: addChangeHandler
              children: []
              pos: 41135
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: CodeChangeHandler handler
                children: []
                pos: 41152
                length: 25
              pos: 41118
              length: 103
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: codeChangeHandlers.add(handler);
                children: []
                pos: 41185
                length: 32
              pos: 41179
              length: 42
          children: []
          pos: 41118
          length: 103
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: removeChangeHandler
              children: []
              pos: 41242
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: CodeChangeHandler handler
                children: []
                pos: 41262
                length: 25
              pos: 41225
              length: 109
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: codeChangeHandlers.remove(handler);
                children: []
                pos: 41295
                length: 35
              pos: 41289
              length: 45
          children: []
          pos: 41225
          length: 109
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: reportCodeChange
              children: []
              pos: 41553
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 41529
              length: 143
            body:
              type: block
              fields: {}
              children:
              - type: enhanced_for_statement
                fields:
                  text: |-
                    for (CodeChangeHandler handler : codeChangeHandlers) {
                          handler.reportChange();
                        }
                children: []
                pos: 41578
                length: 90
              pos: 41572
              length: 100
          children: []
          pos: 41529
          length: 143
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getCodingConvention
              children: []
              pos: 41712
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 41676
              length: 227
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: CodingConvention convention = options.getCodingConvention();
                children: []
                pos: 41740
                length: 60
              - type: expression_statement
                fields:
                  text: 'convention = convention != null ? convention : defaultCodingConvention;'
                children: []
                pos: 41805
                length: 71
              - type: return_statement
                fields:
                  text: return convention;
                children: []
                pos: 41881
                length: 18
              pos: 41734
              length: 169
          children: []
          pos: 41676
          length: 227
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isIdeMode
              children: []
              pos: 41934
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 41907
              length: 72
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return options.ideMode;
                children: []
                pos: 41952
                length: 23
              pos: 41946
              length: 33
          children: []
          pos: 41907
          length: 72
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getParserConfig
              children: []
              pos: 42002
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 41983
              length: 196
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: parserConfig
                            children: []
                            pos: 42030
                            length: 12
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 42046
                            length: 4
                        children: []
                        pos: 42030
                        length: 20
                    children: []
                    pos: 42029
                    length: 22
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: |-
                        parserConfig = ParserRunner.createConfig(
                                  getTypeRegistry(), isIdeMode());
                    children: []
                    pos: 42060
                    length: 84
                  pos: 42052
                  length: 98
                pos: 42026
                length: 124
              - type: return_statement
                fields:
                  text: return parserConfig;
                children: []
                pos: 42155
                length: 20
              pos: 42020
              length: 159
          children: []
          pos: 41983
          length: 196
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isTypeCheckingEnabled
              children: []
              pos: 42210
              length: 21
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 42183
              length: 87
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return options.checkTypes;
                children: []
                pos: 42240
                length: 26
              pos: 42234
              length: 36
          children: []
          pos: 42183
          length: 87
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: report
              children: []
              pos: 42475
              length: 6
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSError error
                children: []
                pos: 42482
                length: 13
              pos: 42451
              length: 356
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: CheckLevel level = error.level;
                children: []
                pos: 42503
                length: 31
              - type: local_variable_declaration
                fields:
                  text: WarningsGuard guard = options.getWarningsGuard();
                children: []
                pos: 42539
                length: 49
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: guard
                            children: []
                            pos: 42597
                            length: 5
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 42606
                            length: 4
                        children: []
                        pos: 42597
                        length: 13
                    children: []
                    pos: 42596
                    length: 15
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: CheckLevel newLevel = guard.level(error);
                    children: []
                    pos: 42620
                    length: 41
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: not_equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: newLevel
                                children: []
                                pos: 42672
                                length: 8
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 42684
                                length: 4
                            children: []
                            pos: 42672
                            length: 16
                        children: []
                        pos: 42671
                        length: 18
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: level = newLevel;
                        children: []
                        pos: 42700
                        length: 17
                      pos: 42690
                      length: 35
                    pos: 42668
                    length: 57
                  pos: 42612
                  length: 119
                pos: 42593
                length: 138
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: level.isOn()
                        children: []
                        pos: 42741
                        length: 12
                    children: []
                    pos: 42740
                    length: 14
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: errorManager.report(level, error);
                    children: []
                    pos: 42763
                    length: 34
                  pos: 42755
                  length: 48
                pos: 42737
                length: 66
              pos: 42497
              length: 310
          children: []
          pos: 42451
          length: 356
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: throwInternalError
              children: []
              pos: 42871
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String message
                children: []
                pos: 42890
                length: 14
              pos: 42854
              length: 345
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: |-
                    String finalMessage =
                          "INTERNAL COMPILER ERROR.\n" +
                          "Please report this problem.\n" + message;
                children: []
                pos: 42929
                length: 107
              - type: local_variable_declaration
                fields:
                  text: RuntimeException e = new RuntimeException(finalMessage, cause);
                children: []
                pos: 43042
                length: 63
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: cause
                            children: []
                            pos: 43114
                            length: 5
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 43123
                            length: 4
                        children: []
                        pos: 43114
                        length: 13
                    children: []
                    pos: 43113
                    length: 15
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: e.setStackTrace(cause.getStackTrace());
                    children: []
                    pos: 43137
                    length: 39
                  pos: 43129
                  length: 53
                pos: 43110
                length: 72
              - type: throw_statement
                fields:
                  text: throw e;
                children: []
                pos: 43187
                length: 8
              pos: 42923
              length: 276
          children: []
          pos: 42854
          length: 345
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getErrorCount
              children: []
              pos: 43259
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 43248
              length: 73
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return errorManager.getErrorCount();
                children: []
                pos: 43281
                length: 36
              pos: 43275
              length: 46
          children: []
          pos: 43248
          length: 73
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getWarningCount
              children: []
              pos: 43382
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 43371
              length: 77
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return errorManager.getWarningCount();
                children: []
                pos: 43406
                length: 38
              pos: 43400
              length: 48
          children: []
          pos: 43371
          length: 77
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: hasHaltingErrors
              children: []
              pos: 43472
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 43452
              length: 92
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return !isIdeMode() && getErrorCount() > 0;
                children: []
                pos: 43497
                length: 43
              pos: 43491
              length: 53
          children: []
          pos: 43452
          length: 92
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: hasErrors
              children: []
              pos: 43981
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 43966
              length: 63
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return hasHaltingErrors();
                children: []
                pos: 43999
                length: 26
              pos: 43993
              length: 36
          children: []
          pos: 43966
          length: 63
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: addToDebugLog
              children: []
              pos: 44108
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String str
                children: []
                pos: 44122
                length: 10
              pos: 44091
              length: 123
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: debugLog.append(str);
                children: []
                pos: 44140
                length: 21
              - type: expression_statement
                fields:
                  text: debugLog.append('\n');
                children: []
                pos: 44166
                length: 22
              - type: expression_statement
                fields:
                  text: logger.fine(str);
                children: []
                pos: 44193
                length: 17
              pos: 44134
              length: 80
          children: []
          pos: 44091
          length: 123
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getSourceFileByName
              children: []
              pos: 44237
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String sourceName
                children: []
                pos: 44257
                length: 17
              pos: 44218
              length: 193
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: inputsByName.containsKey(sourceName)
                        children: []
                        pos: 44286
                        length: 36
                    children: []
                    pos: 44285
                    length: 38
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return inputsByName.get(sourceName).getSourceFile();
                    children: []
                    pos: 44332
                    length: 52
                  pos: 44324
                  length: 66
                pos: 44282
                length: 108
              - type: return_statement
                fields:
                  text: return null;
                children: []
                pos: 44395
                length: 12
              pos: 44276
              length: 135
          children: []
          pos: 44218
          length: 193
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getSourceLine
              children: []
              pos: 44429
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String sourceName
                children: []
                pos: 44443
                length: 17
              pos: 44415
              length: 263
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: less_than
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: lineNumber
                            children: []
                            pos: 44488
                            length: 10
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '1'
                            children: []
                            pos: 44501
                            length: 1
                        children: []
                        pos: 44488
                        length: 14
                    children: []
                    pos: 44487
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return null;
                    children: []
                    pos: 44512
                    length: 12
                  pos: 44504
                  length: 26
                pos: 44484
                length: 46
              - type: local_variable_declaration
                fields:
                  text: SourceFile input = getSourceFileByName(sourceName);
                children: []
                pos: 44535
                length: 51
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: input
                            children: []
                            pos: 44595
                            length: 5
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 44604
                            length: 4
                        children: []
                        pos: 44595
                        length: 13
                    children: []
                    pos: 44594
                    length: 15
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return input.getLine(lineNumber);
                    children: []
                    pos: 44618
                    length: 33
                  pos: 44610
                  length: 47
                pos: 44591
                length: 66
              - type: return_statement
                fields:
                  text: return null;
                children: []
                pos: 44662
                length: 12
              pos: 44478
              length: 200
          children: []
          pos: 44415
          length: 263
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getSourceRegion
              children: []
              pos: 44696
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String sourceName
                children: []
                pos: 44712
                length: 17
              pos: 44682
              length: 267
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: less_than
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: lineNumber
                            children: []
                            pos: 44757
                            length: 10
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '1'
                            children: []
                            pos: 44770
                            length: 1
                        children: []
                        pos: 44757
                        length: 14
                    children: []
                    pos: 44756
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return null;
                    children: []
                    pos: 44781
                    length: 12
                  pos: 44773
                  length: 26
                pos: 44753
                length: 46
              - type: local_variable_declaration
                fields:
                  text: SourceFile input = getSourceFileByName(sourceName);
                children: []
                pos: 44804
                length: 51
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: input
                            children: []
                            pos: 44864
                            length: 5
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 44873
                            length: 4
                        children: []
                        pos: 44864
                        length: 13
                    children: []
                    pos: 44863
                    length: 15
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return input.getRegion(lineNumber);
                    children: []
                    pos: 44887
                    length: 35
                  pos: 44879
                  length: 49
                pos: 44860
                length: 68
              - type: return_statement
                fields:
                  text: return null;
                children: []
                pos: 44933
                length: 12
              pos: 44747
              length: 202
          children: []
          pos: 44682
          length: 267
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getNodeForCodeInsertion
              children: []
              pos: 45154
              length: 23
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSModule module
                children: []
                pos: 45178
                length: 15
              pos: 45137
              length: 633
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: module
                            children: []
                            pos: 45205
                            length: 6
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 45215
                            length: 4
                        children: []
                        pos: 45205
                        length: 14
                    children: []
                    pos: 45204
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: equals
                            fields:
                              left:
                                type: field_access
                                fields:
                                  text: inputs.length
                                children: []
                                pos: 45233
                                length: 13
                              right:
                                type: decimal_integer_literal
                                fields:
                                  text: '0'
                                children: []
                                pos: 45250
                                length: 1
                            children: []
                            pos: 45233
                            length: 18
                        children: []
                        pos: 45232
                        length: 20
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: throw_statement
                        fields:
                          text: throw new IllegalStateException("No inputs");
                        children: []
                        pos: 45263
                        length: 45
                      pos: 45253
                      length: 63
                    pos: 45229
                    length: 87
                  - type: return_statement
                    fields:
                      text: return inputs[0].getAstRoot(this);
                    children: []
                    pos: 45324
                    length: 34
                  pos: 45221
                  length: 143
                pos: 45201
                length: 163
              - type: local_variable_declaration
                fields:
                  text: List<CompilerInput> inputs = module.getInputs();
                children: []
                pos: 45370
                length: 48
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: greater_than
                        fields:
                          left:
                            type: method_invocation
                            fields:
                              text: inputs.size()
                            children: []
                            pos: 45427
                            length: 13
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '0'
                            children: []
                            pos: 45443
                            length: 1
                        children: []
                        pos: 45427
                        length: 17
                    children: []
                    pos: 45426
                    length: 19
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return inputs.get(0).getAstRoot(this);
                    children: []
                    pos: 45454
                    length: 38
                  pos: 45446
                  length: 52
                pos: 45423
                length: 75
              - type: enhanced_for_statement
                fields:
                  text: |-
                    for (JSModule m : getModuleGraph().getTransitiveDepsDeepestFirst(module)) {
                          inputs = m.getInputs();
                          if (inputs.size() > 0) {
                            return inputs.get(0).getAstRoot(this);
                          }
                        }
                children: []
                pos: 45503
                length: 197
              - type: throw_statement
                fields:
                  text: throw new IllegalStateException("Root module has no inputs");
                children: []
                pos: 45705
                length: 61
              pos: 45195
              length: 575
          children: []
          pos: 45137
          length: 633
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getSourceMap
              children: []
              pos: 45791
              length: 12
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 45774
              length: 59
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return sourceMap;
                children: []
                pos: 45812
                length: 17
              pos: 45806
              length: 27
          children: []
          pos: 45774
          length: 59
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getVariableMap
              children: []
              pos: 45849
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 45837
              length: 97
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getPassConfig().getIntermediateState().variableMap;
                children: []
                pos: 45872
                length: 58
              pos: 45866
              length: 68
          children: []
          pos: 45837
          length: 97
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getPropertyMap
              children: []
              pos: 45950
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 45938
              length: 97
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getPassConfig().getIntermediateState().propertyMap;
                children: []
                pos: 45973
                length: 58
              pos: 45967
              length: 68
          children: []
          pos: 45938
          length: 97
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getOptions
              children: []
              pos: 46055
              length: 10
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 46039
              length: 54
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return options;
                children: []
                pos: 46074
                length: 15
              pos: 46068
              length: 25
          children: []
          pos: 46039
          length: 54
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getFunctionalInformationMap
              children: []
              pos: 46120
              length: 27
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 46097
              length: 93
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return functionInformationMap;
                children: []
                pos: 46156
                length: 30
              pos: 46150
              length: 40
          children: []
          pos: 46097
          length: 93
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setLoggingLevel
              children: []
              pos: 46299
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Level level
                children: []
                pos: 46315
                length: 11
              pos: 46280
              length: 81
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: logger.setLevel(level);
                children: []
                pos: 46334
                length: 23
              pos: 46328
              length: 33
          children: []
          pos: 46280
          length: 81
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getAstDotGraph
              children: []
              pos: 46455
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 46441
              length: 274
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: jsRoot
                            children: []
                            pos: 46501
                            length: 6
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 46511
                            length: 4
                        children: []
                        pos: 46501
                        length: 14
                    children: []
                    pos: 46500
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: ControlFlowAnalysis cfa = new ControlFlowAnalysis(this,
                        true);
                    children: []
                    pos: 46525
                    length: 62
                  - type: expression_statement
                    fields:
                      text: cfa.process(null, jsRoot);
                    children: []
                    pos: 46594
                    length: 26
                  - type: return_statement
                    fields:
                      text: return DotFormatter.toDot(jsRoot, cfa.getCfg());
                    children: []
                    pos: 46627
                    length: 48
                  pos: 46517
                  length: 164
                pos: 46497
                length: 214
              pos: 46491
              length: 224
          children: []
          pos: 46441
          length: 274
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getErrorManager
              children: []
              pos: 46751
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 46719
              length: 155
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: options
                            children: []
                            pos: 46779
                            length: 7
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 46790
                            length: 4
                        children: []
                        pos: 46779
                        length: 15
                    children: []
                    pos: 46778
                    length: 17
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: initOptions(new CompilerOptions());
                    children: []
                    pos: 46804
                    length: 35
                  pos: 46796
                  length: 49
                pos: 46775
                length: 70
              - type: return_statement
                fields:
                  text: return errorManager;
                children: []
                pos: 46850
                length: 20
              pos: 46769
              length: 105
          children: []
          pos: 46719
          length: 155
        - type: class_declaration
          fields:
            name:
              type: identifier
              fields:
                text: IntermediateState
              children: []
              pos: 47496
              length: 17
            body:
              type: class_body
              fields: {}
              children:
              - type: field_declaration
                fields:
                  text: private static final long serialVersionUID = 1L;
                children: []
                pos: 47544
                length: 48
              - type: field_declaration
                fields:
                  text: Node externsRoot;
                children: []
                pos: 47598
                length: 17
              - type: field_declaration
                fields:
                  text: private Node jsRoot;
                children: []
                pos: 47620
                length: 20
              - type: field_declaration
                fields:
                  text: private CompilerInput[] externs;
                children: []
                pos: 47645
                length: 32
              - type: field_declaration
                fields:
                  text: private CompilerInput[] inputs;
                children: []
                pos: 47682
                length: 31
              - type: field_declaration
                fields:
                  text: private JSModule[] modules;
                children: []
                pos: 47718
                length: 27
              - type: field_declaration
                fields:
                  text: private PassConfig.State passConfigState;
                children: []
                pos: 47750
                length: 41
              - type: field_declaration
                fields:
                  text: private JSTypeRegistry typeRegistry;
                children: []
                pos: 47796
                length: 36
              - type: field_declaration
                fields:
                  text: private boolean normalized;
                children: []
                pos: 47837
                length: 27
              - type: constructor_declaration
                fields:
                  text: private IntermediateState() {}
                children: []
                pos: 47870
                length: 30
              pos: 47476
              length: 428
          children: []
          pos: 47476
          length: 428
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getState
              children: []
              pos: 48025
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 48000
              length: 406
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: IntermediateState state = new IntermediateState();
                children: []
                pos: 48042
                length: 50
              - type: expression_statement
                fields:
                  text: state.externsRoot = externsRoot;
                children: []
                pos: 48097
                length: 32
              - type: expression_statement
                fields:
                  text: state.jsRoot = jsRoot;
                children: []
                pos: 48134
                length: 22
              - type: expression_statement
                fields:
                  text: state.externs = externs;
                children: []
                pos: 48161
                length: 24
              - type: expression_statement
                fields:
                  text: state.inputs = inputs;
                children: []
                pos: 48190
                length: 22
              - type: expression_statement
                fields:
                  text: state.modules = modules;
                children: []
                pos: 48217
                length: 24
              - type: expression_statement
                fields:
                  text: state.passConfigState = getPassConfig().getIntermediateState();
                children: []
                pos: 48246
                length: 63
              - type: expression_statement
                fields:
                  text: state.typeRegistry = typeRegistry;
                children: []
                pos: 48314
                length: 34
              - type: expression_statement
                fields:
                  text: state.normalized = normalized;
                children: []
                pos: 48353
                length: 30
              - type: return_statement
                fields:
                  text: return state;
                children: []
                pos: 48389
                length: 13
              pos: 48036
              length: 370
          children: []
          pos: 48000
          length: 406
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setState
              children: []
              pos: 48555
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: IntermediateState state
                children: []
                pos: 48564
                length: 23
              pos: 48543
              length: 380
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: externsRoot = state.externsRoot;
                children: []
                pos: 48595
                length: 32
              - type: expression_statement
                fields:
                  text: jsRoot = state.jsRoot;
                children: []
                pos: 48632
                length: 22
              - type: expression_statement
                fields:
                  text: externs = state.externs;
                children: []
                pos: 48659
                length: 24
              - type: expression_statement
                fields:
                  text: inputs = state.inputs;
                children: []
                pos: 48688
                length: 22
              - type: expression_statement
                fields:
                  text: modules = state.modules;
                children: []
                pos: 48715
                length: 24
              - type: expression_statement
                fields:
                  text: passes = createPassConfigInternal();
                children: []
                pos: 48744
                length: 36
              - type: expression_statement
                fields:
                  text: getPassConfig().setIntermediateState(state.passConfigState);
                children: []
                pos: 48785
                length: 60
              - type: expression_statement
                fields:
                  text: typeRegistry = state.typeRegistry;
                children: []
                pos: 48850
                length: 34
              - type: expression_statement
                fields:
                  text: normalized = state.normalized;
                children: []
                pos: 48889
                length: 30
              pos: 48589
              length: 334
          children: []
          pos: 48543
          length: 380
        pos: 2105
        length: 46820
    children: []
    pos: 2105
    length: 46820
  pos: 0
  length: 48926
text_diff: "--- before\n+++ after\n@@ -261,7 +261,6 @@\n     initOptions(options);\n
  \n     checkFirstModule(modules);\n-    fillEmptyModules(modules);\n \n     this.externs
  = makeCompilerInput(externs, true);\n     this.modules = modules;\n@@ -326,14 +325,6
  @@\n    * Fill any empty modules with a place holder file. It makes any cross module\n
  \   * motion easier.\n    */\n-  private void fillEmptyModules(JSModule[] modules)
  {\n-    for (int i = 1; i < modules.length; i ++) {\n-      JSModule module = modules[i];\n-
  \     if (module.getInputs().isEmpty()) {\n-        module.add(JSSourceFile.fromCode(\"[\"
  + module.getName() + \"]\", \"\"));\n-      }\n-    }\n-  }\n   \n   static final
  DiagnosticType DUPLICATE_INPUT_IN_MODULES =\n       DiagnosticType.error(\"JSC_DUPLICATE_INPUT_IN_MODULES_ERROR\",\n@@
  -1588,6 +1579,12 @@\n     if (inputs.size() > 0) {\n       return inputs.get(0).getAstRoot(this);\n
  \    }\n+    for (JSModule m : getModuleGraph().getTransitiveDepsDeepestFirst(module))
  {\n+      inputs = m.getInputs();\n+      if (inputs.size() > 0) {\n+        return
  inputs.get(0).getAstRoot(this);\n+      }\n+    }\n     throw new IllegalStateException(\"Root
  module has no inputs\");\n   }\n \n"
tree_diff: |+
  New cluster:
  ===
  insert-node
  ---
  enhanced_for_statement: for (JSModule m : getModuleGraph().getTransitiveDepsDeepestFirst(module)) {
        inputs = m.getInputs();
        if (inputs.size() > 0) {
          return inputs.get(0).getAstRoot(this);
        }
      } [45503,45700]
  to
  block [45501,45874]
  at 3
  ------------
  ===
  insert-node
  ---
  enhanced_for_statement: for (JSModule m : getModuleGraph().getTransitiveDepsDeepestFirst(module)) {
        inputs = m.getInputs();
        if (inputs.size() > 0) {
          return inputs.get(0).getAstRoot(this);
        }
      } [45503,45700]
  to
  block [45501,45874]
  at 3

  New cluster:
  ===
  delete-node
  ---
  expression_statement: fillEmptyModules(modules); [7903,7929]
  ===
  ------------
  ===
  delete-node
  ---
  expression_statement: fillEmptyModules(modules); [7903,7929]
  ===

  New cluster:
  Unknown cluster type
  ------------
  ===
  delete-tree
  ---
  method_declaration [10036,10308]
      identifier: fillEmptyModules [10049,10065]
      method_parameters [10036,10308]
          formal_parameter: JSModule[] modules [10066,10084]
      block [10086,10308]
          for_statement: for (int i = 1; i < modules.length; i ++) {
        JSModule module = modules[i];
        if (module.getInputs().isEmpty()) {
          module.add(JSSourceFile.fromCode("[" + module.getName() + "]", ""));
        }
      } [10092,10304]

...
