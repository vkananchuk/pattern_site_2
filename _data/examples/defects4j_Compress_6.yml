---
language: java
before_tree:
  type: program
  fields: {}
  children:
  - type: class_declaration
    fields:
      name:
        type: identifier
        fields:
          text: ZipArchiveEntry
        children: []
        pos: 1206
        length: 15
      body:
        type: class_body
        fields: {}
        children:
        - type: field_declaration
          fields:
            text: public static final int PLATFORM_UNIX = 3;
          children: []
          pos: 1299
          length: 42
        - type: field_declaration
          fields:
            text: public static final int PLATFORM_FAT  = 0;
          children: []
          pos: 1346
          length: 42
        - type: field_declaration
          fields:
            text: private static final int SHORT_MASK = 0xFFFF;
          children: []
          pos: 1393
          length: 45
        - type: field_declaration
          fields:
            text: private static final int SHORT_SHIFT = 16;
          children: []
          pos: 1443
          length: 42
        - type: field_declaration
          fields:
            text: private int method = -1;
          children: []
          pos: 1895
          length: 24
        - type: field_declaration
          fields:
            text: private int internalAttributes = 0;
          children: []
          pos: 1925
          length: 35
        - type: field_declaration
          fields:
            text: private int platform = PLATFORM_FAT;
          children: []
          pos: 1965
          length: 36
        - type: field_declaration
          fields:
            text: private long externalAttributes = 0;
          children: []
          pos: 2006
          length: 36
        - type: field_declaration
          fields:
            text: private LinkedHashMap/*<ZipShort, ZipExtraField>*/ extraFields =
              null;
          children: []
          pos: 2047
          length: 70
        - type: field_declaration
          fields:
            text: private String name = null;
          children: []
          pos: 2122
          length: 27
        - type: constructor_declaration
          fields:
            text: |-
              public ZipArchiveEntry(String name) {
                      super(name);
                      setName(name);
                  }
          children: []
          pos: 2268
          length: 87
        - type: constructor_declaration
          fields:
            text: |-
              public ZipArchiveEntry(java.util.zip.ZipEntry entry) throws ZipException {
                      super(entry);
                      setName(entry.getName());
                      byte[] extra = entry.getExtra();
                      if (extra != null) {
                          setExtraFields(ExtraFieldUtils.parse(extra));
                      } else {
                          // initializes extra data to an empty byte array
                          setExtra();
                      }
                      setMethod(entry.getMethod());
                  }
          children: []
          pos: 2542
          length: 414
        - type: constructor_declaration
          fields:
            text: |-
              public ZipArchiveEntry(ZipArchiveEntry entry) throws ZipException {
                      this((java.util.zip.ZipEntry) entry);
                      setInternalAttributes(entry.getInternalAttributes());
                      setExternalAttributes(entry.getExternalAttributes());
                      setExtraFields(entry.getExtraFields());
                  }
          children: []
          pos: 3143
          length: 291
        - type: constructor_declaration
          fields:
            text: |-
              protected ZipArchiveEntry() {
                      this("");
                  }
          children: []
          pos: 3456
          length: 53
        - type: constructor_declaration
          fields:
            text: "public ZipArchiveEntry(File inputFile, String entryName) {\n        this(inputFile.isDirectory()
              && !entryName.endsWith(\"/\") ? \n             entryName + \"/\" : entryName);\n
              \       if (inputFile.isFile()){\n            setSize(inputFile.length());\n
              \       }\n        setTime(inputFile.lastModified());\n        // TODO
              are there any other fields we can set here?\n    }"
          children: []
          pos: 3515
          length: 362
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: clone
              children: []
              pos: 3990
              length: 5
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 3976
              length: 359
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: ZipArchiveEntry e = (ZipArchiveEntry) super.clone();
                children: []
                pos: 4008
                length: 52
              - type: expression_statement
                fields:
                  text: 'e.extraFields = extraFields != null ? (LinkedHashMap) extraFields.clone()
                    : null;'
                children: []
                pos: 4070
                length: 81
              - type: expression_statement
                fields:
                  text: e.setInternalAttributes(getInternalAttributes());
                children: []
                pos: 4160
                length: 49
              - type: expression_statement
                fields:
                  text: e.setExternalAttributes(getExternalAttributes());
                children: []
                pos: 4218
                length: 49
              - type: expression_statement
                fields:
                  text: e.setExtraFields(getExtraFields());
                children: []
                pos: 4276
                length: 35
              - type: return_statement
                fields:
                  text: return e;
                children: []
                pos: 4320
                length: 9
              pos: 3998
              length: 337
          children: []
          pos: 3976
          length: 359
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isSupportedCompressionMethod
              children: []
              pos: 4781
              length: 28
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 4766
              length: 108
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return method == STORED || method == DEFLATED;
                children: []
                pos: 4822
                length: 46
              pos: 4812
              length: 62
          children: []
          pos: 4766
          length: 108
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getMethod
              children: []
              pos: 5064
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 5053
              length: 53
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return method;
                children: []
                pos: 5086
                length: 14
              pos: 5076
              length: 30
          children: []
          pos: 5053
          length: 53
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setMethod
              children: []
              pos: 5237
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: int method
                children: []
                pos: 5247
                length: 10
              pos: 5225
              length: 233
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: less_than
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: method
                            children: []
                            pos: 5273
                            length: 6
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '0'
                            children: []
                            pos: 5282
                            length: 1
                        children: []
                        pos: 5273
                        length: 10
                    children: []
                    pos: 5272
                    length: 12
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: |-
                        throw new IllegalArgumentException(
                                            "ZIP compression method can not be negative: " + method);
                    children: []
                    pos: 5299
                    length: 113
                  pos: 5285
                  length: 137
                pos: 5269
                length: 153
              - type: expression_statement
                fields:
                  text: this.method = method;
                children: []
                pos: 5431
                length: 21
              pos: 5259
              length: 199
          children: []
          pos: 5225
          length: 233
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getInternalAttributes
              children: []
              pos: 5589
              length: 21
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 5578
              length: 77
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return internalAttributes;
                children: []
                pos: 5623
                length: 26
              pos: 5613
              length: 42
          children: []
          pos: 5578
          length: 77
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setInternalAttributes
              children: []
              pos: 5777
              length: 21
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: int value
                children: []
                pos: 5799
                length: 9
              pos: 5765
              length: 88
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: internalAttributes = value;
                children: []
                pos: 5820
                length: 27
              pos: 5810
              length: 43
          children: []
          pos: 5765
          length: 88
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getExternalAttributes
              children: []
              pos: 5978
              length: 21
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 5966
              length: 78
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return externalAttributes;
                children: []
                pos: 6012
                length: 26
              pos: 6002
              length: 42
          children: []
          pos: 5966
          length: 78
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setExternalAttributes
              children: []
              pos: 6167
              length: 21
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: long value
                children: []
                pos: 6189
                length: 10
              pos: 6155
              length: 89
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: externalAttributes = value;
                children: []
                pos: 6211
                length: 27
              pos: 6201
              length: 43
          children: []
          pos: 6155
          length: 89
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setUnixMode
              children: []
              pos: 6416
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: int mode
                children: []
                pos: 6428
                length: 8
              pos: 6404
              length: 460
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: |-
                    setExternalAttributes((mode << SHORT_SHIFT)
                                                  // MS-DOS read-only attribute
                                                  | ((mode & 0200) == 0 ? 1 : 0)
                                                  // MS-DOS directory flag
                                                  | (isDirectory() ? 0x10 : 0));
                children: []
                pos: 6502
                length: 280
              - type: expression_statement
                fields:
                  text: platform = PLATFORM_UNIX;
                children: []
                pos: 6833
                length: 25
              pos: 6438
              length: 426
          children: []
          pos: 6404
          length: 460
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getUnixMode
              children: []
              pos: 6957
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 6946
              length: 154
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return platform != PLATFORM_UNIX ? 0 :
                                (int) ((getExternalAttributes() >> SHORT_SHIFT) & SHORT_MASK);
                children: []
                pos: 6981
                length: 113
              pos: 6971
              length: 129
          children: []
          pos: 6946
          length: 154
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getPlatform
              children: []
              pos: 7391
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 7380
              length: 57
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return platform;
                children: []
                pos: 7415
                length: 16
              pos: 7405
              length: 32
          children: []
          pos: 7380
          length: 57
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setPlatform
              children: []
              pos: 7584
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: int platform
                children: []
                pos: 7596
                length: 12
              pos: 7569
              length: 82
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: this.platform = platform;
                children: []
                pos: 7620
                length: 25
              pos: 7610
              length: 41
          children: []
          pos: 7569
          length: 82
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setExtraFields
              children: []
              pos: 7803
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: ZipExtraField[] fields
                children: []
                pos: 7818
                length: 22
              pos: 7791
              length: 246
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: extraFields = new LinkedHashMap();
                children: []
                pos: 7852
                length: 34
              - type: for_statement
                fields:
                  text: |-
                    for (int i = 0; i < fields.length; i++) {
                                extraFields.put(fields[i].getHeaderId(), fields[i]);
                            }
                children: []
                pos: 7895
                length: 116
              - type: expression_statement
                fields:
                  text: setExtra();
                children: []
                pos: 8020
                length: 11
              pos: 7842
              length: 195
          children: []
          pos: 7791
          length: 246
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getExtraFields
              children: []
              pos: 8157
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 8134
              length: 276
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: extraFields
                            children: []
                            pos: 8188
                            length: 11
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 8203
                            length: 4
                        children: []
                        pos: 8188
                        length: 19
                    children: []
                    pos: 8187
                    length: 21
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return new ZipExtraField[0];
                    children: []
                    pos: 8223
                    length: 28
                  pos: 8209
                  length: 52
                pos: 8184
                length: 77
              - type: local_variable_declaration
                fields:
                  text: ZipExtraField[] result = new ZipExtraField[extraFields.size()];
                children: []
                pos: 8270
                length: 63
              - type: return_statement
                fields:
                  text: return (ZipExtraField[]) extraFields.values().toArray(result);
                children: []
                pos: 8342
                length: 62
              pos: 8174
              length: 236
          children: []
          pos: 8134
          length: 276
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: addExtraField
              children: []
              pos: 8682
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: ZipExtraField ze
                children: []
                pos: 8696
                length: 16
              pos: 8670
              length: 210
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: extraFields
                            children: []
                            pos: 8728
                            length: 11
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 8743
                            length: 4
                        children: []
                        pos: 8728
                        length: 19
                    children: []
                    pos: 8727
                    length: 21
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: extraFields = new LinkedHashMap();
                    children: []
                    pos: 8763
                    length: 34
                  pos: 8749
                  length: 58
                pos: 8724
                length: 83
              - type: expression_statement
                fields:
                  text: extraFields.put(ze.getHeaderId(), ze);
                children: []
                pos: 8816
                length: 38
              - type: expression_statement
                fields:
                  text: setExtra();
                children: []
                pos: 8863
                length: 11
              pos: 8714
              length: 166
          children: []
          pos: 8670
          length: 210
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: addAsFirstExtraField
              children: []
              pos: 9106
              length: 20
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: ZipExtraField ze
                children: []
                pos: 9127
                length: 16
              pos: 9094
              length: 329
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: LinkedHashMap copy = extraFields;
                children: []
                pos: 9155
                length: 33
              - type: expression_statement
                fields:
                  text: extraFields = new LinkedHashMap();
                children: []
                pos: 9197
                length: 34
              - type: expression_statement
                fields:
                  text: extraFields.put(ze.getHeaderId(), ze);
                children: []
                pos: 9240
                length: 38
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: copy
                            children: []
                            pos: 9291
                            length: 4
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 9299
                            length: 4
                        children: []
                        pos: 9291
                        length: 12
                    children: []
                    pos: 9290
                    length: 14
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: copy.remove(ze.getHeaderId());
                    children: []
                    pos: 9319
                    length: 30
                  - type: expression_statement
                    fields:
                      text: extraFields.putAll(copy);
                    children: []
                    pos: 9362
                    length: 25
                  pos: 9305
                  length: 92
                pos: 9287
                length: 110
              - type: expression_statement
                fields:
                  text: setExtra();
                children: []
                pos: 9406
                length: 11
              pos: 9145
              length: 278
          children: []
          pos: 9094
          length: 329
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: removeExtraField
              children: []
              pos: 9541
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: ZipShort type
                children: []
                pos: 9558
                length: 13
              pos: 9529
              length: 290
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: extraFields
                            children: []
                            pos: 9587
                            length: 11
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 9602
                            length: 4
                        children: []
                        pos: 9587
                        length: 19
                    children: []
                    pos: 9586
                    length: 21
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: throw new java.util.NoSuchElementException();
                    children: []
                    pos: 9622
                    length: 45
                  pos: 9608
                  length: 69
                pos: 9583
                length: 94
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: method_invocation
                            fields:
                              text: extraFields.remove(type)
                            children: []
                            pos: 9690
                            length: 24
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 9718
                            length: 4
                        children: []
                        pos: 9690
                        length: 32
                    children: []
                    pos: 9689
                    length: 34
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: throw new java.util.NoSuchElementException();
                    children: []
                    pos: 9738
                    length: 45
                  pos: 9724
                  length: 69
                pos: 9686
                length: 107
              - type: expression_statement
                fields:
                  text: setExtra();
                children: []
                pos: 9802
                length: 11
              pos: 9573
              length: 246
          children: []
          pos: 9529
          length: 290
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getExtraField
              children: []
              pos: 9963
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: ZipShort type
                children: []
                pos: 9977
                length: 13
              pos: 9942
              length: 181
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: extraFields
                            children: []
                            pos: 10006
                            length: 11
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 10021
                            length: 4
                        children: []
                        pos: 10006
                        length: 19
                    children: []
                    pos: 10005
                    length: 21
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return (ZipExtraField) extraFields.get(type);
                    children: []
                    pos: 10041
                    length: 45
                  pos: 10027
                  length: 69
                pos: 10002
                length: 94
              - type: return_statement
                fields:
                  text: return null;
                children: []
                pos: 10105
                length: 12
              pos: 9992
              length: 131
          children: []
          pos: 9942
          length: 181
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setExtra
              children: []
              pos: 10406
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: byte[] extra
                children: []
                pos: 10415
                length: 12
              pos: 10394
              length: 299
            body:
              type: block
              fields: {}
              children:
              - type: try_statement
                fields:
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: local_variable_declaration
                      fields:
                        text: ZipExtraField[] local = ExtraFieldUtils.parse(extra,
                          true);
                      children: []
                      pos: 10481
                      length: 59
                    - type: expression_statement
                      fields:
                        text: mergeExtraFields(local, true);
                      children: []
                      pos: 10553
                      length: 30
                    pos: 10467
                    length: 126
                  excepts:
                    type: excepts
                    fields: {}
                    children:
                    - type: catch_clause
                      fields:
                        text: |-
                          catch (ZipException e) {
                                      throw new RuntimeException(e.getMessage(), e);
                                  }
                      children: []
                      pos: 10594
                      length: 93
                    pos: 10463
                    length: 224
                children: []
                pos: 10463
                length: 224
              pos: 10453
              length: 240
          children: []
          pos: 10394
          length: 299
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setExtra
              children: []
              pos: 10960
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 10945
              length: 115
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: super.setExtra(ExtraFieldUtils.mergeLocalFileDataData(getExtraFields()));
                children: []
                pos: 10981
                length: 73
              pos: 10971
              length: 89
          children: []
          pos: 10945
          length: 115
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setCentralDirectoryExtra
              children: []
              pos: 11150
              length: 24
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: byte[] b
                children: []
                pos: 11175
                length: 8
              pos: 11138
              length: 289
            body:
              type: block
              fields: {}
              children:
              - type: try_statement
                fields:
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: local_variable_declaration
                      fields:
                        text: ZipExtraField[] central = ExtraFieldUtils.parse(b, false);
                      children: []
                      pos: 11213
                      length: 58
                    - type: expression_statement
                      fields:
                        text: mergeExtraFields(central, false);
                      children: []
                      pos: 11284
                      length: 33
                    pos: 11199
                    length: 128
                  excepts:
                    type: excepts
                    fields: {}
                    children:
                    - type: catch_clause
                      fields:
                        text: |-
                          catch (ZipException e) {
                                      throw new RuntimeException(e.getMessage(), e);
                                  }
                      children: []
                      pos: 11328
                      length: 93
                    pos: 11195
                    length: 226
                children: []
                pos: 11195
                length: 226
              pos: 11185
              length: 242
          children: []
          pos: 11138
          length: 289
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getLocalFileDataExtra
              children: []
              pos: 11565
              length: 21
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 11551
              length: 132
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: byte[] extra = getExtra();
                children: []
                pos: 11599
                length: 26
              - type: return_statement
                fields:
                  text: 'return extra != null ? extra : new byte[0];'
                children: []
                pos: 11634
                length: 43
              pos: 11589
              length: 94
          children: []
          pos: 11551
          length: 132
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getCentralDirectoryExtra
              children: []
              pos: 11826
              length: 24
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 11812
              length: 124
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return ExtraFieldUtils.mergeCentralDirectoryData(getExtraFields());
                children: []
                pos: 11863
                length: 67
              pos: 11853
              length: 83
          children: []
          pos: 11812
          length: 124
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getName
              children: []
              pos: 12036
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 12022
              length: 85
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: 'return name == null ? super.getName() : name;'
                children: []
                pos: 12056
                length: 45
              pos: 12046
              length: 61
          children: []
          pos: 12022
          length: 85
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isDirectory
              children: []
              pos: 12226
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 12211
              length: 76
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getName().endsWith("/");
                children: []
                pos: 12250
                length: 31
              pos: 12240
              length: 47
          children: []
          pos: 12211
          length: 76
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setName
              children: []
              pos: 12393
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String name
                children: []
                pos: 12401
                length: 11
              pos: 12378
              length: 69
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: this.name = name;
                children: []
                pos: 12424
                length: 17
              pos: 12414
              length: 33
          children: []
          pos: 12378
          length: 69
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: hashCode
              children: []
              pos: 12588
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 12577
              length: 373
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getName().hashCode();
                children: []
                pos: 12916
                length: 28
              pos: 12599
              length: 351
          children: []
          pos: 12577
          length: 373
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: mergeExtraFields
              children: []
              pos: 13320
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: ZipExtraField[] f
                children: []
                pos: 13337
                length: 17
              pos: 13307
              length: 847
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: extraFields
                            children: []
                            pos: 13413
                            length: 11
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 13428
                            length: 4
                        children: []
                        pos: 13413
                        length: 19
                    children: []
                    pos: 13412
                    length: 21
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: setExtraFields(f);
                    children: []
                    pos: 13448
                    length: 18
                  pos: 13434
                  length: 42
                pos: 13409
                length: 739
              pos: 13399
              length: 755
          children: []
          pos: 13307
          length: 847
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getLastModifiedDate
              children: []
              pos: 14198
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 14186
              length: 77
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return new Date(getTime());
                children: []
                pos: 14230
                length: 27
              pos: 14220
              length: 43
          children: []
          pos: 14186
          length: 77
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: equals
              children: []
              pos: 14367
              length: 6
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Object obj
                children: []
                pos: 14374
                length: 10
              pos: 14352
              length: 548
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: this
                            fields: {}
                            children: []
                            pos: 14400
                            length: 4
                          right:
                            type: identifier
                            fields:
                              text: obj
                            children: []
                            pos: 14408
                            length: 3
                        children: []
                        pos: 14400
                        length: 11
                    children: []
                    pos: 14399
                    length: 13
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return true;
                    children: []
                    pos: 14427
                    length: 12
                  pos: 14413
                  length: 36
                pos: 14396
                length: 53
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: obj
                                children: []
                                pos: 14462
                                length: 3
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 14469
                                length: 4
                            children: []
                            pos: 14462
                            length: 11
                          right:
                            type: not_equals
                            fields:
                              left:
                                type: method_invocation
                                fields:
                                  text: getClass()
                                children: []
                                pos: 14477
                                length: 10
                              right:
                                type: method_invocation
                                fields:
                                  text: obj.getClass()
                                children: []
                                pos: 14491
                                length: 14
                            children: []
                            pos: 14477
                            length: 28
                        children: []
                        pos: 14462
                        length: 43
                    children: []
                    pos: 14461
                    length: 45
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return false;
                    children: []
                    pos: 14521
                    length: 13
                  pos: 14507
                  length: 37
                pos: 14458
                length: 86
              - type: local_variable_declaration
                fields:
                  text: ZipArchiveEntry other = (ZipArchiveEntry) obj;
                children: []
                pos: 14553
                length: 46
              - type: local_variable_declaration
                fields:
                  text: String myName = getName();
                children: []
                pos: 14608
                length: 26
              - type: local_variable_declaration
                fields:
                  text: String otherName = other.getName();
                children: []
                pos: 14643
                length: 35
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: myName
                            children: []
                            pos: 14691
                            length: 6
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 14701
                            length: 4
                        children: []
                        pos: 14691
                        length: 14
                    children: []
                    pos: 14690
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: not_equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: otherName
                                children: []
                                pos: 14725
                                length: 9
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 14738
                                length: 4
                            children: []
                            pos: 14725
                            length: 17
                        children: []
                        pos: 14724
                        length: 19
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: return_statement
                        fields:
                          text: return false;
                        children: []
                        pos: 14762
                        length: 13
                      pos: 14744
                      length: 45
                    pos: 14721
                    length: 68
                  pos: 14707
                  length: 92
                pos: 14687
                length: 186
              - type: return_statement
                fields:
                  text: return true;
                children: []
                pos: 14882
                length: 12
              pos: 14386
              length: 514
          children: []
          pos: 14352
          length: 548
        pos: 1193
        length: 13709
    children: []
    pos: 1193
    length: 13709
  pos: 0
  length: 14903
after_tree:
  type: program
  fields: {}
  children:
  - type: class_declaration
    fields:
      name:
        type: identifier
        fields:
          text: ZipArchiveEntry
        children: []
        pos: 1206
        length: 15
      body:
        type: class_body
        fields: {}
        children:
        - type: field_declaration
          fields:
            text: public static final int PLATFORM_UNIX = 3;
          children: []
          pos: 1299
          length: 42
        - type: field_declaration
          fields:
            text: public static final int PLATFORM_FAT  = 0;
          children: []
          pos: 1346
          length: 42
        - type: field_declaration
          fields:
            text: private static final int SHORT_MASK = 0xFFFF;
          children: []
          pos: 1393
          length: 45
        - type: field_declaration
          fields:
            text: private static final int SHORT_SHIFT = 16;
          children: []
          pos: 1443
          length: 42
        - type: field_declaration
          fields:
            text: private int method = -1;
          children: []
          pos: 1895
          length: 24
        - type: field_declaration
          fields:
            text: private int internalAttributes = 0;
          children: []
          pos: 1925
          length: 35
        - type: field_declaration
          fields:
            text: private int platform = PLATFORM_FAT;
          children: []
          pos: 1965
          length: 36
        - type: field_declaration
          fields:
            text: private long externalAttributes = 0;
          children: []
          pos: 2006
          length: 36
        - type: field_declaration
          fields:
            text: private LinkedHashMap/*<ZipShort, ZipExtraField>*/ extraFields =
              null;
          children: []
          pos: 2047
          length: 70
        - type: field_declaration
          fields:
            text: private String name = null;
          children: []
          pos: 2122
          length: 27
        - type: constructor_declaration
          fields:
            text: |-
              public ZipArchiveEntry(String name) {
                      super(name);
                  }
          children: []
          pos: 2268
          length: 64
        - type: constructor_declaration
          fields:
            text: |-
              public ZipArchiveEntry(java.util.zip.ZipEntry entry) throws ZipException {
                      super(entry);
                      setName(entry.getName());
                      byte[] extra = entry.getExtra();
                      if (extra != null) {
                          setExtraFields(ExtraFieldUtils.parse(extra));
                      } else {
                          // initializes extra data to an empty byte array
                          setExtra();
                      }
                      setMethod(entry.getMethod());
                  }
          children: []
          pos: 2519
          length: 414
        - type: constructor_declaration
          fields:
            text: |-
              public ZipArchiveEntry(ZipArchiveEntry entry) throws ZipException {
                      this((java.util.zip.ZipEntry) entry);
                      setInternalAttributes(entry.getInternalAttributes());
                      setExternalAttributes(entry.getExternalAttributes());
                      setExtraFields(entry.getExtraFields());
                  }
          children: []
          pos: 3120
          length: 291
        - type: constructor_declaration
          fields:
            text: |-
              protected ZipArchiveEntry() {
                      this("");
                  }
          children: []
          pos: 3433
          length: 53
        - type: constructor_declaration
          fields:
            text: "public ZipArchiveEntry(File inputFile, String entryName) {\n        this(inputFile.isDirectory()
              && !entryName.endsWith(\"/\") ? \n             entryName + \"/\" : entryName);\n
              \       if (inputFile.isFile()){\n            setSize(inputFile.length());\n
              \       }\n        setTime(inputFile.lastModified());\n        // TODO
              are there any other fields we can set here?\n    }"
          children: []
          pos: 3492
          length: 362
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: clone
              children: []
              pos: 3967
              length: 5
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 3953
              length: 359
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: ZipArchiveEntry e = (ZipArchiveEntry) super.clone();
                children: []
                pos: 3985
                length: 52
              - type: expression_statement
                fields:
                  text: 'e.extraFields = extraFields != null ? (LinkedHashMap) extraFields.clone()
                    : null;'
                children: []
                pos: 4047
                length: 81
              - type: expression_statement
                fields:
                  text: e.setInternalAttributes(getInternalAttributes());
                children: []
                pos: 4137
                length: 49
              - type: expression_statement
                fields:
                  text: e.setExternalAttributes(getExternalAttributes());
                children: []
                pos: 4195
                length: 49
              - type: expression_statement
                fields:
                  text: e.setExtraFields(getExtraFields());
                children: []
                pos: 4253
                length: 35
              - type: return_statement
                fields:
                  text: return e;
                children: []
                pos: 4297
                length: 9
              pos: 3975
              length: 337
          children: []
          pos: 3953
          length: 359
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isSupportedCompressionMethod
              children: []
              pos: 4758
              length: 28
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 4743
              length: 108
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return method == STORED || method == DEFLATED;
                children: []
                pos: 4799
                length: 46
              pos: 4789
              length: 62
          children: []
          pos: 4743
          length: 108
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getMethod
              children: []
              pos: 5041
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 5030
              length: 53
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return method;
                children: []
                pos: 5063
                length: 14
              pos: 5053
              length: 30
          children: []
          pos: 5030
          length: 53
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setMethod
              children: []
              pos: 5214
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: int method
                children: []
                pos: 5224
                length: 10
              pos: 5202
              length: 233
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: less_than
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: method
                            children: []
                            pos: 5250
                            length: 6
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '0'
                            children: []
                            pos: 5259
                            length: 1
                        children: []
                        pos: 5250
                        length: 10
                    children: []
                    pos: 5249
                    length: 12
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: |-
                        throw new IllegalArgumentException(
                                            "ZIP compression method can not be negative: " + method);
                    children: []
                    pos: 5276
                    length: 113
                  pos: 5262
                  length: 137
                pos: 5246
                length: 153
              - type: expression_statement
                fields:
                  text: this.method = method;
                children: []
                pos: 5408
                length: 21
              pos: 5236
              length: 199
          children: []
          pos: 5202
          length: 233
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getInternalAttributes
              children: []
              pos: 5566
              length: 21
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 5555
              length: 77
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return internalAttributes;
                children: []
                pos: 5600
                length: 26
              pos: 5590
              length: 42
          children: []
          pos: 5555
          length: 77
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setInternalAttributes
              children: []
              pos: 5754
              length: 21
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: int value
                children: []
                pos: 5776
                length: 9
              pos: 5742
              length: 88
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: internalAttributes = value;
                children: []
                pos: 5797
                length: 27
              pos: 5787
              length: 43
          children: []
          pos: 5742
          length: 88
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getExternalAttributes
              children: []
              pos: 5955
              length: 21
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 5943
              length: 78
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return externalAttributes;
                children: []
                pos: 5989
                length: 26
              pos: 5979
              length: 42
          children: []
          pos: 5943
          length: 78
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setExternalAttributes
              children: []
              pos: 6144
              length: 21
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: long value
                children: []
                pos: 6166
                length: 10
              pos: 6132
              length: 89
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: externalAttributes = value;
                children: []
                pos: 6188
                length: 27
              pos: 6178
              length: 43
          children: []
          pos: 6132
          length: 89
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setUnixMode
              children: []
              pos: 6393
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: int mode
                children: []
                pos: 6405
                length: 8
              pos: 6381
              length: 460
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: |-
                    setExternalAttributes((mode << SHORT_SHIFT)
                                                  // MS-DOS read-only attribute
                                                  | ((mode & 0200) == 0 ? 1 : 0)
                                                  // MS-DOS directory flag
                                                  | (isDirectory() ? 0x10 : 0));
                children: []
                pos: 6479
                length: 280
              - type: expression_statement
                fields:
                  text: platform = PLATFORM_UNIX;
                children: []
                pos: 6810
                length: 25
              pos: 6415
              length: 426
          children: []
          pos: 6381
          length: 460
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getUnixMode
              children: []
              pos: 6934
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 6923
              length: 154
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return platform != PLATFORM_UNIX ? 0 :
                                (int) ((getExternalAttributes() >> SHORT_SHIFT) & SHORT_MASK);
                children: []
                pos: 6958
                length: 113
              pos: 6948
              length: 129
          children: []
          pos: 6923
          length: 154
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getPlatform
              children: []
              pos: 7368
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 7357
              length: 57
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return platform;
                children: []
                pos: 7392
                length: 16
              pos: 7382
              length: 32
          children: []
          pos: 7357
          length: 57
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setPlatform
              children: []
              pos: 7561
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: int platform
                children: []
                pos: 7573
                length: 12
              pos: 7546
              length: 82
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: this.platform = platform;
                children: []
                pos: 7597
                length: 25
              pos: 7587
              length: 41
          children: []
          pos: 7546
          length: 82
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setExtraFields
              children: []
              pos: 7780
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: ZipExtraField[] fields
                children: []
                pos: 7795
                length: 22
              pos: 7768
              length: 246
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: extraFields = new LinkedHashMap();
                children: []
                pos: 7829
                length: 34
              - type: for_statement
                fields:
                  text: |-
                    for (int i = 0; i < fields.length; i++) {
                                extraFields.put(fields[i].getHeaderId(), fields[i]);
                            }
                children: []
                pos: 7872
                length: 116
              - type: expression_statement
                fields:
                  text: setExtra();
                children: []
                pos: 7997
                length: 11
              pos: 7819
              length: 195
          children: []
          pos: 7768
          length: 246
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getExtraFields
              children: []
              pos: 8134
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 8111
              length: 276
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: extraFields
                            children: []
                            pos: 8165
                            length: 11
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 8180
                            length: 4
                        children: []
                        pos: 8165
                        length: 19
                    children: []
                    pos: 8164
                    length: 21
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return new ZipExtraField[0];
                    children: []
                    pos: 8200
                    length: 28
                  pos: 8186
                  length: 52
                pos: 8161
                length: 77
              - type: local_variable_declaration
                fields:
                  text: ZipExtraField[] result = new ZipExtraField[extraFields.size()];
                children: []
                pos: 8247
                length: 63
              - type: return_statement
                fields:
                  text: return (ZipExtraField[]) extraFields.values().toArray(result);
                children: []
                pos: 8319
                length: 62
              pos: 8151
              length: 236
          children: []
          pos: 8111
          length: 276
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: addExtraField
              children: []
              pos: 8659
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: ZipExtraField ze
                children: []
                pos: 8673
                length: 16
              pos: 8647
              length: 210
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: extraFields
                            children: []
                            pos: 8705
                            length: 11
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 8720
                            length: 4
                        children: []
                        pos: 8705
                        length: 19
                    children: []
                    pos: 8704
                    length: 21
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: extraFields = new LinkedHashMap();
                    children: []
                    pos: 8740
                    length: 34
                  pos: 8726
                  length: 58
                pos: 8701
                length: 83
              - type: expression_statement
                fields:
                  text: extraFields.put(ze.getHeaderId(), ze);
                children: []
                pos: 8793
                length: 38
              - type: expression_statement
                fields:
                  text: setExtra();
                children: []
                pos: 8840
                length: 11
              pos: 8691
              length: 166
          children: []
          pos: 8647
          length: 210
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: addAsFirstExtraField
              children: []
              pos: 9083
              length: 20
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: ZipExtraField ze
                children: []
                pos: 9104
                length: 16
              pos: 9071
              length: 329
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: LinkedHashMap copy = extraFields;
                children: []
                pos: 9132
                length: 33
              - type: expression_statement
                fields:
                  text: extraFields = new LinkedHashMap();
                children: []
                pos: 9174
                length: 34
              - type: expression_statement
                fields:
                  text: extraFields.put(ze.getHeaderId(), ze);
                children: []
                pos: 9217
                length: 38
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: copy
                            children: []
                            pos: 9268
                            length: 4
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 9276
                            length: 4
                        children: []
                        pos: 9268
                        length: 12
                    children: []
                    pos: 9267
                    length: 14
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: copy.remove(ze.getHeaderId());
                    children: []
                    pos: 9296
                    length: 30
                  - type: expression_statement
                    fields:
                      text: extraFields.putAll(copy);
                    children: []
                    pos: 9339
                    length: 25
                  pos: 9282
                  length: 92
                pos: 9264
                length: 110
              - type: expression_statement
                fields:
                  text: setExtra();
                children: []
                pos: 9383
                length: 11
              pos: 9122
              length: 278
          children: []
          pos: 9071
          length: 329
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: removeExtraField
              children: []
              pos: 9518
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: ZipShort type
                children: []
                pos: 9535
                length: 13
              pos: 9506
              length: 290
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: extraFields
                            children: []
                            pos: 9564
                            length: 11
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 9579
                            length: 4
                        children: []
                        pos: 9564
                        length: 19
                    children: []
                    pos: 9563
                    length: 21
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: throw new java.util.NoSuchElementException();
                    children: []
                    pos: 9599
                    length: 45
                  pos: 9585
                  length: 69
                pos: 9560
                length: 94
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: method_invocation
                            fields:
                              text: extraFields.remove(type)
                            children: []
                            pos: 9667
                            length: 24
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 9695
                            length: 4
                        children: []
                        pos: 9667
                        length: 32
                    children: []
                    pos: 9666
                    length: 34
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: throw new java.util.NoSuchElementException();
                    children: []
                    pos: 9715
                    length: 45
                  pos: 9701
                  length: 69
                pos: 9663
                length: 107
              - type: expression_statement
                fields:
                  text: setExtra();
                children: []
                pos: 9779
                length: 11
              pos: 9550
              length: 246
          children: []
          pos: 9506
          length: 290
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getExtraField
              children: []
              pos: 9940
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: ZipShort type
                children: []
                pos: 9954
                length: 13
              pos: 9919
              length: 181
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: extraFields
                            children: []
                            pos: 9983
                            length: 11
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 9998
                            length: 4
                        children: []
                        pos: 9983
                        length: 19
                    children: []
                    pos: 9982
                    length: 21
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return (ZipExtraField) extraFields.get(type);
                    children: []
                    pos: 10018
                    length: 45
                  pos: 10004
                  length: 69
                pos: 9979
                length: 94
              - type: return_statement
                fields:
                  text: return null;
                children: []
                pos: 10082
                length: 12
              pos: 9969
              length: 131
          children: []
          pos: 9919
          length: 181
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setExtra
              children: []
              pos: 10383
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: byte[] extra
                children: []
                pos: 10392
                length: 12
              pos: 10371
              length: 299
            body:
              type: block
              fields: {}
              children:
              - type: try_statement
                fields:
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: local_variable_declaration
                      fields:
                        text: ZipExtraField[] local = ExtraFieldUtils.parse(extra,
                          true);
                      children: []
                      pos: 10458
                      length: 59
                    - type: expression_statement
                      fields:
                        text: mergeExtraFields(local, true);
                      children: []
                      pos: 10530
                      length: 30
                    pos: 10444
                    length: 126
                  excepts:
                    type: excepts
                    fields: {}
                    children:
                    - type: catch_clause
                      fields:
                        text: |-
                          catch (ZipException e) {
                                      throw new RuntimeException(e.getMessage(), e);
                                  }
                      children: []
                      pos: 10571
                      length: 93
                    pos: 10440
                    length: 224
                children: []
                pos: 10440
                length: 224
              pos: 10430
              length: 240
          children: []
          pos: 10371
          length: 299
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setExtra
              children: []
              pos: 10937
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 10922
              length: 115
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: super.setExtra(ExtraFieldUtils.mergeLocalFileDataData(getExtraFields()));
                children: []
                pos: 10958
                length: 73
              pos: 10948
              length: 89
          children: []
          pos: 10922
          length: 115
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setCentralDirectoryExtra
              children: []
              pos: 11127
              length: 24
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: byte[] b
                children: []
                pos: 11152
                length: 8
              pos: 11115
              length: 289
            body:
              type: block
              fields: {}
              children:
              - type: try_statement
                fields:
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: local_variable_declaration
                      fields:
                        text: ZipExtraField[] central = ExtraFieldUtils.parse(b, false);
                      children: []
                      pos: 11190
                      length: 58
                    - type: expression_statement
                      fields:
                        text: mergeExtraFields(central, false);
                      children: []
                      pos: 11261
                      length: 33
                    pos: 11176
                    length: 128
                  excepts:
                    type: excepts
                    fields: {}
                    children:
                    - type: catch_clause
                      fields:
                        text: |-
                          catch (ZipException e) {
                                      throw new RuntimeException(e.getMessage(), e);
                                  }
                      children: []
                      pos: 11305
                      length: 93
                    pos: 11172
                    length: 226
                children: []
                pos: 11172
                length: 226
              pos: 11162
              length: 242
          children: []
          pos: 11115
          length: 289
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getLocalFileDataExtra
              children: []
              pos: 11542
              length: 21
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 11528
              length: 132
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: byte[] extra = getExtra();
                children: []
                pos: 11576
                length: 26
              - type: return_statement
                fields:
                  text: 'return extra != null ? extra : new byte[0];'
                children: []
                pos: 11611
                length: 43
              pos: 11566
              length: 94
          children: []
          pos: 11528
          length: 132
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getCentralDirectoryExtra
              children: []
              pos: 11803
              length: 24
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 11789
              length: 124
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return ExtraFieldUtils.mergeCentralDirectoryData(getExtraFields());
                children: []
                pos: 11840
                length: 67
              pos: 11830
              length: 83
          children: []
          pos: 11789
          length: 124
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getName
              children: []
              pos: 12013
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 11999
              length: 85
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: 'return name == null ? super.getName() : name;'
                children: []
                pos: 12033
                length: 45
              pos: 12023
              length: 61
          children: []
          pos: 11999
          length: 85
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isDirectory
              children: []
              pos: 12203
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 12188
              length: 76
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getName().endsWith("/");
                children: []
                pos: 12227
                length: 31
              pos: 12217
              length: 47
          children: []
          pos: 12188
          length: 76
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setName
              children: []
              pos: 12370
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String name
                children: []
                pos: 12378
                length: 11
              pos: 12355
              length: 69
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: this.name = name;
                children: []
                pos: 12401
                length: 17
              pos: 12391
              length: 33
          children: []
          pos: 12355
          length: 69
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: hashCode
              children: []
              pos: 12565
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 12554
              length: 373
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getName().hashCode();
                children: []
                pos: 12893
                length: 28
              pos: 12576
              length: 351
          children: []
          pos: 12554
          length: 373
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: mergeExtraFields
              children: []
              pos: 13297
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: ZipExtraField[] f
                children: []
                pos: 13314
                length: 17
              pos: 13284
              length: 847
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: extraFields
                            children: []
                            pos: 13390
                            length: 11
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 13405
                            length: 4
                        children: []
                        pos: 13390
                        length: 19
                    children: []
                    pos: 13389
                    length: 21
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: setExtraFields(f);
                    children: []
                    pos: 13425
                    length: 18
                  pos: 13411
                  length: 42
                pos: 13386
                length: 739
              pos: 13376
              length: 755
          children: []
          pos: 13284
          length: 847
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getLastModifiedDate
              children: []
              pos: 14175
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 14163
              length: 77
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return new Date(getTime());
                children: []
                pos: 14207
                length: 27
              pos: 14197
              length: 43
          children: []
          pos: 14163
          length: 77
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: equals
              children: []
              pos: 14344
              length: 6
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Object obj
                children: []
                pos: 14351
                length: 10
              pos: 14329
              length: 467
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: this
                            fields: {}
                            children: []
                            pos: 14377
                            length: 4
                          right:
                            type: identifier
                            fields:
                              text: obj
                            children: []
                            pos: 14385
                            length: 3
                        children: []
                        pos: 14377
                        length: 11
                    children: []
                    pos: 14376
                    length: 13
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return true;
                    children: []
                    pos: 14404
                    length: 12
                  pos: 14390
                  length: 36
                pos: 14373
                length: 53
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: obj
                                children: []
                                pos: 14439
                                length: 3
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 14446
                                length: 4
                            children: []
                            pos: 14439
                            length: 11
                          right:
                            type: not_equals
                            fields:
                              left:
                                type: method_invocation
                                fields:
                                  text: getClass()
                                children: []
                                pos: 14454
                                length: 10
                              right:
                                type: method_invocation
                                fields:
                                  text: obj.getClass()
                                children: []
                                pos: 14468
                                length: 14
                            children: []
                            pos: 14454
                            length: 28
                        children: []
                        pos: 14439
                        length: 43
                    children: []
                    pos: 14438
                    length: 45
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return false;
                    children: []
                    pos: 14498
                    length: 13
                  pos: 14484
                  length: 37
                pos: 14435
                length: 86
              - type: local_variable_declaration
                fields:
                  text: ZipArchiveEntry other = (ZipArchiveEntry) obj;
                children: []
                pos: 14530
                length: 46
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: name
                            children: []
                            pos: 14589
                            length: 4
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 14597
                            length: 4
                        children: []
                        pos: 14589
                        length: 12
                    children: []
                    pos: 14588
                    length: 14
                children:
                - type: block
                  fields: {}
                  children:
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: not_equals
                            fields:
                              left:
                                type: field_access
                                fields:
                                  text: other.name
                                children: []
                                pos: 14621
                                length: 10
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 14635
                                length: 4
                            children: []
                            pos: 14621
                            length: 18
                        children: []
                        pos: 14620
                        length: 20
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: return_statement
                        fields:
                          text: return false;
                        children: []
                        pos: 14659
                        length: 13
                      pos: 14641
                      length: 45
                    pos: 14617
                    length: 69
                  pos: 14603
                  length: 93
                pos: 14585
                length: 184
              - type: return_statement
                fields:
                  text: return true;
                children: []
                pos: 14778
                length: 12
              pos: 14363
              length: 433
          children: []
          pos: 14329
          length: 467
        pos: 1193
        length: 13605
    children: []
    pos: 1193
    length: 13605
  pos: 0
  length: 14799
text_diff: "--- before\n+++ after\n@@ -61,7 +61,6 @@\n      */\n     public ZipArchiveEntry(String
  name) {\n         super(name);\n-        setName(name);\n     }\n \n     /**\n@@
  -460,13 +459,11 @@\n             return false;\n         }\n         ZipArchiveEntry
  other = (ZipArchiveEntry) obj;\n-        String myName = getName();\n-        String
  otherName = other.getName();\n-        if (myName == null) {\n-            if (otherName
  != null) {\n+        if (name == null) {\n+            if (other.name != null) {\n
  \                return false;\n             }\n-        } else if (!myName.equals(otherName))
  {\n+        } else if (!name.equals(other.name)) {\n             return false;\n
  \        }\n         return true;\n"
tree_diff: |+
  New cluster:
  UPDATE from public ZipArchiveEntry(String name) {
          super(name);
          setName(name);
      } to public ZipArchiveEntry(String name) {
          super(name);
      }
  ------------
  ===
  update-node
  ---
  constructor_declaration: public ZipArchiveEntry(String name) {
          super(name);
          setName(name);
      } [2268,2355]
  replace public ZipArchiveEntry(String name) {
          super(name);
          setName(name);
      } by public ZipArchiveEntry(String name) {
          super(name);
      }

  New cluster:
  UPDATE from myName to name
  ------------
  ===
  update-node
  ---
  identifier: myName [14691,14697]
  replace myName by name

  New cluster:
  ===
  insert-node
  ---
  field_access: other.name [14621,14631]
  to
  not_equals [14725,14742]
  at 0
  ------------
  ===
  insert-node
  ---
  field_access: other.name [14621,14631]
  to
  not_equals [14725,14742]
  at 0

  New cluster:
  ===
  delete-node
  ---
  local_variable_declaration: String myName = getName(); [14608,14634]
  ===
  ------------
  ===
  delete-node
  ---
  local_variable_declaration: String myName = getName(); [14608,14634]
  ===

  New cluster:
  ===
  delete-node
  ---
  local_variable_declaration: String otherName = other.getName(); [14643,14678]
  ===
  ------------
  ===
  delete-node
  ---
  local_variable_declaration: String otherName = other.getName(); [14643,14678]
  ===

  New cluster:
  ===
  delete-node
  ---
  identifier: otherName [14725,14734]
  ===
  ------------
  ===
  delete-node
  ---
  identifier: otherName [14725,14734]
  ===

...
