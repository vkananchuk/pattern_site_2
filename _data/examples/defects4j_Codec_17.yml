---
language: java
before_tree:
  type: program
  fields: {}
  children:
  - type: class_declaration
    fields:
      name:
        type: identifier
        fields:
          text: StringUtils
        children: []
        pos: 1528
        length: 11
      body:
        type: class_body
        fields: {}
        children:
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: equals
              children: []
              pos: 2641
              length: 6
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final CharSequence cs1
                children: []
                pos: 2648
                length: 22
              pos: 2619
              length: 440
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: cs1
                            children: []
                            pos: 2710
                            length: 3
                          right:
                            type: identifier
                            fields:
                              text: cs2
                            children: []
                            pos: 2717
                            length: 3
                        children: []
                        pos: 2710
                        length: 10
                    children: []
                    pos: 2709
                    length: 12
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return true;
                    children: []
                    pos: 2736
                    length: 12
                  pos: 2722
                  length: 36
                pos: 2706
                length: 52
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: cs1
                                children: []
                                pos: 2771
                                length: 3
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 2778
                                length: 4
                            children: []
                            pos: 2771
                            length: 11
                          right:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: cs2
                                children: []
                                pos: 2786
                                length: 3
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 2793
                                length: 4
                            children: []
                            pos: 2786
                            length: 11
                        children: []
                        pos: 2771
                        length: 26
                    children: []
                    pos: 2770
                    length: 28
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return false;
                    children: []
                    pos: 2813
                    length: 13
                  pos: 2799
                  length: 37
                pos: 2767
                length: 69
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: and
                        fields:
                          left:
                            type: instanceof_expression
                            fields:
                              text: cs1 instanceof String
                            children: []
                            pos: 2849
                            length: 21
                          right:
                            type: instanceof_expression
                            fields:
                              text: cs2 instanceof String
                            children: []
                            pos: 2874
                            length: 21
                        children: []
                        pos: 2849
                        length: 46
                    children: []
                    pos: 2848
                    length: 48
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return cs1.equals(cs2);
                    children: []
                    pos: 2911
                    length: 23
                  pos: 2897
                  length: 47
                pos: 2845
                length: 99
              - type: return_statement
                fields:
                  text: return CharSequenceUtils.regionMatches(cs1, false, 0, cs2,
                    0, Math.max(cs1.length(), cs2.length()));
                children: []
                pos: 2953
                length: 100
              pos: 2696
              length: 363
          children: []
          pos: 2619
          length: 440
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getBytes
              children: []
              pos: 3367
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final String string
                children: []
                pos: 3376
                length: 19
              pos: 3345
              length: 188
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: string
                            children: []
                            pos: 3434
                            length: 6
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 3444
                            length: 4
                        children: []
                        pos: 3434
                        length: 14
                    children: []
                    pos: 3433
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return null;
                    children: []
                    pos: 3464
                    length: 12
                  pos: 3450
                  length: 36
                pos: 3430
                length: 56
              - type: return_statement
                fields:
                  text: return string.getBytes(charset);
                children: []
                pos: 3495
                length: 32
              pos: 3420
              length: 113
          children: []
          pos: 3345
          length: 188
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getByteBuffer
              children: []
              pos: 3864
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final String string
                children: []
                pos: 3878
                length: 19
              pos: 3838
              length: 214
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: string
                            children: []
                            pos: 3936
                            length: 6
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 3946
                            length: 4
                        children: []
                        pos: 3936
                        length: 14
                    children: []
                    pos: 3935
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return null;
                    children: []
                    pos: 3966
                    length: 12
                  pos: 3952
                  length: 36
                pos: 3932
                length: 56
              - type: return_statement
                fields:
                  text: return ByteBuffer.wrap(string.getBytes(charset));
                children: []
                pos: 3997
                length: 49
              pos: 3922
              length: 130
          children: []
          pos: 3838
          length: 214
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getByteBufferUtf8
              children: []
              pos: 4805
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final String string
                children: []
                pos: 4823
                length: 19
              pos: 4780
              length: 125
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getByteBuffer(string, Charsets.UTF_8);
                children: []
                pos: 4854
                length: 45
              pos: 4844
              length: 61
          children: []
          pos: 4780
          length: 125
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getBytesIso8859_1
              children: []
              pos: 5752
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final String string
                children: []
                pos: 5770
                length: 19
              pos: 5731
              length: 121
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getBytes(string, Charsets.ISO_8859_1);
                children: []
                pos: 5801
                length: 45
              pos: 5791
              length: 61
          children: []
          pos: 5731
          length: 121
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getBytesUnchecked
              children: []
              pos: 6829
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final String string
                children: []
                pos: 6847
                length: 19
              pos: 6808
              length: 360
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: string
                            children: []
                            pos: 6908
                            length: 6
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 6918
                            length: 4
                        children: []
                        pos: 6908
                        length: 14
                    children: []
                    pos: 6907
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return null;
                    children: []
                    pos: 6938
                    length: 12
                  pos: 6924
                  length: 36
                pos: 6904
                length: 56
              - type: try_statement
                fields:
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: return_statement
                      fields:
                        text: return string.getBytes(charsetName);
                      children: []
                      pos: 6987
                      length: 36
                    pos: 6973
                    length: 60
                  excepts:
                    type: excepts
                    fields: {}
                    children:
                    - type: catch_clause
                      fields:
                        text: |-
                          catch (final UnsupportedEncodingException e) {
                                      throw StringUtils.newIllegalStateException(charsetName, e);
                                  }
                      children: []
                      pos: 7034
                      length: 128
                    pos: 6969
                    length: 193
                children: []
                pos: 6969
                length: 193
              pos: 6894
              length: 274
          children: []
          pos: 6808
          length: 360
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getBytesUsAscii
              children: []
              pos: 8011
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final String string
                children: []
                pos: 8027
                length: 19
              pos: 7990
              length: 117
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getBytes(string, Charsets.US_ASCII);
                children: []
                pos: 8058
                length: 43
              pos: 8048
              length: 59
          children: []
          pos: 7990
          length: 117
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getBytesUtf16
              children: []
              pos: 8946
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final String string
                children: []
                pos: 8960
                length: 19
              pos: 8925
              length: 113
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getBytes(string, Charsets.UTF_16);
                children: []
                pos: 8991
                length: 41
              pos: 8981
              length: 57
          children: []
          pos: 8925
          length: 113
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getBytesUtf16Be
              children: []
              pos: 9881
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final String string
                children: []
                pos: 9897
                length: 19
              pos: 9860
              length: 117
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getBytes(string, Charsets.UTF_16BE);
                children: []
                pos: 9928
                length: 43
              pos: 9918
              length: 59
          children: []
          pos: 9860
          length: 117
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getBytesUtf16Le
              children: []
              pos: 10820
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final String string
                children: []
                pos: 10836
                length: 19
              pos: 10799
              length: 117
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getBytes(string, Charsets.UTF_16LE);
                children: []
                pos: 10867
                length: 43
              pos: 10857
              length: 59
          children: []
          pos: 10799
          length: 117
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getBytesUtf8
              children: []
              pos: 11753
              length: 12
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final String string
                children: []
                pos: 11766
                length: 19
              pos: 11732
              length: 111
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getBytes(string, Charsets.UTF_8);
                children: []
                pos: 11797
                length: 40
              pos: 11787
              length: 56
          children: []
          pos: 11732
          length: 111
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: newIllegalStateException
              children: []
              pos: 11886
              length: 24
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final String charsetName
                children: []
                pos: 11911
                length: 24
              pos: 11849
              length: 265
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: 'return new IllegalStateException(charsetName + ": " + e);'
                children: []
                pos: 12051
                length: 57
              pos: 12041
              length: 73
          children: []
          pos: 11849
          length: 265
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: newString
              children: []
              pos: 12848
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final byte[] bytes
                children: []
                pos: 12858
                length: 18
              pos: 12826
              length: 148
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: 'return bytes == null ? null : new String(bytes, charset);'
                children: []
                pos: 12911
                length: 57
              pos: 12901
              length: 73
          children: []
          pos: 12826
          length: 148
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: newString
              children: []
              pos: 14052
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final byte[] bytes
                children: []
                pos: 14062
                length: 18
              pos: 14031
              length: 352
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: bytes
                            children: []
                            pos: 14122
                            length: 5
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 14131
                            length: 4
                        children: []
                        pos: 14122
                        length: 13
                    children: []
                    pos: 14121
                    length: 15
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return null;
                    children: []
                    pos: 14151
                    length: 12
                  pos: 14137
                  length: 36
                pos: 14118
                length: 55
              - type: try_statement
                fields:
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: return_statement
                      fields:
                        text: return new String(bytes, charsetName);
                      children: []
                      pos: 14200
                      length: 38
                    pos: 14186
                    length: 62
                  excepts:
                    type: excepts
                    fields: {}
                    children:
                    - type: catch_clause
                      fields:
                        text: |-
                          catch (final UnsupportedEncodingException e) {
                                      throw StringUtils.newIllegalStateException(charsetName, e);
                                  }
                      children: []
                      pos: 14249
                      length: 128
                    pos: 14182
                    length: 195
                children: []
                pos: 14182
                length: 195
              pos: 14108
              length: 275
          children: []
          pos: 14031
          length: 352
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: newStringIso8859_1
              children: []
              pos: 15164
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final byte[] bytes
                children: []
                pos: 15183
                length: 18
              pos: 15143
              length: 121
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return newString(bytes, Charsets.ISO_8859_1);
                children: []
                pos: 15213
                length: 45
              pos: 15203
              length: 61
          children: []
          pos: 15143
          length: 121
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: newStringUsAscii
              children: []
              pos: 16013
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final byte[] bytes
                children: []
                pos: 16030
                length: 18
              pos: 15992
              length: 117
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return newString(bytes, Charsets.US_ASCII);
                children: []
                pos: 16060
                length: 43
              pos: 16050
              length: 59
          children: []
          pos: 15992
          length: 117
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: newStringUtf16
              children: []
              pos: 16851
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final byte[] bytes
                children: []
                pos: 16866
                length: 18
              pos: 16830
              length: 113
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return newString(bytes, Charsets.UTF_16);
                children: []
                pos: 16896
                length: 41
              pos: 16886
              length: 57
          children: []
          pos: 16830
          length: 113
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: newStringUtf16Be
              children: []
              pos: 17692
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final byte[] bytes
                children: []
                pos: 17709
                length: 18
              pos: 17671
              length: 117
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return newString(bytes, Charsets.UTF_16BE);
                children: []
                pos: 17739
                length: 43
              pos: 17729
              length: 59
          children: []
          pos: 17671
          length: 117
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: newStringUtf16Le
              children: []
              pos: 18537
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final byte[] bytes
                children: []
                pos: 18554
                length: 18
              pos: 18516
              length: 117
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return newString(bytes, Charsets.UTF_16LE);
                children: []
                pos: 18584
                length: 43
              pos: 18574
              length: 59
          children: []
          pos: 18516
          length: 117
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: newStringUtf8
              children: []
              pos: 19373
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final byte[] bytes
                children: []
                pos: 19387
                length: 18
              pos: 19352
              length: 111
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return newString(bytes, Charsets.UTF_8);
                children: []
                pos: 19417
                length: 40
              pos: 19407
              length: 56
          children: []
          pos: 19352
          length: 111
        pos: 1515
        length: 17951
    children: []
    pos: 1515
    length: 17951
  pos: 0
  length: 19467
after_tree:
  type: program
  fields: {}
  children:
  - type: class_declaration
    fields:
      name:
        type: identifier
        fields:
          text: StringUtils
        children: []
        pos: 1528
        length: 11
      body:
        type: class_body
        fields: {}
        children:
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: equals
              children: []
              pos: 2641
              length: 6
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final CharSequence cs1
                children: []
                pos: 2648
                length: 22
              pos: 2619
              length: 440
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: cs1
                            children: []
                            pos: 2710
                            length: 3
                          right:
                            type: identifier
                            fields:
                              text: cs2
                            children: []
                            pos: 2717
                            length: 3
                        children: []
                        pos: 2710
                        length: 10
                    children: []
                    pos: 2709
                    length: 12
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return true;
                    children: []
                    pos: 2736
                    length: 12
                  pos: 2722
                  length: 36
                pos: 2706
                length: 52
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: cs1
                                children: []
                                pos: 2771
                                length: 3
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 2778
                                length: 4
                            children: []
                            pos: 2771
                            length: 11
                          right:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: cs2
                                children: []
                                pos: 2786
                                length: 3
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 2793
                                length: 4
                            children: []
                            pos: 2786
                            length: 11
                        children: []
                        pos: 2771
                        length: 26
                    children: []
                    pos: 2770
                    length: 28
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return false;
                    children: []
                    pos: 2813
                    length: 13
                  pos: 2799
                  length: 37
                pos: 2767
                length: 69
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: and
                        fields:
                          left:
                            type: instanceof_expression
                            fields:
                              text: cs1 instanceof String
                            children: []
                            pos: 2849
                            length: 21
                          right:
                            type: instanceof_expression
                            fields:
                              text: cs2 instanceof String
                            children: []
                            pos: 2874
                            length: 21
                        children: []
                        pos: 2849
                        length: 46
                    children: []
                    pos: 2848
                    length: 48
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return cs1.equals(cs2);
                    children: []
                    pos: 2911
                    length: 23
                  pos: 2897
                  length: 47
                pos: 2845
                length: 99
              - type: return_statement
                fields:
                  text: return CharSequenceUtils.regionMatches(cs1, false, 0, cs2,
                    0, Math.max(cs1.length(), cs2.length()));
                children: []
                pos: 2953
                length: 100
              pos: 2696
              length: 363
          children: []
          pos: 2619
          length: 440
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getBytes
              children: []
              pos: 3367
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final String string
                children: []
                pos: 3376
                length: 19
              pos: 3345
              length: 188
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: string
                            children: []
                            pos: 3434
                            length: 6
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 3444
                            length: 4
                        children: []
                        pos: 3434
                        length: 14
                    children: []
                    pos: 3433
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return null;
                    children: []
                    pos: 3464
                    length: 12
                  pos: 3450
                  length: 36
                pos: 3430
                length: 56
              - type: return_statement
                fields:
                  text: return string.getBytes(charset);
                children: []
                pos: 3495
                length: 32
              pos: 3420
              length: 113
          children: []
          pos: 3345
          length: 188
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getByteBuffer
              children: []
              pos: 3864
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final String string
                children: []
                pos: 3878
                length: 19
              pos: 3838
              length: 214
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: string
                            children: []
                            pos: 3936
                            length: 6
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 3946
                            length: 4
                        children: []
                        pos: 3936
                        length: 14
                    children: []
                    pos: 3935
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return null;
                    children: []
                    pos: 3966
                    length: 12
                  pos: 3952
                  length: 36
                pos: 3932
                length: 56
              - type: return_statement
                fields:
                  text: return ByteBuffer.wrap(string.getBytes(charset));
                children: []
                pos: 3997
                length: 49
              pos: 3922
              length: 130
          children: []
          pos: 3838
          length: 214
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getByteBufferUtf8
              children: []
              pos: 4805
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final String string
                children: []
                pos: 4823
                length: 19
              pos: 4780
              length: 125
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getByteBuffer(string, Charsets.UTF_8);
                children: []
                pos: 4854
                length: 45
              pos: 4844
              length: 61
          children: []
          pos: 4780
          length: 125
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getBytesIso8859_1
              children: []
              pos: 5752
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final String string
                children: []
                pos: 5770
                length: 19
              pos: 5731
              length: 121
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getBytes(string, Charsets.ISO_8859_1);
                children: []
                pos: 5801
                length: 45
              pos: 5791
              length: 61
          children: []
          pos: 5731
          length: 121
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getBytesUnchecked
              children: []
              pos: 6829
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final String string
                children: []
                pos: 6847
                length: 19
              pos: 6808
              length: 360
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: string
                            children: []
                            pos: 6908
                            length: 6
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 6918
                            length: 4
                        children: []
                        pos: 6908
                        length: 14
                    children: []
                    pos: 6907
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return null;
                    children: []
                    pos: 6938
                    length: 12
                  pos: 6924
                  length: 36
                pos: 6904
                length: 56
              - type: try_statement
                fields:
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: return_statement
                      fields:
                        text: return string.getBytes(charsetName);
                      children: []
                      pos: 6987
                      length: 36
                    pos: 6973
                    length: 60
                  excepts:
                    type: excepts
                    fields: {}
                    children:
                    - type: catch_clause
                      fields:
                        text: |-
                          catch (final UnsupportedEncodingException e) {
                                      throw StringUtils.newIllegalStateException(charsetName, e);
                                  }
                      children: []
                      pos: 7034
                      length: 128
                    pos: 6969
                    length: 193
                children: []
                pos: 6969
                length: 193
              pos: 6894
              length: 274
          children: []
          pos: 6808
          length: 360
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getBytesUsAscii
              children: []
              pos: 8011
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final String string
                children: []
                pos: 8027
                length: 19
              pos: 7990
              length: 117
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getBytes(string, Charsets.US_ASCII);
                children: []
                pos: 8058
                length: 43
              pos: 8048
              length: 59
          children: []
          pos: 7990
          length: 117
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getBytesUtf16
              children: []
              pos: 8946
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final String string
                children: []
                pos: 8960
                length: 19
              pos: 8925
              length: 113
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getBytes(string, Charsets.UTF_16);
                children: []
                pos: 8991
                length: 41
              pos: 8981
              length: 57
          children: []
          pos: 8925
          length: 113
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getBytesUtf16Be
              children: []
              pos: 9881
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final String string
                children: []
                pos: 9897
                length: 19
              pos: 9860
              length: 117
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getBytes(string, Charsets.UTF_16BE);
                children: []
                pos: 9928
                length: 43
              pos: 9918
              length: 59
          children: []
          pos: 9860
          length: 117
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getBytesUtf16Le
              children: []
              pos: 10820
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final String string
                children: []
                pos: 10836
                length: 19
              pos: 10799
              length: 117
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getBytes(string, Charsets.UTF_16LE);
                children: []
                pos: 10867
                length: 43
              pos: 10857
              length: 59
          children: []
          pos: 10799
          length: 117
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getBytesUtf8
              children: []
              pos: 11753
              length: 12
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final String string
                children: []
                pos: 11766
                length: 19
              pos: 11732
              length: 111
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getBytes(string, Charsets.UTF_8);
                children: []
                pos: 11797
                length: 40
              pos: 11787
              length: 56
          children: []
          pos: 11732
          length: 111
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: newIllegalStateException
              children: []
              pos: 11886
              length: 24
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final String charsetName
                children: []
                pos: 11911
                length: 24
              pos: 11849
              length: 265
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: 'return new IllegalStateException(charsetName + ": " + e);'
                children: []
                pos: 12051
                length: 57
              pos: 12041
              length: 73
          children: []
          pos: 11849
          length: 265
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: newString
              children: []
              pos: 12848
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final byte[] bytes
                children: []
                pos: 12858
                length: 18
              pos: 12826
              length: 148
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: 'return bytes == null ? null : new String(bytes, charset);'
                children: []
                pos: 12911
                length: 57
              pos: 12901
              length: 73
          children: []
          pos: 12826
          length: 148
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: newString
              children: []
              pos: 14052
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final byte[] bytes
                children: []
                pos: 14062
                length: 18
              pos: 14031
              length: 352
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: bytes
                            children: []
                            pos: 14122
                            length: 5
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 14131
                            length: 4
                        children: []
                        pos: 14122
                        length: 13
                    children: []
                    pos: 14121
                    length: 15
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return null;
                    children: []
                    pos: 14151
                    length: 12
                  pos: 14137
                  length: 36
                pos: 14118
                length: 55
              - type: try_statement
                fields:
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: return_statement
                      fields:
                        text: return new String(bytes, charsetName);
                      children: []
                      pos: 14200
                      length: 38
                    pos: 14186
                    length: 62
                  excepts:
                    type: excepts
                    fields: {}
                    children:
                    - type: catch_clause
                      fields:
                        text: |-
                          catch (final UnsupportedEncodingException e) {
                                      throw StringUtils.newIllegalStateException(charsetName, e);
                                  }
                      children: []
                      pos: 14249
                      length: 128
                    pos: 14182
                    length: 195
                children: []
                pos: 14182
                length: 195
              pos: 14108
              length: 275
          children: []
          pos: 14031
          length: 352
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: newStringIso8859_1
              children: []
              pos: 15164
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final byte[] bytes
                children: []
                pos: 15183
                length: 18
              pos: 15143
              length: 122
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return new String(bytes, Charsets.ISO_8859_1);
                children: []
                pos: 15213
                length: 46
              pos: 15203
              length: 62
          children: []
          pos: 15143
          length: 122
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: newStringUsAscii
              children: []
              pos: 16014
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final byte[] bytes
                children: []
                pos: 16031
                length: 18
              pos: 15993
              length: 117
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return newString(bytes, Charsets.US_ASCII);
                children: []
                pos: 16061
                length: 43
              pos: 16051
              length: 59
          children: []
          pos: 15993
          length: 117
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: newStringUtf16
              children: []
              pos: 16852
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final byte[] bytes
                children: []
                pos: 16867
                length: 18
              pos: 16831
              length: 113
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return newString(bytes, Charsets.UTF_16);
                children: []
                pos: 16897
                length: 41
              pos: 16887
              length: 57
          children: []
          pos: 16831
          length: 113
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: newStringUtf16Be
              children: []
              pos: 17693
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final byte[] bytes
                children: []
                pos: 17710
                length: 18
              pos: 17672
              length: 117
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return newString(bytes, Charsets.UTF_16BE);
                children: []
                pos: 17740
                length: 43
              pos: 17730
              length: 59
          children: []
          pos: 17672
          length: 117
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: newStringUtf16Le
              children: []
              pos: 18538
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final byte[] bytes
                children: []
                pos: 18555
                length: 18
              pos: 18517
              length: 117
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return newString(bytes, Charsets.UTF_16LE);
                children: []
                pos: 18585
                length: 43
              pos: 18575
              length: 59
          children: []
          pos: 18517
          length: 117
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: newStringUtf8
              children: []
              pos: 19374
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final byte[] bytes
                children: []
                pos: 19388
                length: 18
              pos: 19353
              length: 111
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return newString(bytes, Charsets.UTF_8);
                children: []
                pos: 19418
                length: 40
              pos: 19408
              length: 56
          children: []
          pos: 19353
          length: 111
        pos: 1515
        length: 17952
    children: []
    pos: 1515
    length: 17952
  pos: 0
  length: 19468
text_diff: "--- before\n+++ after\n@@ -336,7 +336,7 @@\n      * @since As of 1.7,
  throws {@link NullPointerException} instead of UnsupportedEncodingException\n      */\n
  \    public static String newStringIso8859_1(final byte[] bytes) {\n-        return
  newString(bytes, Charsets.ISO_8859_1);\n+        return new String(bytes, Charsets.ISO_8859_1);\n
  \    }\n \n     /**\n"
tree_diff: |+
  New cluster:
  UPDATE from return newString(bytes, Charsets.ISO_8859_1); to return new String(bytes, Charsets.ISO_8859_1);
  ------------
  ===
  update-node
  ---
  return_statement: return newString(bytes, Charsets.ISO_8859_1); [15213,15258]
  replace return newString(bytes, Charsets.ISO_8859_1); by return new String(bytes, Charsets.ISO_8859_1);

...
