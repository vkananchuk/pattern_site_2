---
language: java
before_tree:
  type: program
  fields: {}
  children:
  - type: class_declaration
    fields:
      name:
        type: identifier
        fields:
          text: Options
        children: []
        pos: 1526
        length: 7
      body:
        type: class_body
        fields: {}
        children:
        - type: field_declaration
          fields:
            text: private static final long serialVersionUID = 1L;
          children: []
          pos: 1599
          length: 48
        - type: field_declaration
          fields:
            text: private final Map<String, Option> shortOpts = new LinkedHashMap<String,
              Option>();
          children: []
          pos: 1708
          length: 82
        - type: field_declaration
          fields:
            text: private final Map<String, Option> longOpts = new LinkedHashMap<String,
              Option>();
          children: []
          pos: 1846
          length: 81
        - type: field_declaration
          fields:
            text: private final List<Object> requiredOpts = new ArrayList<Object>();
          children: []
          pos: 2095
          length: 66
        - type: field_declaration
          fields:
            text: private final Map<String, OptionGroup> optionGroups = new HashMap<String,
              OptionGroup>();
          children: []
          pos: 2205
          length: 89
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: addOptionGroup
              children: []
              pos: 2479
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: OptionGroup group
                children: []
                pos: 2494
                length: 17
              pos: 2464
              length: 520
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: group.isRequired()
                        children: []
                        pos: 2531
                        length: 18
                    children: []
                    pos: 2530
                    length: 20
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: requiredOpts.add(group);
                    children: []
                    pos: 2573
                    length: 24
                  pos: 2559
                  length: 48
                pos: 2527
                length: 80
              - type: enhanced_for_statement
                fields:
                  text: |-
                    for (Option option : group.getOptions())
                            {
                                // an Option cannot be required if it is in an
                                // OptionGroup, either the group is required or
                                // nothing is required
                                option.setRequired(false);
                                addOption(option);

                                optionGroups.put(option.getKey(), group);
                            }
                children: []
                pos: 2617
                length: 339
              - type: return_statement
                fields:
                  text: return this;
                children: []
                pos: 2966
                length: 12
              pos: 2517
              length: 467
          children: []
          pos: 2464
          length: 520
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getOptionGroups
              children: []
              pos: 3164
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 3140
              length: 117
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return new HashSet<OptionGroup>(optionGroups.values());
                children: []
                pos: 3196
                length: 55
              pos: 3186
              length: 71
          children: []
          pos: 3140
          length: 117
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: addOption
              children: []
              pos: 3580
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String opt
                children: []
                pos: 3590
                length: 10
              pos: 3565
              length: 139
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: addOption(opt, null, false, description);
                children: []
                pos: 3636
                length: 41
              - type: return_statement
                fields:
                  text: return this;
                children: []
                pos: 3686
                length: 12
              pos: 3626
              length: 78
          children: []
          pos: 3565
          length: 139
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: addOption
              children: []
              pos: 4097
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String opt
                children: []
                pos: 4107
                length: 10
              pos: 4082
              length: 156
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: addOption(opt, null, hasArg, description);
                children: []
                pos: 4169
                length: 42
              - type: return_statement
                fields:
                  text: return this;
                children: []
                pos: 4220
                length: 12
              pos: 4159
              length: 79
          children: []
          pos: 4082
          length: 156
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: addOption
              children: []
              pos: 4705
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String opt
                children: []
                pos: 4715
                length: 10
              pos: 4690
              length: 187
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: addOption(new Option(opt, longOpt, hasArg, description));
                children: []
                pos: 4793
                length: 57
              - type: return_statement
                fields:
                  text: return this;
                children: []
                pos: 4859
                length: 12
              pos: 4783
              length: 94
          children: []
          pos: 4690
          length: 187
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: addOption
              children: []
              pos: 5047
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Option opt
                children: []
                pos: 5057
                length: 10
              pos: 5032
              length: 568
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: String key = opt.getKey();
                children: []
                pos: 5083
                length: 26
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: opt.hasLongOpt()
                        children: []
                        pos: 5165
                        length: 16
                    children: []
                    pos: 5164
                    length: 18
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: longOpts.put(opt.getLongOpt(), opt);
                    children: []
                    pos: 5205
                    length: 36
                  pos: 5191
                  length: 60
                pos: 5161
                length: 90
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: opt.isRequired()
                        children: []
                        pos: 5330
                        length: 16
                    children: []
                    pos: 5329
                    length: 18
                children:
                - type: block
                  fields: {}
                  children:
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: method_invocation
                            fields:
                              text: requiredOpts.contains(key)
                            children: []
                            pos: 5374
                            length: 26
                        children: []
                        pos: 5373
                        length: 28
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: requiredOpts.remove(requiredOpts.indexOf(key));
                        children: []
                        pos: 5432
                        length: 47
                      pos: 5414
                      length: 79
                    pos: 5370
                    length: 123
                  - type: expression_statement
                    fields:
                      text: requiredOpts.add(key);
                    children: []
                    pos: 5506
                    length: 22
                  pos: 5356
                  length: 182
                pos: 5326
                length: 212
              - type: expression_statement
                fields:
                  text: shortOpts.put(key, opt);
                children: []
                pos: 5548
                length: 24
              - type: return_statement
                fields:
                  text: return this;
                children: []
                pos: 5582
                length: 12
              pos: 5073
              length: 527
          children: []
          pos: 5032
          length: 568
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getOptions
              children: []
              pos: 5792
              length: 10
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 5766
              length: 116
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return Collections.unmodifiableCollection(helpOptions());
                children: []
                pos: 5819
                length: 57
              pos: 5809
              length: 73
          children: []
          pos: 5766
          length: 116
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: helpOptions
              children: []
              pos: 6016
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 6003
              length: 96
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return new ArrayList<Option>(shortOpts.values());
                children: []
                pos: 6044
                length: 49
              pos: 6034
              length: 65
          children: []
          pos: 6003
          length: 96
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getRequiredOptions
              children: []
              pos: 6227
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 6215
              length: 103
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return Collections.unmodifiableList(requiredOpts);
                children: []
                pos: 6262
                length: 50
              pos: 6252
              length: 66
          children: []
          pos: 6215
          length: 103
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getOption
              children: []
              pos: 6605
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String opt
                children: []
                pos: 6615
                length: 10
              pos: 6591
              length: 227
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: opt = Util.stripLeadingHyphens(opt);
                children: []
                pos: 6641
                length: 36
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: shortOpts.containsKey(opt)
                        children: []
                        pos: 6691
                        length: 26
                    children: []
                    pos: 6690
                    length: 28
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return shortOpts.get(opt);
                    children: []
                    pos: 6741
                    length: 26
                  pos: 6727
                  length: 50
                pos: 6687
                length: 90
              - type: return_statement
                fields:
                  text: return longOpts.get(opt);
                children: []
                pos: 6787
                length: 25
              pos: 6631
              length: 187
          children: []
          pos: 6591
          length: 227
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getMatchingOptions
              children: []
              pos: 7110
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String opt
                children: []
                pos: 7129
                length: 10
              pos: 7090
              length: 566
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: opt = Util.stripLeadingHyphens(opt);
                children: []
                pos: 7155
                length: 36
              - type: local_variable_declaration
                fields:
                  text: List<String> matchingOpts = new ArrayList<String>();
                children: []
                pos: 7209
                length: 52
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: longOpts.keySet().contains(opt)
                        children: []
                        pos: 7335
                        length: 31
                    children: []
                    pos: 7334
                    length: 33
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return Collections.singletonList(opt);
                    children: []
                    pos: 7382
                    length: 38
                  pos: 7368
                  length: 62
                pos: 7332
                length: 98
              - type: enhanced_for_statement
                fields:
                  text: |-
                    for (String longOpt : longOpts.keySet())
                            {
                                if (longOpt.startsWith(opt))
                                {
                                    matchingOpts.add(longOpt);
                                }
                            }
                children: []
                pos: 7440
                length: 172
              - type: return_statement
                fields:
                  text: return matchingOpts;
                children: []
                pos: 7630
                length: 20
              pos: 7145
              length: 511
          children: []
          pos: 7090
          length: 566
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: hasOption
              children: []
              pos: 7928
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String opt
                children: []
                pos: 7938
                length: 10
              pos: 7913
              length: 166
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: opt = Util.stripLeadingHyphens(opt);
                children: []
                pos: 7964
                length: 36
              - type: return_statement
                fields:
                  text: return shortOpts.containsKey(opt) || longOpts.containsKey(opt);
                children: []
                pos: 8010
                length: 63
              pos: 7954
              length: 125
          children: []
          pos: 7913
          length: 166
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: hasLongOption
              children: []
              pos: 8360
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String opt
                children: []
                pos: 8374
                length: 10
              pos: 8345
              length: 140
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: opt = Util.stripLeadingHyphens(opt);
                children: []
                pos: 8400
                length: 36
              - type: return_statement
                fields:
                  text: return longOpts.containsKey(opt);
                children: []
                pos: 8446
                length: 33
              pos: 8390
              length: 95
          children: []
          pos: 8345
          length: 140
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: hasShortOption
              children: []
              pos: 8767
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String opt
                children: []
                pos: 8782
                length: 10
              pos: 8752
              length: 142
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: opt = Util.stripLeadingHyphens(opt);
                children: []
                pos: 8808
                length: 36
              - type: return_statement
                fields:
                  text: return shortOpts.containsKey(opt);
                children: []
                pos: 8854
                length: 34
              pos: 8798
              length: 96
          children: []
          pos: 8752
          length: 142
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getOptionGroup
              children: []
              pos: 9178
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Option opt
                children: []
                pos: 9193
                length: 10
              pos: 9159
              length: 104
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return optionGroups.get(opt.getKey());
                children: []
                pos: 9219
                length: 38
              pos: 9209
              length: 54
          children: []
          pos: 9159
          length: 104
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: toString
              children: []
              pos: 9410
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 9382
              length: 307
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: StringBuilder buf = new StringBuilder();
                children: []
                pos: 9435
                length: 40
              - type: expression_statement
                fields:
                  text: 'buf.append("[ Options: [ short ");'
                children: []
                pos: 9485
                length: 34
              - type: expression_statement
                fields:
                  text: buf.append(shortOpts.toString());
                children: []
                pos: 9528
                length: 33
              - type: expression_statement
                fields:
                  text: buf.append(" ] [ long ");
                children: []
                pos: 9570
                length: 25
              - type: expression_statement
                fields:
                  text: buf.append(longOpts);
                children: []
                pos: 9604
                length: 21
              - type: expression_statement
                fields:
                  text: buf.append(" ]");
                children: []
                pos: 9634
                length: 17
              - type: return_statement
                fields:
                  text: return buf.toString();
                children: []
                pos: 9661
                length: 22
              pos: 9425
              length: 264
          children: []
          pos: 9382
          length: 307
        pos: 1513
        length: 8178
    children: []
    pos: 1513
    length: 8178
  pos: 0
  length: 9692
after_tree:
  type: program
  fields: {}
  children:
  - type: class_declaration
    fields:
      name:
        type: identifier
        fields:
          text: Options
        children: []
        pos: 1526
        length: 7
      body:
        type: class_body
        fields: {}
        children:
        - type: field_declaration
          fields:
            text: private static final long serialVersionUID = 1L;
          children: []
          pos: 1599
          length: 48
        - type: field_declaration
          fields:
            text: private final Map<String, Option> shortOpts = new LinkedHashMap<String,
              Option>();
          children: []
          pos: 1708
          length: 82
        - type: field_declaration
          fields:
            text: private final Map<String, Option> longOpts = new LinkedHashMap<String,
              Option>();
          children: []
          pos: 1846
          length: 81
        - type: field_declaration
          fields:
            text: private final List<Object> requiredOpts = new ArrayList<Object>();
          children: []
          pos: 2095
          length: 66
        - type: field_declaration
          fields:
            text: private final Map<String, OptionGroup> optionGroups = new HashMap<String,
              OptionGroup>();
          children: []
          pos: 2205
          length: 89
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: addOptionGroup
              children: []
              pos: 2479
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: OptionGroup group
                children: []
                pos: 2494
                length: 17
              pos: 2464
              length: 520
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: group.isRequired()
                        children: []
                        pos: 2531
                        length: 18
                    children: []
                    pos: 2530
                    length: 20
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: requiredOpts.add(group);
                    children: []
                    pos: 2573
                    length: 24
                  pos: 2559
                  length: 48
                pos: 2527
                length: 80
              - type: enhanced_for_statement
                fields:
                  text: |-
                    for (Option option : group.getOptions())
                            {
                                // an Option cannot be required if it is in an
                                // OptionGroup, either the group is required or
                                // nothing is required
                                option.setRequired(false);
                                addOption(option);

                                optionGroups.put(option.getKey(), group);
                            }
                children: []
                pos: 2617
                length: 339
              - type: return_statement
                fields:
                  text: return this;
                children: []
                pos: 2966
                length: 12
              pos: 2517
              length: 467
          children: []
          pos: 2464
          length: 520
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getOptionGroups
              children: []
              pos: 3164
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 3140
              length: 117
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return new HashSet<OptionGroup>(optionGroups.values());
                children: []
                pos: 3196
                length: 55
              pos: 3186
              length: 71
          children: []
          pos: 3140
          length: 117
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: addOption
              children: []
              pos: 3580
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String opt
                children: []
                pos: 3590
                length: 10
              pos: 3565
              length: 139
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: addOption(opt, null, false, description);
                children: []
                pos: 3636
                length: 41
              - type: return_statement
                fields:
                  text: return this;
                children: []
                pos: 3686
                length: 12
              pos: 3626
              length: 78
          children: []
          pos: 3565
          length: 139
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: addOption
              children: []
              pos: 4097
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String opt
                children: []
                pos: 4107
                length: 10
              pos: 4082
              length: 156
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: addOption(opt, null, hasArg, description);
                children: []
                pos: 4169
                length: 42
              - type: return_statement
                fields:
                  text: return this;
                children: []
                pos: 4220
                length: 12
              pos: 4159
              length: 79
          children: []
          pos: 4082
          length: 156
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: addOption
              children: []
              pos: 4705
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String opt
                children: []
                pos: 4715
                length: 10
              pos: 4690
              length: 187
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: addOption(new Option(opt, longOpt, hasArg, description));
                children: []
                pos: 4793
                length: 57
              - type: return_statement
                fields:
                  text: return this;
                children: []
                pos: 4859
                length: 12
              pos: 4783
              length: 94
          children: []
          pos: 4690
          length: 187
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: addOption
              children: []
              pos: 5047
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Option opt
                children: []
                pos: 5057
                length: 10
              pos: 5032
              length: 568
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: String key = opt.getKey();
                children: []
                pos: 5083
                length: 26
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: opt.hasLongOpt()
                        children: []
                        pos: 5165
                        length: 16
                    children: []
                    pos: 5164
                    length: 18
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: longOpts.put(opt.getLongOpt(), opt);
                    children: []
                    pos: 5205
                    length: 36
                  pos: 5191
                  length: 60
                pos: 5161
                length: 90
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: opt.isRequired()
                        children: []
                        pos: 5330
                        length: 16
                    children: []
                    pos: 5329
                    length: 18
                children:
                - type: block
                  fields: {}
                  children:
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: method_invocation
                            fields:
                              text: requiredOpts.contains(key)
                            children: []
                            pos: 5374
                            length: 26
                        children: []
                        pos: 5373
                        length: 28
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: requiredOpts.remove(requiredOpts.indexOf(key));
                        children: []
                        pos: 5432
                        length: 47
                      pos: 5414
                      length: 79
                    pos: 5370
                    length: 123
                  - type: expression_statement
                    fields:
                      text: requiredOpts.add(key);
                    children: []
                    pos: 5506
                    length: 22
                  pos: 5356
                  length: 182
                pos: 5326
                length: 212
              - type: expression_statement
                fields:
                  text: shortOpts.put(key, opt);
                children: []
                pos: 5548
                length: 24
              - type: return_statement
                fields:
                  text: return this;
                children: []
                pos: 5582
                length: 12
              pos: 5073
              length: 527
          children: []
          pos: 5032
          length: 568
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getOptions
              children: []
              pos: 5792
              length: 10
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 5766
              length: 116
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return Collections.unmodifiableCollection(helpOptions());
                children: []
                pos: 5819
                length: 57
              pos: 5809
              length: 73
          children: []
          pos: 5766
          length: 116
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: helpOptions
              children: []
              pos: 6016
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 6003
              length: 96
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return new ArrayList<Option>(shortOpts.values());
                children: []
                pos: 6044
                length: 49
              pos: 6034
              length: 65
          children: []
          pos: 6003
          length: 96
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getRequiredOptions
              children: []
              pos: 6227
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 6215
              length: 103
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return Collections.unmodifiableList(requiredOpts);
                children: []
                pos: 6262
                length: 50
              pos: 6252
              length: 66
          children: []
          pos: 6215
          length: 103
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getOption
              children: []
              pos: 6605
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String opt
                children: []
                pos: 6615
                length: 10
              pos: 6591
              length: 227
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: opt = Util.stripLeadingHyphens(opt);
                children: []
                pos: 6641
                length: 36
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: shortOpts.containsKey(opt)
                        children: []
                        pos: 6691
                        length: 26
                    children: []
                    pos: 6690
                    length: 28
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return shortOpts.get(opt);
                    children: []
                    pos: 6741
                    length: 26
                  pos: 6727
                  length: 50
                pos: 6687
                length: 90
              - type: return_statement
                fields:
                  text: return longOpts.get(opt);
                children: []
                pos: 6787
                length: 25
              pos: 6631
              length: 187
          children: []
          pos: 6591
          length: 227
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getMatchingOptions
              children: []
              pos: 7110
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String opt
                children: []
                pos: 7129
                length: 10
              pos: 7090
              length: 459
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: opt = Util.stripLeadingHyphens(opt);
                children: []
                pos: 7155
                length: 36
              - type: local_variable_declaration
                fields:
                  text: List<String> matchingOpts = new ArrayList<String>();
                children: []
                pos: 7209
                length: 52
              - type: enhanced_for_statement
                fields:
                  text: |-
                    for (String longOpt : longOpts.keySet())
                            {
                                if (longOpt.startsWith(opt))
                                {
                                    matchingOpts.add(longOpt);
                                }
                            }
                children: []
                pos: 7333
                length: 172
              - type: return_statement
                fields:
                  text: return matchingOpts;
                children: []
                pos: 7523
                length: 20
              pos: 7145
              length: 404
          children: []
          pos: 7090
          length: 459
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: hasOption
              children: []
              pos: 7821
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String opt
                children: []
                pos: 7831
                length: 10
              pos: 7806
              length: 166
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: opt = Util.stripLeadingHyphens(opt);
                children: []
                pos: 7857
                length: 36
              - type: return_statement
                fields:
                  text: return shortOpts.containsKey(opt) || longOpts.containsKey(opt);
                children: []
                pos: 7903
                length: 63
              pos: 7847
              length: 125
          children: []
          pos: 7806
          length: 166
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: hasLongOption
              children: []
              pos: 8253
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String opt
                children: []
                pos: 8267
                length: 10
              pos: 8238
              length: 140
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: opt = Util.stripLeadingHyphens(opt);
                children: []
                pos: 8293
                length: 36
              - type: return_statement
                fields:
                  text: return longOpts.containsKey(opt);
                children: []
                pos: 8339
                length: 33
              pos: 8283
              length: 95
          children: []
          pos: 8238
          length: 140
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: hasShortOption
              children: []
              pos: 8660
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String opt
                children: []
                pos: 8675
                length: 10
              pos: 8645
              length: 142
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: opt = Util.stripLeadingHyphens(opt);
                children: []
                pos: 8701
                length: 36
              - type: return_statement
                fields:
                  text: return shortOpts.containsKey(opt);
                children: []
                pos: 8747
                length: 34
              pos: 8691
              length: 96
          children: []
          pos: 8645
          length: 142
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getOptionGroup
              children: []
              pos: 9071
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Option opt
                children: []
                pos: 9086
                length: 10
              pos: 9052
              length: 104
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return optionGroups.get(opt.getKey());
                children: []
                pos: 9112
                length: 38
              pos: 9102
              length: 54
          children: []
          pos: 9052
          length: 104
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: toString
              children: []
              pos: 9303
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 9275
              length: 307
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: StringBuilder buf = new StringBuilder();
                children: []
                pos: 9328
                length: 40
              - type: expression_statement
                fields:
                  text: 'buf.append("[ Options: [ short ");'
                children: []
                pos: 9378
                length: 34
              - type: expression_statement
                fields:
                  text: buf.append(shortOpts.toString());
                children: []
                pos: 9421
                length: 33
              - type: expression_statement
                fields:
                  text: buf.append(" ] [ long ");
                children: []
                pos: 9463
                length: 25
              - type: expression_statement
                fields:
                  text: buf.append(longOpts);
                children: []
                pos: 9497
                length: 21
              - type: expression_statement
                fields:
                  text: buf.append(" ]");
                children: []
                pos: 9527
                length: 17
              - type: return_statement
                fields:
                  text: return buf.toString();
                children: []
                pos: 9554
                length: 22
              pos: 9318
              length: 264
          children: []
          pos: 9275
          length: 307
        pos: 1513
        length: 8071
    children: []
    pos: 1513
    length: 8071
  pos: 0
  length: 9585
text_diff: "--- before\n+++ after\n@@ -237,9 +237,6 @@\n         List<String> matchingOpts
  = new ArrayList<String>();\n \n         // for a perfect match return the single
  option only\n-        if(longOpts.keySet().contains(opt)) {\n-            return
  Collections.singletonList(opt);\n-        }\n \n         for (String longOpt : longOpts.keySet())\n
  \        {\n"
tree_diff: |+
  New cluster:
  Unknown cluster type
  ------------
  ===
  delete-tree
  ---
  if_statement [7332,7430]
      parenthesized_expression [7334,7367]
          method_invocation: longOpts.keySet().contains(opt) [7335,7366]
      block [7368,7430]
          return_statement: return Collections.singletonList(opt); [7382,7420]

...
