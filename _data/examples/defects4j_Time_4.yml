---
language: java
before_tree:
  type: program
  fields: {}
  children:
  - type: class_declaration
    fields:
      name:
        type: identifier
        fields:
          text: Partial
        children: []
        pos: 2673
        length: 7
      body:
        type: class_body
        fields: {}
        children:
        - type: field_declaration
          fields:
            text: private static final long serialVersionUID = 12324121189002L;
          children: []
          pos: 2802
          length: 61
        - type: field_declaration
          fields:
            text: private final Chronology iChronology;
          children: []
          pos: 2903
          length: 37
        - type: field_declaration
          fields:
            text: private final DateTimeFieldType[] iTypes;
          children: []
          pos: 2980
          length: 41
        - type: field_declaration
          fields:
            text: private final int[] iValues;
          children: []
          pos: 3079
          length: 28
        - type: field_declaration
          fields:
            text: private transient DateTimeFormatter[] iFormatter;
          children: []
          pos: 3200
          length: 49
        - type: constructor_declaration
          fields:
            text: |-
              public Partial() {
                      this((Chronology) null);
                  }
          children: []
          pos: 3948
          length: 57
        - type: constructor_declaration
          fields:
            text: |-
              public Partial(Chronology chrono) {
                      super();
                      iChronology = DateTimeUtils.getChronology(chrono).withUTC();
                      iTypes = new DateTimeFieldType[0];
                      iValues = new int[0];
                  }
          children: []
          pos: 4605
          length: 200
        - type: constructor_declaration
          fields:
            text: |-
              public Partial(DateTimeFieldType type, int value) {
                      this(type, value, null);
                  }
          children: []
          pos: 5151
          length: 90
        - type: constructor_declaration
          fields:
            text: |-
              public Partial(DateTimeFieldType type, int value, Chronology chronology) {
                      super();
                      chronology = DateTimeUtils.getChronology(chronology).withUTC();
                      iChronology = chronology;
                      if (type == null) {
                          throw new IllegalArgumentException("The field type must not be null");
                      }
                      iTypes = new DateTimeFieldType[] {type};
                      iValues = new int[] {value};
                      chronology.validate(this, iValues);
                  }
          children: []
          pos: 5642
          length: 454
        - type: constructor_declaration
          fields:
            text: |-
              public Partial(DateTimeFieldType[] types, int[] values) {
                      this(types, values, null);
                  }
          children: []
          pos: 6522
          length: 98
        - type: constructor_declaration
          fields:
            text: "public Partial(DateTimeFieldType[] types, int[] values, Chronology
              chronology) {\n        super();\n        chronology = DateTimeUtils.getChronology(chronology).withUTC();\n
              \       iChronology = chronology;\n        if (types == null) {\n            throw
              new IllegalArgumentException(\"Types array must not be null\");\n        }\n
              \       if (values == null) {\n            throw new IllegalArgumentException(\"Values
              array must not be null\");\n        }\n        if (values.length !=
              types.length) {\n            throw new IllegalArgumentException(\"Values
              array must be the same length as the types array\");\n        }\n        if
              (types.length == 0) {\n            iTypes = types;\n            iValues
              = values;\n            return;\n        }\n        for (int i = 0; i
              < types.length; i++) {\n            if (types[i] == null) {\n                throw
              new IllegalArgumentException(\"Types array must not contain null: index
              \" + i);\n            }\n        }\n        DurationField lastUnitField
              = null;\n        for (int i = 0; i < types.length; i++) {\n            DateTimeFieldType
              loopType = types[i];\n            DurationField loopUnitField = loopType.getDurationType().getField(iChronology);\n
              \           if (i > 0) {\n                int compare = lastUnitField.compareTo(loopUnitField);\n
              \               if (compare < 0 || (compare != 0 && loopUnitField.isSupported()
              == false)) {\n                    throw new IllegalArgumentException(\"Types
              array must be in order largest-smallest: \" +\n                            types[i
              - 1].getName() + \" < \" + loopType.getName());\n                } else
              if (compare == 0) {\n                    if (types[i - 1].getRangeDurationType()
              == null) {\n                        if (loopType.getRangeDurationType()
              == null) {\n                            throw new IllegalArgumentException(\"Types
              array must not contain duplicate: \" + loopType.getName());\n                        }\n
              \                   } else {\n                        if (loopType.getRangeDurationType()
              == null) {\n                            throw new IllegalArgumentException(\"Types
              array must be in order largest-smallest: \" +\n                                    types[i
              - 1].getName() + \" < \" + loopType.getName());\n                        }\n
              \                       DurationField lastRangeField = types[i - 1].getRangeDurationType().getField(iChronology);\n
              \                       DurationField loopRangeField = loopType.getRangeDurationType().getField(iChronology);\n
              \                       if (lastRangeField.compareTo(loopRangeField)
              < 0) {\n                            throw new IllegalArgumentException(\"Types
              array must be in order largest-smallest: \" +\n                                    types[i
              - 1].getName() + \" < \" + loopType.getName());\n                        }\n
              \                       if (lastRangeField.compareTo(loopRangeField)
              == 0) {\n                            throw new IllegalArgumentException(\"Types
              array must not contain duplicate: \" + loopType.getName());\n                        }\n
              \                   }\n                }\n            }\n            lastUnitField
              = loopUnitField;\n        }\n        \n        iTypes = (DateTimeFieldType[])
              types.clone();\n        chronology.validate(this, values);\n        iValues
              = (int[]) values.clone();\n    }"
          children: []
          pos: 7103
          length: 3244
        - type: constructor_declaration
          fields:
            text: |-
              public Partial(ReadablePartial partial) {
                      super();
                      if (partial == null) {
                          throw new IllegalArgumentException("The partial must not be null");
                      }
                      iChronology = DateTimeUtils.getChronology(partial.getChronology()).withUTC();
                      iTypes = new DateTimeFieldType[partial.size()];
                      iValues = new int[partial.size()];
                      for (int i = 0; i < partial.size(); i++) {
                          iTypes[i] = partial.getFieldType(i);
                          iValues[i] = partial.getValue(i);
                      }
                  }
          children: []
          pos: 10547
          length: 526
        - type: constructor_declaration
          fields:
            text: |-
              Partial(Partial partial, int[] values) {
                      super();
                      iChronology = partial.iChronology;
                      iTypes = partial.iTypes;
                      iValues = values;
                  }
          children: []
          pos: 11378
          length: 165
        - type: constructor_declaration
          fields:
            text: |-
              Partial(Chronology chronology, DateTimeFieldType[] types, int[] values) {
                      super();
                      iChronology = chronology;
                      iTypes = types;
                      iValues = values;
                  }
          children: []
          pos: 11927
          length: 180
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: size
              children: []
              pos: 12307
              length: 4
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 12296
              length: 55
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return iTypes.length;
                children: []
                pos: 12324
                length: 21
              pos: 12314
              length: 37
          children: []
          pos: 12296
          length: 55
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getChronology
              children: []
              pos: 12683
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 12665
              length: 69
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return iChronology;
                children: []
                pos: 12709
                length: 19
              pos: 12699
              length: 35
          children: []
          pos: 12665
          length: 69
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getField
              children: []
              pos: 13037
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: int index
                children: []
                pos: 13046
                length: 9
              pos: 13013
              length: 117
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return iTypes[index].getField(chrono);
                children: []
                pos: 13086
                length: 38
              pos: 13076
              length: 54
          children: []
          pos: 13013
          length: 117
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getFieldType
              children: []
              pos: 13391
              length: 12
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: int index
                children: []
                pos: 13404
                length: 9
              pos: 13366
              length: 86
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return iTypes[index];
                children: []
                pos: 13425
                length: 21
              pos: 13415
              length: 37
          children: []
          pos: 13366
          length: 86
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getFieldTypes
              children: []
              pos: 13737
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 13710
              length: 103
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return (DateTimeFieldType[]) iTypes.clone();
                children: []
                pos: 13763
                length: 44
              pos: 13753
              length: 60
          children: []
          pos: 13710
          length: 103
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getValue
              children: []
              pos: 14111
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: int index
                children: []
                pos: 14120
                length: 9
              pos: 14100
              length: 69
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return iValues[index];
                children: []
                pos: 14141
                length: 22
              pos: 14131
              length: 38
          children: []
          pos: 14100
          length: 69
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getValues
              children: []
              pos: 14529
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 14516
              length: 72
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return (int[]) iValues.clone();
                children: []
                pos: 14551
                length: 31
              pos: 14541
              length: 47
          children: []
          pos: 14516
          length: 72
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: withChronologyRetainFields
              children: []
              pos: 15321
              length: 26
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Chronology newChronology
                children: []
                pos: 15348
                length: 24
              pos: 15306
              length: 458
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: newChronology = DateTimeUtils.getChronology(newChronology);
                children: []
                pos: 15384
                length: 59
              - type: expression_statement
                fields:
                  text: newChronology = newChronology.withUTC();
                children: []
                pos: 15452
                length: 40
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: newChronology
                            children: []
                            pos: 15505
                            length: 13
                          right:
                            type: method_invocation
                            fields:
                              text: getChronology()
                            children: []
                            pos: 15522
                            length: 15
                        children: []
                        pos: 15505
                        length: 32
                    children: []
                    pos: 15504
                    length: 34
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return this;
                    children: []
                    pos: 15553
                    length: 12
                  pos: 15539
                  length: 36
                pos: 15501
                length: 257
              pos: 15374
              length: 390
          children: []
          pos: 15306
          length: 458
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: with
              children: []
              pos: 16503
              length: 4
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: DateTimeFieldType fieldType
                children: []
                pos: 16508
                length: 27
              pos: 16488
              length: 2446
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: fieldType
                            children: []
                            pos: 16562
                            length: 9
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 16575
                            length: 4
                        children: []
                        pos: 16562
                        length: 17
                    children: []
                    pos: 16561
                    length: 19
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: throw new IllegalArgumentException("The field type must
                        not be null");
                    children: []
                    pos: 16595
                    length: 70
                  pos: 16581
                  length: 94
                pos: 16558
                length: 117
              - type: local_variable_declaration
                fields:
                  text: int index = indexOf(fieldType);
                children: []
                pos: 16684
                length: 31
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: index
                            children: []
                            pos: 16728
                            length: 5
                          right:
                            type: unary_expression
                            fields:
                              text: "-1"
                            children: []
                            pos: 16737
                            length: 2
                        children: []
                        pos: 16728
                        length: 11
                    children: []
                    pos: 16727
                    length: 13
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: DateTimeFieldType[] newTypes = new DateTimeFieldType[iTypes.length
                        + 1];
                    children: []
                    pos: 16755
                    length: 72
                  - type: local_variable_declaration
                    fields:
                      text: int[] newValues = new int[newTypes.length];
                    children: []
                    pos: 16840
                    length: 43
                  - type: local_variable_declaration
                    fields:
                      text: int i = 0;
                    children: []
                    pos: 16984
                    length: 10
                  - type: local_variable_declaration
                    fields:
                      text: DurationField unitField = fieldType.getDurationType().getField(iChronology);
                    children: []
                    pos: 17007
                    length: 76
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: method_invocation
                            fields:
                              text: unitField.isSupported()
                            children: []
                            pos: 17100
                            length: 23
                        children: []
                        pos: 17099
                        length: 25
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: for_statement
                        fields:
                          text: |-
                            for (; i < iTypes.length; i++) {
                                                DateTimeFieldType loopType = iTypes[i];
                                                DurationField loopUnitField = loopType.getDurationType().getField(iChronology);
                                                if (loopUnitField.isSupported()) {
                                                    int compare = unitField.compareTo(loopUnitField);
                                                    if (compare > 0) {
                                                        break;
                                                    } else if (compare == 0) {
                                                        DurationField rangeField = fieldType.getRangeDurationType().getField(iChronology);
                                                        DurationField loopRangeField = loopType.getRangeDurationType().getField(iChronology);
                                                        if (rangeField.compareTo(loopRangeField) > 0) {
                                                            break;
                                                        }
                                                    }
                                                }
                                            }
                        children: []
                        pos: 17143
                        length: 886
                      pos: 17125
                      length: 918
                    pos: 17096
                    length: 947
                  - type: expression_statement
                    fields:
                      text: System.arraycopy(iTypes, 0, newTypes, 0, i);
                    children: []
                    pos: 18056
                    length: 44
                  - type: expression_statement
                    fields:
                      text: System.arraycopy(iValues, 0, newValues, 0, i);
                    children: []
                    pos: 18113
                    length: 46
                  - type: expression_statement
                    fields:
                      text: newTypes[i] = fieldType;
                    children: []
                    pos: 18172
                    length: 24
                  - type: expression_statement
                    fields:
                      text: newValues[i] = value;
                    children: []
                    pos: 18209
                    length: 21
                  - type: expression_statement
                    fields:
                      text: System.arraycopy(iTypes, i, newTypes, i + 1, newTypes.length
                        - i - 1);
                    children: []
                    pos: 18243
                    length: 70
                  - type: expression_statement
                    fields:
                      text: System.arraycopy(iValues, i, newValues, i + 1, newValues.length
                        - i - 1);
                    children: []
                    pos: 18326
                    length: 73
                  - type: local_variable_declaration
                    fields:
                      text: Partial newPartial = new Partial(newTypes, newValues,
                        iChronology);
                    children: []
                    pos: 18532
                    length: 67
                  - type: expression_statement
                    fields:
                      text: iChronology.validate(newPartial, newValues);
                    children: []
                    pos: 18612
                    length: 44
                  - type: return_statement
                    fields:
                      text: return newPartial;
                    children: []
                    pos: 18669
                    length: 18
                  pos: 16741
                  length: 1956
                pos: 16724
                length: 1973
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: value
                            children: []
                            pos: 18710
                            length: 5
                          right:
                            type: method_invocation
                            fields:
                              text: getValue(index)
                            children: []
                            pos: 18719
                            length: 15
                        children: []
                        pos: 18710
                        length: 24
                    children: []
                    pos: 18709
                    length: 26
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return this;
                    children: []
                    pos: 18750
                    length: 12
                  pos: 18736
                  length: 36
                pos: 18706
                length: 66
              - type: local_variable_declaration
                fields:
                  text: int[] newValues = getValues();
                children: []
                pos: 18781
                length: 30
              - type: expression_statement
                fields:
                  text: newValues = getField(index).set(this, index, newValues, value);
                children: []
                pos: 18820
                length: 63
              - type: return_statement
                fields:
                  text: return new Partial(this, newValues);
                children: []
                pos: 18892
                length: 36
              pos: 16548
              length: 2386
          children: []
          pos: 16488
          length: 2446
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: without
              children: []
              pos: 19258
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: DateTimeFieldType fieldType
                children: []
                pos: 19266
                length: 27
              pos: 19243
              length: 763
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: int index = indexOf(fieldType);
                children: []
                pos: 19305
                length: 31
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: index
                            children: []
                            pos: 19349
                            length: 5
                          right:
                            type: unary_expression
                            fields:
                              text: "-1"
                            children: []
                            pos: 19358
                            length: 2
                        children: []
                        pos: 19349
                        length: 11
                    children: []
                    pos: 19348
                    length: 13
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: DateTimeFieldType[] newTypes = new DateTimeFieldType[size()
                        - 1];
                    children: []
                    pos: 19376
                    length: 65
                  - type: local_variable_declaration
                    fields:
                      text: int[] newValues = new int[size() - 1];
                    children: []
                    pos: 19454
                    length: 38
                  - type: expression_statement
                    fields:
                      text: System.arraycopy(iTypes, 0, newTypes, 0, index);
                    children: []
                    pos: 19505
                    length: 48
                  - type: expression_statement
                    fields:
                      text: System.arraycopy(iTypes, index + 1, newTypes, index, newTypes.length
                        - index);
                    children: []
                    pos: 19566
                    length: 78
                  - type: expression_statement
                    fields:
                      text: System.arraycopy(iValues, 0, newValues, 0, index);
                    children: []
                    pos: 19657
                    length: 50
                  - type: expression_statement
                    fields:
                      text: System.arraycopy(iValues, index + 1, newValues, index,
                        newValues.length - index);
                    children: []
                    pos: 19720
                    length: 81
                  - type: local_variable_declaration
                    fields:
                      text: Partial newPartial = new Partial(iChronology, newTypes,
                        newValues);
                    children: []
                    pos: 19814
                    length: 67
                  - type: expression_statement
                    fields:
                      text: iChronology.validate(newPartial, newValues);
                    children: []
                    pos: 19894
                    length: 44
                  - type: return_statement
                    fields:
                      text: return newPartial;
                    children: []
                    pos: 19951
                    length: 18
                  pos: 19362
                  length: 617
                pos: 19345
                length: 634
              - type: return_statement
                fields:
                  text: return this;
                children: []
                pos: 19988
                length: 12
              pos: 19295
              length: 711
          children: []
          pos: 19243
          length: 763
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: withField
              children: []
              pos: 20746
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: DateTimeFieldType fieldType
                children: []
                pos: 20756
                length: 27
              pos: 20731
              length: 352
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: int index = indexOfSupported(fieldType);
                children: []
                pos: 20806
                length: 40
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: value
                            children: []
                            pos: 20859
                            length: 5
                          right:
                            type: method_invocation
                            fields:
                              text: getValue(index)
                            children: []
                            pos: 20868
                            length: 15
                        children: []
                        pos: 20859
                        length: 24
                    children: []
                    pos: 20858
                    length: 26
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return this;
                    children: []
                    pos: 20899
                    length: 12
                  pos: 20885
                  length: 36
                pos: 20855
                length: 66
              - type: local_variable_declaration
                fields:
                  text: int[] newValues = getValues();
                children: []
                pos: 20930
                length: 30
              - type: expression_statement
                fields:
                  text: newValues = getField(index).set(this, index, newValues, value);
                children: []
                pos: 20969
                length: 63
              - type: return_statement
                fields:
                  text: return new Partial(this, newValues);
                children: []
                pos: 21041
                length: 36
              pos: 20796
              length: 287
          children: []
          pos: 20731
          length: 352
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: withFieldAdded
              children: []
              pos: 21821
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: DurationFieldType fieldType
                children: []
                pos: 21836
                length: 27
              pos: 21806
              length: 346
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: int index = indexOfSupported(fieldType);
                children: []
                pos: 21887
                length: 40
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: amount
                            children: []
                            pos: 21940
                            length: 6
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '0'
                            children: []
                            pos: 21950
                            length: 1
                        children: []
                        pos: 21940
                        length: 11
                    children: []
                    pos: 21939
                    length: 13
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return this;
                    children: []
                    pos: 21967
                    length: 12
                  pos: 21953
                  length: 36
                pos: 21936
                length: 53
              - type: local_variable_declaration
                fields:
                  text: int[] newValues = getValues();
                children: []
                pos: 21998
                length: 30
              - type: expression_statement
                fields:
                  text: newValues = getField(index).add(this, index, newValues, amount);
                children: []
                pos: 22037
                length: 64
              - type: return_statement
                fields:
                  text: return new Partial(this, newValues);
                children: []
                pos: 22110
                length: 36
              pos: 21877
              length: 275
          children: []
          pos: 21806
          length: 346
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: withFieldAddWrapped
              children: []
              pos: 22876
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: DurationFieldType fieldType
                children: []
                pos: 22896
                length: 27
              pos: 22861
              length: 362
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: int index = indexOfSupported(fieldType);
                children: []
                pos: 22947
                length: 40
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: amount
                            children: []
                            pos: 23000
                            length: 6
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '0'
                            children: []
                            pos: 23010
                            length: 1
                        children: []
                        pos: 23000
                        length: 11
                    children: []
                    pos: 22999
                    length: 13
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return this;
                    children: []
                    pos: 23027
                    length: 12
                  pos: 23013
                  length: 36
                pos: 22996
                length: 53
              - type: local_variable_declaration
                fields:
                  text: int[] newValues = getValues();
                children: []
                pos: 23058
                length: 30
              - type: expression_statement
                fields:
                  text: newValues = getField(index).addWrapPartial(this, index, newValues,
                    amount);
                children: []
                pos: 23097
                length: 75
              - type: return_statement
                fields:
                  text: return new Partial(this, newValues);
                children: []
                pos: 23181
                length: 36
              pos: 22937
              length: 286
          children: []
          pos: 22861
          length: 362
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: withPeriodAdded
              children: []
              pos: 23989
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: ReadablePeriod period
                children: []
                pos: 24005
                length: 21
              pos: 23974
              length: 601
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: period
                                children: []
                                pos: 24054
                                length: 6
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 24064
                                length: 4
                            children: []
                            pos: 24054
                            length: 14
                          right:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: scalar
                                children: []
                                pos: 24072
                                length: 6
                              right:
                                type: decimal_integer_literal
                                fields:
                                  text: '0'
                                children: []
                                pos: 24082
                                length: 1
                            children: []
                            pos: 24072
                            length: 11
                        children: []
                        pos: 24054
                        length: 29
                    children: []
                    pos: 24053
                    length: 31
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return this;
                    children: []
                    pos: 24099
                    length: 12
                  pos: 24085
                  length: 36
                pos: 24050
                length: 71
              - type: local_variable_declaration
                fields:
                  text: int[] newValues = getValues();
                children: []
                pos: 24130
                length: 30
              - type: for_statement
                fields:
                  text: |-
                    for (int i = 0; i < period.size(); i++) {
                                DurationFieldType fieldType = period.getFieldType(i);
                                int index = indexOf(fieldType);
                                if (index >= 0) {
                                    newValues = getField(index).add(this, index, newValues,
                                            FieldUtils.safeMultiply(period.getValue(i), scalar));
                                }
                            }
                children: []
                pos: 24169
                length: 355
              - type: return_statement
                fields:
                  text: return new Partial(this, newValues);
                children: []
                pos: 24533
                length: 36
              pos: 24040
              length: 535
          children: []
          pos: 23974
          length: 601
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: plus
              children: []
              pos: 24991
              length: 4
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: ReadablePeriod period
                children: []
                pos: 24996
                length: 21
              pos: 24976
              length: 93
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return withPeriodAdded(period, 1);
                children: []
                pos: 25029
                length: 34
              pos: 25019
              length: 50
          children: []
          pos: 24976
          length: 93
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: minus
              children: []
              pos: 25482
              length: 5
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: ReadablePeriod period
                children: []
                pos: 25488
                length: 21
              pos: 25467
              length: 95
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return withPeriodAdded(period, -1);
                children: []
                pos: 25521
                length: 35
              pos: 25511
              length: 51
          children: []
          pos: 25467
          length: 95
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: property
              children: []
              pos: 26080
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: DateTimeFieldType type
                children: []
                pos: 26089
                length: 22
              pos: 26064
              length: 115
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return new Property(this, indexOfSupported(type));
                children: []
                pos: 26123
                length: 50
              pos: 26113
              length: 66
          children: []
          pos: 26064
          length: 115
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isMatch
              children: []
              pos: 26647
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: ReadableInstant instant
                children: []
                pos: 26655
                length: 23
              pos: 26632
              length: 419
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: long millis = DateTimeUtils.getInstantMillis(instant);
                children: []
                pos: 26690
                length: 54
              - type: local_variable_declaration
                fields:
                  text: Chronology chrono = DateTimeUtils.getInstantChronology(instant);
                children: []
                pos: 26753
                length: 64
              - type: for_statement
                fields:
                  text: |-
                    for (int i = 0; i < iTypes.length; i++) {
                                int value = iTypes[i].getField(chrono).get(millis);
                                if (value != iValues[i]) {
                                    return false;
                                }
                            }
                children: []
                pos: 26826
                length: 198
              - type: return_statement
                fields:
                  text: return true;
                children: []
                pos: 27033
                length: 12
              pos: 26680
              length: 371
          children: []
          pos: 26632
          length: 419
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isMatch
              children: []
              pos: 27594
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: ReadablePartial partial
                children: []
                pos: 27602
                length: 23
              pos: 27579
              length: 388
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: partial
                            children: []
                            pos: 27641
                            length: 7
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 27652
                            length: 4
                        children: []
                        pos: 27641
                        length: 15
                    children: []
                    pos: 27640
                    length: 17
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: throw new IllegalArgumentException("The partial must not
                        be null");
                    children: []
                    pos: 27672
                    length: 67
                  pos: 27658
                  length: 91
                pos: 27637
                length: 112
              - type: for_statement
                fields:
                  text: |-
                    for (int i = 0; i < iTypes.length; i++) {
                                int value = partial.get(iTypes[i]);
                                if (value != iValues[i]) {
                                    return false;
                                }
                            }
                children: []
                pos: 27758
                length: 182
              - type: return_statement
                fields:
                  text: return true;
                children: []
                pos: 27949
                length: 12
              pos: 27627
              length: 340
          children: []
          pos: 27579
          length: 388
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getFormatter
              children: []
              pos: 28534
              length: 12
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 28509
              length: 667
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: DateTimeFormatter[] f = iFormatter;
                children: []
                pos: 28559
                length: 35
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: f
                            children: []
                            pos: 28607
                            length: 1
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 28612
                            length: 4
                        children: []
                        pos: 28607
                        length: 9
                    children: []
                    pos: 28606
                    length: 11
                children:
                - type: block
                  fields: {}
                  children:
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: equals
                            fields:
                              left:
                                type: method_invocation
                                fields:
                                  text: size()
                                children: []
                                pos: 28636
                                length: 6
                              right:
                                type: decimal_integer_literal
                                fields:
                                  text: '0'
                                children: []
                                pos: 28646
                                length: 1
                            children: []
                            pos: 28636
                            length: 11
                        children: []
                        pos: 28635
                        length: 13
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: return_statement
                        fields:
                          text: return null;
                        children: []
                        pos: 28667
                        length: 12
                      pos: 28649
                      length: 44
                    pos: 28632
                    length: 61
                  - type: expression_statement
                    fields:
                      text: f = new DateTimeFormatter[2];
                    children: []
                    pos: 28706
                    length: 29
                  - type: try_statement
                    fields:
                      body:
                        type: block
                        fields: {}
                        children:
                        - type: local_variable_declaration
                          fields:
                            text: List<DateTimeFieldType> list = new ArrayList<DateTimeFieldType>(Arrays.asList(iTypes));
                          children: []
                          pos: 28770
                          length: 87
                        - type: expression_statement
                          fields:
                            text: f[0] = ISODateTimeFormat.forFields(list, true, false);
                          children: []
                          pos: 28874
                          length: 54
                        - type: if_statement
                          fields:
                            condition:
                              type: parenthesized_expression
                              fields:
                                expression:
                                  type: equals
                                  fields:
                                    left:
                                      type: method_invocation
                                      fields:
                                        text: list.size()
                                      children: []
                                      pos: 28949
                                      length: 11
                                    right:
                                      type: decimal_integer_literal
                                      fields:
                                        text: '0'
                                      children: []
                                      pos: 28964
                                      length: 1
                                  children: []
                                  pos: 28949
                                  length: 16
                              children: []
                              pos: 28948
                              length: 18
                          children:
                          - type: block
                            fields: {}
                            children:
                            - type: expression_statement
                              fields:
                                text: f[1] = f[0];
                              children: []
                              pos: 28989
                              length: 12
                            pos: 28967
                            length: 52
                          pos: 28945
                          length: 74
                        pos: 28752
                        length: 281
                      excepts:
                        type: excepts
                        fields: {}
                        children:
                        - type: catch_clause
                          fields:
                            text: |-
                              catch (IllegalArgumentException ex) {
                                              // ignore
                                          }
                          children: []
                          pos: 29034
                          length: 77
                        pos: 28748
                        length: 363
                    children: []
                    pos: 28748
                    length: 363
                  - type: expression_statement
                    fields:
                      text: iFormatter = f;
                    children: []
                    pos: 29124
                    length: 15
                  pos: 28618
                  length: 531
                pos: 28603
                length: 546
              - type: return_statement
                fields:
                  text: return f[0];
                children: []
                pos: 29158
                length: 12
              pos: 28549
              length: 627
          children: []
          pos: 28509
          length: 667
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: toString
              children: []
              pos: 29626
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 29612
              length: 388
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: DateTimeFormatter[] f = iFormatter;
                children: []
                pos: 29647
                length: 35
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: f
                            children: []
                            pos: 29695
                            length: 1
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 29700
                            length: 4
                        children: []
                        pos: 29695
                        length: 9
                    children: []
                    pos: 29694
                    length: 11
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: getFormatter();
                    children: []
                    pos: 29720
                    length: 15
                  - type: expression_statement
                    fields:
                      text: f = iFormatter;
                    children: []
                    pos: 29748
                    length: 15
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: f
                                children: []
                                pos: 29780
                                length: 1
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 29785
                                length: 4
                            children: []
                            pos: 29780
                            length: 9
                        children: []
                        pos: 29779
                        length: 11
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: return_statement
                        fields:
                          text: return toStringList();
                        children: []
                        pos: 29809
                        length: 22
                      pos: 29791
                      length: 54
                    pos: 29776
                    length: 69
                  pos: 29706
                  length: 149
                pos: 29691
                length: 164
              - type: local_variable_declaration
                fields:
                  text: DateTimeFormatter f1 = f[1];
                children: []
                pos: 29864
                length: 28
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: f1
                            children: []
                            pos: 29905
                            length: 2
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 29911
                            length: 4
                        children: []
                        pos: 29905
                        length: 10
                    children: []
                    pos: 29904
                    length: 12
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return toStringList();
                    children: []
                    pos: 29931
                    length: 22
                  pos: 29917
                  length: 46
                pos: 29901
                length: 62
              - type: return_statement
                fields:
                  text: return f1.print(this);
                children: []
                pos: 29972
                length: 22
              pos: 29637
              length: 363
          children: []
          pos: 29612
          length: 388
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: toStringList
              children: []
              pos: 30390
              length: 12
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 30376
              length: 447
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: int size = size();
                children: []
                pos: 30415
                length: 18
              - type: local_variable_declaration
                fields:
                  text: StringBuilder buf = new StringBuilder(20 * size);
                children: []
                pos: 30442
                length: 49
              - type: expression_statement
                fields:
                  text: buf.append('[');
                children: []
                pos: 30500
                length: 16
              - type: for_statement
                fields:
                  text: |-
                    for (int i = 0; i < size; i++) {
                                if (i > 0) {
                                    buf.append(',').append(' ');
                                }
                                buf.append(iTypes[i].getName());
                                buf.append('=');
                                buf.append(iValues[i]);
                            }
                children: []
                pos: 30525
                length: 236
              - type: expression_statement
                fields:
                  text: buf.append(']');
                children: []
                pos: 30770
                length: 16
              - type: return_statement
                fields:
                  text: return buf.toString();
                children: []
                pos: 30795
                length: 22
              pos: 30405
              length: 418
          children: []
          pos: 30376
          length: 447
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: toString
              children: []
              pos: 31129
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String pattern
                children: []
                pos: 31138
                length: 14
              pos: 31115
              length: 181
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: pattern
                            children: []
                            pos: 31168
                            length: 7
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 31179
                            length: 4
                        children: []
                        pos: 31168
                        length: 15
                    children: []
                    pos: 31167
                    length: 17
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return toString();
                    children: []
                    pos: 31199
                    length: 18
                  pos: 31185
                  length: 42
                pos: 31164
                length: 63
              - type: return_statement
                fields:
                  text: return DateTimeFormat.forPattern(pattern).print(this);
                children: []
                pos: 31236
                length: 54
              pos: 31154
              length: 142
          children: []
          pos: 31115
          length: 181
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: toString
              children: []
              pos: 31658
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String pattern
                children: []
                pos: 31667
                length: 14
              pos: 31644
              length: 215
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: pattern
                            children: []
                            pos: 31712
                            length: 7
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 31723
                            length: 4
                        children: []
                        pos: 31712
                        length: 15
                    children: []
                    pos: 31711
                    length: 17
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return toString();
                    children: []
                    pos: 31743
                    length: 18
                  pos: 31729
                  length: 42
                pos: 31708
                length: 63
              - type: return_statement
                fields:
                  text: return DateTimeFormat.forPattern(pattern).withLocale(locale).print(this);
                children: []
                pos: 31780
                length: 73
              pos: 31698
              length: 161
          children: []
          pos: 31644
          length: 215
        - type: class_declaration
          fields:
            name:
              type: identifier
              fields:
                text: Property
              children: []
              pos: 32182
              length: 8
            body:
              type: class_body
              fields: {}
              children:
              - type: field_declaration
                fields:
                  text: private static final long serialVersionUID = 53278362873888L;
                children: []
                pos: 32300
                length: 61
              - type: field_declaration
                fields:
                  text: private final Partial iPartial;
                children: []
                pos: 32398
                length: 31
              - type: field_declaration
                fields:
                  text: private final int iFieldIndex;
                children: []
                pos: 32469
                length: 30
              - type: constructor_declaration
                fields:
                  text: |-
                    Property(Partial partial, int fieldIndex) {
                                super();
                                iPartial = partial;
                                iFieldIndex = fieldIndex;
                            }
                children: []
                pos: 32682
                length: 144
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: getField
                    children: []
                    pos: 32973
                    length: 8
                  parameters:
                    type: method_parameters
                    fields: {}
                    children: []
                    pos: 32952
                    length: 94
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: return_statement
                      fields:
                        text: return iPartial.getField(iFieldIndex);
                      children: []
                      pos: 32998
                      length: 38
                    pos: 32984
                    length: 62
                children: []
                pos: 32952
                length: 94
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: getReadablePartial
                    children: []
                    pos: 33208
                    length: 18
                  parameters:
                    type: method_parameters
                    fields: {}
                    children: []
                    pos: 33182
                    length: 87
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: return_statement
                      fields:
                        text: return iPartial;
                      children: []
                      pos: 33243
                      length: 16
                    pos: 33229
                    length: 40
                children: []
                pos: 33182
                length: 87
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: getPartial
                    children: []
                    pos: 33420
                    length: 10
                  parameters:
                    type: method_parameters
                    fields: {}
                    children: []
                    pos: 33405
                    length: 68
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: return_statement
                      fields:
                        text: return iPartial;
                      children: []
                      pos: 33447
                      length: 16
                    pos: 33433
                    length: 40
                children: []
                pos: 33405
                length: 68
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: get
                    children: []
                    pos: 33606
                    length: 3
                  parameters:
                    type: method_parameters
                    fields: {}
                    children: []
                    pos: 33595
                    length: 79
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: return_statement
                      fields:
                        text: return iPartial.getValue(iFieldIndex);
                      children: []
                      pos: 33626
                      length: 38
                    pos: 33612
                    length: 62
                children: []
                pos: 33595
                length: 79
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: addToCopy
                    children: []
                    pos: 34589
                    length: 9
                  parameters:
                    type: method_parameters
                    fields: {}
                    children:
                    - type: formal_parameter
                      fields:
                        text: int valueToAdd
                      children: []
                      pos: 34599
                      length: 14
                    pos: 34574
                    length: 243
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: local_variable_declaration
                      fields:
                        text: int[] newValues = iPartial.getValues();
                      children: []
                      pos: 34629
                      length: 39
                    - type: expression_statement
                      fields:
                        text: newValues = getField().add(iPartial, iFieldIndex, newValues,
                          valueToAdd);
                      children: []
                      pos: 34681
                      length: 73
                    - type: return_statement
                      fields:
                        text: return new Partial(iPartial, newValues);
                      children: []
                      pos: 34767
                      length: 40
                    pos: 34615
                    length: 202
                children: []
                pos: 34574
                length: 243
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: addWrapFieldToCopy
                    children: []
                    pos: 35706
                    length: 18
                  parameters:
                    type: method_parameters
                    fields: {}
                    children:
                    - type: formal_parameter
                      fields:
                        text: int valueToAdd
                      children: []
                      pos: 35725
                      length: 14
                    pos: 35691
                    length: 261
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: local_variable_declaration
                      fields:
                        text: int[] newValues = iPartial.getValues();
                      children: []
                      pos: 35755
                      length: 39
                    - type: expression_statement
                      fields:
                        text: newValues = getField().addWrapField(iPartial, iFieldIndex,
                          newValues, valueToAdd);
                      children: []
                      pos: 35807
                      length: 82
                    - type: return_statement
                      fields:
                        text: return new Partial(iPartial, newValues);
                      children: []
                      pos: 35902
                      length: 40
                    pos: 35741
                    length: 211
                children: []
                pos: 35691
                length: 261
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: setCopy
                    children: []
                    pos: 36493
                    length: 7
                  parameters:
                    type: method_parameters
                    fields: {}
                    children:
                    - type: formal_parameter
                      fields:
                        text: int value
                      children: []
                      pos: 36501
                      length: 9
                    pos: 36478
                    length: 231
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: local_variable_declaration
                      fields:
                        text: int[] newValues = iPartial.getValues();
                      children: []
                      pos: 36526
                      length: 39
                    - type: expression_statement
                      fields:
                        text: newValues = getField().set(iPartial, iFieldIndex, newValues,
                          value);
                      children: []
                      pos: 36578
                      length: 68
                    - type: return_statement
                      fields:
                        text: return new Partial(iPartial, newValues);
                      children: []
                      pos: 36659
                      length: 40
                    pos: 36512
                    length: 197
                children: []
                pos: 36478
                length: 231
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: setCopy
                    children: []
                    pos: 37252
                    length: 7
                  parameters:
                    type: method_parameters
                    fields: {}
                    children:
                    - type: formal_parameter
                      fields:
                        text: String text
                      children: []
                      pos: 37260
                      length: 11
                    pos: 37237
                    length: 255
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: local_variable_declaration
                      fields:
                        text: int[] newValues = iPartial.getValues();
                      children: []
                      pos: 37302
                      length: 39
                    - type: expression_statement
                      fields:
                        text: newValues = getField().set(iPartial, iFieldIndex, newValues,
                          text, locale);
                      children: []
                      pos: 37354
                      length: 75
                    - type: return_statement
                      fields:
                        text: return new Partial(iPartial, newValues);
                      children: []
                      pos: 37442
                      length: 40
                    pos: 37288
                    length: 204
                children: []
                pos: 37237
                length: 255
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: setCopy
                    children: []
                    pos: 37958
                    length: 7
                  parameters:
                    type: method_parameters
                    fields: {}
                    children:
                    - type: formal_parameter
                      fields:
                        text: String text
                      children: []
                      pos: 37966
                      length: 11
                    pos: 37943
                    length: 87
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: return_statement
                      fields:
                        text: return setCopy(text, null);
                      children: []
                      pos: 37993
                      length: 27
                    pos: 37979
                    length: 51
                children: []
                pos: 37943
                length: 87
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: withMaximumValue
                    children: []
                    pos: 38462
                    length: 16
                  parameters:
                    type: method_parameters
                    fields: {}
                    children: []
                    pos: 38447
                    length: 92
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: return_statement
                      fields:
                        text: return setCopy(getMaximumValue());
                      children: []
                      pos: 38495
                      length: 34
                    pos: 38481
                    length: 58
                children: []
                pos: 38447
                length: 92
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: withMinimumValue
                    children: []
                    pos: 38889
                    length: 16
                  parameters:
                    type: method_parameters
                    fields: {}
                    children: []
                    pos: 38874
                    length: 92
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: return_statement
                      fields:
                        text: return setCopy(getMinimumValue());
                      children: []
                      pos: 38922
                      length: 34
                    pos: 38908
                    length: 58
                children: []
                pos: 38874
                length: 92
              pos: 32162
              length: 6810
          children: []
          pos: 32162
          length: 6810
        pos: 2654
        length: 36321
    children: []
    pos: 2654
    length: 36321
  pos: 0
  length: 38976
after_tree:
  type: program
  fields: {}
  children:
  - type: class_declaration
    fields:
      name:
        type: identifier
        fields:
          text: Partial
        children: []
        pos: 2673
        length: 7
      body:
        type: class_body
        fields: {}
        children:
        - type: field_declaration
          fields:
            text: private static final long serialVersionUID = 12324121189002L;
          children: []
          pos: 2802
          length: 61
        - type: field_declaration
          fields:
            text: private final Chronology iChronology;
          children: []
          pos: 2903
          length: 37
        - type: field_declaration
          fields:
            text: private final DateTimeFieldType[] iTypes;
          children: []
          pos: 2980
          length: 41
        - type: field_declaration
          fields:
            text: private final int[] iValues;
          children: []
          pos: 3079
          length: 28
        - type: field_declaration
          fields:
            text: private transient DateTimeFormatter[] iFormatter;
          children: []
          pos: 3200
          length: 49
        - type: constructor_declaration
          fields:
            text: |-
              public Partial() {
                      this((Chronology) null);
                  }
          children: []
          pos: 3948
          length: 57
        - type: constructor_declaration
          fields:
            text: |-
              public Partial(Chronology chrono) {
                      super();
                      iChronology = DateTimeUtils.getChronology(chrono).withUTC();
                      iTypes = new DateTimeFieldType[0];
                      iValues = new int[0];
                  }
          children: []
          pos: 4605
          length: 200
        - type: constructor_declaration
          fields:
            text: |-
              public Partial(DateTimeFieldType type, int value) {
                      this(type, value, null);
                  }
          children: []
          pos: 5151
          length: 90
        - type: constructor_declaration
          fields:
            text: |-
              public Partial(DateTimeFieldType type, int value, Chronology chronology) {
                      super();
                      chronology = DateTimeUtils.getChronology(chronology).withUTC();
                      iChronology = chronology;
                      if (type == null) {
                          throw new IllegalArgumentException("The field type must not be null");
                      }
                      iTypes = new DateTimeFieldType[] {type};
                      iValues = new int[] {value};
                      chronology.validate(this, iValues);
                  }
          children: []
          pos: 5642
          length: 454
        - type: constructor_declaration
          fields:
            text: |-
              public Partial(DateTimeFieldType[] types, int[] values) {
                      this(types, values, null);
                  }
          children: []
          pos: 6522
          length: 98
        - type: constructor_declaration
          fields:
            text: "public Partial(DateTimeFieldType[] types, int[] values, Chronology
              chronology) {\n        super();\n        chronology = DateTimeUtils.getChronology(chronology).withUTC();\n
              \       iChronology = chronology;\n        if (types == null) {\n            throw
              new IllegalArgumentException(\"Types array must not be null\");\n        }\n
              \       if (values == null) {\n            throw new IllegalArgumentException(\"Values
              array must not be null\");\n        }\n        if (values.length !=
              types.length) {\n            throw new IllegalArgumentException(\"Values
              array must be the same length as the types array\");\n        }\n        if
              (types.length == 0) {\n            iTypes = types;\n            iValues
              = values;\n            return;\n        }\n        for (int i = 0; i
              < types.length; i++) {\n            if (types[i] == null) {\n                throw
              new IllegalArgumentException(\"Types array must not contain null: index
              \" + i);\n            }\n        }\n        DurationField lastUnitField
              = null;\n        for (int i = 0; i < types.length; i++) {\n            DateTimeFieldType
              loopType = types[i];\n            DurationField loopUnitField = loopType.getDurationType().getField(iChronology);\n
              \           if (i > 0) {\n                int compare = lastUnitField.compareTo(loopUnitField);\n
              \               if (compare < 0 || (compare != 0 && loopUnitField.isSupported()
              == false)) {\n                    throw new IllegalArgumentException(\"Types
              array must be in order largest-smallest: \" +\n                            types[i
              - 1].getName() + \" < \" + loopType.getName());\n                } else
              if (compare == 0) {\n                    if (types[i - 1].getRangeDurationType()
              == null) {\n                        if (loopType.getRangeDurationType()
              == null) {\n                            throw new IllegalArgumentException(\"Types
              array must not contain duplicate: \" + loopType.getName());\n                        }\n
              \                   } else {\n                        if (loopType.getRangeDurationType()
              == null) {\n                            throw new IllegalArgumentException(\"Types
              array must be in order largest-smallest: \" +\n                                    types[i
              - 1].getName() + \" < \" + loopType.getName());\n                        }\n
              \                       DurationField lastRangeField = types[i - 1].getRangeDurationType().getField(iChronology);\n
              \                       DurationField loopRangeField = loopType.getRangeDurationType().getField(iChronology);\n
              \                       if (lastRangeField.compareTo(loopRangeField)
              < 0) {\n                            throw new IllegalArgumentException(\"Types
              array must be in order largest-smallest: \" +\n                                    types[i
              - 1].getName() + \" < \" + loopType.getName());\n                        }\n
              \                       if (lastRangeField.compareTo(loopRangeField)
              == 0) {\n                            throw new IllegalArgumentException(\"Types
              array must not contain duplicate: \" + loopType.getName());\n                        }\n
              \                   }\n                }\n            }\n            lastUnitField
              = loopUnitField;\n        }\n        \n        iTypes = (DateTimeFieldType[])
              types.clone();\n        chronology.validate(this, values);\n        iValues
              = (int[]) values.clone();\n    }"
          children: []
          pos: 7103
          length: 3244
        - type: constructor_declaration
          fields:
            text: |-
              public Partial(ReadablePartial partial) {
                      super();
                      if (partial == null) {
                          throw new IllegalArgumentException("The partial must not be null");
                      }
                      iChronology = DateTimeUtils.getChronology(partial.getChronology()).withUTC();
                      iTypes = new DateTimeFieldType[partial.size()];
                      iValues = new int[partial.size()];
                      for (int i = 0; i < partial.size(); i++) {
                          iTypes[i] = partial.getFieldType(i);
                          iValues[i] = partial.getValue(i);
                      }
                  }
          children: []
          pos: 10547
          length: 526
        - type: constructor_declaration
          fields:
            text: |-
              Partial(Partial partial, int[] values) {
                      super();
                      iChronology = partial.iChronology;
                      iTypes = partial.iTypes;
                      iValues = values;
                  }
          children: []
          pos: 11378
          length: 165
        - type: constructor_declaration
          fields:
            text: |-
              Partial(Chronology chronology, DateTimeFieldType[] types, int[] values) {
                      super();
                      iChronology = chronology;
                      iTypes = types;
                      iValues = values;
                  }
          children: []
          pos: 11927
          length: 180
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: size
              children: []
              pos: 12307
              length: 4
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 12296
              length: 55
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return iTypes.length;
                children: []
                pos: 12324
                length: 21
              pos: 12314
              length: 37
          children: []
          pos: 12296
          length: 55
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getChronology
              children: []
              pos: 12683
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 12665
              length: 69
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return iChronology;
                children: []
                pos: 12709
                length: 19
              pos: 12699
              length: 35
          children: []
          pos: 12665
          length: 69
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getField
              children: []
              pos: 13037
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: int index
                children: []
                pos: 13046
                length: 9
              pos: 13013
              length: 117
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return iTypes[index].getField(chrono);
                children: []
                pos: 13086
                length: 38
              pos: 13076
              length: 54
          children: []
          pos: 13013
          length: 117
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getFieldType
              children: []
              pos: 13391
              length: 12
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: int index
                children: []
                pos: 13404
                length: 9
              pos: 13366
              length: 86
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return iTypes[index];
                children: []
                pos: 13425
                length: 21
              pos: 13415
              length: 37
          children: []
          pos: 13366
          length: 86
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getFieldTypes
              children: []
              pos: 13737
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 13710
              length: 103
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return (DateTimeFieldType[]) iTypes.clone();
                children: []
                pos: 13763
                length: 44
              pos: 13753
              length: 60
          children: []
          pos: 13710
          length: 103
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getValue
              children: []
              pos: 14111
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: int index
                children: []
                pos: 14120
                length: 9
              pos: 14100
              length: 69
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return iValues[index];
                children: []
                pos: 14141
                length: 22
              pos: 14131
              length: 38
          children: []
          pos: 14100
          length: 69
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getValues
              children: []
              pos: 14529
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 14516
              length: 72
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return (int[]) iValues.clone();
                children: []
                pos: 14551
                length: 31
              pos: 14541
              length: 47
          children: []
          pos: 14516
          length: 72
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: withChronologyRetainFields
              children: []
              pos: 15321
              length: 26
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Chronology newChronology
                children: []
                pos: 15348
                length: 24
              pos: 15306
              length: 458
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: newChronology = DateTimeUtils.getChronology(newChronology);
                children: []
                pos: 15384
                length: 59
              - type: expression_statement
                fields:
                  text: newChronology = newChronology.withUTC();
                children: []
                pos: 15452
                length: 40
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: newChronology
                            children: []
                            pos: 15505
                            length: 13
                          right:
                            type: method_invocation
                            fields:
                              text: getChronology()
                            children: []
                            pos: 15522
                            length: 15
                        children: []
                        pos: 15505
                        length: 32
                    children: []
                    pos: 15504
                    length: 34
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return this;
                    children: []
                    pos: 15553
                    length: 12
                  pos: 15539
                  length: 36
                pos: 15501
                length: 257
              pos: 15374
              length: 390
          children: []
          pos: 15306
          length: 458
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: with
              children: []
              pos: 16503
              length: 4
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: DateTimeFieldType fieldType
                children: []
                pos: 16508
                length: 27
              pos: 16488
              length: 2446
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: fieldType
                            children: []
                            pos: 16562
                            length: 9
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 16575
                            length: 4
                        children: []
                        pos: 16562
                        length: 17
                    children: []
                    pos: 16561
                    length: 19
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: throw new IllegalArgumentException("The field type must
                        not be null");
                    children: []
                    pos: 16595
                    length: 70
                  pos: 16581
                  length: 94
                pos: 16558
                length: 117
              - type: local_variable_declaration
                fields:
                  text: int index = indexOf(fieldType);
                children: []
                pos: 16684
                length: 31
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: index
                            children: []
                            pos: 16728
                            length: 5
                          right:
                            type: unary_expression
                            fields:
                              text: "-1"
                            children: []
                            pos: 16737
                            length: 2
                        children: []
                        pos: 16728
                        length: 11
                    children: []
                    pos: 16727
                    length: 13
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: DateTimeFieldType[] newTypes = new DateTimeFieldType[iTypes.length
                        + 1];
                    children: []
                    pos: 16755
                    length: 72
                  - type: local_variable_declaration
                    fields:
                      text: int[] newValues = new int[newTypes.length];
                    children: []
                    pos: 16840
                    length: 43
                  - type: local_variable_declaration
                    fields:
                      text: int i = 0;
                    children: []
                    pos: 16984
                    length: 10
                  - type: local_variable_declaration
                    fields:
                      text: DurationField unitField = fieldType.getDurationType().getField(iChronology);
                    children: []
                    pos: 17007
                    length: 76
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: method_invocation
                            fields:
                              text: unitField.isSupported()
                            children: []
                            pos: 17100
                            length: 23
                        children: []
                        pos: 17099
                        length: 25
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: for_statement
                        fields:
                          text: |-
                            for (; i < iTypes.length; i++) {
                                                DateTimeFieldType loopType = iTypes[i];
                                                DurationField loopUnitField = loopType.getDurationType().getField(iChronology);
                                                if (loopUnitField.isSupported()) {
                                                    int compare = unitField.compareTo(loopUnitField);
                                                    if (compare > 0) {
                                                        break;
                                                    } else if (compare == 0) {
                                                        DurationField rangeField = fieldType.getRangeDurationType().getField(iChronology);
                                                        DurationField loopRangeField = loopType.getRangeDurationType().getField(iChronology);
                                                        if (rangeField.compareTo(loopRangeField) > 0) {
                                                            break;
                                                        }
                                                    }
                                                }
                                            }
                        children: []
                        pos: 17143
                        length: 886
                      pos: 17125
                      length: 918
                    pos: 17096
                    length: 947
                  - type: expression_statement
                    fields:
                      text: System.arraycopy(iTypes, 0, newTypes, 0, i);
                    children: []
                    pos: 18056
                    length: 44
                  - type: expression_statement
                    fields:
                      text: System.arraycopy(iValues, 0, newValues, 0, i);
                    children: []
                    pos: 18113
                    length: 46
                  - type: expression_statement
                    fields:
                      text: newTypes[i] = fieldType;
                    children: []
                    pos: 18172
                    length: 24
                  - type: expression_statement
                    fields:
                      text: newValues[i] = value;
                    children: []
                    pos: 18209
                    length: 21
                  - type: expression_statement
                    fields:
                      text: System.arraycopy(iTypes, i, newTypes, i + 1, newTypes.length
                        - i - 1);
                    children: []
                    pos: 18243
                    length: 70
                  - type: expression_statement
                    fields:
                      text: System.arraycopy(iValues, i, newValues, i + 1, newValues.length
                        - i - 1);
                    children: []
                    pos: 18326
                    length: 73
                  - type: local_variable_declaration
                    fields:
                      text: Partial newPartial = new Partial(iChronology, newTypes,
                        newValues);
                    children: []
                    pos: 18532
                    length: 67
                  - type: expression_statement
                    fields:
                      text: iChronology.validate(newPartial, newValues);
                    children: []
                    pos: 18612
                    length: 44
                  - type: return_statement
                    fields:
                      text: return newPartial;
                    children: []
                    pos: 18669
                    length: 18
                  pos: 16741
                  length: 1956
                pos: 16724
                length: 1973
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: value
                            children: []
                            pos: 18710
                            length: 5
                          right:
                            type: method_invocation
                            fields:
                              text: getValue(index)
                            children: []
                            pos: 18719
                            length: 15
                        children: []
                        pos: 18710
                        length: 24
                    children: []
                    pos: 18709
                    length: 26
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return this;
                    children: []
                    pos: 18750
                    length: 12
                  pos: 18736
                  length: 36
                pos: 18706
                length: 66
              - type: local_variable_declaration
                fields:
                  text: int[] newValues = getValues();
                children: []
                pos: 18781
                length: 30
              - type: expression_statement
                fields:
                  text: newValues = getField(index).set(this, index, newValues, value);
                children: []
                pos: 18820
                length: 63
              - type: return_statement
                fields:
                  text: return new Partial(this, newValues);
                children: []
                pos: 18892
                length: 36
              pos: 16548
              length: 2386
          children: []
          pos: 16488
          length: 2446
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: without
              children: []
              pos: 19258
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: DateTimeFieldType fieldType
                children: []
                pos: 19266
                length: 27
              pos: 19243
              length: 763
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: int index = indexOf(fieldType);
                children: []
                pos: 19305
                length: 31
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: index
                            children: []
                            pos: 19349
                            length: 5
                          right:
                            type: unary_expression
                            fields:
                              text: "-1"
                            children: []
                            pos: 19358
                            length: 2
                        children: []
                        pos: 19349
                        length: 11
                    children: []
                    pos: 19348
                    length: 13
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: DateTimeFieldType[] newTypes = new DateTimeFieldType[size()
                        - 1];
                    children: []
                    pos: 19376
                    length: 65
                  - type: local_variable_declaration
                    fields:
                      text: int[] newValues = new int[size() - 1];
                    children: []
                    pos: 19454
                    length: 38
                  - type: expression_statement
                    fields:
                      text: System.arraycopy(iTypes, 0, newTypes, 0, index);
                    children: []
                    pos: 19505
                    length: 48
                  - type: expression_statement
                    fields:
                      text: System.arraycopy(iTypes, index + 1, newTypes, index, newTypes.length
                        - index);
                    children: []
                    pos: 19566
                    length: 78
                  - type: expression_statement
                    fields:
                      text: System.arraycopy(iValues, 0, newValues, 0, index);
                    children: []
                    pos: 19657
                    length: 50
                  - type: expression_statement
                    fields:
                      text: System.arraycopy(iValues, index + 1, newValues, index,
                        newValues.length - index);
                    children: []
                    pos: 19720
                    length: 81
                  - type: local_variable_declaration
                    fields:
                      text: Partial newPartial = new Partial(iChronology, newTypes,
                        newValues);
                    children: []
                    pos: 19814
                    length: 67
                  - type: expression_statement
                    fields:
                      text: iChronology.validate(newPartial, newValues);
                    children: []
                    pos: 19894
                    length: 44
                  - type: return_statement
                    fields:
                      text: return newPartial;
                    children: []
                    pos: 19951
                    length: 18
                  pos: 19362
                  length: 617
                pos: 19345
                length: 634
              - type: return_statement
                fields:
                  text: return this;
                children: []
                pos: 19988
                length: 12
              pos: 19295
              length: 711
          children: []
          pos: 19243
          length: 763
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: withField
              children: []
              pos: 20746
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: DateTimeFieldType fieldType
                children: []
                pos: 20756
                length: 27
              pos: 20731
              length: 352
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: int index = indexOfSupported(fieldType);
                children: []
                pos: 20806
                length: 40
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: value
                            children: []
                            pos: 20859
                            length: 5
                          right:
                            type: method_invocation
                            fields:
                              text: getValue(index)
                            children: []
                            pos: 20868
                            length: 15
                        children: []
                        pos: 20859
                        length: 24
                    children: []
                    pos: 20858
                    length: 26
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return this;
                    children: []
                    pos: 20899
                    length: 12
                  pos: 20885
                  length: 36
                pos: 20855
                length: 66
              - type: local_variable_declaration
                fields:
                  text: int[] newValues = getValues();
                children: []
                pos: 20930
                length: 30
              - type: expression_statement
                fields:
                  text: newValues = getField(index).set(this, index, newValues, value);
                children: []
                pos: 20969
                length: 63
              - type: return_statement
                fields:
                  text: return new Partial(this, newValues);
                children: []
                pos: 21041
                length: 36
              pos: 20796
              length: 287
          children: []
          pos: 20731
          length: 352
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: withFieldAdded
              children: []
              pos: 21821
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: DurationFieldType fieldType
                children: []
                pos: 21836
                length: 27
              pos: 21806
              length: 346
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: int index = indexOfSupported(fieldType);
                children: []
                pos: 21887
                length: 40
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: amount
                            children: []
                            pos: 21940
                            length: 6
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '0'
                            children: []
                            pos: 21950
                            length: 1
                        children: []
                        pos: 21940
                        length: 11
                    children: []
                    pos: 21939
                    length: 13
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return this;
                    children: []
                    pos: 21967
                    length: 12
                  pos: 21953
                  length: 36
                pos: 21936
                length: 53
              - type: local_variable_declaration
                fields:
                  text: int[] newValues = getValues();
                children: []
                pos: 21998
                length: 30
              - type: expression_statement
                fields:
                  text: newValues = getField(index).add(this, index, newValues, amount);
                children: []
                pos: 22037
                length: 64
              - type: return_statement
                fields:
                  text: return new Partial(this, newValues);
                children: []
                pos: 22110
                length: 36
              pos: 21877
              length: 275
          children: []
          pos: 21806
          length: 346
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: withFieldAddWrapped
              children: []
              pos: 22876
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: DurationFieldType fieldType
                children: []
                pos: 22896
                length: 27
              pos: 22861
              length: 362
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: int index = indexOfSupported(fieldType);
                children: []
                pos: 22947
                length: 40
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: amount
                            children: []
                            pos: 23000
                            length: 6
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '0'
                            children: []
                            pos: 23010
                            length: 1
                        children: []
                        pos: 23000
                        length: 11
                    children: []
                    pos: 22999
                    length: 13
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return this;
                    children: []
                    pos: 23027
                    length: 12
                  pos: 23013
                  length: 36
                pos: 22996
                length: 53
              - type: local_variable_declaration
                fields:
                  text: int[] newValues = getValues();
                children: []
                pos: 23058
                length: 30
              - type: expression_statement
                fields:
                  text: newValues = getField(index).addWrapPartial(this, index, newValues,
                    amount);
                children: []
                pos: 23097
                length: 75
              - type: return_statement
                fields:
                  text: return new Partial(this, newValues);
                children: []
                pos: 23181
                length: 36
              pos: 22937
              length: 286
          children: []
          pos: 22861
          length: 362
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: withPeriodAdded
              children: []
              pos: 23989
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: ReadablePeriod period
                children: []
                pos: 24005
                length: 21
              pos: 23974
              length: 601
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: period
                                children: []
                                pos: 24054
                                length: 6
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 24064
                                length: 4
                            children: []
                            pos: 24054
                            length: 14
                          right:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: scalar
                                children: []
                                pos: 24072
                                length: 6
                              right:
                                type: decimal_integer_literal
                                fields:
                                  text: '0'
                                children: []
                                pos: 24082
                                length: 1
                            children: []
                            pos: 24072
                            length: 11
                        children: []
                        pos: 24054
                        length: 29
                    children: []
                    pos: 24053
                    length: 31
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return this;
                    children: []
                    pos: 24099
                    length: 12
                  pos: 24085
                  length: 36
                pos: 24050
                length: 71
              - type: local_variable_declaration
                fields:
                  text: int[] newValues = getValues();
                children: []
                pos: 24130
                length: 30
              - type: for_statement
                fields:
                  text: |-
                    for (int i = 0; i < period.size(); i++) {
                                DurationFieldType fieldType = period.getFieldType(i);
                                int index = indexOf(fieldType);
                                if (index >= 0) {
                                    newValues = getField(index).add(this, index, newValues,
                                            FieldUtils.safeMultiply(period.getValue(i), scalar));
                                }
                            }
                children: []
                pos: 24169
                length: 355
              - type: return_statement
                fields:
                  text: return new Partial(this, newValues);
                children: []
                pos: 24533
                length: 36
              pos: 24040
              length: 535
          children: []
          pos: 23974
          length: 601
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: plus
              children: []
              pos: 24991
              length: 4
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: ReadablePeriod period
                children: []
                pos: 24996
                length: 21
              pos: 24976
              length: 93
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return withPeriodAdded(period, 1);
                children: []
                pos: 25029
                length: 34
              pos: 25019
              length: 50
          children: []
          pos: 24976
          length: 93
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: minus
              children: []
              pos: 25482
              length: 5
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: ReadablePeriod period
                children: []
                pos: 25488
                length: 21
              pos: 25467
              length: 95
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return withPeriodAdded(period, -1);
                children: []
                pos: 25521
                length: 35
              pos: 25511
              length: 51
          children: []
          pos: 25467
          length: 95
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: property
              children: []
              pos: 26080
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: DateTimeFieldType type
                children: []
                pos: 26089
                length: 22
              pos: 26064
              length: 115
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return new Property(this, indexOfSupported(type));
                children: []
                pos: 26123
                length: 50
              pos: 26113
              length: 66
          children: []
          pos: 26064
          length: 115
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isMatch
              children: []
              pos: 26647
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: ReadableInstant instant
                children: []
                pos: 26655
                length: 23
              pos: 26632
              length: 419
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: long millis = DateTimeUtils.getInstantMillis(instant);
                children: []
                pos: 26690
                length: 54
              - type: local_variable_declaration
                fields:
                  text: Chronology chrono = DateTimeUtils.getInstantChronology(instant);
                children: []
                pos: 26753
                length: 64
              - type: for_statement
                fields:
                  text: |-
                    for (int i = 0; i < iTypes.length; i++) {
                                int value = iTypes[i].getField(chrono).get(millis);
                                if (value != iValues[i]) {
                                    return false;
                                }
                            }
                children: []
                pos: 26826
                length: 198
              - type: return_statement
                fields:
                  text: return true;
                children: []
                pos: 27033
                length: 12
              pos: 26680
              length: 371
          children: []
          pos: 26632
          length: 419
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isMatch
              children: []
              pos: 27594
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: ReadablePartial partial
                children: []
                pos: 27602
                length: 23
              pos: 27579
              length: 388
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: partial
                            children: []
                            pos: 27641
                            length: 7
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 27652
                            length: 4
                        children: []
                        pos: 27641
                        length: 15
                    children: []
                    pos: 27640
                    length: 17
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: throw new IllegalArgumentException("The partial must not
                        be null");
                    children: []
                    pos: 27672
                    length: 67
                  pos: 27658
                  length: 91
                pos: 27637
                length: 112
              - type: for_statement
                fields:
                  text: |-
                    for (int i = 0; i < iTypes.length; i++) {
                                int value = partial.get(iTypes[i]);
                                if (value != iValues[i]) {
                                    return false;
                                }
                            }
                children: []
                pos: 27758
                length: 182
              - type: return_statement
                fields:
                  text: return true;
                children: []
                pos: 27949
                length: 12
              pos: 27627
              length: 340
          children: []
          pos: 27579
          length: 388
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getFormatter
              children: []
              pos: 28534
              length: 12
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 28509
              length: 667
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: DateTimeFormatter[] f = iFormatter;
                children: []
                pos: 28559
                length: 35
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: f
                            children: []
                            pos: 28607
                            length: 1
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 28612
                            length: 4
                        children: []
                        pos: 28607
                        length: 9
                    children: []
                    pos: 28606
                    length: 11
                children:
                - type: block
                  fields: {}
                  children:
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: equals
                            fields:
                              left:
                                type: method_invocation
                                fields:
                                  text: size()
                                children: []
                                pos: 28636
                                length: 6
                              right:
                                type: decimal_integer_literal
                                fields:
                                  text: '0'
                                children: []
                                pos: 28646
                                length: 1
                            children: []
                            pos: 28636
                            length: 11
                        children: []
                        pos: 28635
                        length: 13
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: return_statement
                        fields:
                          text: return null;
                        children: []
                        pos: 28667
                        length: 12
                      pos: 28649
                      length: 44
                    pos: 28632
                    length: 61
                  - type: expression_statement
                    fields:
                      text: f = new DateTimeFormatter[2];
                    children: []
                    pos: 28706
                    length: 29
                  - type: try_statement
                    fields:
                      body:
                        type: block
                        fields: {}
                        children:
                        - type: local_variable_declaration
                          fields:
                            text: List<DateTimeFieldType> list = new ArrayList<DateTimeFieldType>(Arrays.asList(iTypes));
                          children: []
                          pos: 28770
                          length: 87
                        - type: expression_statement
                          fields:
                            text: f[0] = ISODateTimeFormat.forFields(list, true, false);
                          children: []
                          pos: 28874
                          length: 54
                        - type: if_statement
                          fields:
                            condition:
                              type: parenthesized_expression
                              fields:
                                expression:
                                  type: equals
                                  fields:
                                    left:
                                      type: method_invocation
                                      fields:
                                        text: list.size()
                                      children: []
                                      pos: 28949
                                      length: 11
                                    right:
                                      type: decimal_integer_literal
                                      fields:
                                        text: '0'
                                      children: []
                                      pos: 28964
                                      length: 1
                                  children: []
                                  pos: 28949
                                  length: 16
                              children: []
                              pos: 28948
                              length: 18
                          children:
                          - type: block
                            fields: {}
                            children:
                            - type: expression_statement
                              fields:
                                text: f[1] = f[0];
                              children: []
                              pos: 28989
                              length: 12
                            pos: 28967
                            length: 52
                          pos: 28945
                          length: 74
                        pos: 28752
                        length: 281
                      excepts:
                        type: excepts
                        fields: {}
                        children:
                        - type: catch_clause
                          fields:
                            text: |-
                              catch (IllegalArgumentException ex) {
                                              // ignore
                                          }
                          children: []
                          pos: 29034
                          length: 77
                        pos: 28748
                        length: 363
                    children: []
                    pos: 28748
                    length: 363
                  - type: expression_statement
                    fields:
                      text: iFormatter = f;
                    children: []
                    pos: 29124
                    length: 15
                  pos: 28618
                  length: 531
                pos: 28603
                length: 546
              - type: return_statement
                fields:
                  text: return f[0];
                children: []
                pos: 29158
                length: 12
              pos: 28549
              length: 627
          children: []
          pos: 28509
          length: 667
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: toString
              children: []
              pos: 29626
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 29612
              length: 388
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: DateTimeFormatter[] f = iFormatter;
                children: []
                pos: 29647
                length: 35
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: f
                            children: []
                            pos: 29695
                            length: 1
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 29700
                            length: 4
                        children: []
                        pos: 29695
                        length: 9
                    children: []
                    pos: 29694
                    length: 11
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: getFormatter();
                    children: []
                    pos: 29720
                    length: 15
                  - type: expression_statement
                    fields:
                      text: f = iFormatter;
                    children: []
                    pos: 29748
                    length: 15
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: f
                                children: []
                                pos: 29780
                                length: 1
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 29785
                                length: 4
                            children: []
                            pos: 29780
                            length: 9
                        children: []
                        pos: 29779
                        length: 11
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: return_statement
                        fields:
                          text: return toStringList();
                        children: []
                        pos: 29809
                        length: 22
                      pos: 29791
                      length: 54
                    pos: 29776
                    length: 69
                  pos: 29706
                  length: 149
                pos: 29691
                length: 164
              - type: local_variable_declaration
                fields:
                  text: DateTimeFormatter f1 = f[1];
                children: []
                pos: 29864
                length: 28
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: f1
                            children: []
                            pos: 29905
                            length: 2
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 29911
                            length: 4
                        children: []
                        pos: 29905
                        length: 10
                    children: []
                    pos: 29904
                    length: 12
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return toStringList();
                    children: []
                    pos: 29931
                    length: 22
                  pos: 29917
                  length: 46
                pos: 29901
                length: 62
              - type: return_statement
                fields:
                  text: return f1.print(this);
                children: []
                pos: 29972
                length: 22
              pos: 29637
              length: 363
          children: []
          pos: 29612
          length: 388
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: toStringList
              children: []
              pos: 30390
              length: 12
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 30376
              length: 447
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: int size = size();
                children: []
                pos: 30415
                length: 18
              - type: local_variable_declaration
                fields:
                  text: StringBuilder buf = new StringBuilder(20 * size);
                children: []
                pos: 30442
                length: 49
              - type: expression_statement
                fields:
                  text: buf.append('[');
                children: []
                pos: 30500
                length: 16
              - type: for_statement
                fields:
                  text: |-
                    for (int i = 0; i < size; i++) {
                                if (i > 0) {
                                    buf.append(',').append(' ');
                                }
                                buf.append(iTypes[i].getName());
                                buf.append('=');
                                buf.append(iValues[i]);
                            }
                children: []
                pos: 30525
                length: 236
              - type: expression_statement
                fields:
                  text: buf.append(']');
                children: []
                pos: 30770
                length: 16
              - type: return_statement
                fields:
                  text: return buf.toString();
                children: []
                pos: 30795
                length: 22
              pos: 30405
              length: 418
          children: []
          pos: 30376
          length: 447
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: toString
              children: []
              pos: 31129
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String pattern
                children: []
                pos: 31138
                length: 14
              pos: 31115
              length: 181
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: pattern
                            children: []
                            pos: 31168
                            length: 7
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 31179
                            length: 4
                        children: []
                        pos: 31168
                        length: 15
                    children: []
                    pos: 31167
                    length: 17
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return toString();
                    children: []
                    pos: 31199
                    length: 18
                  pos: 31185
                  length: 42
                pos: 31164
                length: 63
              - type: return_statement
                fields:
                  text: return DateTimeFormat.forPattern(pattern).print(this);
                children: []
                pos: 31236
                length: 54
              pos: 31154
              length: 142
          children: []
          pos: 31115
          length: 181
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: toString
              children: []
              pos: 31658
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String pattern
                children: []
                pos: 31667
                length: 14
              pos: 31644
              length: 215
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: pattern
                            children: []
                            pos: 31712
                            length: 7
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 31723
                            length: 4
                        children: []
                        pos: 31712
                        length: 15
                    children: []
                    pos: 31711
                    length: 17
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return toString();
                    children: []
                    pos: 31743
                    length: 18
                  pos: 31729
                  length: 42
                pos: 31708
                length: 63
              - type: return_statement
                fields:
                  text: return DateTimeFormat.forPattern(pattern).withLocale(locale).print(this);
                children: []
                pos: 31780
                length: 73
              pos: 31698
              length: 161
          children: []
          pos: 31644
          length: 215
        - type: class_declaration
          fields:
            name:
              type: identifier
              fields:
                text: Property
              children: []
              pos: 32182
              length: 8
            body:
              type: class_body
              fields: {}
              children:
              - type: field_declaration
                fields:
                  text: private static final long serialVersionUID = 53278362873888L;
                children: []
                pos: 32300
                length: 61
              - type: field_declaration
                fields:
                  text: private final Partial iPartial;
                children: []
                pos: 32398
                length: 31
              - type: field_declaration
                fields:
                  text: private final int iFieldIndex;
                children: []
                pos: 32469
                length: 30
              - type: constructor_declaration
                fields:
                  text: |-
                    Property(Partial partial, int fieldIndex) {
                                super();
                                iPartial = partial;
                                iFieldIndex = fieldIndex;
                            }
                children: []
                pos: 32682
                length: 144
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: getField
                    children: []
                    pos: 32973
                    length: 8
                  parameters:
                    type: method_parameters
                    fields: {}
                    children: []
                    pos: 32952
                    length: 94
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: return_statement
                      fields:
                        text: return iPartial.getField(iFieldIndex);
                      children: []
                      pos: 32998
                      length: 38
                    pos: 32984
                    length: 62
                children: []
                pos: 32952
                length: 94
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: getReadablePartial
                    children: []
                    pos: 33208
                    length: 18
                  parameters:
                    type: method_parameters
                    fields: {}
                    children: []
                    pos: 33182
                    length: 87
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: return_statement
                      fields:
                        text: return iPartial;
                      children: []
                      pos: 33243
                      length: 16
                    pos: 33229
                    length: 40
                children: []
                pos: 33182
                length: 87
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: getPartial
                    children: []
                    pos: 33420
                    length: 10
                  parameters:
                    type: method_parameters
                    fields: {}
                    children: []
                    pos: 33405
                    length: 68
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: return_statement
                      fields:
                        text: return iPartial;
                      children: []
                      pos: 33447
                      length: 16
                    pos: 33433
                    length: 40
                children: []
                pos: 33405
                length: 68
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: get
                    children: []
                    pos: 33606
                    length: 3
                  parameters:
                    type: method_parameters
                    fields: {}
                    children: []
                    pos: 33595
                    length: 79
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: return_statement
                      fields:
                        text: return iPartial.getValue(iFieldIndex);
                      children: []
                      pos: 33626
                      length: 38
                    pos: 33612
                    length: 62
                children: []
                pos: 33595
                length: 79
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: addToCopy
                    children: []
                    pos: 34589
                    length: 9
                  parameters:
                    type: method_parameters
                    fields: {}
                    children:
                    - type: formal_parameter
                      fields:
                        text: int valueToAdd
                      children: []
                      pos: 34599
                      length: 14
                    pos: 34574
                    length: 243
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: local_variable_declaration
                      fields:
                        text: int[] newValues = iPartial.getValues();
                      children: []
                      pos: 34629
                      length: 39
                    - type: expression_statement
                      fields:
                        text: newValues = getField().add(iPartial, iFieldIndex, newValues,
                          valueToAdd);
                      children: []
                      pos: 34681
                      length: 73
                    - type: return_statement
                      fields:
                        text: return new Partial(iPartial, newValues);
                      children: []
                      pos: 34767
                      length: 40
                    pos: 34615
                    length: 202
                children: []
                pos: 34574
                length: 243
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: addWrapFieldToCopy
                    children: []
                    pos: 35706
                    length: 18
                  parameters:
                    type: method_parameters
                    fields: {}
                    children:
                    - type: formal_parameter
                      fields:
                        text: int valueToAdd
                      children: []
                      pos: 35725
                      length: 14
                    pos: 35691
                    length: 261
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: local_variable_declaration
                      fields:
                        text: int[] newValues = iPartial.getValues();
                      children: []
                      pos: 35755
                      length: 39
                    - type: expression_statement
                      fields:
                        text: newValues = getField().addWrapField(iPartial, iFieldIndex,
                          newValues, valueToAdd);
                      children: []
                      pos: 35807
                      length: 82
                    - type: return_statement
                      fields:
                        text: return new Partial(iPartial, newValues);
                      children: []
                      pos: 35902
                      length: 40
                    pos: 35741
                    length: 211
                children: []
                pos: 35691
                length: 261
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: setCopy
                    children: []
                    pos: 36493
                    length: 7
                  parameters:
                    type: method_parameters
                    fields: {}
                    children:
                    - type: formal_parameter
                      fields:
                        text: int value
                      children: []
                      pos: 36501
                      length: 9
                    pos: 36478
                    length: 231
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: local_variable_declaration
                      fields:
                        text: int[] newValues = iPartial.getValues();
                      children: []
                      pos: 36526
                      length: 39
                    - type: expression_statement
                      fields:
                        text: newValues = getField().set(iPartial, iFieldIndex, newValues,
                          value);
                      children: []
                      pos: 36578
                      length: 68
                    - type: return_statement
                      fields:
                        text: return new Partial(iPartial, newValues);
                      children: []
                      pos: 36659
                      length: 40
                    pos: 36512
                    length: 197
                children: []
                pos: 36478
                length: 231
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: setCopy
                    children: []
                    pos: 37252
                    length: 7
                  parameters:
                    type: method_parameters
                    fields: {}
                    children:
                    - type: formal_parameter
                      fields:
                        text: String text
                      children: []
                      pos: 37260
                      length: 11
                    pos: 37237
                    length: 255
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: local_variable_declaration
                      fields:
                        text: int[] newValues = iPartial.getValues();
                      children: []
                      pos: 37302
                      length: 39
                    - type: expression_statement
                      fields:
                        text: newValues = getField().set(iPartial, iFieldIndex, newValues,
                          text, locale);
                      children: []
                      pos: 37354
                      length: 75
                    - type: return_statement
                      fields:
                        text: return new Partial(iPartial, newValues);
                      children: []
                      pos: 37442
                      length: 40
                    pos: 37288
                    length: 204
                children: []
                pos: 37237
                length: 255
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: setCopy
                    children: []
                    pos: 37958
                    length: 7
                  parameters:
                    type: method_parameters
                    fields: {}
                    children:
                    - type: formal_parameter
                      fields:
                        text: String text
                      children: []
                      pos: 37966
                      length: 11
                    pos: 37943
                    length: 87
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: return_statement
                      fields:
                        text: return setCopy(text, null);
                      children: []
                      pos: 37993
                      length: 27
                    pos: 37979
                    length: 51
                children: []
                pos: 37943
                length: 87
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: withMaximumValue
                    children: []
                    pos: 38462
                    length: 16
                  parameters:
                    type: method_parameters
                    fields: {}
                    children: []
                    pos: 38447
                    length: 92
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: return_statement
                      fields:
                        text: return setCopy(getMaximumValue());
                      children: []
                      pos: 38495
                      length: 34
                    pos: 38481
                    length: 58
                children: []
                pos: 38447
                length: 92
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: withMinimumValue
                    children: []
                    pos: 38889
                    length: 16
                  parameters:
                    type: method_parameters
                    fields: {}
                    children: []
                    pos: 38874
                    length: 92
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: return_statement
                      fields:
                        text: return setCopy(getMinimumValue());
                      children: []
                      pos: 38922
                      length: 34
                    pos: 38908
                    length: 58
                children: []
                pos: 38874
                length: 92
              pos: 32162
              length: 6810
          children: []
          pos: 32162
          length: 6810
        pos: 2654
        length: 36321
    children: []
    pos: 2654
    length: 36321
  pos: 0
  length: 38976
text_diff: |
  --- before
  +++ after
  @@ -461,7 +461,7 @@
               System.arraycopy(iValues, i, newValues, i + 1, newValues.length - i - 1);
               // use public constructor to ensure full validation
               // this isn't overly efficient, but is safe
  -            Partial newPartial = new Partial(newTypes, newValues, iChronology);
  +            Partial newPartial = new Partial(iChronology, newTypes, newValues);
               iChronology.validate(newPartial, newValues);
               return newPartial;
           }
tree_diff: |+
  New cluster:
  UPDATE from Partial newPartial = new Partial(newTypes, newValues, iChronology); to Partial newPartial = new Partial(iChronology, newTypes, newValues);
  ------------
  ===
  update-node
  ---
  local_variable_declaration: Partial newPartial = new Partial(newTypes, newValues, iChronology); [18532,18599]
  replace Partial newPartial = new Partial(newTypes, newValues, iChronology); by Partial newPartial = new Partial(iChronology, newTypes, newValues);

...
