---
language: java
before_tree:
  type: program
  fields: {}
  children:
  - type: class_declaration
    fields:
      name:
        type: identifier
        fields:
          text: JSType
        children: []
        pos: 2639
        length: 6
      body:
        type: class_body
        fields: {}
        children:
        - type: field_declaration
          fields:
            text: private static final long serialVersionUID = 1L;
          children: []
          pos: 2674
          length: 48
        - type: field_declaration
          fields:
            text: private boolean resolved = false;
          children: []
          pos: 2726
          length: 33
        - type: field_declaration
          fields:
            text: private JSType resolveResult = null;
          children: []
          pos: 2762
          length: 36
        - type: field_declaration
          fields:
            text: |-
              public static final String UNKNOWN_NAME =
                    "Unknown class name";
          children: []
          pos: 2802
          length: 69
        - type: field_declaration
          fields:
            text: |-
              public static final String NOT_A_CLASS =
                    "Not declared as a constructor";
          children: []
          pos: 2875
          length: 79
        - type: field_declaration
          fields:
            text: |-
              public static final String NOT_A_TYPE =
                    "Not declared as a type name";
          children: []
          pos: 2958
          length: 76
        - type: field_declaration
          fields:
            text: |-
              public static final String EMPTY_TYPE_COMPONENT =
                    "Named type with empty name component";
          children: []
          pos: 3038
          length: 95
        - type: field_declaration
          fields:
            text: |-
              static final Comparator<JSType> ALPHA = new Comparator<JSType>() {
                  public int compare(JSType t1, JSType t2) {
                    return t1.toString().compareTo(t2.toString());
                  }
                };
          children: []
          pos: 3348
          length: 177
        - type: field_declaration
          fields:
            text: public static final int ENUMDECL = 1;
          children: []
          pos: 3575
          length: 37
        - type: field_declaration
          fields:
            text: public static final int NOT_ENUMDECL = 0;
          children: []
          pos: 3615
          length: 41
        - type: field_declaration
          fields:
            text: final JSTypeRegistry registry;
          children: []
          pos: 3660
          length: 30
        - type: constructor_declaration
          fields:
            text: |-
              JSType(JSTypeRegistry registry) {
                  this.registry = registry;
                }
          children: []
          pos: 3694
          length: 67
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getNativeType
              children: []
              pos: 3827
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSTypeNative typeId
                children: []
                pos: 3841
                length: 19
              pos: 3820
              length: 90
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return registry.getNativeType(typeId);
                children: []
                pos: 3868
                length: 38
              pos: 3862
              length: 48
          children: []
          pos: 3820
          length: 90
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getJSDocInfo
              children: []
              pos: 4109
              length: 12
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 4092
              length: 54
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return null;
                children: []
                pos: 4130
                length: 12
              pos: 4124
              length: 22
          children: []
          pos: 4092
          length: 54
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getDisplayName
              children: []
              pos: 4586
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 4572
              length: 53
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return null;
                children: []
                pos: 4609
                length: 12
              pos: 4603
              length: 22
          children: []
          pos: 4572
          length: 53
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: hasDisplayName
              children: []
              pos: 4717
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 4702
              length: 138
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: String displayName = getDisplayName();
                children: []
                pos: 4740
                length: 38
              - type: return_statement
                fields:
                  text: return displayName != null && !displayName.isEmpty();
                children: []
                pos: 4783
                length: 53
              pos: 4734
              length: 106
          children: []
          pos: 4702
          length: 138
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: forgiveUnknownNames
              children: []
              pos: 5023
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 5018
              length: 29
            body:
              type: block
              fields: {}
              children: []
              pos: 5045
              length: 2
          children: []
          pos: 5018
          length: 29
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isNoType
              children: []
              pos: 5066
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 5051
              length: 49
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 5083
                length: 13
              pos: 5077
              length: 23
          children: []
          pos: 5051
          length: 49
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isNoResolvedType
              children: []
              pos: 5119
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 5104
              length: 57
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 5144
                length: 13
              pos: 5138
              length: 23
          children: []
          pos: 5104
          length: 57
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isNoObjectType
              children: []
              pos: 5180
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 5165
              length: 55
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 5203
                length: 13
              pos: 5197
              length: 23
          children: []
          pos: 5165
          length: 55
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isEmptyType
              children: []
              pos: 5245
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 5224
              length: 205
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return isNoType() || isNoObjectType() || isNoResolvedType() ||
                            (registry.getNativeFunctionType(
                                 JSTypeNative.LEAST_FUNCTION_TYPE) == this);
                children: []
                pos: 5265
                length: 160
              pos: 5259
              length: 170
          children: []
          pos: 5224
          length: 205
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isNumberObjectType
              children: []
              pos: 5448
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 5433
              length: 59
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 5475
                length: 13
              pos: 5469
              length: 23
          children: []
          pos: 5433
          length: 59
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isNumberValueType
              children: []
              pos: 5511
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 5496
              length: 58
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 5537
                length: 13
              pos: 5531
              length: 23
          children: []
          pos: 5496
          length: 58
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isFunctionPrototypeType
              children: []
              pos: 5627
              length: 23
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 5612
              length: 64
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 5659
                length: 13
              pos: 5653
              length: 23
          children: []
          pos: 5612
          length: 64
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isStringObjectType
              children: []
              pos: 5695
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 5680
              length: 59
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 5722
                length: 13
              pos: 5716
              length: 23
          children: []
          pos: 5680
          length: 59
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isTheObjectType
              children: []
              pos: 5751
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 5743
              length: 49
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 5775
                length: 13
              pos: 5769
              length: 23
          children: []
          pos: 5743
          length: 49
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isStringValueType
              children: []
              pos: 5811
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 5796
              length: 58
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 5837
                length: 13
              pos: 5831
              length: 23
          children: []
          pos: 5796
          length: 58
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isString
              children: []
              pos: 5999
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 5978
              length: 130
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return this.isSubtype(
                            getNativeType(JSTypeNative.STRING_VALUE_OR_OBJECT_TYPE));
                children: []
                pos: 6016
                length: 88
              pos: 6010
              length: 98
          children: []
          pos: 5978
          length: 130
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isNumber
              children: []
              pos: 6253
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 6232
              length: 130
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return this.isSubtype(
                            getNativeType(JSTypeNative.NUMBER_VALUE_OR_OBJECT_TYPE));
                children: []
                pos: 6270
                length: 88
              pos: 6264
              length: 98
          children: []
          pos: 6232
          length: 130
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isArrayType
              children: []
              pos: 6381
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 6366
              length: 52
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 6401
                length: 13
              pos: 6395
              length: 23
          children: []
          pos: 6366
          length: 52
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isBooleanObjectType
              children: []
              pos: 6437
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 6422
              length: 60
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 6465
                length: 13
              pos: 6459
              length: 23
          children: []
          pos: 6422
          length: 60
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isBooleanValueType
              children: []
              pos: 6501
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 6486
              length: 59
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 6528
                length: 13
              pos: 6522
              length: 23
          children: []
          pos: 6486
          length: 59
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isRegexpType
              children: []
              pos: 6564
              length: 12
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 6549
              length: 53
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 6585
                length: 13
              pos: 6579
              length: 23
          children: []
          pos: 6549
          length: 53
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isDateType
              children: []
              pos: 6621
              length: 10
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 6606
              length: 51
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 6640
                length: 13
              pos: 6634
              length: 23
          children: []
          pos: 6606
          length: 51
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isNullType
              children: []
              pos: 6676
              length: 10
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 6661
              length: 51
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 6695
                length: 13
              pos: 6689
              length: 23
          children: []
          pos: 6661
          length: 51
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isVoidType
              children: []
              pos: 6731
              length: 10
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 6716
              length: 51
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 6750
                length: 13
              pos: 6744
              length: 23
          children: []
          pos: 6716
          length: 51
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isAllType
              children: []
              pos: 6786
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 6771
              length: 50
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 6804
                length: 13
              pos: 6798
              length: 23
          children: []
          pos: 6771
          length: 50
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isUnknownType
              children: []
              pos: 6840
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 6825
              length: 54
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 6862
                length: 13
              pos: 6856
              length: 23
          children: []
          pos: 6825
          length: 54
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isCheckedUnknownType
              children: []
              pos: 6898
              length: 20
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 6883
              length: 61
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 6927
                length: 13
              pos: 6921
              length: 23
          children: []
          pos: 6883
          length: 61
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isUnionType
              children: []
              pos: 6963
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 6948
              length: 52
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 6983
                length: 13
              pos: 6977
              length: 23
          children: []
          pos: 6948
          length: 52
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isFunctionType
              children: []
              pos: 7019
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 7004
              length: 55
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 7042
                length: 13
              pos: 7036
              length: 23
          children: []
          pos: 7004
          length: 55
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isEnumElementType
              children: []
              pos: 7078
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 7063
              length: 58
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 7104
                length: 13
              pos: 7098
              length: 23
          children: []
          pos: 7063
          length: 58
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isEnumType
              children: []
              pos: 7140
              length: 10
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 7125
              length: 51
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 7159
                length: 13
              pos: 7153
              length: 23
          children: []
          pos: 7125
          length: 51
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isNamedType
              children: []
              pos: 7188
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 7180
              length: 45
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 7208
                length: 13
              pos: 7202
              length: 23
          children: []
          pos: 7180
          length: 45
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isRecordType
              children: []
              pos: 7244
              length: 12
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 7229
              length: 53
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 7265
                length: 13
              pos: 7259
              length: 23
          children: []
          pos: 7229
          length: 53
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isTemplateType
              children: []
              pos: 7301
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 7286
              length: 55
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 7324
                length: 13
              pos: 7318
              length: 23
          children: []
          pos: 7286
          length: 55
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isObject
              children: []
              pos: 7486
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 7471
              length: 49
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 7503
                length: 13
              pos: 7497
              length: 23
          children: []
          pos: 7471
          length: 49
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isConstructor
              children: []
              pos: 7671
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 7656
              length: 54
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 7693
                length: 13
              pos: 7687
              length: 23
          children: []
          pos: 7656
          length: 54
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isNominalType
              children: []
              pos: 7830
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 7815
              length: 54
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 7852
                length: 13
              pos: 7846
              length: 23
          children: []
          pos: 7815
          length: 54
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isInstanceType
              children: []
              pos: 7966
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 7951
              length: 55
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 7989
                length: 13
              pos: 7983
              length: 23
          children: []
          pos: 7951
          length: 55
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isInterface
              children: []
              pos: 8156
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 8141
              length: 52
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 8176
                length: 13
              pos: 8170
              length: 23
          children: []
          pos: 8141
          length: 52
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isOrdinaryFunction
              children: []
              pos: 8351
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 8336
              length: 59
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 8378
                length: 13
              pos: 8372
              length: 23
          children: []
          pos: 8336
          length: 59
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isEquivalentTo
              children: []
              pos: 8467
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSType jsType
                children: []
                pos: 8482
                length: 13
              pos: 8452
              length: 449
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: instanceof_expression
                        fields:
                          text: jsType instanceof ProxyObjectType
                        children: []
                        pos: 8507
                        length: 33
                    children: []
                    pos: 8506
                    length: 35
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return jsType.isEquivalentTo(this);
                    children: []
                    pos: 8550
                    length: 35
                  pos: 8542
                  length: 49
                pos: 8503
                length: 88
              - type: return_statement
                fields:
                  text: return this == jsType;
                children: []
                pos: 8875
                length: 22
              pos: 8497
              length: 404
          children: []
          pos: 8452
          length: 449
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isEquivalent
              children: []
              pos: 8927
              length: 12
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSType typeA
                children: []
                pos: 8940
                length: 12
              pos: 8905
              length: 168
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return (typeA == null || typeB == null) ?
                            typeA == typeB : typeA.isEquivalentTo(typeB);
                children: []
                pos: 8974
                length: 95
              pos: 8968
              length: 105
          children: []
          pos: 8905
          length: 168
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: equals
              children: []
              pos: 9104
              length: 6
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Object jsType
                children: []
                pos: 9111
                length: 13
              pos: 9077
              length: 143
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return (jsType instanceof JSType) ?
                            isEquivalentTo((JSType) jsType) : false;
                children: []
                pos: 9132
                length: 84
              pos: 9126
              length: 94
          children: []
          pos: 9077
          length: 143
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: hashCode
              children: []
              pos: 9247
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 9224
              length: 81
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return System.identityHashCode(this);
                children: []
                pos: 9264
                length: 37
              pos: 9258
              length: 47
          children: []
          pos: 9224
          length: 81
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: matchesInt32Context
              children: []
              pos: 9611
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 9590
              length: 83
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return matchesNumberContext();
                children: []
                pos: 9639
                length: 30
              pos: 9633
              length: 40
          children: []
          pos: 9590
          length: 83
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: matchesUint32Context
              children: []
              pos: 9878
              length: 20
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 9857
              length: 84
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return matchesNumberContext();
                children: []
                pos: 9907
                length: 30
              pos: 9901
              length: 40
          children: []
          pos: 9857
          length: 84
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: matchesNumberContext
              children: []
              pos: 10110
              length: 20
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 10095
              length: 61
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 10139
                length: 13
              pos: 10133
              length: 23
          children: []
          pos: 10095
          length: 61
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: matchesStringContext
              children: []
              pos: 10573
              length: 20
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 10558
              length: 61
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 10602
                length: 13
              pos: 10596
              length: 23
          children: []
          pos: 10558
          length: 61
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: matchesObjectContext
              children: []
              pos: 10978
              length: 20
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 10963
              length: 61
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 11007
                length: 13
              pos: 11001
              length: 23
          children: []
          pos: 10963
          length: 61
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: findPropertyType
              children: []
              pos: 11392
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String propertyName
                children: []
                pos: 11409
                length: 19
              pos: 11378
              length: 239
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: ObjectType autoboxObjType = ObjectType.cast(autoboxesTo());
                children: []
                pos: 11436
                length: 59
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: autoboxObjType
                            children: []
                            pos: 11504
                            length: 14
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 11522
                            length: 4
                        children: []
                        pos: 11504
                        length: 22
                    children: []
                    pos: 11503
                    length: 24
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return autoboxObjType.findPropertyType(propertyName);
                    children: []
                    pos: 11536
                    length: 53
                  pos: 11528
                  length: 67
                pos: 11500
                length: 95
              - type: return_statement
                fields:
                  text: return null;
                children: []
                pos: 11601
                length: 12
              pos: 11430
              length: 187
          children: []
          pos: 11378
          length: 239
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: canBeCalled
              children: []
              pos: 11823
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 11808
              length: 52
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 11843
                length: 13
              pos: 11837
              length: 23
          children: []
          pos: 11808
          length: 52
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: canAssignTo
              children: []
              pos: 12103
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSType that
                children: []
                pos: 12115
                length: 11
              pos: 12088
              length: 120
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: this.isSubtype(that)
                        children: []
                        pos: 12138
                        length: 20
                    children: []
                    pos: 12137
                    length: 22
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return true;
                    children: []
                    pos: 12168
                    length: 12
                  pos: 12160
                  length: 26
                pos: 12134
                length: 52
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 12191
                length: 13
              pos: 12128
              length: 80
          children: []
          pos: 12088
          length: 120
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: autoboxesTo
              children: []
              pos: 12373
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 12359
              length: 50
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return null;
                children: []
                pos: 12393
                length: 12
              pos: 12387
              length: 22
          children: []
          pos: 12359
          length: 50
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: unboxesTo
              children: []
              pos: 12566
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 12552
              length: 48
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return null;
                children: []
                pos: 12584
                length: 12
              pos: 12578
              length: 22
          children: []
          pos: 12552
          length: 48
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: toObjectType
              children: []
              pos: 12926
              length: 12
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 12908
              length: 104
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: 'return this instanceof ObjectType ? (ObjectType) this : null;'
                children: []
                pos: 12947
                length: 61
              pos: 12941
              length: 71
          children: []
          pos: 12908
          length: 104
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: dereference
              children: []
              pos: 13199
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 13175
              length: 214
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: JSType restricted = restrictByNotNullOrUndefined();
                children: []
                pos: 13219
                length: 51
              - type: local_variable_declaration
                fields:
                  text: JSType autobox = restricted.autoboxesTo();
                children: []
                pos: 13275
                length: 42
              - type: return_statement
                fields:
                  text: 'return ObjectType.cast(autobox == null ? restricted : autobox);'
                children: []
                pos: 13322
                length: 63
              pos: 13213
              length: 176
          children: []
          pos: 13175
          length: 214
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: canTestForEqualityWith
              children: []
              pos: 13714
              length: 22
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSType that
                children: []
                pos: 13737
                length: 11
              pos: 13693
              length: 117
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return this.testForEquality(that).equals(UNKNOWN);
                children: []
                pos: 13756
                length: 50
              pos: 13750
              length: 60
          children: []
          pos: 13693
          length: 117
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: testForEquality
              children: []
              pos: 14418
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSType that
                children: []
                pos: 14434
                length: 11
              pos: 14398
              length: 100
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return testForEqualityHelper(this, that);
                children: []
                pos: 14453
                length: 41
              pos: 14447
              length: 51
          children: []
          pos: 14398
          length: 100
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: testForEqualityHelper
              children: []
              pos: 14515
              length: 21
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSType aType
                children: []
                pos: 14537
                length: 12
              pos: 14502
              length: 1358
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: or
                            fields:
                              left:
                                type: or
                                fields:
                                  left:
                                    type: or
                                    fields:
                                      left:
                                        type: or
                                        fields:
                                          left:
                                            type: method_invocation
                                            fields:
                                              text: bType.isAllType()
                                            children: []
                                            pos: 14575
                                            length: 17
                                          right:
                                            type: method_invocation
                                            fields:
                                              text: bType.isUnknownType()
                                            children: []
                                            pos: 14596
                                            length: 21
                                        children: []
                                        pos: 14575
                                        length: 42
                                      right:
                                        type: method_invocation
                                        fields:
                                          text: bType.isNoResolvedType()
                                        children: []
                                        pos: 14629
                                        length: 24
                                    children: []
                                    pos: 14575
                                    length: 78
                                  right:
                                    type: method_invocation
                                    fields:
                                      text: aType.isAllType()
                                    children: []
                                    pos: 14665
                                    length: 17
                                children: []
                                pos: 14575
                                length: 107
                              right:
                                type: method_invocation
                                fields:
                                  text: aType.isUnknownType()
                                children: []
                                pos: 14686
                                length: 21
                            children: []
                            pos: 14575
                            length: 132
                          right:
                            type: method_invocation
                            fields:
                              text: aType.isNoResolvedType()
                            children: []
                            pos: 14719
                            length: 24
                        children: []
                        pos: 14575
                        length: 168
                    children: []
                    pos: 14574
                    length: 170
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return UNKNOWN;
                    children: []
                    pos: 14753
                    length: 15
                  pos: 14745
                  length: 29
                pos: 14571
                length: 203
              - type: local_variable_declaration
                fields:
                  text: boolean aIsEmpty = aType.isEmptyType();
                children: []
                pos: 14780
                length: 39
              - type: local_variable_declaration
                fields:
                  text: boolean bIsEmpty = bType.isEmptyType();
                children: []
                pos: 14824
                length: 39
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: aIsEmpty
                            children: []
                            pos: 14872
                            length: 8
                          right:
                            type: identifier
                            fields:
                              text: bIsEmpty
                            children: []
                            pos: 14884
                            length: 8
                        children: []
                        pos: 14872
                        length: 20
                    children: []
                    pos: 14871
                    length: 22
                children:
                - type: block
                  fields: {}
                  children:
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: and
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: aIsEmpty
                                children: []
                                pos: 14906
                                length: 8
                              right:
                                type: identifier
                                fields:
                                  text: bIsEmpty
                                children: []
                                pos: 14918
                                length: 8
                            children: []
                            pos: 14906
                            length: 20
                        children: []
                        pos: 14905
                        length: 22
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: return_statement
                        fields:
                          text: return TernaryValue.TRUE;
                        children: []
                        pos: 14938
                        length: 25
                      pos: 14928
                      length: 43
                    pos: 14902
                    length: 108
                  pos: 14894
                  length: 122
                pos: 14868
                length: 148
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: method_invocation
                            fields:
                              text: aType.isFunctionType()
                            children: []
                            pos: 15026
                            length: 22
                          right:
                            type: method_invocation
                            fields:
                              text: bType.isFunctionType()
                            children: []
                            pos: 15052
                            length: 22
                        children: []
                        pos: 15026
                        length: 48
                    children: []
                    pos: 15025
                    length: 50
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: 'JSType otherType = aType.isFunctionType() ? bType : aType;'
                    children: []
                    pos: 15084
                    length: 58
                  - type: local_variable_declaration
                    fields:
                      text: |-
                        JSType meet = otherType.getGreatestSubtype(
                                  getNativeType(JSTypeNative.OBJECT_TYPE));
                    children: []
                    pos: 15480
                    length: 95
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: or
                            fields:
                              left:
                                type: method_invocation
                                fields:
                                  text: meet.isNoType()
                                children: []
                                pos: 15586
                                length: 15
                              right:
                                type: method_invocation
                                fields:
                                  text: meet.isNoObjectType()
                                children: []
                                pos: 15605
                                length: 21
                            children: []
                            pos: 15586
                            length: 40
                        children: []
                        pos: 15585
                        length: 42
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: return_statement
                        fields:
                          text: return TernaryValue.FALSE;
                        children: []
                        pos: 15638
                        length: 26
                      pos: 15628
                      length: 44
                    pos: 15582
                    length: 142
                  pos: 15076
                  length: 654
                pos: 15022
                length: 708
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: method_invocation
                            fields:
                              text: bType.isEnumElementType()
                            children: []
                            pos: 15739
                            length: 25
                          right:
                            type: method_invocation
                            fields:
                              text: bType.isUnionType()
                            children: []
                            pos: 15768
                            length: 19
                        children: []
                        pos: 15739
                        length: 48
                    children: []
                    pos: 15738
                    length: 50
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return bType.testForEquality(aType);
                    children: []
                    pos: 15797
                    length: 36
                  pos: 15789
                  length: 50
                pos: 15735
                length: 104
              - type: return_statement
                fields:
                  text: return null;
                children: []
                pos: 15844
                length: 12
              pos: 14565
              length: 1295
          children: []
          pos: 14502
          length: 1358
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: canTestForShallowEqualityWith
              children: []
              pos: 16217
              length: 29
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSType that
                children: []
                pos: 16247
                length: 11
              pos: 16196
              length: 126
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return this.isSubtype(that) || that.isSubtype(this);
                children: []
                pos: 16266
                length: 52
              pos: 16260
              length: 62
          children: []
          pos: 16196
          length: 126
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isNullable
              children: []
              pos: 16395
              length: 10
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 16380
              length: 99
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return this.isSubtype(getNativeType(JSTypeNative.NULL_TYPE));
                children: []
                pos: 16414
                length: 61
              pos: 16408
              length: 71
          children: []
          pos: 16380
          length: 99
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getLeastSupertype
              children: []
              pos: 16933
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSType that
                children: []
                pos: 16951
                length: 11
              pos: 16919
              length: 244
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: that.isUnionType()
                        children: []
                        pos: 16974
                        length: 18
                    children: []
                    pos: 16973
                    length: 20
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return that.getLeastSupertype(this);
                    children: []
                    pos: 17075
                    length: 36
                  pos: 16994
                  length: 123
                pos: 16970
                length: 147
              - type: return_statement
                fields:
                  text: return getLeastSupertype(this, that);
                children: []
                pos: 17122
                length: 37
              pos: 16964
              length: 199
          children: []
          pos: 16919
          length: 244
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getLeastSupertype
              children: []
              pos: 17303
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSType thisType
                children: []
                pos: 17321
                length: 15
              pos: 17289
              length: 270
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: boolean areEquivalent = thisType.isEquivalentTo(thatType);
                children: []
                pos: 17361
                length: 58
              - type: return_statement
                fields:
                  text: |-
                    return areEquivalent ? thisType :
                            filterNoResolvedType(
                                thisType.registry.createUnionType(thisType, thatType));
                children: []
                pos: 17424
                length: 131
              pos: 17355
              length: 204
          children: []
          pos: 17289
          length: 270
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getGreatestSubtype
              children: []
              pos: 18004
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSType that
                children: []
                pos: 18023
                length: 11
              pos: 17990
              length: 250
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: that.isRecordType()
                        children: []
                        pos: 18046
                        length: 19
                    children: []
                    pos: 18045
                    length: 21
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return that.getGreatestSubtype(this);
                    children: []
                    pos: 18150
                    length: 37
                  pos: 18067
                  length: 126
                pos: 18042
                length: 151
              - type: return_statement
                fields:
                  text: return getGreatestSubtype(this, that);
                children: []
                pos: 18198
                length: 38
              pos: 18036
              length: 204
          children: []
          pos: 17990
          length: 250
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getGreatestSubtype
              children: []
              pos: 18381
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSType thisType
                children: []
                pos: 18400
                length: 15
              pos: 18367
              length: 1016
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: thisType.isEquivalentTo(thatType)
                        children: []
                        pos: 18444
                        length: 33
                    children: []
                    pos: 18443
                    length: 35
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return thisType;
                    children: []
                    pos: 18487
                    length: 16
                  pos: 18479
                  length: 30
                pos: 18440
                length: 882
              - type: return_statement
                fields:
                  text: return thisType.getNativeType(JSTypeNative.NO_TYPE);
                children: []
                pos: 19327
                length: 52
              pos: 18434
              length: 949
          children: []
          pos: 18367
          length: 1016
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: filterNoResolvedType
              children: []
              pos: 19648
              length: 20
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSType type
                children: []
                pos: 19669
                length: 11
              pos: 19634
              length: 897
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: type.isNoResolvedType()
                        children: []
                        pos: 19692
                        length: 23
                    children: []
                    pos: 19691
                    length: 25
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return type.getNativeType(JSTypeNative.NO_RESOLVED_TYPE);
                    children: []
                    pos: 19862
                    length: 57
                  pos: 19717
                  length: 208
                pos: 19688
                length: 822
              - type: return_statement
                fields:
                  text: return type;
                children: []
                pos: 20515
                length: 12
              pos: 19682
              length: 849
          children: []
          pos: 19634
          length: 897
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getRestrictedTypeGivenToBooleanOutcome
              children: []
              pos: 21123
              length: 38
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: boolean outcome
                children: []
                pos: 21162
                length: 15
              pos: 21109
              length: 266
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: BooleanLiteralSet literals = getPossibleToBooleanOutcomes();
                children: []
                pos: 21185
                length: 60
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: literals.contains(outcome)
                        children: []
                        pos: 21254
                        length: 26
                    children: []
                    pos: 21253
                    length: 28
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return this;
                    children: []
                    pos: 21290
                    length: 12
                  pos: 21282
                  length: 26
                pos: 21250
                length: 121
              pos: 21179
              length: 196
          children: []
          pos: 21109
          length: 266
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getPossibleToBooleanOutcomes
              children: []
              pos: 22166
              length: 28
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 22132
              length: 65
          children: []
          pos: 22132
          length: 65
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getTypesUnderEquality
              children: []
              pos: 22838
              length: 21
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSType that
                children: []
                pos: 22860
                length: 11
              pos: 22822
              length: 496
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: instanceof_expression
                        fields:
                          text: that instanceof UnionType
                        children: []
                        pos: 22903
                        length: 25
                    children: []
                    pos: 22902
                    length: 27
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: TypePair p = that.getTypesUnderEquality(this);
                    children: []
                    pos: 22938
                    length: 46
                  - type: return_statement
                    fields:
                      text: return new TypePair(p.typeB, p.typeA);
                    children: []
                    pos: 22991
                    length: 38
                  pos: 22930
                  length: 105
                pos: 22899
                length: 136
              - type: switch_expression
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: this.testForEquality(that)
                        children: []
                        pos: 23068
                        length: 26
                    children: []
                    pos: 23067
                    length: 28
                  body:
                    type: switch_block
                    fields:
                      text: |-
                        {
                              case FALSE:
                                return new TypePair(null, null);

                              case TRUE:
                              case UNKNOWN:
                                return new TypePair(this, that);
                            }
                    children: []
                    pos: 23096
                    length: 145
                children: []
                pos: 23060
                length: 181
              - type: throw_statement
                fields:
                  text: throw new IllegalStateException();
                children: []
                pos: 23280
                length: 34
              pos: 22873
              length: 445
          children: []
          pos: 22822
          length: 496
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getTypesUnderInequality
              children: []
              pos: 23974
              length: 23
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSType that
                children: []
                pos: 23998
                length: 11
              pos: 23958
              length: 565
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: instanceof_expression
                        fields:
                          text: that instanceof UnionType
                        children: []
                        pos: 24041
                        length: 25
                    children: []
                    pos: 24040
                    length: 27
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: TypePair p = that.getTypesUnderInequality(this);
                    children: []
                    pos: 24076
                    length: 48
                  - type: return_statement
                    fields:
                      text: return new TypePair(p.typeB, p.typeA);
                    children: []
                    pos: 24131
                    length: 38
                  pos: 24068
                  length: 107
                pos: 24037
                length: 138
              - type: switch_expression
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: this.testForEquality(that)
                        children: []
                        pos: 24208
                        length: 26
                    children: []
                    pos: 24207
                    length: 28
                  body:
                    type: switch_block
                    fields:
                      text: |-
                        {
                              case TRUE:
                                JSType noType = getNativeType(JSTypeNative.NO_TYPE);
                                return new TypePair(noType, noType);

                              case FALSE:
                              case UNKNOWN:
                                return new TypePair(this, that);
                            }
                    children: []
                    pos: 24236
                    length: 210
                children: []
                pos: 24200
                length: 246
              - type: throw_statement
                fields:
                  text: throw new IllegalStateException();
                children: []
                pos: 24485
                length: 34
              pos: 24011
              length: 512
          children: []
          pos: 23958
          length: 565
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getTypesUnderShallowEquality
              children: []
              pos: 24933
              length: 28
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSType that
                children: []
                pos: 24962
                length: 11
              pos: 24917
              length: 162
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: JSType commonType = getGreatestSubtype(that);
                children: []
                pos: 24981
                length: 45
              - type: return_statement
                fields:
                  text: return new TypePair(commonType, commonType);
                children: []
                pos: 25031
                length: 44
              pos: 24975
              length: 104
          children: []
          pos: 24917
          length: 162
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getTypesUnderShallowInequality
              children: []
              pos: 25490
              length: 30
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSType that
                children: []
                pos: 25521
                length: 11
              pos: 25474
              length: 593
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: instanceof_expression
                        fields:
                          text: that instanceof UnionType
                        children: []
                        pos: 25563
                        length: 25
                    children: []
                    pos: 25562
                    length: 27
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: TypePair p = that.getTypesUnderShallowInequality(this);
                    children: []
                    pos: 25598
                    length: 55
                  - type: return_statement
                    fields:
                      text: return new TypePair(p.typeB, p.typeA);
                    children: []
                    pos: 25660
                    length: 38
                  pos: 25590
                  length: 114
                pos: 25559
                length: 145
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: and
                            fields:
                              left:
                                type: method_invocation
                                fields:
                                  text: this.isNullType()
                                children: []
                                pos: 25875
                                length: 17
                              right:
                                type: method_invocation
                                fields:
                                  text: that.isNullType()
                                children: []
                                pos: 25896
                                length: 17
                            children: []
                            pos: 25875
                            length: 38
                          right:
                            type: and
                            fields:
                              left:
                                type: method_invocation
                                fields:
                                  text: this.isVoidType()
                                children: []
                                pos: 25925
                                length: 17
                              right:
                                type: method_invocation
                                fields:
                                  text: that.isVoidType()
                                children: []
                                pos: 25946
                                length: 17
                            children: []
                            pos: 25925
                            length: 38
                        children: []
                        pos: 25875
                        length: 88
                    children: []
                    pos: 25874
                    length: 90
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return new TypePair(null, null);
                    children: []
                    pos: 25973
                    length: 32
                  pos: 25965
                  length: 46
                pos: 25871
                length: 192
              pos: 25534
              length: 533
          children: []
          pos: 25474
          length: 593
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: restrictByNotNullOrUndefined
              children: []
              pos: 26203
              length: 28
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 26189
              length: 67
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return this;
                children: []
                pos: 26240
                length: 12
              pos: 26234
              length: 22
          children: []
          pos: 26189
          length: 67
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isSubtype
              children: []
              pos: 27582
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSType that
                children: []
                pos: 27592
                length: 11
              pos: 27558
              length: 47
          children: []
          pos: 27558
          length: 47
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: differsFrom
              children: []
              pos: 27911
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSType that
                children: []
                pos: 27923
                length: 11
              pos: 27896
              length: 342
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: and
                        fields:
                          left:
                            type: unary_expression
                            fields:
                              text: "!this.isUnknownType()"
                            children: []
                            pos: 28005
                            length: 21
                          right:
                            type: unary_expression
                            fields:
                              text: "!that.isUnknownType()"
                            children: []
                            pos: 28030
                            length: 21
                        children: []
                        pos: 28005
                        length: 46
                    children: []
                    pos: 28004
                    length: 48
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return !this.isEquivalentTo(that);
                    children: []
                    pos: 28061
                    length: 34
                  pos: 28053
                  length: 48
                pos: 28001
                length: 100
              - type: return_statement
                fields:
                  text: return this.isUnknownType() ^ that.isUnknownType();
                children: []
                pos: 28183
                length: 51
              pos: 27936
              length: 302
          children: []
          pos: 27896
          length: 342
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isSubtype
              children: []
              pos: 28361
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSType thisType
                children: []
                pos: 28371
                length: 15
              pos: 28346
              length: 697
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: thatType.isUnknownType()
                        children: []
                        pos: 28430
                        length: 24
                    children: []
                    pos: 28429
                    length: 26
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return true;
                    children: []
                    pos: 28464
                    length: 12
                  pos: 28456
                  length: 26
                pos: 28426
                length: 56
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: thisType.isEquivalentTo(thatType)
                        children: []
                        pos: 28507
                        length: 33
                    children: []
                    pos: 28506
                    length: 35
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return true;
                    children: []
                    pos: 28550
                    length: 12
                  pos: 28542
                  length: 26
                pos: 28503
                length: 65
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: thatType.isAllType()
                        children: []
                        pos: 28593
                        length: 20
                    children: []
                    pos: 28592
                    length: 22
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return true;
                    children: []
                    pos: 28623
                    length: 12
                  pos: 28615
                  length: 26
                pos: 28589
                length: 52
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: instanceof_expression
                        fields:
                          text: thatType instanceof UnionType
                        children: []
                        pos: 28664
                        length: 29
                    children: []
                    pos: 28663
                    length: 31
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: UnionType union = (UnionType)thatType;
                    children: []
                    pos: 28703
                    length: 38
                  - type: enhanced_for_statement
                    fields:
                      text: |-
                        for (JSType element : union.alternates) {
                                if (thisType.isSubtype(element)) {
                                  return true;
                                }
                              }
                    children: []
                    pos: 28748
                    length: 125
                  pos: 28695
                  length: 184
                pos: 28660
                length: 219
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: instanceof_expression
                        fields:
                          text: thatType instanceof NamedType
                        children: []
                        pos: 28907
                        length: 29
                    children: []
                    pos: 28906
                    length: 31
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return thisType.isSubtype(((NamedType)thatType).getReferencedType());
                    children: []
                    pos: 28946
                    length: 69
                  pos: 28938
                  length: 83
                pos: 28903
                length: 118
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 29026
                length: 13
              pos: 28405
              length: 638
          children: []
          pos: 28346
          length: 697
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: visit
              children: []
              pos: 29226
              length: 5
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Visitor<T> visitor
                children: []
                pos: 29232
                length: 18
              pos: 29204
              length: 48
          children: []
          pos: 29204
          length: 48
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: forceResolve
              children: []
              pos: 29395
              length: 12
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: ErrorReporter t
                children: []
                pos: 29408
                length: 15
              pos: 29375
              length: 297
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: ResolveMode oldResolveMode = registry.getResolveMode();
                children: []
                pos: 29458
                length: 55
              - type: expression_statement
                fields:
                  text: registry.setResolveMode(ResolveMode.IMMEDIATE);
                children: []
                pos: 29518
                length: 47
              - type: local_variable_declaration
                fields:
                  text: JSType result = resolve(t, scope);
                children: []
                pos: 29570
                length: 34
              - type: expression_statement
                fields:
                  text: registry.setResolveMode(oldResolveMode);
                children: []
                pos: 29609
                length: 40
              - type: return_statement
                fields:
                  text: return result;
                children: []
                pos: 29654
                length: 14
              pos: 29452
              length: 220
          children: []
          pos: 29375
          length: 297
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: resolve
              children: []
              pos: 30297
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: ErrorReporter t
                children: []
                pos: 30305
                length: 15
              pos: 30277
              length: 520
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: identifier
                        fields:
                          text: resolved
                        children: []
                        pos: 30359
                        length: 8
                    children: []
                    pos: 30358
                    length: 10
                children:
                - type: block
                  fields: {}
                  children:
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: resolveResult
                                children: []
                                pos: 30509
                                length: 13
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 30526
                                length: 4
                            children: []
                            pos: 30509
                            length: 21
                        children: []
                        pos: 30508
                        length: 23
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: return_statement
                        fields:
                          text: return registry.getNativeType(JSTypeNative.UNKNOWN_TYPE);
                        children: []
                        pos: 30542
                        length: 57
                      pos: 30532
                      length: 75
                    pos: 30505
                    length: 102
                  - type: return_statement
                    fields:
                      text: return resolveResult;
                    children: []
                    pos: 30614
                    length: 21
                  pos: 30369
                  length: 272
                pos: 30355
                length: 286
              - type: expression_statement
                fields:
                  text: resolved = true;
                children: []
                pos: 30646
                length: 16
              - type: expression_statement
                fields:
                  text: resolveResult = resolveInternal(t, scope);
                children: []
                pos: 30667
                length: 42
              - type: expression_statement
                fields:
                  text: resolveResult.setResolvedTypeInternal(resolveResult);
                children: []
                pos: 30714
                length: 53
              - type: return_statement
                fields:
                  text: return resolveResult;
                children: []
                pos: 30772
                length: 21
              pos: 30349
              length: 448
          children: []
          pos: 30277
          length: 520
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: resolveInternal
              children: []
              pos: 30848
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: ErrorReporter t
                children: []
                pos: 30864
                length: 15
              pos: 30832
              length: 76
          children: []
          pos: 30832
          length: 76
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setResolvedTypeInternal
              children: []
              pos: 30917
              length: 23
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSType type
                children: []
                pos: 30941
                length: 11
              pos: 30912
              length: 94
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: resolveResult = type;
                children: []
                pos: 30960
                length: 21
              - type: expression_statement
                fields:
                  text: resolved = true;
                children: []
                pos: 30986
                length: 16
              pos: 30954
              length: 52
          children: []
          pos: 30912
          length: 94
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isResolved
              children: []
              pos: 31076
              length: 10
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 31055
              length: 60
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return resolved;
                children: []
                pos: 31095
                length: 16
              pos: 31089
              length: 26
          children: []
          pos: 31055
          length: 60
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: clearResolved
              children: []
              pos: 31173
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 31155
              length: 87
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: resolved = false;
                children: []
                pos: 31195
                length: 17
              - type: expression_statement
                fields:
                  text: resolveResult = null;
                children: []
                pos: 31217
                length: 21
              pos: 31189
              length: 53
          children: []
          pos: 31155
          length: 87
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: safeResolve
              children: []
              pos: 31323
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSType type
                children: []
                pos: 31342
                length: 11
              pos: 31303
              length: 158
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: 'return type == null ? null : type.resolve(t, scope);'
                children: []
                pos: 31405
                length: 52
              pos: 31399
              length: 62
          children: []
          pos: 31303
          length: 158
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setValidator
              children: []
              pos: 31748
              length: 12
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Predicate<JSType> validator
                children: []
                pos: 31761
                length: 27
              pos: 31733
              length: 96
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return validator.apply(this);
                children: []
                pos: 31796
                length: 29
              pos: 31790
              length: 39
          children: []
          pos: 31733
          length: 96
        - type: class_declaration
          fields:
            name:
              type: identifier
              fields:
                text: TypePair
              children: []
              pos: 31853
              length: 8
            body:
              type: class_body
              fields: {}
              children:
              - type: field_declaration
                fields:
                  text: public final JSType typeA;
                children: []
                pos: 31868
                length: 26
              - type: field_declaration
                fields:
                  text: public final JSType typeB;
                children: []
                pos: 31899
                length: 26
              - type: constructor_declaration
                fields:
                  text: |-
                    public TypePair(JSType typeA, JSType typeB) {
                          this.typeA = typeA;
                          this.typeB = typeB;
                        }
                children: []
                pos: 31931
                length: 103
              pos: 31833
              length: 205
          children: []
          pos: 31833
          length: 205
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: toDebugHashCodeString
              children: []
              pos: 32155
              length: 21
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 32141
              length: 83
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return "{" + this.hashCode() + "}";
                children: []
                pos: 32185
                length: 35
              pos: 32179
              length: 45
          children: []
          pos: 32141
          length: 83
        pos: 2617
        length: 29609
    children: []
    pos: 2617
    length: 29609
  pos: 0
  length: 32227
after_tree:
  type: program
  fields: {}
  children:
  - type: class_declaration
    fields:
      name:
        type: identifier
        fields:
          text: JSType
        children: []
        pos: 2639
        length: 6
      body:
        type: class_body
        fields: {}
        children:
        - type: field_declaration
          fields:
            text: private static final long serialVersionUID = 1L;
          children: []
          pos: 2674
          length: 48
        - type: field_declaration
          fields:
            text: private boolean resolved = false;
          children: []
          pos: 2726
          length: 33
        - type: field_declaration
          fields:
            text: private JSType resolveResult = null;
          children: []
          pos: 2762
          length: 36
        - type: field_declaration
          fields:
            text: |-
              public static final String UNKNOWN_NAME =
                    "Unknown class name";
          children: []
          pos: 2802
          length: 69
        - type: field_declaration
          fields:
            text: |-
              public static final String NOT_A_CLASS =
                    "Not declared as a constructor";
          children: []
          pos: 2875
          length: 79
        - type: field_declaration
          fields:
            text: |-
              public static final String NOT_A_TYPE =
                    "Not declared as a type name";
          children: []
          pos: 2958
          length: 76
        - type: field_declaration
          fields:
            text: |-
              public static final String EMPTY_TYPE_COMPONENT =
                    "Named type with empty name component";
          children: []
          pos: 3038
          length: 95
        - type: field_declaration
          fields:
            text: |-
              static final Comparator<JSType> ALPHA = new Comparator<JSType>() {
                  public int compare(JSType t1, JSType t2) {
                    return t1.toString().compareTo(t2.toString());
                  }
                };
          children: []
          pos: 3348
          length: 177
        - type: field_declaration
          fields:
            text: public static final int ENUMDECL = 1;
          children: []
          pos: 3575
          length: 37
        - type: field_declaration
          fields:
            text: public static final int NOT_ENUMDECL = 0;
          children: []
          pos: 3615
          length: 41
        - type: field_declaration
          fields:
            text: final JSTypeRegistry registry;
          children: []
          pos: 3660
          length: 30
        - type: constructor_declaration
          fields:
            text: |-
              JSType(JSTypeRegistry registry) {
                  this.registry = registry;
                }
          children: []
          pos: 3694
          length: 67
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getNativeType
              children: []
              pos: 3827
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSTypeNative typeId
                children: []
                pos: 3841
                length: 19
              pos: 3820
              length: 90
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return registry.getNativeType(typeId);
                children: []
                pos: 3868
                length: 38
              pos: 3862
              length: 48
          children: []
          pos: 3820
          length: 90
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getJSDocInfo
              children: []
              pos: 4109
              length: 12
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 4092
              length: 54
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return null;
                children: []
                pos: 4130
                length: 12
              pos: 4124
              length: 22
          children: []
          pos: 4092
          length: 54
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getDisplayName
              children: []
              pos: 4586
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 4572
              length: 53
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return null;
                children: []
                pos: 4609
                length: 12
              pos: 4603
              length: 22
          children: []
          pos: 4572
          length: 53
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: hasDisplayName
              children: []
              pos: 4717
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 4702
              length: 138
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: String displayName = getDisplayName();
                children: []
                pos: 4740
                length: 38
              - type: return_statement
                fields:
                  text: return displayName != null && !displayName.isEmpty();
                children: []
                pos: 4783
                length: 53
              pos: 4734
              length: 106
          children: []
          pos: 4702
          length: 138
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: forgiveUnknownNames
              children: []
              pos: 5023
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 5018
              length: 29
            body:
              type: block
              fields: {}
              children: []
              pos: 5045
              length: 2
          children: []
          pos: 5018
          length: 29
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isNoType
              children: []
              pos: 5066
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 5051
              length: 49
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 5083
                length: 13
              pos: 5077
              length: 23
          children: []
          pos: 5051
          length: 49
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isNoResolvedType
              children: []
              pos: 5119
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 5104
              length: 57
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 5144
                length: 13
              pos: 5138
              length: 23
          children: []
          pos: 5104
          length: 57
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isNoObjectType
              children: []
              pos: 5180
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 5165
              length: 55
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 5203
                length: 13
              pos: 5197
              length: 23
          children: []
          pos: 5165
          length: 55
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isEmptyType
              children: []
              pos: 5245
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 5224
              length: 105
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return isNoType() || isNoObjectType() || isNoResolvedType();
                children: []
                pos: 5265
                length: 60
              pos: 5259
              length: 70
          children: []
          pos: 5224
          length: 105
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isNumberObjectType
              children: []
              pos: 5348
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 5333
              length: 59
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 5375
                length: 13
              pos: 5369
              length: 23
          children: []
          pos: 5333
          length: 59
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isNumberValueType
              children: []
              pos: 5411
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 5396
              length: 58
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 5437
                length: 13
              pos: 5431
              length: 23
          children: []
          pos: 5396
          length: 58
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isFunctionPrototypeType
              children: []
              pos: 5527
              length: 23
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 5512
              length: 64
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 5559
                length: 13
              pos: 5553
              length: 23
          children: []
          pos: 5512
          length: 64
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isStringObjectType
              children: []
              pos: 5595
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 5580
              length: 59
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 5622
                length: 13
              pos: 5616
              length: 23
          children: []
          pos: 5580
          length: 59
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isTheObjectType
              children: []
              pos: 5651
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 5643
              length: 49
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 5675
                length: 13
              pos: 5669
              length: 23
          children: []
          pos: 5643
          length: 49
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isStringValueType
              children: []
              pos: 5711
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 5696
              length: 58
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 5737
                length: 13
              pos: 5731
              length: 23
          children: []
          pos: 5696
          length: 58
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isString
              children: []
              pos: 5899
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 5878
              length: 130
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return this.isSubtype(
                            getNativeType(JSTypeNative.STRING_VALUE_OR_OBJECT_TYPE));
                children: []
                pos: 5916
                length: 88
              pos: 5910
              length: 98
          children: []
          pos: 5878
          length: 130
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isNumber
              children: []
              pos: 6153
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 6132
              length: 130
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return this.isSubtype(
                            getNativeType(JSTypeNative.NUMBER_VALUE_OR_OBJECT_TYPE));
                children: []
                pos: 6170
                length: 88
              pos: 6164
              length: 98
          children: []
          pos: 6132
          length: 130
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isArrayType
              children: []
              pos: 6281
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 6266
              length: 52
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 6301
                length: 13
              pos: 6295
              length: 23
          children: []
          pos: 6266
          length: 52
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isBooleanObjectType
              children: []
              pos: 6337
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 6322
              length: 60
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 6365
                length: 13
              pos: 6359
              length: 23
          children: []
          pos: 6322
          length: 60
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isBooleanValueType
              children: []
              pos: 6401
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 6386
              length: 59
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 6428
                length: 13
              pos: 6422
              length: 23
          children: []
          pos: 6386
          length: 59
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isRegexpType
              children: []
              pos: 6464
              length: 12
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 6449
              length: 53
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 6485
                length: 13
              pos: 6479
              length: 23
          children: []
          pos: 6449
          length: 53
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isDateType
              children: []
              pos: 6521
              length: 10
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 6506
              length: 51
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 6540
                length: 13
              pos: 6534
              length: 23
          children: []
          pos: 6506
          length: 51
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isNullType
              children: []
              pos: 6576
              length: 10
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 6561
              length: 51
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 6595
                length: 13
              pos: 6589
              length: 23
          children: []
          pos: 6561
          length: 51
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isVoidType
              children: []
              pos: 6631
              length: 10
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 6616
              length: 51
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 6650
                length: 13
              pos: 6644
              length: 23
          children: []
          pos: 6616
          length: 51
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isAllType
              children: []
              pos: 6686
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 6671
              length: 50
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 6704
                length: 13
              pos: 6698
              length: 23
          children: []
          pos: 6671
          length: 50
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isUnknownType
              children: []
              pos: 6740
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 6725
              length: 54
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 6762
                length: 13
              pos: 6756
              length: 23
          children: []
          pos: 6725
          length: 54
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isCheckedUnknownType
              children: []
              pos: 6798
              length: 20
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 6783
              length: 61
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 6827
                length: 13
              pos: 6821
              length: 23
          children: []
          pos: 6783
          length: 61
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isUnionType
              children: []
              pos: 6863
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 6848
              length: 52
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 6883
                length: 13
              pos: 6877
              length: 23
          children: []
          pos: 6848
          length: 52
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isFunctionType
              children: []
              pos: 6919
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 6904
              length: 55
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 6942
                length: 13
              pos: 6936
              length: 23
          children: []
          pos: 6904
          length: 55
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isEnumElementType
              children: []
              pos: 6978
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 6963
              length: 58
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 7004
                length: 13
              pos: 6998
              length: 23
          children: []
          pos: 6963
          length: 58
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isEnumType
              children: []
              pos: 7040
              length: 10
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 7025
              length: 51
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 7059
                length: 13
              pos: 7053
              length: 23
          children: []
          pos: 7025
          length: 51
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isNamedType
              children: []
              pos: 7088
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 7080
              length: 45
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 7108
                length: 13
              pos: 7102
              length: 23
          children: []
          pos: 7080
          length: 45
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isRecordType
              children: []
              pos: 7144
              length: 12
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 7129
              length: 53
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 7165
                length: 13
              pos: 7159
              length: 23
          children: []
          pos: 7129
          length: 53
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isTemplateType
              children: []
              pos: 7201
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 7186
              length: 55
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 7224
                length: 13
              pos: 7218
              length: 23
          children: []
          pos: 7186
          length: 55
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isObject
              children: []
              pos: 7386
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 7371
              length: 49
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 7403
                length: 13
              pos: 7397
              length: 23
          children: []
          pos: 7371
          length: 49
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isConstructor
              children: []
              pos: 7571
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 7556
              length: 54
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 7593
                length: 13
              pos: 7587
              length: 23
          children: []
          pos: 7556
          length: 54
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isNominalType
              children: []
              pos: 7730
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 7715
              length: 54
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 7752
                length: 13
              pos: 7746
              length: 23
          children: []
          pos: 7715
          length: 54
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isInstanceType
              children: []
              pos: 7866
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 7851
              length: 55
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 7889
                length: 13
              pos: 7883
              length: 23
          children: []
          pos: 7851
          length: 55
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isInterface
              children: []
              pos: 8056
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 8041
              length: 52
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 8076
                length: 13
              pos: 8070
              length: 23
          children: []
          pos: 8041
          length: 52
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isOrdinaryFunction
              children: []
              pos: 8251
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 8236
              length: 59
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 8278
                length: 13
              pos: 8272
              length: 23
          children: []
          pos: 8236
          length: 59
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isEquivalentTo
              children: []
              pos: 8367
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSType jsType
                children: []
                pos: 8382
                length: 13
              pos: 8352
              length: 449
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: instanceof_expression
                        fields:
                          text: jsType instanceof ProxyObjectType
                        children: []
                        pos: 8407
                        length: 33
                    children: []
                    pos: 8406
                    length: 35
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return jsType.isEquivalentTo(this);
                    children: []
                    pos: 8450
                    length: 35
                  pos: 8442
                  length: 49
                pos: 8403
                length: 88
              - type: return_statement
                fields:
                  text: return this == jsType;
                children: []
                pos: 8775
                length: 22
              pos: 8397
              length: 404
          children: []
          pos: 8352
          length: 449
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isEquivalent
              children: []
              pos: 8827
              length: 12
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSType typeA
                children: []
                pos: 8840
                length: 12
              pos: 8805
              length: 168
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return (typeA == null || typeB == null) ?
                            typeA == typeB : typeA.isEquivalentTo(typeB);
                children: []
                pos: 8874
                length: 95
              pos: 8868
              length: 105
          children: []
          pos: 8805
          length: 168
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: equals
              children: []
              pos: 9004
              length: 6
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Object jsType
                children: []
                pos: 9011
                length: 13
              pos: 8977
              length: 143
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return (jsType instanceof JSType) ?
                            isEquivalentTo((JSType) jsType) : false;
                children: []
                pos: 9032
                length: 84
              pos: 9026
              length: 94
          children: []
          pos: 8977
          length: 143
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: hashCode
              children: []
              pos: 9147
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 9124
              length: 81
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return System.identityHashCode(this);
                children: []
                pos: 9164
                length: 37
              pos: 9158
              length: 47
          children: []
          pos: 9124
          length: 81
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: matchesInt32Context
              children: []
              pos: 9511
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 9490
              length: 83
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return matchesNumberContext();
                children: []
                pos: 9539
                length: 30
              pos: 9533
              length: 40
          children: []
          pos: 9490
          length: 83
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: matchesUint32Context
              children: []
              pos: 9778
              length: 20
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 9757
              length: 84
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return matchesNumberContext();
                children: []
                pos: 9807
                length: 30
              pos: 9801
              length: 40
          children: []
          pos: 9757
          length: 84
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: matchesNumberContext
              children: []
              pos: 10010
              length: 20
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 9995
              length: 61
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 10039
                length: 13
              pos: 10033
              length: 23
          children: []
          pos: 9995
          length: 61
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: matchesStringContext
              children: []
              pos: 10473
              length: 20
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 10458
              length: 61
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 10502
                length: 13
              pos: 10496
              length: 23
          children: []
          pos: 10458
          length: 61
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: matchesObjectContext
              children: []
              pos: 10878
              length: 20
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 10863
              length: 61
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 10907
                length: 13
              pos: 10901
              length: 23
          children: []
          pos: 10863
          length: 61
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: findPropertyType
              children: []
              pos: 11292
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String propertyName
                children: []
                pos: 11309
                length: 19
              pos: 11278
              length: 239
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: ObjectType autoboxObjType = ObjectType.cast(autoboxesTo());
                children: []
                pos: 11336
                length: 59
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: autoboxObjType
                            children: []
                            pos: 11404
                            length: 14
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 11422
                            length: 4
                        children: []
                        pos: 11404
                        length: 22
                    children: []
                    pos: 11403
                    length: 24
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return autoboxObjType.findPropertyType(propertyName);
                    children: []
                    pos: 11436
                    length: 53
                  pos: 11428
                  length: 67
                pos: 11400
                length: 95
              - type: return_statement
                fields:
                  text: return null;
                children: []
                pos: 11501
                length: 12
              pos: 11330
              length: 187
          children: []
          pos: 11278
          length: 239
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: canBeCalled
              children: []
              pos: 11723
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 11708
              length: 52
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 11743
                length: 13
              pos: 11737
              length: 23
          children: []
          pos: 11708
          length: 52
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: canAssignTo
              children: []
              pos: 12003
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSType that
                children: []
                pos: 12015
                length: 11
              pos: 11988
              length: 120
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: this.isSubtype(that)
                        children: []
                        pos: 12038
                        length: 20
                    children: []
                    pos: 12037
                    length: 22
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return true;
                    children: []
                    pos: 12068
                    length: 12
                  pos: 12060
                  length: 26
                pos: 12034
                length: 52
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 12091
                length: 13
              pos: 12028
              length: 80
          children: []
          pos: 11988
          length: 120
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: autoboxesTo
              children: []
              pos: 12273
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 12259
              length: 50
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return null;
                children: []
                pos: 12293
                length: 12
              pos: 12287
              length: 22
          children: []
          pos: 12259
          length: 50
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: unboxesTo
              children: []
              pos: 12466
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 12452
              length: 48
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return null;
                children: []
                pos: 12484
                length: 12
              pos: 12478
              length: 22
          children: []
          pos: 12452
          length: 48
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: toObjectType
              children: []
              pos: 12826
              length: 12
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 12808
              length: 104
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: 'return this instanceof ObjectType ? (ObjectType) this : null;'
                children: []
                pos: 12847
                length: 61
              pos: 12841
              length: 71
          children: []
          pos: 12808
          length: 104
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: dereference
              children: []
              pos: 13099
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 13075
              length: 214
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: JSType restricted = restrictByNotNullOrUndefined();
                children: []
                pos: 13119
                length: 51
              - type: local_variable_declaration
                fields:
                  text: JSType autobox = restricted.autoboxesTo();
                children: []
                pos: 13175
                length: 42
              - type: return_statement
                fields:
                  text: 'return ObjectType.cast(autobox == null ? restricted : autobox);'
                children: []
                pos: 13222
                length: 63
              pos: 13113
              length: 176
          children: []
          pos: 13075
          length: 214
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: canTestForEqualityWith
              children: []
              pos: 13614
              length: 22
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSType that
                children: []
                pos: 13637
                length: 11
              pos: 13593
              length: 117
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return this.testForEquality(that).equals(UNKNOWN);
                children: []
                pos: 13656
                length: 50
              pos: 13650
              length: 60
          children: []
          pos: 13593
          length: 117
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: testForEquality
              children: []
              pos: 14318
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSType that
                children: []
                pos: 14334
                length: 11
              pos: 14298
              length: 100
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return testForEqualityHelper(this, that);
                children: []
                pos: 14353
                length: 41
              pos: 14347
              length: 51
          children: []
          pos: 14298
          length: 100
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: testForEqualityHelper
              children: []
              pos: 14415
              length: 21
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSType aType
                children: []
                pos: 14437
                length: 12
              pos: 14402
              length: 1358
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: or
                            fields:
                              left:
                                type: or
                                fields:
                                  left:
                                    type: or
                                    fields:
                                      left:
                                        type: or
                                        fields:
                                          left:
                                            type: method_invocation
                                            fields:
                                              text: bType.isAllType()
                                            children: []
                                            pos: 14475
                                            length: 17
                                          right:
                                            type: method_invocation
                                            fields:
                                              text: bType.isUnknownType()
                                            children: []
                                            pos: 14496
                                            length: 21
                                        children: []
                                        pos: 14475
                                        length: 42
                                      right:
                                        type: method_invocation
                                        fields:
                                          text: bType.isNoResolvedType()
                                        children: []
                                        pos: 14529
                                        length: 24
                                    children: []
                                    pos: 14475
                                    length: 78
                                  right:
                                    type: method_invocation
                                    fields:
                                      text: aType.isAllType()
                                    children: []
                                    pos: 14565
                                    length: 17
                                children: []
                                pos: 14475
                                length: 107
                              right:
                                type: method_invocation
                                fields:
                                  text: aType.isUnknownType()
                                children: []
                                pos: 14586
                                length: 21
                            children: []
                            pos: 14475
                            length: 132
                          right:
                            type: method_invocation
                            fields:
                              text: aType.isNoResolvedType()
                            children: []
                            pos: 14619
                            length: 24
                        children: []
                        pos: 14475
                        length: 168
                    children: []
                    pos: 14474
                    length: 170
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return UNKNOWN;
                    children: []
                    pos: 14653
                    length: 15
                  pos: 14645
                  length: 29
                pos: 14471
                length: 203
              - type: local_variable_declaration
                fields:
                  text: boolean aIsEmpty = aType.isEmptyType();
                children: []
                pos: 14680
                length: 39
              - type: local_variable_declaration
                fields:
                  text: boolean bIsEmpty = bType.isEmptyType();
                children: []
                pos: 14724
                length: 39
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: aIsEmpty
                            children: []
                            pos: 14772
                            length: 8
                          right:
                            type: identifier
                            fields:
                              text: bIsEmpty
                            children: []
                            pos: 14784
                            length: 8
                        children: []
                        pos: 14772
                        length: 20
                    children: []
                    pos: 14771
                    length: 22
                children:
                - type: block
                  fields: {}
                  children:
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: and
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: aIsEmpty
                                children: []
                                pos: 14806
                                length: 8
                              right:
                                type: identifier
                                fields:
                                  text: bIsEmpty
                                children: []
                                pos: 14818
                                length: 8
                            children: []
                            pos: 14806
                            length: 20
                        children: []
                        pos: 14805
                        length: 22
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: return_statement
                        fields:
                          text: return TernaryValue.TRUE;
                        children: []
                        pos: 14838
                        length: 25
                      pos: 14828
                      length: 43
                    pos: 14802
                    length: 108
                  pos: 14794
                  length: 122
                pos: 14768
                length: 148
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: method_invocation
                            fields:
                              text: aType.isFunctionType()
                            children: []
                            pos: 14926
                            length: 22
                          right:
                            type: method_invocation
                            fields:
                              text: bType.isFunctionType()
                            children: []
                            pos: 14952
                            length: 22
                        children: []
                        pos: 14926
                        length: 48
                    children: []
                    pos: 14925
                    length: 50
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: 'JSType otherType = aType.isFunctionType() ? bType : aType;'
                    children: []
                    pos: 14984
                    length: 58
                  - type: local_variable_declaration
                    fields:
                      text: |-
                        JSType meet = otherType.getGreatestSubtype(
                                  getNativeType(JSTypeNative.OBJECT_TYPE));
                    children: []
                    pos: 15380
                    length: 95
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: or
                            fields:
                              left:
                                type: method_invocation
                                fields:
                                  text: meet.isNoType()
                                children: []
                                pos: 15486
                                length: 15
                              right:
                                type: method_invocation
                                fields:
                                  text: meet.isNoObjectType()
                                children: []
                                pos: 15505
                                length: 21
                            children: []
                            pos: 15486
                            length: 40
                        children: []
                        pos: 15485
                        length: 42
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: return_statement
                        fields:
                          text: return TernaryValue.FALSE;
                        children: []
                        pos: 15538
                        length: 26
                      pos: 15528
                      length: 44
                    pos: 15482
                    length: 142
                  pos: 14976
                  length: 654
                pos: 14922
                length: 708
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: method_invocation
                            fields:
                              text: bType.isEnumElementType()
                            children: []
                            pos: 15639
                            length: 25
                          right:
                            type: method_invocation
                            fields:
                              text: bType.isUnionType()
                            children: []
                            pos: 15668
                            length: 19
                        children: []
                        pos: 15639
                        length: 48
                    children: []
                    pos: 15638
                    length: 50
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return bType.testForEquality(aType);
                    children: []
                    pos: 15697
                    length: 36
                  pos: 15689
                  length: 50
                pos: 15635
                length: 104
              - type: return_statement
                fields:
                  text: return null;
                children: []
                pos: 15744
                length: 12
              pos: 14465
              length: 1295
          children: []
          pos: 14402
          length: 1358
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: canTestForShallowEqualityWith
              children: []
              pos: 16117
              length: 29
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSType that
                children: []
                pos: 16147
                length: 11
              pos: 16096
              length: 126
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return this.isSubtype(that) || that.isSubtype(this);
                children: []
                pos: 16166
                length: 52
              pos: 16160
              length: 62
          children: []
          pos: 16096
          length: 126
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isNullable
              children: []
              pos: 16295
              length: 10
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 16280
              length: 99
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return this.isSubtype(getNativeType(JSTypeNative.NULL_TYPE));
                children: []
                pos: 16314
                length: 61
              pos: 16308
              length: 71
          children: []
          pos: 16280
          length: 99
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getLeastSupertype
              children: []
              pos: 16833
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSType that
                children: []
                pos: 16851
                length: 11
              pos: 16819
              length: 244
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: that.isUnionType()
                        children: []
                        pos: 16874
                        length: 18
                    children: []
                    pos: 16873
                    length: 20
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return that.getLeastSupertype(this);
                    children: []
                    pos: 16975
                    length: 36
                  pos: 16894
                  length: 123
                pos: 16870
                length: 147
              - type: return_statement
                fields:
                  text: return getLeastSupertype(this, that);
                children: []
                pos: 17022
                length: 37
              pos: 16864
              length: 199
          children: []
          pos: 16819
          length: 244
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getLeastSupertype
              children: []
              pos: 17203
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSType thisType
                children: []
                pos: 17221
                length: 15
              pos: 17189
              length: 270
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: boolean areEquivalent = thisType.isEquivalentTo(thatType);
                children: []
                pos: 17261
                length: 58
              - type: return_statement
                fields:
                  text: |-
                    return areEquivalent ? thisType :
                            filterNoResolvedType(
                                thisType.registry.createUnionType(thisType, thatType));
                children: []
                pos: 17324
                length: 131
              pos: 17255
              length: 204
          children: []
          pos: 17189
          length: 270
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getGreatestSubtype
              children: []
              pos: 17904
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSType that
                children: []
                pos: 17923
                length: 11
              pos: 17890
              length: 250
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: that.isRecordType()
                        children: []
                        pos: 17946
                        length: 19
                    children: []
                    pos: 17945
                    length: 21
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return that.getGreatestSubtype(this);
                    children: []
                    pos: 18050
                    length: 37
                  pos: 17967
                  length: 126
                pos: 17942
                length: 151
              - type: return_statement
                fields:
                  text: return getGreatestSubtype(this, that);
                children: []
                pos: 18098
                length: 38
              pos: 17936
              length: 204
          children: []
          pos: 17890
          length: 250
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getGreatestSubtype
              children: []
              pos: 18281
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSType thisType
                children: []
                pos: 18300
                length: 15
              pos: 18267
              length: 1016
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: thisType.isEquivalentTo(thatType)
                        children: []
                        pos: 18344
                        length: 33
                    children: []
                    pos: 18343
                    length: 35
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return thisType;
                    children: []
                    pos: 18387
                    length: 16
                  pos: 18379
                  length: 30
                pos: 18340
                length: 882
              - type: return_statement
                fields:
                  text: return thisType.getNativeType(JSTypeNative.NO_TYPE);
                children: []
                pos: 19227
                length: 52
              pos: 18334
              length: 949
          children: []
          pos: 18267
          length: 1016
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: filterNoResolvedType
              children: []
              pos: 19548
              length: 20
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSType type
                children: []
                pos: 19569
                length: 11
              pos: 19534
              length: 897
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: type.isNoResolvedType()
                        children: []
                        pos: 19592
                        length: 23
                    children: []
                    pos: 19591
                    length: 25
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return type.getNativeType(JSTypeNative.NO_RESOLVED_TYPE);
                    children: []
                    pos: 19762
                    length: 57
                  pos: 19617
                  length: 208
                pos: 19588
                length: 822
              - type: return_statement
                fields:
                  text: return type;
                children: []
                pos: 20415
                length: 12
              pos: 19582
              length: 849
          children: []
          pos: 19534
          length: 897
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getRestrictedTypeGivenToBooleanOutcome
              children: []
              pos: 21023
              length: 38
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: boolean outcome
                children: []
                pos: 21062
                length: 15
              pos: 21009
              length: 266
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: BooleanLiteralSet literals = getPossibleToBooleanOutcomes();
                children: []
                pos: 21085
                length: 60
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: literals.contains(outcome)
                        children: []
                        pos: 21154
                        length: 26
                    children: []
                    pos: 21153
                    length: 28
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return this;
                    children: []
                    pos: 21190
                    length: 12
                  pos: 21182
                  length: 26
                pos: 21150
                length: 121
              pos: 21079
              length: 196
          children: []
          pos: 21009
          length: 266
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getPossibleToBooleanOutcomes
              children: []
              pos: 22066
              length: 28
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 22032
              length: 65
          children: []
          pos: 22032
          length: 65
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getTypesUnderEquality
              children: []
              pos: 22738
              length: 21
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSType that
                children: []
                pos: 22760
                length: 11
              pos: 22722
              length: 496
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: instanceof_expression
                        fields:
                          text: that instanceof UnionType
                        children: []
                        pos: 22803
                        length: 25
                    children: []
                    pos: 22802
                    length: 27
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: TypePair p = that.getTypesUnderEquality(this);
                    children: []
                    pos: 22838
                    length: 46
                  - type: return_statement
                    fields:
                      text: return new TypePair(p.typeB, p.typeA);
                    children: []
                    pos: 22891
                    length: 38
                  pos: 22830
                  length: 105
                pos: 22799
                length: 136
              - type: switch_expression
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: this.testForEquality(that)
                        children: []
                        pos: 22968
                        length: 26
                    children: []
                    pos: 22967
                    length: 28
                  body:
                    type: switch_block
                    fields:
                      text: |-
                        {
                              case FALSE:
                                return new TypePair(null, null);

                              case TRUE:
                              case UNKNOWN:
                                return new TypePair(this, that);
                            }
                    children: []
                    pos: 22996
                    length: 145
                children: []
                pos: 22960
                length: 181
              - type: throw_statement
                fields:
                  text: throw new IllegalStateException();
                children: []
                pos: 23180
                length: 34
              pos: 22773
              length: 445
          children: []
          pos: 22722
          length: 496
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getTypesUnderInequality
              children: []
              pos: 23874
              length: 23
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSType that
                children: []
                pos: 23898
                length: 11
              pos: 23858
              length: 565
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: instanceof_expression
                        fields:
                          text: that instanceof UnionType
                        children: []
                        pos: 23941
                        length: 25
                    children: []
                    pos: 23940
                    length: 27
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: TypePair p = that.getTypesUnderInequality(this);
                    children: []
                    pos: 23976
                    length: 48
                  - type: return_statement
                    fields:
                      text: return new TypePair(p.typeB, p.typeA);
                    children: []
                    pos: 24031
                    length: 38
                  pos: 23968
                  length: 107
                pos: 23937
                length: 138
              - type: switch_expression
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: this.testForEquality(that)
                        children: []
                        pos: 24108
                        length: 26
                    children: []
                    pos: 24107
                    length: 28
                  body:
                    type: switch_block
                    fields:
                      text: |-
                        {
                              case TRUE:
                                JSType noType = getNativeType(JSTypeNative.NO_TYPE);
                                return new TypePair(noType, noType);

                              case FALSE:
                              case UNKNOWN:
                                return new TypePair(this, that);
                            }
                    children: []
                    pos: 24136
                    length: 210
                children: []
                pos: 24100
                length: 246
              - type: throw_statement
                fields:
                  text: throw new IllegalStateException();
                children: []
                pos: 24385
                length: 34
              pos: 23911
              length: 512
          children: []
          pos: 23858
          length: 565
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getTypesUnderShallowEquality
              children: []
              pos: 24833
              length: 28
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSType that
                children: []
                pos: 24862
                length: 11
              pos: 24817
              length: 162
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: JSType commonType = getGreatestSubtype(that);
                children: []
                pos: 24881
                length: 45
              - type: return_statement
                fields:
                  text: return new TypePair(commonType, commonType);
                children: []
                pos: 24931
                length: 44
              pos: 24875
              length: 104
          children: []
          pos: 24817
          length: 162
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getTypesUnderShallowInequality
              children: []
              pos: 25390
              length: 30
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSType that
                children: []
                pos: 25421
                length: 11
              pos: 25374
              length: 593
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: instanceof_expression
                        fields:
                          text: that instanceof UnionType
                        children: []
                        pos: 25463
                        length: 25
                    children: []
                    pos: 25462
                    length: 27
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: TypePair p = that.getTypesUnderShallowInequality(this);
                    children: []
                    pos: 25498
                    length: 55
                  - type: return_statement
                    fields:
                      text: return new TypePair(p.typeB, p.typeA);
                    children: []
                    pos: 25560
                    length: 38
                  pos: 25490
                  length: 114
                pos: 25459
                length: 145
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: and
                            fields:
                              left:
                                type: method_invocation
                                fields:
                                  text: this.isNullType()
                                children: []
                                pos: 25775
                                length: 17
                              right:
                                type: method_invocation
                                fields:
                                  text: that.isNullType()
                                children: []
                                pos: 25796
                                length: 17
                            children: []
                            pos: 25775
                            length: 38
                          right:
                            type: and
                            fields:
                              left:
                                type: method_invocation
                                fields:
                                  text: this.isVoidType()
                                children: []
                                pos: 25825
                                length: 17
                              right:
                                type: method_invocation
                                fields:
                                  text: that.isVoidType()
                                children: []
                                pos: 25846
                                length: 17
                            children: []
                            pos: 25825
                            length: 38
                        children: []
                        pos: 25775
                        length: 88
                    children: []
                    pos: 25774
                    length: 90
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return new TypePair(null, null);
                    children: []
                    pos: 25873
                    length: 32
                  pos: 25865
                  length: 46
                pos: 25771
                length: 192
              pos: 25434
              length: 533
          children: []
          pos: 25374
          length: 593
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: restrictByNotNullOrUndefined
              children: []
              pos: 26103
              length: 28
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 26089
              length: 67
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return this;
                children: []
                pos: 26140
                length: 12
              pos: 26134
              length: 22
          children: []
          pos: 26089
          length: 67
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isSubtype
              children: []
              pos: 27482
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSType that
                children: []
                pos: 27492
                length: 11
              pos: 27458
              length: 47
          children: []
          pos: 27458
          length: 47
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: differsFrom
              children: []
              pos: 27811
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSType that
                children: []
                pos: 27823
                length: 11
              pos: 27796
              length: 342
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: and
                        fields:
                          left:
                            type: unary_expression
                            fields:
                              text: "!this.isUnknownType()"
                            children: []
                            pos: 27905
                            length: 21
                          right:
                            type: unary_expression
                            fields:
                              text: "!that.isUnknownType()"
                            children: []
                            pos: 27930
                            length: 21
                        children: []
                        pos: 27905
                        length: 46
                    children: []
                    pos: 27904
                    length: 48
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return !this.isEquivalentTo(that);
                    children: []
                    pos: 27961
                    length: 34
                  pos: 27953
                  length: 48
                pos: 27901
                length: 100
              - type: return_statement
                fields:
                  text: return this.isUnknownType() ^ that.isUnknownType();
                children: []
                pos: 28083
                length: 51
              pos: 27836
              length: 302
          children: []
          pos: 27796
          length: 342
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isSubtype
              children: []
              pos: 28261
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSType thisType
                children: []
                pos: 28271
                length: 15
              pos: 28246
              length: 697
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: thatType.isUnknownType()
                        children: []
                        pos: 28330
                        length: 24
                    children: []
                    pos: 28329
                    length: 26
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return true;
                    children: []
                    pos: 28364
                    length: 12
                  pos: 28356
                  length: 26
                pos: 28326
                length: 56
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: thisType.isEquivalentTo(thatType)
                        children: []
                        pos: 28407
                        length: 33
                    children: []
                    pos: 28406
                    length: 35
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return true;
                    children: []
                    pos: 28450
                    length: 12
                  pos: 28442
                  length: 26
                pos: 28403
                length: 65
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: thatType.isAllType()
                        children: []
                        pos: 28493
                        length: 20
                    children: []
                    pos: 28492
                    length: 22
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return true;
                    children: []
                    pos: 28523
                    length: 12
                  pos: 28515
                  length: 26
                pos: 28489
                length: 52
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: instanceof_expression
                        fields:
                          text: thatType instanceof UnionType
                        children: []
                        pos: 28564
                        length: 29
                    children: []
                    pos: 28563
                    length: 31
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: UnionType union = (UnionType)thatType;
                    children: []
                    pos: 28603
                    length: 38
                  - type: enhanced_for_statement
                    fields:
                      text: |-
                        for (JSType element : union.alternates) {
                                if (thisType.isSubtype(element)) {
                                  return true;
                                }
                              }
                    children: []
                    pos: 28648
                    length: 125
                  pos: 28595
                  length: 184
                pos: 28560
                length: 219
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: instanceof_expression
                        fields:
                          text: thatType instanceof NamedType
                        children: []
                        pos: 28807
                        length: 29
                    children: []
                    pos: 28806
                    length: 31
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return thisType.isSubtype(((NamedType)thatType).getReferencedType());
                    children: []
                    pos: 28846
                    length: 69
                  pos: 28838
                  length: 83
                pos: 28803
                length: 118
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 28926
                length: 13
              pos: 28305
              length: 638
          children: []
          pos: 28246
          length: 697
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: visit
              children: []
              pos: 29126
              length: 5
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Visitor<T> visitor
                children: []
                pos: 29132
                length: 18
              pos: 29104
              length: 48
          children: []
          pos: 29104
          length: 48
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: forceResolve
              children: []
              pos: 29295
              length: 12
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: ErrorReporter t
                children: []
                pos: 29308
                length: 15
              pos: 29275
              length: 297
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: ResolveMode oldResolveMode = registry.getResolveMode();
                children: []
                pos: 29358
                length: 55
              - type: expression_statement
                fields:
                  text: registry.setResolveMode(ResolveMode.IMMEDIATE);
                children: []
                pos: 29418
                length: 47
              - type: local_variable_declaration
                fields:
                  text: JSType result = resolve(t, scope);
                children: []
                pos: 29470
                length: 34
              - type: expression_statement
                fields:
                  text: registry.setResolveMode(oldResolveMode);
                children: []
                pos: 29509
                length: 40
              - type: return_statement
                fields:
                  text: return result;
                children: []
                pos: 29554
                length: 14
              pos: 29352
              length: 220
          children: []
          pos: 29275
          length: 297
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: resolve
              children: []
              pos: 30197
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: ErrorReporter t
                children: []
                pos: 30205
                length: 15
              pos: 30177
              length: 520
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: identifier
                        fields:
                          text: resolved
                        children: []
                        pos: 30259
                        length: 8
                    children: []
                    pos: 30258
                    length: 10
                children:
                - type: block
                  fields: {}
                  children:
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: resolveResult
                                children: []
                                pos: 30409
                                length: 13
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 30426
                                length: 4
                            children: []
                            pos: 30409
                            length: 21
                        children: []
                        pos: 30408
                        length: 23
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: return_statement
                        fields:
                          text: return registry.getNativeType(JSTypeNative.UNKNOWN_TYPE);
                        children: []
                        pos: 30442
                        length: 57
                      pos: 30432
                      length: 75
                    pos: 30405
                    length: 102
                  - type: return_statement
                    fields:
                      text: return resolveResult;
                    children: []
                    pos: 30514
                    length: 21
                  pos: 30269
                  length: 272
                pos: 30255
                length: 286
              - type: expression_statement
                fields:
                  text: resolved = true;
                children: []
                pos: 30546
                length: 16
              - type: expression_statement
                fields:
                  text: resolveResult = resolveInternal(t, scope);
                children: []
                pos: 30567
                length: 42
              - type: expression_statement
                fields:
                  text: resolveResult.setResolvedTypeInternal(resolveResult);
                children: []
                pos: 30614
                length: 53
              - type: return_statement
                fields:
                  text: return resolveResult;
                children: []
                pos: 30672
                length: 21
              pos: 30249
              length: 448
          children: []
          pos: 30177
          length: 520
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: resolveInternal
              children: []
              pos: 30748
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: ErrorReporter t
                children: []
                pos: 30764
                length: 15
              pos: 30732
              length: 76
          children: []
          pos: 30732
          length: 76
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setResolvedTypeInternal
              children: []
              pos: 30817
              length: 23
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSType type
                children: []
                pos: 30841
                length: 11
              pos: 30812
              length: 94
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: resolveResult = type;
                children: []
                pos: 30860
                length: 21
              - type: expression_statement
                fields:
                  text: resolved = true;
                children: []
                pos: 30886
                length: 16
              pos: 30854
              length: 52
          children: []
          pos: 30812
          length: 94
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isResolved
              children: []
              pos: 30976
              length: 10
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 30955
              length: 60
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return resolved;
                children: []
                pos: 30995
                length: 16
              pos: 30989
              length: 26
          children: []
          pos: 30955
          length: 60
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: clearResolved
              children: []
              pos: 31073
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 31055
              length: 87
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: resolved = false;
                children: []
                pos: 31095
                length: 17
              - type: expression_statement
                fields:
                  text: resolveResult = null;
                children: []
                pos: 31117
                length: 21
              pos: 31089
              length: 53
          children: []
          pos: 31055
          length: 87
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: safeResolve
              children: []
              pos: 31223
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSType type
                children: []
                pos: 31242
                length: 11
              pos: 31203
              length: 158
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: 'return type == null ? null : type.resolve(t, scope);'
                children: []
                pos: 31305
                length: 52
              pos: 31299
              length: 62
          children: []
          pos: 31203
          length: 158
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setValidator
              children: []
              pos: 31648
              length: 12
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Predicate<JSType> validator
                children: []
                pos: 31661
                length: 27
              pos: 31633
              length: 96
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return validator.apply(this);
                children: []
                pos: 31696
                length: 29
              pos: 31690
              length: 39
          children: []
          pos: 31633
          length: 96
        - type: class_declaration
          fields:
            name:
              type: identifier
              fields:
                text: TypePair
              children: []
              pos: 31753
              length: 8
            body:
              type: class_body
              fields: {}
              children:
              - type: field_declaration
                fields:
                  text: public final JSType typeA;
                children: []
                pos: 31768
                length: 26
              - type: field_declaration
                fields:
                  text: public final JSType typeB;
                children: []
                pos: 31799
                length: 26
              - type: constructor_declaration
                fields:
                  text: |-
                    public TypePair(JSType typeA, JSType typeB) {
                          this.typeA = typeA;
                          this.typeB = typeB;
                        }
                children: []
                pos: 31831
                length: 103
              pos: 31733
              length: 205
          children: []
          pos: 31733
          length: 205
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: toDebugHashCodeString
              children: []
              pos: 32055
              length: 21
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 32041
              length: 83
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return "{" + this.hashCode() + "}";
                children: []
                pos: 32085
                length: 35
              pos: 32079
              length: 45
          children: []
          pos: 32041
          length: 83
        pos: 2617
        length: 29509
    children: []
    pos: 2617
    length: 29509
  pos: 0
  length: 32127
text_diff: "--- before\n+++ after\n@@ -160,9 +160,7 @@\n   }\n \n   public final boolean
  isEmptyType() {\n-    return isNoType() || isNoObjectType() || isNoResolvedType()
  ||\n-        (registry.getNativeFunctionType(\n-             JSTypeNative.LEAST_FUNCTION_TYPE)
  == this);\n+    return isNoType() || isNoObjectType() || isNoResolvedType();\n   }\n
  \n   public boolean isNumberObjectType() {\n"
tree_diff: |+
  New cluster:
  UPDATE from return isNoType() || isNoObjectType() || isNoResolvedType() ||
          (registry.getNativeFunctionType(
               JSTypeNative.LEAST_FUNCTION_TYPE) == this); to return isNoType() || isNoObjectType() || isNoResolvedType();
  ------------
  ===
  update-node
  ---
  return_statement: return isNoType() || isNoObjectType() || isNoResolvedType() ||
          (registry.getNativeFunctionType(
               JSTypeNative.LEAST_FUNCTION_TYPE) == this); [5265,5425]
  replace return isNoType() || isNoObjectType() || isNoResolvedType() ||
          (registry.getNativeFunctionType(
               JSTypeNative.LEAST_FUNCTION_TYPE) == this); by return isNoType() || isNoObjectType() || isNoResolvedType();

...
