---
language: java
before_tree:
  type: program
  fields: {}
  children:
  - type: class_declaration
    fields:
      name:
        type: identifier
        fields:
          text: DOMNodePointer
        children: []
        pos: 2225
        length: 14
      body:
        type: class_body
        fields: {}
        children:
        - type: field_declaration
          fields:
            text: private static final long serialVersionUID = -8751046933894857319L;
          children: []
          pos: 2267
          length: 67
        - type: field_declaration
          fields:
            text: private Node node;
          children: []
          pos: 2340
          length: 18
        - type: field_declaration
          fields:
            text: private Map namespaces;
          children: []
          pos: 2363
          length: 23
        - type: field_declaration
          fields:
            text: private String defaultNamespace;
          children: []
          pos: 2391
          length: 32
        - type: field_declaration
          fields:
            text: private String id;
          children: []
          pos: 2428
          length: 18
        - type: field_declaration
          fields:
            text: private NamespaceResolver localNamespaceResolver;
          children: []
          pos: 2451
          length: 49
        - type: field_declaration
          fields:
            text: |-
              public static final String XML_NAMESPACE_URI =
                          "http://www.w3.org/XML/1998/namespace";
          children: []
          pos: 2535
          length: 98
        - type: field_declaration
          fields:
            text: |-
              public static final String XMLNS_NAMESPACE_URI =
                          "http://www.w3.org/2000/xmlns/";
          children: []
          pos: 2670
          length: 93
        - type: constructor_declaration
          fields:
            text: |-
              public DOMNodePointer(Node node, Locale locale) {
                      super(null, locale);
                      this.node = node;
                  }
          children: []
          pos: 2879
          length: 110
        - type: constructor_declaration
          fields:
            text: |-
              public DOMNodePointer(Node node, Locale locale, String id) {
                      super(null, locale);
                      this.node = node;
                      this.id = id;
                  }
          children: []
          pos: 3132
          length: 143
        - type: constructor_declaration
          fields:
            text: |-
              public DOMNodePointer(NodePointer parent, Node node) {
                      super(parent);
                      this.node = node;
                  }
          children: []
          pos: 3389
          length: 109
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: testNode
              children: []
              pos: 3519
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: NodeTest test
                children: []
                pos: 3528
                length: 13
              pos: 3504
              length: 83
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return testNode(node, test);
                children: []
                pos: 3553
                length: 28
              pos: 3543
              length: 44
          children: []
          pos: 3504
          length: 83
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: testNode
              children: []
              pos: 3748
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Node node
                children: []
                pos: 3757
                length: 9
              pos: 3726
              length: 2120
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: test
                            children: []
                            pos: 3797
                            length: 4
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 3805
                            length: 4
                        children: []
                        pos: 3797
                        length: 12
                    children: []
                    pos: 3796
                    length: 14
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return true;
                    children: []
                    pos: 3825
                    length: 12
                  pos: 3811
                  length: 36
                pos: 3793
                length: 54
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: instanceof_expression
                        fields:
                          text: test instanceof NodeNameTest
                        children: []
                        pos: 3860
                        length: 28
                    children: []
                    pos: 3859
                    length: 30
                children:
                - type: block
                  fields: {}
                  children:
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: not_equals
                            fields:
                              left:
                                type: method_invocation
                                fields:
                                  text: node.getNodeType()
                                children: []
                                pos: 3908
                                length: 18
                              right:
                                type: field_access
                                fields:
                                  text: Node.ELEMENT_NODE
                                children: []
                                pos: 3930
                                length: 17
                            children: []
                            pos: 3908
                            length: 39
                        children: []
                        pos: 3907
                        length: 41
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: return_statement
                        fields:
                          text: return false;
                        children: []
                        pos: 3967
                        length: 13
                      pos: 3949
                      length: 45
                    pos: 3904
                    length: 90
                  - type: local_variable_declaration
                    fields:
                      text: NodeNameTest nodeNameTest = (NodeNameTest) test;
                    children: []
                    pos: 4008
                    length: 48
                  - type: local_variable_declaration
                    fields:
                      text: QName testName = nodeNameTest.getNodeName();
                    children: []
                    pos: 4069
                    length: 44
                  - type: local_variable_declaration
                    fields:
                      text: String namespaceURI = nodeNameTest.getNamespaceURI();
                    children: []
                    pos: 4126
                    length: 53
                  - type: local_variable_declaration
                    fields:
                      text: boolean wildcard = nodeNameTest.isWildcard();
                    children: []
                    pos: 4192
                    length: 45
                  - type: local_variable_declaration
                    fields:
                      text: String testPrefix = testName.getPrefix();
                    children: []
                    pos: 4250
                    length: 41
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: and
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: wildcard
                                children: []
                                pos: 4308
                                length: 8
                              right:
                                type: equals
                                fields:
                                  left:
                                    type: identifier
                                    fields:
                                      text: testPrefix
                                    children: []
                                    pos: 4320
                                    length: 10
                                  right:
                                    type: null_literal
                                    fields: {}
                                    children: []
                                    pos: 4334
                                    length: 4
                                children: []
                                pos: 4320
                                length: 18
                            children: []
                            pos: 4308
                            length: 30
                        children: []
                        pos: 4307
                        length: 32
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: return_statement
                        fields:
                          text: return true;
                        children: []
                        pos: 4358
                        length: 12
                      pos: 4340
                      length: 44
                    pos: 4304
                    length: 80
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: or
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: wildcard
                                children: []
                                pos: 4401
                                length: 8
                              right:
                                type: method_invocation
                                fields:
                                  text: |-
                                    testName.getName()
                                                            .equals(DOMNodePointer.getLocalName(node))
                                children: []
                                pos: 4429
                                length: 85
                            children: []
                            pos: 4401
                            length: 113
                        children: []
                        pos: 4400
                        length: 115
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: local_variable_declaration
                        fields:
                          text: String nodeNS = DOMNodePointer.getNamespaceURI(node);
                        children: []
                        pos: 4534
                        length: 53
                      - type: return_statement
                        fields:
                          text: |-
                            return equalStrings(namespaceURI, nodeNS) || nodeNS == null
                                                    && equalStrings(testPrefix, getPrefix(node));
                        children: []
                        pos: 4604
                        length: 129
                      pos: 4516
                      length: 231
                    pos: 4397
                    length: 350
                  - type: return_statement
                    fields:
                      text: return false;
                    children: []
                    pos: 4760
                    length: 13
                  pos: 3890
                  length: 893
                pos: 3856
                length: 927
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: instanceof_expression
                        fields:
                          text: test instanceof NodeTypeTest
                        children: []
                        pos: 4796
                        length: 28
                    children: []
                    pos: 4795
                    length: 30
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: int nodeType = node.getNodeType();
                    children: []
                    pos: 4840
                    length: 34
                  - type: switch_expression
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: method_invocation
                            fields:
                              text: "((NodeTypeTest) test).getNodeType()"
                            children: []
                            pos: 4895
                            length: 35
                        children: []
                        pos: 4894
                        length: 37
                      body:
                        type: switch_block
                        fields:
                          text: |-
                            {
                                            case Compiler.NODE_TYPE_NODE :
                                                return true;
                                            case Compiler.NODE_TYPE_TEXT :
                                                return nodeType == Node.CDATA_SECTION_NODE
                                                    || nodeType == Node.TEXT_NODE;
                                            case Compiler.NODE_TYPE_COMMENT :
                                                return nodeType == Node.COMMENT_NODE;
                                            case Compiler.NODE_TYPE_PI :
                                                return nodeType == Node.PROCESSING_INSTRUCTION_NODE;
                                            default:
                                                return false;
                                        }
                        children: []
                        pos: 4932
                        length: 545
                    children: []
                    pos: 4887
                    length: 590
                  pos: 4826
                  length: 661
                pos: 4792
                length: 695
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: and
                        fields:
                          left:
                            type: instanceof_expression
                            fields:
                              text: test instanceof ProcessingInstructionTest
                            children: []
                            pos: 5500
                            length: 41
                          right:
                            type: equals
                            fields:
                              left:
                                type: method_invocation
                                fields:
                                  text: node.getNodeType()
                                children: []
                                pos: 5561
                                length: 18
                              right:
                                type: field_access
                                fields:
                                  text: Node.PROCESSING_INSTRUCTION_NODE
                                children: []
                                pos: 5583
                                length: 32
                            children: []
                            pos: 5561
                            length: 54
                        children: []
                        pos: 5500
                        length: 115
                    children: []
                    pos: 5499
                    length: 117
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: String testPI = ((ProcessingInstructionTest) test).getTarget();
                    children: []
                    pos: 5631
                    length: 63
                  - type: local_variable_declaration
                    fields:
                      text: String nodePI = ((ProcessingInstruction) node).getTarget();
                    children: []
                    pos: 5707
                    length: 59
                  - type: return_statement
                    fields:
                      text: return testPI.equals(nodePI);
                    children: []
                    pos: 5779
                    length: 29
                  pos: 5617
                  length: 201
                pos: 5496
                length: 322
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 5827
                length: 13
              pos: 3783
              length: 2063
          children: []
          pos: 3726
          length: 2120
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: equalStrings
              children: []
              pos: 6011
              length: 12
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String s1
                children: []
                pos: 6024
                length: 9
              pos: 5988
              length: 238
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: s1
                            children: []
                            pos: 6060
                            length: 2
                          right:
                            type: identifier
                            fields:
                              text: s2
                            children: []
                            pos: 6066
                            length: 2
                        children: []
                        pos: 6060
                        length: 8
                    children: []
                    pos: 6059
                    length: 10
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return true;
                    children: []
                    pos: 6084
                    length: 12
                  pos: 6070
                  length: 36
                pos: 6056
                length: 50
              - type: expression_statement
                fields:
                  text: 's1 = s1 == null ? "" : s1.trim();'
                children: []
                pos: 6115
                length: 33
              - type: expression_statement
                fields:
                  text: 's2 = s2 == null ? "" : s2.trim();'
                children: []
                pos: 6157
                length: 33
              - type: return_statement
                fields:
                  text: return s1.equals(s2);
                children: []
                pos: 6199
                length: 21
              pos: 6046
              length: 180
          children: []
          pos: 5988
          length: 238
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getName
              children: []
              pos: 6245
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 6232
              length: 439
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: String ln = null;
                children: []
                pos: 6265
                length: 17
              - type: local_variable_declaration
                fields:
                  text: String ns = null;
                children: []
                pos: 6291
                length: 17
              - type: local_variable_declaration
                fields:
                  text: int type = node.getNodeType();
                children: []
                pos: 6317
                length: 30
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: type
                            children: []
                            pos: 6360
                            length: 4
                          right:
                            type: field_access
                            fields:
                              text: Node.ELEMENT_NODE
                            children: []
                            pos: 6368
                            length: 17
                        children: []
                        pos: 6360
                        length: 25
                    children: []
                    pos: 6359
                    length: 27
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: ns = DOMNodePointer.getPrefix(node);
                    children: []
                    pos: 6401
                    length: 36
                  - type: expression_statement
                    fields:
                      text: ln = DOMNodePointer.getLocalName(node);
                    children: []
                    pos: 6450
                    length: 39
                  pos: 6387
                  length: 112
                pos: 6356
                length: 275
              - type: return_statement
                fields:
                  text: return new QName(ns, ln);
                children: []
                pos: 6640
                length: 25
              pos: 6255
              length: 416
          children: []
          pos: 6232
          length: 439
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getNamespaceURI
              children: []
              pos: 6691
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 6677
              length: 77
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getNamespaceURI(node);
                children: []
                pos: 6719
                length: 29
              pos: 6709
              length: 45
          children: []
          pos: 6677
          length: 77
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: childIterator
              children: []
              pos: 6780
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: NodeTest test
                children: []
                pos: 6794
                length: 13
              pos: 6760
              length: 176
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return new DOMNodeIterator(this, test, reverse, startWith);
                children: []
                pos: 6871
                length: 59
              pos: 6861
              length: 75
          children: []
          pos: 6760
          length: 176
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: attributeIterator
              children: []
              pos: 6962
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: QName name
                children: []
                pos: 6980
                length: 10
              pos: 6942
              length: 110
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return new DOMAttributeIterator(this, name);
                children: []
                pos: 7002
                length: 44
              pos: 6992
              length: 60
          children: []
          pos: 6942
          length: 110
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: namespacePointer
              children: []
              pos: 7077
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String prefix
                children: []
                pos: 7094
                length: 13
              pos: 7058
              length: 109
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return new NamespacePointer(this, prefix);
                children: []
                pos: 7119
                length: 42
              pos: 7109
              length: 58
          children: []
          pos: 7058
          length: 109
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: namespaceIterator
              children: []
              pos: 7193
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 7173
              length: 94
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return new DOMNamespaceIterator(this);
                children: []
                pos: 7223
                length: 38
              pos: 7213
              length: 54
          children: []
          pos: 7173
          length: 94
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getNamespaceResolver
              children: []
              pos: 7311
              length: 20
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 7273
              length: 322
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: localNamespaceResolver
                            children: []
                            pos: 7348
                            length: 22
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 7374
                            length: 4
                        children: []
                        pos: 7348
                        length: 30
                    children: []
                    pos: 7347
                    length: 32
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: localNamespaceResolver = new NamespaceResolver(super.getNamespaceResolver());
                    children: []
                    pos: 7394
                    length: 77
                  - type: expression_statement
                    fields:
                      text: localNamespaceResolver.setNamespaceContextPointer(this);
                    children: []
                    pos: 7484
                    length: 56
                  pos: 7380
                  length: 170
                pos: 7344
                length: 206
              - type: return_statement
                fields:
                  text: return localNamespaceResolver;
                children: []
                pos: 7559
                length: 30
              pos: 7334
              length: 261
          children: []
          pos: 7273
          length: 322
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getNamespaceURI
              children: []
              pos: 7615
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String prefix
                children: []
                pos: 7631
                length: 13
              pos: 7601
              length: 1538
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: prefix
                                children: []
                                pos: 7660
                                length: 6
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 7670
                                length: 4
                            children: []
                            pos: 7660
                            length: 14
                          right:
                            type: method_invocation
                            fields:
                              text: prefix.equals("")
                            children: []
                            pos: 7678
                            length: 17
                        children: []
                        pos: 7660
                        length: 35
                    children: []
                    pos: 7659
                    length: 37
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return getDefaultNamespaceURI();
                    children: []
                    pos: 7711
                    length: 32
                  pos: 7697
                  length: 56
                pos: 7656
                length: 97
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: prefix.equals("xml")
                        children: []
                        pos: 7767
                        length: 20
                    children: []
                    pos: 7766
                    length: 22
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return XML_NAMESPACE_URI;
                    children: []
                    pos: 7803
                    length: 25
                  pos: 7789
                  length: 49
                pos: 7763
                length: 75
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: prefix.equals("xmlns")
                        children: []
                        pos: 7852
                        length: 22
                    children: []
                    pos: 7851
                    length: 24
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return XMLNS_NAMESPACE_URI;
                    children: []
                    pos: 7890
                    length: 27
                  pos: 7876
                  length: 51
                pos: 7848
                length: 79
              - type: local_variable_declaration
                fields:
                  text: String namespace = null;
                children: []
                pos: 7937
                length: 24
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: namespaces
                            children: []
                            pos: 7974
                            length: 10
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 7988
                            length: 4
                        children: []
                        pos: 7974
                        length: 18
                    children: []
                    pos: 7973
                    length: 20
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: namespaces = new HashMap();
                    children: []
                    pos: 8008
                    length: 27
                  pos: 7994
                  length: 51
                pos: 7970
                length: 157
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: namespace
                            children: []
                            pos: 8141
                            length: 9
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 8154
                            length: 4
                        children: []
                        pos: 8141
                        length: 17
                    children: []
                    pos: 8140
                    length: 19
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: String qname = "xmlns:" + prefix;
                    children: []
                    pos: 8174
                    length: 33
                  - type: local_variable_declaration
                    fields:
                      text: Node aNode = node;
                    children: []
                    pos: 8220
                    length: 18
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: instanceof_expression
                            fields:
                              text: aNode instanceof Document
                            children: []
                            pos: 8255
                            length: 25
                        children: []
                        pos: 8254
                        length: 27
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: aNode = ((Document) aNode).getDocumentElement();
                        children: []
                        pos: 8300
                        length: 48
                      pos: 8282
                      length: 80
                    pos: 8251
                    length: 111
                  - type: while_statement
                    fields:
                      text: |-
                        while (aNode != null) {
                                        if (aNode.getNodeType() == Node.ELEMENT_NODE) {
                                            Attr attr = ((Element) aNode).getAttributeNode(qname);
                                            if (attr != null) {
                                                namespace = attr.getValue();
                                                break;
                                            }
                                        }
                                        aNode = aNode.getParentNode();
                                    }
                    children: []
                    pos: 8375
                    length: 387
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: or
                            fields:
                              left:
                                type: equals
                                fields:
                                  left:
                                    type: identifier
                                    fields:
                                      text: namespace
                                    children: []
                                    pos: 8779
                                    length: 9
                                  right:
                                    type: null_literal
                                    fields: {}
                                    children: []
                                    pos: 8792
                                    length: 4
                                children: []
                                pos: 8779
                                length: 17
                              right:
                                type: method_invocation
                                fields:
                                  text: namespace.equals("")
                                children: []
                                pos: 8800
                                length: 20
                            children: []
                            pos: 8779
                            length: 41
                        children: []
                        pos: 8778
                        length: 43
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: namespace = NodePointer.UNKNOWN_NAMESPACE;
                        children: []
                        pos: 8840
                        length: 42
                      pos: 8822
                      length: 74
                    pos: 8775
                    length: 121
                  pos: 8160
                  length: 746
                pos: 8137
                length: 769
              - type: expression_statement
                fields:
                  text: namespaces.put(prefix, namespace);
                children: []
                pos: 8916
                length: 34
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: namespace
                            children: []
                            pos: 8963
                            length: 9
                          right:
                            type: identifier
                            fields:
                              text: UNKNOWN_NAMESPACE
                            children: []
                            pos: 8976
                            length: 17
                        children: []
                        pos: 8963
                        length: 30
                    children: []
                    pos: 8962
                    length: 32
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return null;
                    children: []
                    pos: 9009
                    length: 12
                  pos: 8995
                  length: 36
                pos: 8959
                length: 72
              - type: return_statement
                fields:
                  text: return namespace;
                children: []
                pos: 9116
                length: 17
              pos: 7646
              length: 1493
          children: []
          pos: 7601
          length: 1538
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getDefaultNamespaceURI
              children: []
              pos: 9159
              length: 22
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 9145
              length: 890
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: defaultNamespace
                            children: []
                            pos: 9198
                            length: 16
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 9218
                            length: 4
                        children: []
                        pos: 9198
                        length: 24
                    children: []
                    pos: 9197
                    length: 26
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: Node aNode = node;
                    children: []
                    pos: 9238
                    length: 18
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: instanceof_expression
                            fields:
                              text: aNode instanceof Document
                            children: []
                            pos: 9273
                            length: 25
                        children: []
                        pos: 9272
                        length: 27
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: aNode = ((Document) aNode).getDocumentElement();
                        children: []
                        pos: 9318
                        length: 48
                      pos: 9300
                      length: 80
                    pos: 9269
                    length: 111
                  - type: while_statement
                    fields:
                      text: |-
                        while (aNode != null) {
                                        if (aNode.getNodeType() == Node.ELEMENT_NODE) {
                                            Attr attr = ((Element) aNode).getAttributeNode("xmlns");
                                            if (attr != null) {
                                                defaultNamespace = attr.getValue();
                                                break;
                                            }
                                        }
                                        aNode = aNode.getParentNode();
                                    }
                    children: []
                    pos: 9393
                    length: 396
                  pos: 9224
                  length: 575
                pos: 9194
                length: 605
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: defaultNamespace
                            children: []
                            pos: 9812
                            length: 16
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 9832
                            length: 4
                        children: []
                        pos: 9812
                        length: 24
                    children: []
                    pos: 9811
                    length: 26
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: defaultNamespace = "";
                    children: []
                    pos: 9852
                    length: 22
                  pos: 9838
                  length: 46
                pos: 9808
                length: 76
              - type: return_statement
                fields:
                  text: 'return defaultNamespace.equals("") ? null : defaultNamespace;'
                children: []
                pos: 9968
                length: 61
              pos: 9184
              length: 851
          children: []
          pos: 9145
          length: 890
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getBaseValue
              children: []
              pos: 10055
              length: 12
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 10041
              length: 57
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return node;
                children: []
                pos: 10080
                length: 12
              pos: 10070
              length: 28
          children: []
          pos: 10041
          length: 57
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getImmediateNode
              children: []
              pos: 10118
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 10104
              length: 61
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return node;
                children: []
                pos: 10147
                length: 12
              pos: 10137
              length: 28
          children: []
          pos: 10104
          length: 61
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isActual
              children: []
              pos: 10186
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 10171
              length: 54
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return true;
                children: []
                pos: 10207
                length: 12
              pos: 10197
              length: 28
          children: []
          pos: 10171
          length: 54
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isCollection
              children: []
              pos: 10246
              length: 12
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 10231
              length: 59
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 10271
                length: 13
              pos: 10261
              length: 29
          children: []
          pos: 10231
          length: 59
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getLength
              children: []
              pos: 10307
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 10296
              length: 48
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return 1;
                children: []
                pos: 10329
                length: 9
              pos: 10319
              length: 25
          children: []
          pos: 10296
          length: 48
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isLeaf
              children: []
              pos: 10365
              length: 6
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 10350
              length: 69
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return !node.hasChildNodes();
                children: []
                pos: 10384
                length: 29
              pos: 10374
              length: 45
          children: []
          pos: 10350
          length: 69
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isLanguage
              children: []
              pos: 10713
              length: 10
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String lang
                children: []
                pos: 10724
                length: 11
              pos: 10698
              length: 242
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: String current = getLanguage();
                children: []
                pos: 10747
                length: 31
              - type: return_statement
                fields:
                  text: |-
                    return current == null ? super.isLanguage(lang)
                                    : current.toUpperCase(Locale.ENGLISH).startsWith(lang.toUpperCase(Locale.ENGLISH));
                children: []
                pos: 10787
                length: 147
              pos: 10737
              length: 203
          children: []
          pos: 10698
          length: 242
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: findEnclosingAttribute
              children: []
              pos: 11194
              length: 22
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Node n
                children: []
                pos: 11217
                length: 6
              pos: 11170
              length: 447
            body:
              type: block
              fields: {}
              children:
              - type: while_statement
                fields:
                  text: |-
                    while (n != null) {
                                if (n.getNodeType() == Node.ELEMENT_NODE) {
                                    Element e = (Element) n;
                                    String attr = e.getAttribute(attrName);
                                    if (attr != null && !attr.equals("")) {
                                        return attr;
                                    }
                                }
                                n = n.getParentNode();
                            }
                children: []
                pos: 11252
                length: 338
              - type: return_statement
                fields:
                  text: return null;
                children: []
                pos: 11599
                length: 12
              pos: 11242
              length: 375
          children: []
          pos: 11170
          length: 447
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getLanguage
              children: []
              pos: 11741
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 11724
              length: 95
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return findEnclosingAttribute(node, "xml:lang");
                children: []
                pos: 11765
                length: 48
              pos: 11755
              length: 64
          children: []
          pos: 11724
          length: 95
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setValue
              children: []
              pos: 12154
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Object value
                children: []
                pos: 12163
                length: 12
              pos: 12142
              length: 1665
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: equals
                            fields:
                              left:
                                type: method_invocation
                                fields:
                                  text: node.getNodeType()
                                children: []
                                pos: 12191
                                length: 18
                              right:
                                type: field_access
                                fields:
                                  text: Node.TEXT_NODE
                                children: []
                                pos: 12213
                                length: 14
                            children: []
                            pos: 12191
                            length: 36
                          right:
                            type: equals
                            fields:
                              left:
                                type: method_invocation
                                fields:
                                  text: node.getNodeType()
                                children: []
                                pos: 12243
                                length: 18
                              right:
                                type: field_access
                                fields:
                                  text: Node.CDATA_SECTION_NODE
                                children: []
                                pos: 12265
                                length: 23
                            children: []
                            pos: 12243
                            length: 45
                        children: []
                        pos: 12191
                        length: 97
                    children: []
                    pos: 12190
                    length: 99
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: String string = (String) TypeUtils.convert(value, String.class);
                    children: []
                    pos: 12304
                    length: 64
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: and
                            fields:
                              left:
                                type: not_equals
                                fields:
                                  left:
                                    type: identifier
                                    fields:
                                      text: string
                                    children: []
                                    pos: 12385
                                    length: 6
                                  right:
                                    type: null_literal
                                    fields: {}
                                    children: []
                                    pos: 12395
                                    length: 4
                                children: []
                                pos: 12385
                                length: 14
                              right:
                                type: unary_expression
                                fields:
                                  text: '!string.equals("")'
                                children: []
                                pos: 12403
                                length: 18
                            children: []
                            pos: 12385
                            length: 36
                        children: []
                        pos: 12384
                        length: 38
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: node.setNodeValue(string);
                        children: []
                        pos: 12441
                        length: 26
                      pos: 12423
                      length: 58
                    pos: 12381
                    length: 189
                  pos: 12290
                  length: 290
                pos: 12187
                length: 1614
              pos: 12177
              length: 1630
          children: []
          pos: 12142
          length: 1665
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: createChild
              children: []
              pos: 13832
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JXPathContext context
                children: []
                pos: 13844
                length: 21
              pos: 13813
              length: 1026
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: index
                            children: []
                            pos: 13904
                            length: 5
                          right:
                            type: identifier
                            fields:
                              text: WHOLE_COLLECTION
                            children: []
                            pos: 13913
                            length: 16
                        children: []
                        pos: 13904
                        length: 25
                    children: []
                    pos: 13903
                    length: 27
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: index = 0;
                    children: []
                    pos: 13945
                    length: 10
                  pos: 13931
                  length: 34
                pos: 13900
                length: 65
              - type: local_variable_declaration
                fields:
                  text: |-
                    boolean success =
                                getAbstractFactory(context).createObject(
                                    context,
                                    this,
                                    node,
                                    name.toString(),
                                    index);
                children: []
                pos: 13974
                length: 197
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: identifier
                        fields:
                          text: success
                        children: []
                        pos: 14184
                        length: 7
                    children: []
                    pos: 14183
                    length: 9
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: NodeTest nodeTest;
                    children: []
                    pos: 14207
                    length: 18
                  - type: local_variable_declaration
                    fields:
                      text: String prefix = name.getPrefix();
                    children: []
                    pos: 14238
                    length: 33
                  - type: local_variable_declaration
                    fields:
                      text: |-
                        String namespaceURI = prefix == null ? null : context
                                            .getNamespaceURI(prefix);
                    children: []
                    pos: 14284
                    length: 99
                  - type: expression_statement
                    fields:
                      text: nodeTest = new NodeNameTest(name, namespaceURI);
                    children: []
                    pos: 14396
                    length: 48
                  - type: local_variable_declaration
                    fields:
                      text: NodeIterator it = childIterator(nodeTest, false, null);
                    children: []
                    pos: 14458
                    length: 55
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: and
                            fields:
                              left:
                                type: not_equals
                                fields:
                                  left:
                                    type: identifier
                                    fields:
                                      text: it
                                    children: []
                                    pos: 14530
                                    length: 2
                                  right:
                                    type: null_literal
                                    fields: {}
                                    children: []
                                    pos: 14536
                                    length: 4
                                children: []
                                pos: 14530
                                length: 10
                              right:
                                type: method_invocation
                                fields:
                                  text: it.setPosition(index + 1)
                                children: []
                                pos: 14544
                                length: 25
                            children: []
                            pos: 14530
                            length: 39
                        children: []
                        pos: 14529
                        length: 41
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: return_statement
                        fields:
                          text: return it.getNodePointer();
                        children: []
                        pos: 14589
                        length: 27
                      pos: 14571
                      length: 59
                    pos: 14526
                    length: 104
                  pos: 14193
                  length: 447
                pos: 14180
                length: 460
              - type: throw_statement
                fields:
                  text: |-
                    throw new JXPathAbstractFactoryException(
                                    "Factory could not create a child node for path: " + asPath()
                                            + "/" + name + "[" + (index + 1) + "]");
                children: []
                pos: 14649
                length: 184
              pos: 13890
              length: 949
          children: []
          pos: 13813
          length: 1026
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: createChild
              children: []
              pos: 14864
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JXPathContext context
                children: []
                pos: 14876
                length: 21
              pos: 14845
              length: 220
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: NodePointer ptr = createChild(context, name, index);
                children: []
                pos: 14958
                length: 52
              - type: expression_statement
                fields:
                  text: ptr.setValue(value);
                children: []
                pos: 15019
                length: 20
              - type: return_statement
                fields:
                  text: return ptr;
                children: []
                pos: 15048
                length: 11
              pos: 14948
              length: 117
          children: []
          pos: 14845
          length: 220
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: createAttribute
              children: []
              pos: 15090
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JXPathContext context
                children: []
                pos: 15106
                length: 21
              pos: 15071
              length: 971
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: unary_expression
                        fields:
                          text: "!(node instanceof Element)"
                        children: []
                        pos: 15155
                        length: 26
                    children: []
                    pos: 15154
                    length: 28
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return super.createAttribute(context, name);
                    children: []
                    pos: 15197
                    length: 44
                  pos: 15183
                  length: 68
                pos: 15151
                length: 100
              - type: local_variable_declaration
                fields:
                  text: Element element = (Element) node;
                children: []
                pos: 15260
                length: 33
              - type: local_variable_declaration
                fields:
                  text: String prefix = name.getPrefix();
                children: []
                pos: 15302
                length: 33
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: prefix
                            children: []
                            pos: 15348
                            length: 6
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 15358
                            length: 4
                        children: []
                        pos: 15348
                        length: 14
                    children: []
                    pos: 15347
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: String ns = null;
                    children: []
                    pos: 15378
                    length: 17
                  - type: local_variable_declaration
                    fields:
                      text: NamespaceResolver nsr = getNamespaceResolver();
                    children: []
                    pos: 15408
                    length: 47
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: not_equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: nsr
                                children: []
                                pos: 15472
                                length: 3
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 15479
                                length: 4
                            children: []
                            pos: 15472
                            length: 11
                        children: []
                        pos: 15471
                        length: 13
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: ns = nsr.getNamespaceURI(prefix);
                        children: []
                        pos: 15503
                        length: 33
                      pos: 15485
                      length: 65
                    pos: 15468
                    length: 82
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: ns
                                children: []
                                pos: 15567
                                length: 2
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 15573
                                length: 4
                            children: []
                            pos: 15567
                            length: 10
                        children: []
                        pos: 15566
                        length: 12
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: throw_statement
                        fields:
                          text: |-
                            throw new JXPathException(
                                                "Unknown namespace prefix: " + prefix);
                        children: []
                        pos: 15597
                        length: 86
                      pos: 15579
                      length: 118
                    pos: 15563
                    length: 134
                  - type: expression_statement
                    fields:
                      text: element.setAttributeNS(ns, name.toString(), "");
                    children: []
                    pos: 15710
                    length: 48
                  pos: 15364
                  length: 404
                pos: 15344
                length: 578
              - type: local_variable_declaration
                fields:
                  text: NodeIterator it = attributeIterator(name);
                children: []
                pos: 15931
                length: 42
              - type: expression_statement
                fields:
                  text: it.setPosition(1);
                children: []
                pos: 15982
                length: 18
              - type: return_statement
                fields:
                  text: return it.getNodePointer();
                children: []
                pos: 16009
                length: 27
              pos: 15141
              length: 901
          children: []
          pos: 15071
          length: 971
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: remove
              children: []
              pos: 16060
              length: 6
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 16048
              length: 216
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: Node parent = node.getParentNode();
                children: []
                pos: 16079
                length: 35
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: parent
                            children: []
                            pos: 16127
                            length: 6
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 16137
                            length: 4
                        children: []
                        pos: 16127
                        length: 14
                    children: []
                    pos: 16126
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: throw new JXPathException("Cannot remove root DOM node");
                    children: []
                    pos: 16157
                    length: 57
                  pos: 16143
                  length: 81
                pos: 16123
                length: 101
              - type: expression_statement
                fields:
                  text: parent.removeChild(node);
                children: []
                pos: 16233
                length: 25
              pos: 16069
              length: 195
          children: []
          pos: 16048
          length: 216
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: asPath
              children: []
              pos: 16284
              length: 6
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 16270
              length: 2702
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: id
                            children: []
                            pos: 16307
                            length: 2
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 16313
                            length: 4
                        children: []
                        pos: 16307
                        length: 10
                    children: []
                    pos: 16306
                    length: 12
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return "id('" + escape(id) + "')";
                    children: []
                    pos: 16333
                    length: 34
                  pos: 16319
                  length: 58
                pos: 16303
                length: 74
              - type: local_variable_declaration
                fields:
                  text: StringBuffer buffer = new StringBuffer();
                children: []
                pos: 16387
                length: 41
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: parent
                            children: []
                            pos: 16441
                            length: 6
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 16451
                            length: 4
                        children: []
                        pos: 16441
                        length: 14
                    children: []
                    pos: 16440
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: buffer.append(parent.asPath());
                    children: []
                    pos: 16471
                    length: 31
                  pos: 16457
                  length: 55
                pos: 16437
                length: 75
              - type: switch_expression
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: node.getNodeType()
                        children: []
                        pos: 16529
                        length: 18
                    children: []
                    pos: 16528
                    length: 20
                  body:
                    type: switch_block
                    fields:
                      text: |-
                        {
                                    case Node.ELEMENT_NODE :
                                        // If the parent pointer is not a DOMNodePointer, it is
                                        // the parent's responsibility to produce the node test part
                                        // of the path
                                        if (parent instanceof DOMNodePointer) {
                                            if (buffer.length() == 0
                                                    || buffer.charAt(buffer.length() - 1) != '/') {
                                                buffer.append('/');
                                            }
                                            String ln = DOMNodePointer.getLocalName(node);
                                            String nsURI = getNamespaceURI();
                                            if (nsURI == null) {
                                                buffer.append(ln);
                                                buffer.append('[');
                                                buffer.append(getRelativePositionByQName()).append(']');
                                            }
                                            else {
                                                String prefix = getNamespaceResolver().getPrefix(nsURI);
                                                if (prefix != null) {
                                                    buffer.append(prefix);
                                                    buffer.append(':');
                                                    buffer.append(ln);
                                                    buffer.append('[');
                                                    buffer.append(getRelativePositionByQName());
                                                    buffer.append(']');
                                                }
                                                else {
                                                    buffer.append("node()");
                                                    buffer.append('[');
                                                    buffer.append(getRelativePositionOfElement());
                                                    buffer.append(']');
                                                }
                                            }
                                        }
                                    break;
                                    case Node.TEXT_NODE :
                                    case Node.CDATA_SECTION_NODE :
                                        buffer.append("/text()");
                                        buffer.append('[');
                                        buffer.append(getRelativePositionOfTextNode()).append(']');
                                        break;
                                    case Node.PROCESSING_INSTRUCTION_NODE :
                                        buffer.append("/processing-instruction(\'");
                                        buffer.append(((ProcessingInstruction) node).getTarget()).append("')");
                                        buffer.append('[');
                                        buffer.append(getRelativePositionOfPI()).append(']');
                                        break;
                                    case Node.DOCUMENT_NODE :
                                        // That'll be empty
                                        break;
                                    default:
                                        break;
                                }
                    children: []
                    pos: 16549
                    length: 2383
                children: []
                pos: 16521
                length: 2411
              - type: return_statement
                fields:
                  text: return buffer.toString();
                children: []
                pos: 18941
                length: 25
              pos: 16293
              length: 2679
          children: []
          pos: 16270
          length: 2702
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getRelativePositionByQName
              children: []
              pos: 19090
              length: 26
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 19078
              length: 329
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: int count = 1;
                children: []
                pos: 19129
                length: 14
              - type: local_variable_declaration
                fields:
                  text: Node n = node.getPreviousSibling();
                children: []
                pos: 19152
                length: 35
              - type: while_statement
                fields:
                  text: |-
                    while (n != null) {
                                if (n.getNodeType() == Node.ELEMENT_NODE && matchesQName(n)) {
                                    count++;
                                }
                                n = n.getPreviousSibling();
                            }
                children: []
                pos: 19196
                length: 183
              - type: return_statement
                fields:
                  text: return count;
                children: []
                pos: 19388
                length: 13
              pos: 19119
              length: 288
          children: []
          pos: 19078
          length: 329
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: matchesQName
              children: []
              pos: 19429
              length: 12
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Node n
                children: []
                pos: 19442
                length: 6
              pos: 19413
              length: 308
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: method_invocation
                            fields:
                              text: getNamespaceURI()
                            children: []
                            pos: 19464
                            length: 17
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 19485
                            length: 4
                        children: []
                        pos: 19464
                        length: 25
                    children: []
                    pos: 19463
                    length: 27
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: |-
                        return equalStrings(getNamespaceURI(n), getNamespaceURI())
                                            && equalStrings(node.getLocalName(), n.getLocalName());
                    children: []
                    pos: 19505
                    length: 134
                  pos: 19491
                  length: 158
                pos: 19460
                length: 189
              - type: return_statement
                fields:
                  text: return equalStrings(node.getNodeName(), n.getNodeName());
                children: []
                pos: 19658
                length: 57
              pos: 19450
              length: 271
          children: []
          pos: 19413
          length: 308
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getRelativePositionOfElement
              children: []
              pos: 19832
              length: 28
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 19820
              length: 312
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: int count = 1;
                children: []
                pos: 19873
                length: 14
              - type: local_variable_declaration
                fields:
                  text: Node n = node.getPreviousSibling();
                children: []
                pos: 19896
                length: 35
              - type: while_statement
                fields:
                  text: |-
                    while (n != null) {
                                if (n.getNodeType() == Node.ELEMENT_NODE) {
                                    count++;
                                }
                                n = n.getPreviousSibling();
                            }
                children: []
                pos: 19940
                length: 164
              - type: return_statement
                fields:
                  text: return count;
                children: []
                pos: 20113
                length: 13
              pos: 19863
              length: 269
          children: []
          pos: 19820
          length: 312
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getRelativePositionOfTextNode
              children: []
              pos: 20253
              length: 29
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 20241
              length: 372
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: int count = 1;
                children: []
                pos: 20295
                length: 14
              - type: local_variable_declaration
                fields:
                  text: Node n = node.getPreviousSibling();
                children: []
                pos: 20318
                length: 35
              - type: while_statement
                fields:
                  text: |-
                    while (n != null) {
                                if (n.getNodeType() == Node.TEXT_NODE
                                    || n.getNodeType() == Node.CDATA_SECTION_NODE) {
                                    count++;
                                }
                                n = n.getPreviousSibling();
                            }
                children: []
                pos: 20362
                length: 223
              - type: return_statement
                fields:
                  text: return count;
                children: []
                pos: 20594
                length: 13
              pos: 20285
              length: 328
          children: []
          pos: 20241
          length: 372
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getRelativePositionOfPI
              children: []
              pos: 20759
              length: 23
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 20747
              length: 464
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: int count = 1;
                children: []
                pos: 20795
                length: 14
              - type: local_variable_declaration
                fields:
                  text: String target = ((ProcessingInstruction) node).getTarget();
                children: []
                pos: 20818
                length: 59
              - type: local_variable_declaration
                fields:
                  text: Node n = node.getPreviousSibling();
                children: []
                pos: 20886
                length: 35
              - type: while_statement
                fields:
                  text: |-
                    while (n != null) {
                                if (n.getNodeType() == Node.PROCESSING_INSTRUCTION_NODE
                                    && ((ProcessingInstruction) n).getTarget().equals(target)) {
                                    count++;
                                }
                                n = n.getPreviousSibling();
                            }
                children: []
                pos: 20930
                length: 253
              - type: return_statement
                fields:
                  text: return count;
                children: []
                pos: 21192
                length: 13
              pos: 20785
              length: 426
          children: []
          pos: 20747
          length: 464
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: hashCode
              children: []
              pos: 21228
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 21217
              length: 61
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return node.hashCode();
                children: []
                pos: 21249
                length: 23
              pos: 21239
              length: 39
          children: []
          pos: 21217
          length: 61
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: equals
              children: []
              pos: 21299
              length: 6
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Object object
                children: []
                pos: 21306
                length: 13
              pos: 21284
              length: 153
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return object == this || object instanceof DOMNodePointer
                    && node == ((DOMNodePointer) object).node;
                children: []
                pos: 21331
                length: 100
              pos: 21321
              length: 116
          children: []
          pos: 21284
          length: 153
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getPrefix
              children: []
              pos: 21597
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Node node
                children: []
                pos: 21607
                length: 9
              pos: 21576
              length: 304
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: String prefix = node.getPrefix();
                children: []
                pos: 21628
                length: 33
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: prefix
                            children: []
                            pos: 21674
                            length: 6
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 21684
                            length: 4
                        children: []
                        pos: 21674
                        length: 14
                    children: []
                    pos: 21673
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return prefix;
                    children: []
                    pos: 21704
                    length: 14
                  pos: 21690
                  length: 38
                pos: 21670
                length: 58
              - type: local_variable_declaration
                fields:
                  text: String name = node.getNodeName();
                children: []
                pos: 21738
                length: 33
              - type: local_variable_declaration
                fields:
                  text: int index = name.lastIndexOf(':');
                children: []
                pos: 21780
                length: 34
              - type: return_statement
                fields:
                  text: 'return index < 0 ? null : name.substring(0, index);'
                children: []
                pos: 21823
                length: 51
              pos: 21618
              length: 262
          children: []
          pos: 21576
          length: 304
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getLocalName
              children: []
              pos: 22038
              length: 12
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Node node
                children: []
                pos: 22051
                length: 9
              pos: 22017
              length: 320
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: String localName = node.getLocalName();
                children: []
                pos: 22072
                length: 39
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: localName
                            children: []
                            pos: 22124
                            length: 9
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 22137
                            length: 4
                        children: []
                        pos: 22124
                        length: 17
                    children: []
                    pos: 22123
                    length: 19
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return localName;
                    children: []
                    pos: 22157
                    length: 17
                  pos: 22143
                  length: 41
                pos: 22120
                length: 64
              - type: local_variable_declaration
                fields:
                  text: String name = node.getNodeName();
                children: []
                pos: 22194
                length: 33
              - type: local_variable_declaration
                fields:
                  text: int index = name.lastIndexOf(':');
                children: []
                pos: 22236
                length: 34
              - type: return_statement
                fields:
                  text: 'return index < 0 ? name : name.substring(index + 1);'
                children: []
                pos: 22279
                length: 52
              pos: 22062
              length: 275
          children: []
          pos: 22017
          length: 320
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getNamespaceURI
              children: []
              pos: 22487
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Node node
                children: []
                pos: 22503
                length: 9
              pos: 22466
              length: 885
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: instanceof_expression
                        fields:
                          text: node instanceof Document
                        children: []
                        pos: 22528
                        length: 24
                    children: []
                    pos: 22527
                    length: 26
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: node = ((Document) node).getDocumentElement();
                    children: []
                    pos: 22568
                    length: 46
                  pos: 22554
                  length: 70
                pos: 22524
                length: 100
              - type: local_variable_declaration
                fields:
                  text: Element element = (Element) node;
                children: []
                pos: 22634
                length: 33
              - type: local_variable_declaration
                fields:
                  text: String uri = element.getNamespaceURI();
                children: []
                pos: 22677
                length: 39
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: uri
                            children: []
                            pos: 22729
                            length: 3
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 22736
                            length: 4
                        children: []
                        pos: 22729
                        length: 11
                    children: []
                    pos: 22728
                    length: 13
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: String prefix = getPrefix(node);
                    children: []
                    pos: 22756
                    length: 32
                  - type: local_variable_declaration
                    fields:
                      text: 'String qname = prefix == null ? "xmlns" : "xmlns:" +
                        prefix;'
                    children: []
                    pos: 22801
                    length: 60
                  - type: local_variable_declaration
                    fields:
                      text: Node aNode = node;
                    children: []
                    pos: 22879
                    length: 18
                  - type: while_statement
                    fields:
                      text: |-
                        while (aNode != null) {
                                        if (aNode.getNodeType() == Node.ELEMENT_NODE) {
                                            Attr attr = ((Element) aNode).getAttributeNode(qname);
                                            if (attr != null) {
                                                uri = attr.getValue();
                                                break;
                                            }
                                        }
                                        aNode = aNode.getParentNode();
                                    }
                    children: []
                    pos: 22910
                    length: 381
                  pos: 22742
                  length: 559
                pos: 22725
                length: 576
              - type: return_statement
                fields:
                  text: 'return "".equals(uri) ? null : uri;'
                children: []
                pos: 23310
                length: 35
              pos: 22514
              length: 837
          children: []
          pos: 22466
          length: 885
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getValue
              children: []
              pos: 23371
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 23357
              length: 237
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: method_invocation
                            fields:
                              text: node.getNodeType()
                            children: []
                            pos: 23396
                            length: 18
                          right:
                            type: field_access
                            fields:
                              text: Node.COMMENT_NODE
                            children: []
                            pos: 23418
                            length: 17
                        children: []
                        pos: 23396
                        length: 39
                    children: []
                    pos: 23395
                    length: 41
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: String text = ((Comment) node).getData();
                    children: []
                    pos: 23451
                    length: 41
                  - type: return_statement
                    fields:
                      text: 'return text == null ? "" : text.trim();'
                    children: []
                    pos: 23505
                    length: 39
                  pos: 23437
                  length: 117
                pos: 23392
                length: 162
              - type: return_statement
                fields:
                  text: return stringValue(node);
                children: []
                pos: 23563
                length: 25
              pos: 23382
              length: 212
          children: []
          pos: 23357
          length: 237
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: stringValue
              children: []
              pos: 23737
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Node node
                children: []
                pos: 23749
                length: 9
              pos: 23722
              length: 930
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: int nodeType = node.getNodeType();
                children: []
                pos: 23770
                length: 34
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: nodeType
                            children: []
                            pos: 23817
                            length: 8
                          right:
                            type: field_access
                            fields:
                              text: Node.COMMENT_NODE
                            children: []
                            pos: 23829
                            length: 17
                        children: []
                        pos: 23817
                        length: 29
                    children: []
                    pos: 23816
                    length: 31
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return "";
                    children: []
                    pos: 23862
                    length: 10
                  pos: 23848
                  length: 34
                pos: 23813
                length: 69
              - type: local_variable_declaration
                fields:
                  text: boolean trim = !"preserve".equals(findEnclosingAttribute(node,
                    "xml:space"));
                children: []
                pos: 23891
                length: 77
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: nodeType
                                children: []
                                pos: 23981
                                length: 8
                              right:
                                type: field_access
                                fields:
                                  text: Node.TEXT_NODE
                                children: []
                                pos: 23993
                                length: 14
                            children: []
                            pos: 23981
                            length: 26
                          right:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: nodeType
                                children: []
                                pos: 24011
                                length: 8
                              right:
                                type: field_access
                                fields:
                                  text: Node.CDATA_SECTION_NODE
                                children: []
                                pos: 24023
                                length: 23
                            children: []
                            pos: 24011
                            length: 35
                        children: []
                        pos: 23981
                        length: 65
                    children: []
                    pos: 23980
                    length: 67
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: String text = node.getNodeValue();
                    children: []
                    pos: 24062
                    length: 34
                  - type: return_statement
                    fields:
                      text: 'return text == null ? "" : trim ? text.trim() : text;'
                    children: []
                    pos: 24109
                    length: 53
                  pos: 24048
                  length: 124
                pos: 23977
                length: 195
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: nodeType
                            children: []
                            pos: 24185
                            length: 8
                          right:
                            type: field_access
                            fields:
                              text: Node.PROCESSING_INSTRUCTION_NODE
                            children: []
                            pos: 24197
                            length: 32
                        children: []
                        pos: 24185
                        length: 44
                    children: []
                    pos: 24184
                    length: 46
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: String text = ((ProcessingInstruction) node).getData();
                    children: []
                    pos: 24245
                    length: 55
                  - type: return_statement
                    fields:
                      text: 'return text == null ? "" : trim ? text.trim() : text;'
                    children: []
                    pos: 24313
                    length: 53
                  pos: 24231
                  length: 145
                pos: 24181
                length: 195
              - type: local_variable_declaration
                fields:
                  text: NodeList list = node.getChildNodes();
                children: []
                pos: 24385
                length: 37
              - type: local_variable_declaration
                fields:
                  text: StringBuffer buf = new StringBuffer();
                children: []
                pos: 24431
                length: 38
              - type: for_statement
                fields:
                  text: |-
                    for (int i = 0; i < list.getLength(); i++) {
                                Node child = list.item(i);
                                buf.append(stringValue(child));
                            }
                children: []
                pos: 24478
                length: 137
              - type: return_statement
                fields:
                  text: return buf.toString();
                children: []
                pos: 24624
                length: 22
              pos: 23760
              length: 892
          children: []
          pos: 23722
          length: 930
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getPointerByID
              children: []
              pos: 24805
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JXPathContext context
                children: []
                pos: 24820
                length: 21
              pos: 24790
              length: 396
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: |-
                    Document document = node.getNodeType() == Node.DOCUMENT_NODE ? (Document) node
                                    : node.getOwnerDocument();
                children: []
                pos: 24864
                length: 121
              - type: local_variable_declaration
                fields:
                  text: Element element = document.getElementById(id);
                children: []
                pos: 24994
                length: 46
              - type: return_statement
                fields:
                  text: |-
                    return element == null ? (Pointer) new NullPointer(getLocale(), id)
                                    : new DOMNodePointer(element, getLocale(), id);
                children: []
                pos: 25049
                length: 131
              pos: 24854
              length: 332
          children: []
          pos: 24790
          length: 396
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: compareChildNodePointers
              children: []
              pos: 25203
              length: 24
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: NodePointer pointer1
                children: []
                pos: 25228
                length: 20
              pos: 25192
              length: 1354
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: Node node1 = (Node) pointer1.getBaseValue();
                children: []
                pos: 25294
                length: 44
              - type: local_variable_declaration
                fields:
                  text: Node node2 = (Node) pointer2.getBaseValue();
                children: []
                pos: 25347
                length: 44
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: node1
                            children: []
                            pos: 25404
                            length: 5
                          right:
                            type: identifier
                            fields:
                              text: node2
                            children: []
                            pos: 25413
                            length: 5
                        children: []
                        pos: 25404
                        length: 14
                    children: []
                    pos: 25403
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return 0;
                    children: []
                    pos: 25434
                    length: 9
                  pos: 25420
                  length: 33
                pos: 25400
                length: 53
              - type: local_variable_declaration
                fields:
                  text: int t1 = node1.getNodeType();
                children: []
                pos: 25463
                length: 29
              - type: local_variable_declaration
                fields:
                  text: int t2 = node2.getNodeType();
                children: []
                pos: 25501
                length: 29
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: and
                        fields:
                          left:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: t1
                                children: []
                                pos: 25543
                                length: 2
                              right:
                                type: field_access
                                fields:
                                  text: Node.ATTRIBUTE_NODE
                                children: []
                                pos: 25549
                                length: 19
                            children: []
                            pos: 25543
                            length: 25
                          right:
                            type: not_equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: t2
                                children: []
                                pos: 25572
                                length: 2
                              right:
                                type: field_access
                                fields:
                                  text: Node.ATTRIBUTE_NODE
                                children: []
                                pos: 25578
                                length: 19
                            children: []
                            pos: 25572
                            length: 25
                        children: []
                        pos: 25543
                        length: 54
                    children: []
                    pos: 25542
                    length: 56
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return -1;
                    children: []
                    pos: 25613
                    length: 10
                  pos: 25599
                  length: 34
                pos: 25539
                length: 94
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: and
                        fields:
                          left:
                            type: not_equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: t1
                                children: []
                                pos: 25646
                                length: 2
                              right:
                                type: field_access
                                fields:
                                  text: Node.ATTRIBUTE_NODE
                                children: []
                                pos: 25652
                                length: 19
                            children: []
                            pos: 25646
                            length: 25
                          right:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: t2
                                children: []
                                pos: 25675
                                length: 2
                              right:
                                type: field_access
                                fields:
                                  text: Node.ATTRIBUTE_NODE
                                children: []
                                pos: 25681
                                length: 19
                            children: []
                            pos: 25675
                            length: 25
                        children: []
                        pos: 25646
                        length: 54
                    children: []
                    pos: 25645
                    length: 56
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return 1;
                    children: []
                    pos: 25716
                    length: 9
                  pos: 25702
                  length: 33
                pos: 25642
                length: 93
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: and
                        fields:
                          left:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: t1
                                children: []
                                pos: 25748
                                length: 2
                              right:
                                type: field_access
                                fields:
                                  text: Node.ATTRIBUTE_NODE
                                children: []
                                pos: 25754
                                length: 19
                            children: []
                            pos: 25748
                            length: 25
                          right:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: t2
                                children: []
                                pos: 25777
                                length: 2
                              right:
                                type: field_access
                                fields:
                                  text: Node.ATTRIBUTE_NODE
                                children: []
                                pos: 25783
                                length: 19
                            children: []
                            pos: 25777
                            length: 25
                        children: []
                        pos: 25748
                        length: 54
                    children: []
                    pos: 25747
                    length: 56
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: NamedNodeMap map = ((Node) getNode()).getAttributes();
                    children: []
                    pos: 25818
                    length: 54
                  - type: local_variable_declaration
                    fields:
                      text: int length = map.getLength();
                    children: []
                    pos: 25885
                    length: 29
                  - type: for_statement
                    fields:
                      text: |-
                        for (int i = 0; i < length; i++) {
                                        Node n = map.item(i);
                                        if (n == node1) {
                                            return -1;
                                        }
                                        if (n == node2) {
                                            return 1;
                                        }
                                    }
                    children: []
                    pos: 25927
                    length: 251
                  - type: return_statement
                    fields:
                      text: return 0;
                    children: []
                    pos: 26191
                    length: 9
                  pos: 25804
                  length: 427
                pos: 25744
                length: 487
              - type: local_variable_declaration
                fields:
                  text: Node current = node.getFirstChild();
                children: []
                pos: 26241
                length: 36
              - type: while_statement
                fields:
                  text: |-
                    while (current != null) {
                                if (current == node1) {
                                    return -1;
                                }
                                if (current == node2) {
                                    return 1;
                                }
                                current = current.getNextSibling();
                            }
                children: []
                pos: 26286
                length: 236
              - type: return_statement
                fields:
                  text: return 0;
                children: []
                pos: 26531
                length: 9
              pos: 25284
              length: 1262
          children: []
          pos: 25192
          length: 1354
        pos: 2212
        length: 24336
    children: []
    pos: 2212
    length: 24336
  pos: 0
  length: 26549
after_tree:
  type: program
  fields: {}
  children:
  - type: class_declaration
    fields:
      name:
        type: identifier
        fields:
          text: DOMNodePointer
        children: []
        pos: 2225
        length: 14
      body:
        type: class_body
        fields: {}
        children:
        - type: field_declaration
          fields:
            text: private static final long serialVersionUID = -8751046933894857319L;
          children: []
          pos: 2267
          length: 67
        - type: field_declaration
          fields:
            text: private Node node;
          children: []
          pos: 2340
          length: 18
        - type: field_declaration
          fields:
            text: private Map namespaces;
          children: []
          pos: 2363
          length: 23
        - type: field_declaration
          fields:
            text: private String defaultNamespace;
          children: []
          pos: 2391
          length: 32
        - type: field_declaration
          fields:
            text: private String id;
          children: []
          pos: 2428
          length: 18
        - type: field_declaration
          fields:
            text: private NamespaceResolver localNamespaceResolver;
          children: []
          pos: 2451
          length: 49
        - type: field_declaration
          fields:
            text: |-
              public static final String XML_NAMESPACE_URI =
                          "http://www.w3.org/XML/1998/namespace";
          children: []
          pos: 2535
          length: 98
        - type: field_declaration
          fields:
            text: |-
              public static final String XMLNS_NAMESPACE_URI =
                          "http://www.w3.org/2000/xmlns/";
          children: []
          pos: 2670
          length: 93
        - type: constructor_declaration
          fields:
            text: |-
              public DOMNodePointer(Node node, Locale locale) {
                      super(null, locale);
                      this.node = node;
                  }
          children: []
          pos: 2879
          length: 110
        - type: constructor_declaration
          fields:
            text: |-
              public DOMNodePointer(Node node, Locale locale, String id) {
                      super(null, locale);
                      this.node = node;
                      this.id = id;
                  }
          children: []
          pos: 3132
          length: 143
        - type: constructor_declaration
          fields:
            text: |-
              public DOMNodePointer(NodePointer parent, Node node) {
                      super(parent);
                      this.node = node;
                  }
          children: []
          pos: 3389
          length: 109
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: testNode
              children: []
              pos: 3519
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: NodeTest test
                children: []
                pos: 3528
                length: 13
              pos: 3504
              length: 83
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return testNode(node, test);
                children: []
                pos: 3553
                length: 28
              pos: 3543
              length: 44
          children: []
          pos: 3504
          length: 83
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: testNode
              children: []
              pos: 3748
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Node node
                children: []
                pos: 3757
                length: 9
              pos: 3726
              length: 2120
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: test
                            children: []
                            pos: 3797
                            length: 4
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 3805
                            length: 4
                        children: []
                        pos: 3797
                        length: 12
                    children: []
                    pos: 3796
                    length: 14
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return true;
                    children: []
                    pos: 3825
                    length: 12
                  pos: 3811
                  length: 36
                pos: 3793
                length: 54
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: instanceof_expression
                        fields:
                          text: test instanceof NodeNameTest
                        children: []
                        pos: 3860
                        length: 28
                    children: []
                    pos: 3859
                    length: 30
                children:
                - type: block
                  fields: {}
                  children:
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: not_equals
                            fields:
                              left:
                                type: method_invocation
                                fields:
                                  text: node.getNodeType()
                                children: []
                                pos: 3908
                                length: 18
                              right:
                                type: field_access
                                fields:
                                  text: Node.ELEMENT_NODE
                                children: []
                                pos: 3930
                                length: 17
                            children: []
                            pos: 3908
                            length: 39
                        children: []
                        pos: 3907
                        length: 41
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: return_statement
                        fields:
                          text: return false;
                        children: []
                        pos: 3967
                        length: 13
                      pos: 3949
                      length: 45
                    pos: 3904
                    length: 90
                  - type: local_variable_declaration
                    fields:
                      text: NodeNameTest nodeNameTest = (NodeNameTest) test;
                    children: []
                    pos: 4008
                    length: 48
                  - type: local_variable_declaration
                    fields:
                      text: QName testName = nodeNameTest.getNodeName();
                    children: []
                    pos: 4069
                    length: 44
                  - type: local_variable_declaration
                    fields:
                      text: String namespaceURI = nodeNameTest.getNamespaceURI();
                    children: []
                    pos: 4126
                    length: 53
                  - type: local_variable_declaration
                    fields:
                      text: boolean wildcard = nodeNameTest.isWildcard();
                    children: []
                    pos: 4192
                    length: 45
                  - type: local_variable_declaration
                    fields:
                      text: String testPrefix = testName.getPrefix();
                    children: []
                    pos: 4250
                    length: 41
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: and
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: wildcard
                                children: []
                                pos: 4308
                                length: 8
                              right:
                                type: equals
                                fields:
                                  left:
                                    type: identifier
                                    fields:
                                      text: testPrefix
                                    children: []
                                    pos: 4320
                                    length: 10
                                  right:
                                    type: null_literal
                                    fields: {}
                                    children: []
                                    pos: 4334
                                    length: 4
                                children: []
                                pos: 4320
                                length: 18
                            children: []
                            pos: 4308
                            length: 30
                        children: []
                        pos: 4307
                        length: 32
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: return_statement
                        fields:
                          text: return true;
                        children: []
                        pos: 4358
                        length: 12
                      pos: 4340
                      length: 44
                    pos: 4304
                    length: 80
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: or
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: wildcard
                                children: []
                                pos: 4401
                                length: 8
                              right:
                                type: method_invocation
                                fields:
                                  text: |-
                                    testName.getName()
                                                            .equals(DOMNodePointer.getLocalName(node))
                                children: []
                                pos: 4429
                                length: 85
                            children: []
                            pos: 4401
                            length: 113
                        children: []
                        pos: 4400
                        length: 115
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: local_variable_declaration
                        fields:
                          text: String nodeNS = DOMNodePointer.getNamespaceURI(node);
                        children: []
                        pos: 4534
                        length: 53
                      - type: return_statement
                        fields:
                          text: |-
                            return equalStrings(namespaceURI, nodeNS) || nodeNS == null
                                                    && equalStrings(testPrefix, getPrefix(node));
                        children: []
                        pos: 4604
                        length: 129
                      pos: 4516
                      length: 231
                    pos: 4397
                    length: 350
                  - type: return_statement
                    fields:
                      text: return false;
                    children: []
                    pos: 4760
                    length: 13
                  pos: 3890
                  length: 893
                pos: 3856
                length: 927
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: instanceof_expression
                        fields:
                          text: test instanceof NodeTypeTest
                        children: []
                        pos: 4796
                        length: 28
                    children: []
                    pos: 4795
                    length: 30
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: int nodeType = node.getNodeType();
                    children: []
                    pos: 4840
                    length: 34
                  - type: switch_expression
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: method_invocation
                            fields:
                              text: "((NodeTypeTest) test).getNodeType()"
                            children: []
                            pos: 4895
                            length: 35
                        children: []
                        pos: 4894
                        length: 37
                      body:
                        type: switch_block
                        fields:
                          text: |-
                            {
                                            case Compiler.NODE_TYPE_NODE :
                                                return true;
                                            case Compiler.NODE_TYPE_TEXT :
                                                return nodeType == Node.CDATA_SECTION_NODE
                                                    || nodeType == Node.TEXT_NODE;
                                            case Compiler.NODE_TYPE_COMMENT :
                                                return nodeType == Node.COMMENT_NODE;
                                            case Compiler.NODE_TYPE_PI :
                                                return nodeType == Node.PROCESSING_INSTRUCTION_NODE;
                                            default:
                                                return false;
                                        }
                        children: []
                        pos: 4932
                        length: 545
                    children: []
                    pos: 4887
                    length: 590
                  pos: 4826
                  length: 661
                pos: 4792
                length: 695
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: and
                        fields:
                          left:
                            type: instanceof_expression
                            fields:
                              text: test instanceof ProcessingInstructionTest
                            children: []
                            pos: 5500
                            length: 41
                          right:
                            type: equals
                            fields:
                              left:
                                type: method_invocation
                                fields:
                                  text: node.getNodeType()
                                children: []
                                pos: 5561
                                length: 18
                              right:
                                type: field_access
                                fields:
                                  text: Node.PROCESSING_INSTRUCTION_NODE
                                children: []
                                pos: 5583
                                length: 32
                            children: []
                            pos: 5561
                            length: 54
                        children: []
                        pos: 5500
                        length: 115
                    children: []
                    pos: 5499
                    length: 117
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: String testPI = ((ProcessingInstructionTest) test).getTarget();
                    children: []
                    pos: 5631
                    length: 63
                  - type: local_variable_declaration
                    fields:
                      text: String nodePI = ((ProcessingInstruction) node).getTarget();
                    children: []
                    pos: 5707
                    length: 59
                  - type: return_statement
                    fields:
                      text: return testPI.equals(nodePI);
                    children: []
                    pos: 5779
                    length: 29
                  pos: 5617
                  length: 201
                pos: 5496
                length: 322
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 5827
                length: 13
              pos: 3783
              length: 2063
          children: []
          pos: 3726
          length: 2120
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: equalStrings
              children: []
              pos: 6011
              length: 12
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String s1
                children: []
                pos: 6024
                length: 9
              pos: 5988
              length: 238
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: s1
                            children: []
                            pos: 6060
                            length: 2
                          right:
                            type: identifier
                            fields:
                              text: s2
                            children: []
                            pos: 6066
                            length: 2
                        children: []
                        pos: 6060
                        length: 8
                    children: []
                    pos: 6059
                    length: 10
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return true;
                    children: []
                    pos: 6084
                    length: 12
                  pos: 6070
                  length: 36
                pos: 6056
                length: 50
              - type: expression_statement
                fields:
                  text: 's1 = s1 == null ? "" : s1.trim();'
                children: []
                pos: 6115
                length: 33
              - type: expression_statement
                fields:
                  text: 's2 = s2 == null ? "" : s2.trim();'
                children: []
                pos: 6157
                length: 33
              - type: return_statement
                fields:
                  text: return s1.equals(s2);
                children: []
                pos: 6199
                length: 21
              pos: 6046
              length: 180
          children: []
          pos: 5988
          length: 238
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getName
              children: []
              pos: 6245
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 6232
              length: 439
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: String ln = null;
                children: []
                pos: 6265
                length: 17
              - type: local_variable_declaration
                fields:
                  text: String ns = null;
                children: []
                pos: 6291
                length: 17
              - type: local_variable_declaration
                fields:
                  text: int type = node.getNodeType();
                children: []
                pos: 6317
                length: 30
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: type
                            children: []
                            pos: 6360
                            length: 4
                          right:
                            type: field_access
                            fields:
                              text: Node.ELEMENT_NODE
                            children: []
                            pos: 6368
                            length: 17
                        children: []
                        pos: 6360
                        length: 25
                    children: []
                    pos: 6359
                    length: 27
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: ns = DOMNodePointer.getPrefix(node);
                    children: []
                    pos: 6401
                    length: 36
                  - type: expression_statement
                    fields:
                      text: ln = DOMNodePointer.getLocalName(node);
                    children: []
                    pos: 6450
                    length: 39
                  pos: 6387
                  length: 112
                pos: 6356
                length: 275
              - type: return_statement
                fields:
                  text: return new QName(ns, ln);
                children: []
                pos: 6640
                length: 25
              pos: 6255
              length: 416
          children: []
          pos: 6232
          length: 439
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getNamespaceURI
              children: []
              pos: 6691
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 6677
              length: 77
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getNamespaceURI(node);
                children: []
                pos: 6719
                length: 29
              pos: 6709
              length: 45
          children: []
          pos: 6677
          length: 77
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: childIterator
              children: []
              pos: 6780
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: NodeTest test
                children: []
                pos: 6794
                length: 13
              pos: 6760
              length: 176
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return new DOMNodeIterator(this, test, reverse, startWith);
                children: []
                pos: 6871
                length: 59
              pos: 6861
              length: 75
          children: []
          pos: 6760
          length: 176
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: attributeIterator
              children: []
              pos: 6962
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: QName name
                children: []
                pos: 6980
                length: 10
              pos: 6942
              length: 110
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return new DOMAttributeIterator(this, name);
                children: []
                pos: 7002
                length: 44
              pos: 6992
              length: 60
          children: []
          pos: 6942
          length: 110
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: namespacePointer
              children: []
              pos: 7077
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String prefix
                children: []
                pos: 7094
                length: 13
              pos: 7058
              length: 109
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return new NamespacePointer(this, prefix);
                children: []
                pos: 7119
                length: 42
              pos: 7109
              length: 58
          children: []
          pos: 7058
          length: 109
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: namespaceIterator
              children: []
              pos: 7193
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 7173
              length: 94
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return new DOMNamespaceIterator(this);
                children: []
                pos: 7223
                length: 38
              pos: 7213
              length: 54
          children: []
          pos: 7173
          length: 94
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getNamespaceResolver
              children: []
              pos: 7311
              length: 20
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 7273
              length: 322
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: localNamespaceResolver
                            children: []
                            pos: 7348
                            length: 22
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 7374
                            length: 4
                        children: []
                        pos: 7348
                        length: 30
                    children: []
                    pos: 7347
                    length: 32
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: localNamespaceResolver = new NamespaceResolver(super.getNamespaceResolver());
                    children: []
                    pos: 7394
                    length: 77
                  - type: expression_statement
                    fields:
                      text: localNamespaceResolver.setNamespaceContextPointer(this);
                    children: []
                    pos: 7484
                    length: 56
                  pos: 7380
                  length: 170
                pos: 7344
                length: 206
              - type: return_statement
                fields:
                  text: return localNamespaceResolver;
                children: []
                pos: 7559
                length: 30
              pos: 7334
              length: 261
          children: []
          pos: 7273
          length: 322
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getNamespaceURI
              children: []
              pos: 7615
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String prefix
                children: []
                pos: 7631
                length: 13
              pos: 7601
              length: 1538
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: prefix
                                children: []
                                pos: 7660
                                length: 6
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 7670
                                length: 4
                            children: []
                            pos: 7660
                            length: 14
                          right:
                            type: method_invocation
                            fields:
                              text: prefix.equals("")
                            children: []
                            pos: 7678
                            length: 17
                        children: []
                        pos: 7660
                        length: 35
                    children: []
                    pos: 7659
                    length: 37
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return getDefaultNamespaceURI();
                    children: []
                    pos: 7711
                    length: 32
                  pos: 7697
                  length: 56
                pos: 7656
                length: 97
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: prefix.equals("xml")
                        children: []
                        pos: 7767
                        length: 20
                    children: []
                    pos: 7766
                    length: 22
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return XML_NAMESPACE_URI;
                    children: []
                    pos: 7803
                    length: 25
                  pos: 7789
                  length: 49
                pos: 7763
                length: 75
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: prefix.equals("xmlns")
                        children: []
                        pos: 7852
                        length: 22
                    children: []
                    pos: 7851
                    length: 24
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return XMLNS_NAMESPACE_URI;
                    children: []
                    pos: 7890
                    length: 27
                  pos: 7876
                  length: 51
                pos: 7848
                length: 79
              - type: local_variable_declaration
                fields:
                  text: String namespace = null;
                children: []
                pos: 7937
                length: 24
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: namespaces
                            children: []
                            pos: 7974
                            length: 10
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 7988
                            length: 4
                        children: []
                        pos: 7974
                        length: 18
                    children: []
                    pos: 7973
                    length: 20
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: namespaces = new HashMap();
                    children: []
                    pos: 8008
                    length: 27
                  pos: 7994
                  length: 51
                pos: 7970
                length: 157
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: namespace
                            children: []
                            pos: 8141
                            length: 9
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 8154
                            length: 4
                        children: []
                        pos: 8141
                        length: 17
                    children: []
                    pos: 8140
                    length: 19
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: String qname = "xmlns:" + prefix;
                    children: []
                    pos: 8174
                    length: 33
                  - type: local_variable_declaration
                    fields:
                      text: Node aNode = node;
                    children: []
                    pos: 8220
                    length: 18
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: instanceof_expression
                            fields:
                              text: aNode instanceof Document
                            children: []
                            pos: 8255
                            length: 25
                        children: []
                        pos: 8254
                        length: 27
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: aNode = ((Document) aNode).getDocumentElement();
                        children: []
                        pos: 8300
                        length: 48
                      pos: 8282
                      length: 80
                    pos: 8251
                    length: 111
                  - type: while_statement
                    fields:
                      text: |-
                        while (aNode != null) {
                                        if (aNode.getNodeType() == Node.ELEMENT_NODE) {
                                            Attr attr = ((Element) aNode).getAttributeNode(qname);
                                            if (attr != null) {
                                                namespace = attr.getValue();
                                                break;
                                            }
                                        }
                                        aNode = aNode.getParentNode();
                                    }
                    children: []
                    pos: 8375
                    length: 387
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: or
                            fields:
                              left:
                                type: equals
                                fields:
                                  left:
                                    type: identifier
                                    fields:
                                      text: namespace
                                    children: []
                                    pos: 8779
                                    length: 9
                                  right:
                                    type: null_literal
                                    fields: {}
                                    children: []
                                    pos: 8792
                                    length: 4
                                children: []
                                pos: 8779
                                length: 17
                              right:
                                type: method_invocation
                                fields:
                                  text: namespace.equals("")
                                children: []
                                pos: 8800
                                length: 20
                            children: []
                            pos: 8779
                            length: 41
                        children: []
                        pos: 8778
                        length: 43
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: namespace = NodePointer.UNKNOWN_NAMESPACE;
                        children: []
                        pos: 8840
                        length: 42
                      pos: 8822
                      length: 74
                    pos: 8775
                    length: 121
                  pos: 8160
                  length: 746
                pos: 8137
                length: 769
              - type: expression_statement
                fields:
                  text: namespaces.put(prefix, namespace);
                children: []
                pos: 8916
                length: 34
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: namespace
                            children: []
                            pos: 8963
                            length: 9
                          right:
                            type: identifier
                            fields:
                              text: UNKNOWN_NAMESPACE
                            children: []
                            pos: 8976
                            length: 17
                        children: []
                        pos: 8963
                        length: 30
                    children: []
                    pos: 8962
                    length: 32
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return null;
                    children: []
                    pos: 9009
                    length: 12
                  pos: 8995
                  length: 36
                pos: 8959
                length: 72
              - type: return_statement
                fields:
                  text: return namespace;
                children: []
                pos: 9116
                length: 17
              pos: 7646
              length: 1493
          children: []
          pos: 7601
          length: 1538
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getDefaultNamespaceURI
              children: []
              pos: 9159
              length: 22
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 9145
              length: 890
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: defaultNamespace
                            children: []
                            pos: 9198
                            length: 16
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 9218
                            length: 4
                        children: []
                        pos: 9198
                        length: 24
                    children: []
                    pos: 9197
                    length: 26
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: Node aNode = node;
                    children: []
                    pos: 9238
                    length: 18
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: instanceof_expression
                            fields:
                              text: aNode instanceof Document
                            children: []
                            pos: 9273
                            length: 25
                        children: []
                        pos: 9272
                        length: 27
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: aNode = ((Document) aNode).getDocumentElement();
                        children: []
                        pos: 9318
                        length: 48
                      pos: 9300
                      length: 80
                    pos: 9269
                    length: 111
                  - type: while_statement
                    fields:
                      text: |-
                        while (aNode != null) {
                                        if (aNode.getNodeType() == Node.ELEMENT_NODE) {
                                            Attr attr = ((Element) aNode).getAttributeNode("xmlns");
                                            if (attr != null) {
                                                defaultNamespace = attr.getValue();
                                                break;
                                            }
                                        }
                                        aNode = aNode.getParentNode();
                                    }
                    children: []
                    pos: 9393
                    length: 396
                  pos: 9224
                  length: 575
                pos: 9194
                length: 605
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: defaultNamespace
                            children: []
                            pos: 9812
                            length: 16
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 9832
                            length: 4
                        children: []
                        pos: 9812
                        length: 24
                    children: []
                    pos: 9811
                    length: 26
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: defaultNamespace = "";
                    children: []
                    pos: 9852
                    length: 22
                  pos: 9838
                  length: 46
                pos: 9808
                length: 76
              - type: return_statement
                fields:
                  text: 'return defaultNamespace.equals("") ? null : defaultNamespace;'
                children: []
                pos: 9968
                length: 61
              pos: 9184
              length: 851
          children: []
          pos: 9145
          length: 890
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getBaseValue
              children: []
              pos: 10055
              length: 12
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 10041
              length: 57
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return node;
                children: []
                pos: 10080
                length: 12
              pos: 10070
              length: 28
          children: []
          pos: 10041
          length: 57
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getImmediateNode
              children: []
              pos: 10118
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 10104
              length: 61
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return node;
                children: []
                pos: 10147
                length: 12
              pos: 10137
              length: 28
          children: []
          pos: 10104
          length: 61
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isActual
              children: []
              pos: 10186
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 10171
              length: 54
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return true;
                children: []
                pos: 10207
                length: 12
              pos: 10197
              length: 28
          children: []
          pos: 10171
          length: 54
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isCollection
              children: []
              pos: 10246
              length: 12
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 10231
              length: 59
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 10271
                length: 13
              pos: 10261
              length: 29
          children: []
          pos: 10231
          length: 59
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getLength
              children: []
              pos: 10307
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 10296
              length: 48
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return 1;
                children: []
                pos: 10329
                length: 9
              pos: 10319
              length: 25
          children: []
          pos: 10296
          length: 48
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isLeaf
              children: []
              pos: 10365
              length: 6
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 10350
              length: 69
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return !node.hasChildNodes();
                children: []
                pos: 10384
                length: 29
              pos: 10374
              length: 45
          children: []
          pos: 10350
          length: 69
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isLanguage
              children: []
              pos: 10713
              length: 10
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String lang
                children: []
                pos: 10724
                length: 11
              pos: 10698
              length: 242
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: String current = getLanguage();
                children: []
                pos: 10747
                length: 31
              - type: return_statement
                fields:
                  text: |-
                    return current == null ? super.isLanguage(lang)
                                    : current.toUpperCase(Locale.ENGLISH).startsWith(lang.toUpperCase(Locale.ENGLISH));
                children: []
                pos: 10787
                length: 147
              pos: 10737
              length: 203
          children: []
          pos: 10698
          length: 242
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: findEnclosingAttribute
              children: []
              pos: 11194
              length: 22
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Node n
                children: []
                pos: 11217
                length: 6
              pos: 11170
              length: 447
            body:
              type: block
              fields: {}
              children:
              - type: while_statement
                fields:
                  text: |-
                    while (n != null) {
                                if (n.getNodeType() == Node.ELEMENT_NODE) {
                                    Element e = (Element) n;
                                    String attr = e.getAttribute(attrName);
                                    if (attr != null && !attr.equals("")) {
                                        return attr;
                                    }
                                }
                                n = n.getParentNode();
                            }
                children: []
                pos: 11252
                length: 338
              - type: return_statement
                fields:
                  text: return null;
                children: []
                pos: 11599
                length: 12
              pos: 11242
              length: 375
          children: []
          pos: 11170
          length: 447
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getLanguage
              children: []
              pos: 11741
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 11724
              length: 95
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return findEnclosingAttribute(node, "xml:lang");
                children: []
                pos: 11765
                length: 48
              pos: 11755
              length: 64
          children: []
          pos: 11724
          length: 95
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setValue
              children: []
              pos: 12154
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Object value
                children: []
                pos: 12163
                length: 12
              pos: 12142
              length: 1665
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: equals
                            fields:
                              left:
                                type: method_invocation
                                fields:
                                  text: node.getNodeType()
                                children: []
                                pos: 12191
                                length: 18
                              right:
                                type: field_access
                                fields:
                                  text: Node.TEXT_NODE
                                children: []
                                pos: 12213
                                length: 14
                            children: []
                            pos: 12191
                            length: 36
                          right:
                            type: equals
                            fields:
                              left:
                                type: method_invocation
                                fields:
                                  text: node.getNodeType()
                                children: []
                                pos: 12243
                                length: 18
                              right:
                                type: field_access
                                fields:
                                  text: Node.CDATA_SECTION_NODE
                                children: []
                                pos: 12265
                                length: 23
                            children: []
                            pos: 12243
                            length: 45
                        children: []
                        pos: 12191
                        length: 97
                    children: []
                    pos: 12190
                    length: 99
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: String string = (String) TypeUtils.convert(value, String.class);
                    children: []
                    pos: 12304
                    length: 64
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: and
                            fields:
                              left:
                                type: not_equals
                                fields:
                                  left:
                                    type: identifier
                                    fields:
                                      text: string
                                    children: []
                                    pos: 12385
                                    length: 6
                                  right:
                                    type: null_literal
                                    fields: {}
                                    children: []
                                    pos: 12395
                                    length: 4
                                children: []
                                pos: 12385
                                length: 14
                              right:
                                type: unary_expression
                                fields:
                                  text: '!string.equals("")'
                                children: []
                                pos: 12403
                                length: 18
                            children: []
                            pos: 12385
                            length: 36
                        children: []
                        pos: 12384
                        length: 38
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: node.setNodeValue(string);
                        children: []
                        pos: 12441
                        length: 26
                      pos: 12423
                      length: 58
                    pos: 12381
                    length: 189
                  pos: 12290
                  length: 290
                pos: 12187
                length: 1614
              pos: 12177
              length: 1630
          children: []
          pos: 12142
          length: 1665
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: createChild
              children: []
              pos: 13832
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JXPathContext context
                children: []
                pos: 13844
                length: 21
              pos: 13813
              length: 1026
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: index
                            children: []
                            pos: 13904
                            length: 5
                          right:
                            type: identifier
                            fields:
                              text: WHOLE_COLLECTION
                            children: []
                            pos: 13913
                            length: 16
                        children: []
                        pos: 13904
                        length: 25
                    children: []
                    pos: 13903
                    length: 27
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: index = 0;
                    children: []
                    pos: 13945
                    length: 10
                  pos: 13931
                  length: 34
                pos: 13900
                length: 65
              - type: local_variable_declaration
                fields:
                  text: |-
                    boolean success =
                                getAbstractFactory(context).createObject(
                                    context,
                                    this,
                                    node,
                                    name.toString(),
                                    index);
                children: []
                pos: 13974
                length: 197
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: identifier
                        fields:
                          text: success
                        children: []
                        pos: 14184
                        length: 7
                    children: []
                    pos: 14183
                    length: 9
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: NodeTest nodeTest;
                    children: []
                    pos: 14207
                    length: 18
                  - type: local_variable_declaration
                    fields:
                      text: String prefix = name.getPrefix();
                    children: []
                    pos: 14238
                    length: 33
                  - type: local_variable_declaration
                    fields:
                      text: |-
                        String namespaceURI = prefix == null ? null : context
                                            .getNamespaceURI(prefix);
                    children: []
                    pos: 14284
                    length: 99
                  - type: expression_statement
                    fields:
                      text: nodeTest = new NodeNameTest(name, namespaceURI);
                    children: []
                    pos: 14396
                    length: 48
                  - type: local_variable_declaration
                    fields:
                      text: NodeIterator it = childIterator(nodeTest, false, null);
                    children: []
                    pos: 14458
                    length: 55
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: and
                            fields:
                              left:
                                type: not_equals
                                fields:
                                  left:
                                    type: identifier
                                    fields:
                                      text: it
                                    children: []
                                    pos: 14530
                                    length: 2
                                  right:
                                    type: null_literal
                                    fields: {}
                                    children: []
                                    pos: 14536
                                    length: 4
                                children: []
                                pos: 14530
                                length: 10
                              right:
                                type: method_invocation
                                fields:
                                  text: it.setPosition(index + 1)
                                children: []
                                pos: 14544
                                length: 25
                            children: []
                            pos: 14530
                            length: 39
                        children: []
                        pos: 14529
                        length: 41
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: return_statement
                        fields:
                          text: return it.getNodePointer();
                        children: []
                        pos: 14589
                        length: 27
                      pos: 14571
                      length: 59
                    pos: 14526
                    length: 104
                  pos: 14193
                  length: 447
                pos: 14180
                length: 460
              - type: throw_statement
                fields:
                  text: |-
                    throw new JXPathAbstractFactoryException(
                                    "Factory could not create a child node for path: " + asPath()
                                            + "/" + name + "[" + (index + 1) + "]");
                children: []
                pos: 14649
                length: 184
              pos: 13890
              length: 949
          children: []
          pos: 13813
          length: 1026
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: createChild
              children: []
              pos: 14864
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JXPathContext context
                children: []
                pos: 14876
                length: 21
              pos: 14845
              length: 220
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: NodePointer ptr = createChild(context, name, index);
                children: []
                pos: 14958
                length: 52
              - type: expression_statement
                fields:
                  text: ptr.setValue(value);
                children: []
                pos: 15019
                length: 20
              - type: return_statement
                fields:
                  text: return ptr;
                children: []
                pos: 15048
                length: 11
              pos: 14948
              length: 117
          children: []
          pos: 14845
          length: 220
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: createAttribute
              children: []
              pos: 15090
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JXPathContext context
                children: []
                pos: 15106
                length: 21
              pos: 15071
              length: 971
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: unary_expression
                        fields:
                          text: "!(node instanceof Element)"
                        children: []
                        pos: 15155
                        length: 26
                    children: []
                    pos: 15154
                    length: 28
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return super.createAttribute(context, name);
                    children: []
                    pos: 15197
                    length: 44
                  pos: 15183
                  length: 68
                pos: 15151
                length: 100
              - type: local_variable_declaration
                fields:
                  text: Element element = (Element) node;
                children: []
                pos: 15260
                length: 33
              - type: local_variable_declaration
                fields:
                  text: String prefix = name.getPrefix();
                children: []
                pos: 15302
                length: 33
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: prefix
                            children: []
                            pos: 15348
                            length: 6
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 15358
                            length: 4
                        children: []
                        pos: 15348
                        length: 14
                    children: []
                    pos: 15347
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: String ns = null;
                    children: []
                    pos: 15378
                    length: 17
                  - type: local_variable_declaration
                    fields:
                      text: NamespaceResolver nsr = getNamespaceResolver();
                    children: []
                    pos: 15408
                    length: 47
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: not_equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: nsr
                                children: []
                                pos: 15472
                                length: 3
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 15479
                                length: 4
                            children: []
                            pos: 15472
                            length: 11
                        children: []
                        pos: 15471
                        length: 13
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: ns = nsr.getNamespaceURI(prefix);
                        children: []
                        pos: 15503
                        length: 33
                      pos: 15485
                      length: 65
                    pos: 15468
                    length: 82
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: ns
                                children: []
                                pos: 15567
                                length: 2
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 15573
                                length: 4
                            children: []
                            pos: 15567
                            length: 10
                        children: []
                        pos: 15566
                        length: 12
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: throw_statement
                        fields:
                          text: |-
                            throw new JXPathException(
                                                "Unknown namespace prefix: " + prefix);
                        children: []
                        pos: 15597
                        length: 86
                      pos: 15579
                      length: 118
                    pos: 15563
                    length: 134
                  - type: expression_statement
                    fields:
                      text: element.setAttributeNS(ns, name.toString(), "");
                    children: []
                    pos: 15710
                    length: 48
                  pos: 15364
                  length: 404
                pos: 15344
                length: 578
              - type: local_variable_declaration
                fields:
                  text: NodeIterator it = attributeIterator(name);
                children: []
                pos: 15931
                length: 42
              - type: expression_statement
                fields:
                  text: it.setPosition(1);
                children: []
                pos: 15982
                length: 18
              - type: return_statement
                fields:
                  text: return it.getNodePointer();
                children: []
                pos: 16009
                length: 27
              pos: 15141
              length: 901
          children: []
          pos: 15071
          length: 971
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: remove
              children: []
              pos: 16060
              length: 6
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 16048
              length: 216
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: Node parent = node.getParentNode();
                children: []
                pos: 16079
                length: 35
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: parent
                            children: []
                            pos: 16127
                            length: 6
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 16137
                            length: 4
                        children: []
                        pos: 16127
                        length: 14
                    children: []
                    pos: 16126
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: throw new JXPathException("Cannot remove root DOM node");
                    children: []
                    pos: 16157
                    length: 57
                  pos: 16143
                  length: 81
                pos: 16123
                length: 101
              - type: expression_statement
                fields:
                  text: parent.removeChild(node);
                children: []
                pos: 16233
                length: 25
              pos: 16069
              length: 195
          children: []
          pos: 16048
          length: 216
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: asPath
              children: []
              pos: 16284
              length: 6
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 16270
              length: 2702
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: id
                            children: []
                            pos: 16307
                            length: 2
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 16313
                            length: 4
                        children: []
                        pos: 16307
                        length: 10
                    children: []
                    pos: 16306
                    length: 12
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return "id('" + escape(id) + "')";
                    children: []
                    pos: 16333
                    length: 34
                  pos: 16319
                  length: 58
                pos: 16303
                length: 74
              - type: local_variable_declaration
                fields:
                  text: StringBuffer buffer = new StringBuffer();
                children: []
                pos: 16387
                length: 41
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: parent
                            children: []
                            pos: 16441
                            length: 6
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 16451
                            length: 4
                        children: []
                        pos: 16441
                        length: 14
                    children: []
                    pos: 16440
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: buffer.append(parent.asPath());
                    children: []
                    pos: 16471
                    length: 31
                  pos: 16457
                  length: 55
                pos: 16437
                length: 75
              - type: switch_expression
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: node.getNodeType()
                        children: []
                        pos: 16529
                        length: 18
                    children: []
                    pos: 16528
                    length: 20
                  body:
                    type: switch_block
                    fields:
                      text: |-
                        {
                                    case Node.ELEMENT_NODE :
                                        // If the parent pointer is not a DOMNodePointer, it is
                                        // the parent's responsibility to produce the node test part
                                        // of the path
                                        if (parent instanceof DOMNodePointer) {
                                            if (buffer.length() == 0
                                                    || buffer.charAt(buffer.length() - 1) != '/') {
                                                buffer.append('/');
                                            }
                                            String ln = DOMNodePointer.getLocalName(node);
                                            String nsURI = getNamespaceURI();
                                            if (nsURI == null) {
                                                buffer.append(ln);
                                                buffer.append('[');
                                                buffer.append(getRelativePositionByQName()).append(']');
                                            }
                                            else {
                                                String prefix = getNamespaceResolver().getPrefix(nsURI);
                                                if (prefix != null) {
                                                    buffer.append(prefix);
                                                    buffer.append(':');
                                                    buffer.append(ln);
                                                    buffer.append('[');
                                                    buffer.append(getRelativePositionByQName());
                                                    buffer.append(']');
                                                }
                                                else {
                                                    buffer.append("node()");
                                                    buffer.append('[');
                                                    buffer.append(getRelativePositionOfElement());
                                                    buffer.append(']');
                                                }
                                            }
                                        }
                                    break;
                                    case Node.TEXT_NODE :
                                    case Node.CDATA_SECTION_NODE :
                                        buffer.append("/text()");
                                        buffer.append('[');
                                        buffer.append(getRelativePositionOfTextNode()).append(']');
                                        break;
                                    case Node.PROCESSING_INSTRUCTION_NODE :
                                        buffer.append("/processing-instruction(\'");
                                        buffer.append(((ProcessingInstruction) node).getTarget()).append("')");
                                        buffer.append('[');
                                        buffer.append(getRelativePositionOfPI()).append(']');
                                        break;
                                    case Node.DOCUMENT_NODE :
                                        // That'll be empty
                                        break;
                                    default:
                                        break;
                                }
                    children: []
                    pos: 16549
                    length: 2383
                children: []
                pos: 16521
                length: 2411
              - type: return_statement
                fields:
                  text: return buffer.toString();
                children: []
                pos: 18941
                length: 25
              pos: 16293
              length: 2679
          children: []
          pos: 16270
          length: 2702
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getRelativePositionByQName
              children: []
              pos: 19090
              length: 26
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 19078
              length: 329
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: int count = 1;
                children: []
                pos: 19129
                length: 14
              - type: local_variable_declaration
                fields:
                  text: Node n = node.getPreviousSibling();
                children: []
                pos: 19152
                length: 35
              - type: while_statement
                fields:
                  text: |-
                    while (n != null) {
                                if (n.getNodeType() == Node.ELEMENT_NODE && matchesQName(n)) {
                                    count++;
                                }
                                n = n.getPreviousSibling();
                            }
                children: []
                pos: 19196
                length: 183
              - type: return_statement
                fields:
                  text: return count;
                children: []
                pos: 19388
                length: 13
              pos: 19119
              length: 288
          children: []
          pos: 19078
          length: 329
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: matchesQName
              children: []
              pos: 19429
              length: 12
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Node n
                children: []
                pos: 19442
                length: 6
              pos: 19413
              length: 308
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: method_invocation
                            fields:
                              text: getNamespaceURI()
                            children: []
                            pos: 19464
                            length: 17
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 19485
                            length: 4
                        children: []
                        pos: 19464
                        length: 25
                    children: []
                    pos: 19463
                    length: 27
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: |-
                        return equalStrings(getNamespaceURI(n), getNamespaceURI())
                                            && equalStrings(node.getLocalName(), n.getLocalName());
                    children: []
                    pos: 19505
                    length: 134
                  pos: 19491
                  length: 158
                pos: 19460
                length: 189
              - type: return_statement
                fields:
                  text: return equalStrings(node.getNodeName(), n.getNodeName());
                children: []
                pos: 19658
                length: 57
              pos: 19450
              length: 271
          children: []
          pos: 19413
          length: 308
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getRelativePositionOfElement
              children: []
              pos: 19832
              length: 28
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 19820
              length: 312
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: int count = 1;
                children: []
                pos: 19873
                length: 14
              - type: local_variable_declaration
                fields:
                  text: Node n = node.getPreviousSibling();
                children: []
                pos: 19896
                length: 35
              - type: while_statement
                fields:
                  text: |-
                    while (n != null) {
                                if (n.getNodeType() == Node.ELEMENT_NODE) {
                                    count++;
                                }
                                n = n.getPreviousSibling();
                            }
                children: []
                pos: 19940
                length: 164
              - type: return_statement
                fields:
                  text: return count;
                children: []
                pos: 20113
                length: 13
              pos: 19863
              length: 269
          children: []
          pos: 19820
          length: 312
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getRelativePositionOfTextNode
              children: []
              pos: 20253
              length: 29
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 20241
              length: 372
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: int count = 1;
                children: []
                pos: 20295
                length: 14
              - type: local_variable_declaration
                fields:
                  text: Node n = node.getPreviousSibling();
                children: []
                pos: 20318
                length: 35
              - type: while_statement
                fields:
                  text: |-
                    while (n != null) {
                                if (n.getNodeType() == Node.TEXT_NODE
                                    || n.getNodeType() == Node.CDATA_SECTION_NODE) {
                                    count++;
                                }
                                n = n.getPreviousSibling();
                            }
                children: []
                pos: 20362
                length: 223
              - type: return_statement
                fields:
                  text: return count;
                children: []
                pos: 20594
                length: 13
              pos: 20285
              length: 328
          children: []
          pos: 20241
          length: 372
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getRelativePositionOfPI
              children: []
              pos: 20759
              length: 23
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 20747
              length: 464
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: int count = 1;
                children: []
                pos: 20795
                length: 14
              - type: local_variable_declaration
                fields:
                  text: String target = ((ProcessingInstruction) node).getTarget();
                children: []
                pos: 20818
                length: 59
              - type: local_variable_declaration
                fields:
                  text: Node n = node.getPreviousSibling();
                children: []
                pos: 20886
                length: 35
              - type: while_statement
                fields:
                  text: |-
                    while (n != null) {
                                if (n.getNodeType() == Node.PROCESSING_INSTRUCTION_NODE
                                    && ((ProcessingInstruction) n).getTarget().equals(target)) {
                                    count++;
                                }
                                n = n.getPreviousSibling();
                            }
                children: []
                pos: 20930
                length: 253
              - type: return_statement
                fields:
                  text: return count;
                children: []
                pos: 21192
                length: 13
              pos: 20785
              length: 426
          children: []
          pos: 20747
          length: 464
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: hashCode
              children: []
              pos: 21228
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 21217
              length: 61
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return node.hashCode();
                children: []
                pos: 21249
                length: 23
              pos: 21239
              length: 39
          children: []
          pos: 21217
          length: 61
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: equals
              children: []
              pos: 21299
              length: 6
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Object object
                children: []
                pos: 21306
                length: 13
              pos: 21284
              length: 153
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return object == this || object instanceof DOMNodePointer
                    && node == ((DOMNodePointer) object).node;
                children: []
                pos: 21331
                length: 100
              pos: 21321
              length: 116
          children: []
          pos: 21284
          length: 153
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getPrefix
              children: []
              pos: 21597
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Node node
                children: []
                pos: 21607
                length: 9
              pos: 21576
              length: 304
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: String prefix = node.getPrefix();
                children: []
                pos: 21628
                length: 33
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: prefix
                            children: []
                            pos: 21674
                            length: 6
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 21684
                            length: 4
                        children: []
                        pos: 21674
                        length: 14
                    children: []
                    pos: 21673
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return prefix;
                    children: []
                    pos: 21704
                    length: 14
                  pos: 21690
                  length: 38
                pos: 21670
                length: 58
              - type: local_variable_declaration
                fields:
                  text: String name = node.getNodeName();
                children: []
                pos: 21738
                length: 33
              - type: local_variable_declaration
                fields:
                  text: int index = name.lastIndexOf(':');
                children: []
                pos: 21780
                length: 34
              - type: return_statement
                fields:
                  text: 'return index < 0 ? null : name.substring(0, index);'
                children: []
                pos: 21823
                length: 51
              pos: 21618
              length: 262
          children: []
          pos: 21576
          length: 304
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getLocalName
              children: []
              pos: 22038
              length: 12
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Node node
                children: []
                pos: 22051
                length: 9
              pos: 22017
              length: 320
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: String localName = node.getLocalName();
                children: []
                pos: 22072
                length: 39
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: localName
                            children: []
                            pos: 22124
                            length: 9
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 22137
                            length: 4
                        children: []
                        pos: 22124
                        length: 17
                    children: []
                    pos: 22123
                    length: 19
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return localName;
                    children: []
                    pos: 22157
                    length: 17
                  pos: 22143
                  length: 41
                pos: 22120
                length: 64
              - type: local_variable_declaration
                fields:
                  text: String name = node.getNodeName();
                children: []
                pos: 22194
                length: 33
              - type: local_variable_declaration
                fields:
                  text: int index = name.lastIndexOf(':');
                children: []
                pos: 22236
                length: 34
              - type: return_statement
                fields:
                  text: 'return index < 0 ? name : name.substring(index + 1);'
                children: []
                pos: 22279
                length: 52
              pos: 22062
              length: 275
          children: []
          pos: 22017
          length: 320
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getNamespaceURI
              children: []
              pos: 22487
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Node node
                children: []
                pos: 22503
                length: 9
              pos: 22466
              length: 856
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: instanceof_expression
                        fields:
                          text: node instanceof Document
                        children: []
                        pos: 22528
                        length: 24
                    children: []
                    pos: 22527
                    length: 26
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: node = ((Document) node).getDocumentElement();
                    children: []
                    pos: 22568
                    length: 46
                  pos: 22554
                  length: 70
                pos: 22524
                length: 100
              - type: local_variable_declaration
                fields:
                  text: Element element = (Element) node;
                children: []
                pos: 22634
                length: 33
              - type: local_variable_declaration
                fields:
                  text: String uri = element.getNamespaceURI();
                children: []
                pos: 22677
                length: 39
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: uri
                            children: []
                            pos: 22729
                            length: 3
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 22736
                            length: 4
                        children: []
                        pos: 22729
                        length: 11
                    children: []
                    pos: 22728
                    length: 13
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: String prefix = getPrefix(node);
                    children: []
                    pos: 22756
                    length: 32
                  - type: local_variable_declaration
                    fields:
                      text: 'String qname = prefix == null ? "xmlns" : "xmlns:" +
                        prefix;'
                    children: []
                    pos: 22801
                    length: 60
                  - type: local_variable_declaration
                    fields:
                      text: Node aNode = node;
                    children: []
                    pos: 22879
                    length: 18
                  - type: while_statement
                    fields:
                      text: |-
                        while (aNode != null) {
                                        if (aNode.getNodeType() == Node.ELEMENT_NODE) {
                                            Attr attr = ((Element) aNode).getAttributeNode(qname);
                                            if (attr != null) {
                                                return attr.getValue();
                                            }
                                        }
                                        aNode = aNode.getParentNode();
                                    }
                    children: []
                    pos: 22910
                    length: 351
                  - type: return_statement
                    fields:
                      text: return null;
                    children: []
                    pos: 23274
                    length: 12
                  pos: 22742
                  length: 554
                pos: 22725
                length: 571
              - type: return_statement
                fields:
                  text: return uri;
                children: []
                pos: 23305
                length: 11
              pos: 22514
              length: 808
          children: []
          pos: 22466
          length: 856
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getValue
              children: []
              pos: 23342
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 23328
              length: 237
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: method_invocation
                            fields:
                              text: node.getNodeType()
                            children: []
                            pos: 23367
                            length: 18
                          right:
                            type: field_access
                            fields:
                              text: Node.COMMENT_NODE
                            children: []
                            pos: 23389
                            length: 17
                        children: []
                        pos: 23367
                        length: 39
                    children: []
                    pos: 23366
                    length: 41
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: String text = ((Comment) node).getData();
                    children: []
                    pos: 23422
                    length: 41
                  - type: return_statement
                    fields:
                      text: 'return text == null ? "" : text.trim();'
                    children: []
                    pos: 23476
                    length: 39
                  pos: 23408
                  length: 117
                pos: 23363
                length: 162
              - type: return_statement
                fields:
                  text: return stringValue(node);
                children: []
                pos: 23534
                length: 25
              pos: 23353
              length: 212
          children: []
          pos: 23328
          length: 237
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: stringValue
              children: []
              pos: 23708
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Node node
                children: []
                pos: 23720
                length: 9
              pos: 23693
              length: 930
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: int nodeType = node.getNodeType();
                children: []
                pos: 23741
                length: 34
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: nodeType
                            children: []
                            pos: 23788
                            length: 8
                          right:
                            type: field_access
                            fields:
                              text: Node.COMMENT_NODE
                            children: []
                            pos: 23800
                            length: 17
                        children: []
                        pos: 23788
                        length: 29
                    children: []
                    pos: 23787
                    length: 31
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return "";
                    children: []
                    pos: 23833
                    length: 10
                  pos: 23819
                  length: 34
                pos: 23784
                length: 69
              - type: local_variable_declaration
                fields:
                  text: boolean trim = !"preserve".equals(findEnclosingAttribute(node,
                    "xml:space"));
                children: []
                pos: 23862
                length: 77
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: nodeType
                                children: []
                                pos: 23952
                                length: 8
                              right:
                                type: field_access
                                fields:
                                  text: Node.TEXT_NODE
                                children: []
                                pos: 23964
                                length: 14
                            children: []
                            pos: 23952
                            length: 26
                          right:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: nodeType
                                children: []
                                pos: 23982
                                length: 8
                              right:
                                type: field_access
                                fields:
                                  text: Node.CDATA_SECTION_NODE
                                children: []
                                pos: 23994
                                length: 23
                            children: []
                            pos: 23982
                            length: 35
                        children: []
                        pos: 23952
                        length: 65
                    children: []
                    pos: 23951
                    length: 67
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: String text = node.getNodeValue();
                    children: []
                    pos: 24033
                    length: 34
                  - type: return_statement
                    fields:
                      text: 'return text == null ? "" : trim ? text.trim() : text;'
                    children: []
                    pos: 24080
                    length: 53
                  pos: 24019
                  length: 124
                pos: 23948
                length: 195
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: nodeType
                            children: []
                            pos: 24156
                            length: 8
                          right:
                            type: field_access
                            fields:
                              text: Node.PROCESSING_INSTRUCTION_NODE
                            children: []
                            pos: 24168
                            length: 32
                        children: []
                        pos: 24156
                        length: 44
                    children: []
                    pos: 24155
                    length: 46
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: String text = ((ProcessingInstruction) node).getData();
                    children: []
                    pos: 24216
                    length: 55
                  - type: return_statement
                    fields:
                      text: 'return text == null ? "" : trim ? text.trim() : text;'
                    children: []
                    pos: 24284
                    length: 53
                  pos: 24202
                  length: 145
                pos: 24152
                length: 195
              - type: local_variable_declaration
                fields:
                  text: NodeList list = node.getChildNodes();
                children: []
                pos: 24356
                length: 37
              - type: local_variable_declaration
                fields:
                  text: StringBuffer buf = new StringBuffer();
                children: []
                pos: 24402
                length: 38
              - type: for_statement
                fields:
                  text: |-
                    for (int i = 0; i < list.getLength(); i++) {
                                Node child = list.item(i);
                                buf.append(stringValue(child));
                            }
                children: []
                pos: 24449
                length: 137
              - type: return_statement
                fields:
                  text: return buf.toString();
                children: []
                pos: 24595
                length: 22
              pos: 23731
              length: 892
          children: []
          pos: 23693
          length: 930
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getPointerByID
              children: []
              pos: 24776
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JXPathContext context
                children: []
                pos: 24791
                length: 21
              pos: 24761
              length: 396
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: |-
                    Document document = node.getNodeType() == Node.DOCUMENT_NODE ? (Document) node
                                    : node.getOwnerDocument();
                children: []
                pos: 24835
                length: 121
              - type: local_variable_declaration
                fields:
                  text: Element element = document.getElementById(id);
                children: []
                pos: 24965
                length: 46
              - type: return_statement
                fields:
                  text: |-
                    return element == null ? (Pointer) new NullPointer(getLocale(), id)
                                    : new DOMNodePointer(element, getLocale(), id);
                children: []
                pos: 25020
                length: 131
              pos: 24825
              length: 332
          children: []
          pos: 24761
          length: 396
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: compareChildNodePointers
              children: []
              pos: 25174
              length: 24
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: NodePointer pointer1
                children: []
                pos: 25199
                length: 20
              pos: 25163
              length: 1354
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: Node node1 = (Node) pointer1.getBaseValue();
                children: []
                pos: 25265
                length: 44
              - type: local_variable_declaration
                fields:
                  text: Node node2 = (Node) pointer2.getBaseValue();
                children: []
                pos: 25318
                length: 44
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: node1
                            children: []
                            pos: 25375
                            length: 5
                          right:
                            type: identifier
                            fields:
                              text: node2
                            children: []
                            pos: 25384
                            length: 5
                        children: []
                        pos: 25375
                        length: 14
                    children: []
                    pos: 25374
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return 0;
                    children: []
                    pos: 25405
                    length: 9
                  pos: 25391
                  length: 33
                pos: 25371
                length: 53
              - type: local_variable_declaration
                fields:
                  text: int t1 = node1.getNodeType();
                children: []
                pos: 25434
                length: 29
              - type: local_variable_declaration
                fields:
                  text: int t2 = node2.getNodeType();
                children: []
                pos: 25472
                length: 29
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: and
                        fields:
                          left:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: t1
                                children: []
                                pos: 25514
                                length: 2
                              right:
                                type: field_access
                                fields:
                                  text: Node.ATTRIBUTE_NODE
                                children: []
                                pos: 25520
                                length: 19
                            children: []
                            pos: 25514
                            length: 25
                          right:
                            type: not_equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: t2
                                children: []
                                pos: 25543
                                length: 2
                              right:
                                type: field_access
                                fields:
                                  text: Node.ATTRIBUTE_NODE
                                children: []
                                pos: 25549
                                length: 19
                            children: []
                            pos: 25543
                            length: 25
                        children: []
                        pos: 25514
                        length: 54
                    children: []
                    pos: 25513
                    length: 56
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return -1;
                    children: []
                    pos: 25584
                    length: 10
                  pos: 25570
                  length: 34
                pos: 25510
                length: 94
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: and
                        fields:
                          left:
                            type: not_equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: t1
                                children: []
                                pos: 25617
                                length: 2
                              right:
                                type: field_access
                                fields:
                                  text: Node.ATTRIBUTE_NODE
                                children: []
                                pos: 25623
                                length: 19
                            children: []
                            pos: 25617
                            length: 25
                          right:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: t2
                                children: []
                                pos: 25646
                                length: 2
                              right:
                                type: field_access
                                fields:
                                  text: Node.ATTRIBUTE_NODE
                                children: []
                                pos: 25652
                                length: 19
                            children: []
                            pos: 25646
                            length: 25
                        children: []
                        pos: 25617
                        length: 54
                    children: []
                    pos: 25616
                    length: 56
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return 1;
                    children: []
                    pos: 25687
                    length: 9
                  pos: 25673
                  length: 33
                pos: 25613
                length: 93
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: and
                        fields:
                          left:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: t1
                                children: []
                                pos: 25719
                                length: 2
                              right:
                                type: field_access
                                fields:
                                  text: Node.ATTRIBUTE_NODE
                                children: []
                                pos: 25725
                                length: 19
                            children: []
                            pos: 25719
                            length: 25
                          right:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: t2
                                children: []
                                pos: 25748
                                length: 2
                              right:
                                type: field_access
                                fields:
                                  text: Node.ATTRIBUTE_NODE
                                children: []
                                pos: 25754
                                length: 19
                            children: []
                            pos: 25748
                            length: 25
                        children: []
                        pos: 25719
                        length: 54
                    children: []
                    pos: 25718
                    length: 56
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: NamedNodeMap map = ((Node) getNode()).getAttributes();
                    children: []
                    pos: 25789
                    length: 54
                  - type: local_variable_declaration
                    fields:
                      text: int length = map.getLength();
                    children: []
                    pos: 25856
                    length: 29
                  - type: for_statement
                    fields:
                      text: |-
                        for (int i = 0; i < length; i++) {
                                        Node n = map.item(i);
                                        if (n == node1) {
                                            return -1;
                                        }
                                        if (n == node2) {
                                            return 1;
                                        }
                                    }
                    children: []
                    pos: 25898
                    length: 251
                  - type: return_statement
                    fields:
                      text: return 0;
                    children: []
                    pos: 26162
                    length: 9
                  pos: 25775
                  length: 427
                pos: 25715
                length: 487
              - type: local_variable_declaration
                fields:
                  text: Node current = node.getFirstChild();
                children: []
                pos: 26212
                length: 36
              - type: while_statement
                fields:
                  text: |-
                    while (current != null) {
                                if (current == node1) {
                                    return -1;
                                }
                                if (current == node2) {
                                    return 1;
                                }
                                current = current.getNextSibling();
                            }
                children: []
                pos: 26257
                length: 236
              - type: return_statement
                fields:
                  text: return 0;
                children: []
                pos: 26502
                length: 9
              pos: 25255
              length: 1262
          children: []
          pos: 25163
          length: 1354
        pos: 2212
        length: 24307
    children: []
    pos: 2212
    length: 24307
  pos: 0
  length: 26520
text_diff: "--- before\n+++ after\n@@ -686,14 +686,14 @@\n                 if (aNode.getNodeType()
  == Node.ELEMENT_NODE) {\n                     Attr attr = ((Element) aNode).getAttributeNode(qname);\n
  \                    if (attr != null) {\n-                        uri = attr.getValue();\n-
  \                       break;\n+                        return attr.getValue();\n
  \                    }\n                 }\n                 aNode = aNode.getParentNode();\n
  \            }\n+            return null;\n         }\n-        return \"\".equals(uri)
  ? null : uri;\n+        return uri;\n     }\n \n     public Object getValue() {\n"
tree_diff: |+
  New cluster:
  UPDATE from return "".equals(uri) ? null : uri; to return uri;
  ------------
  ===
  update-node
  ---
  return_statement: return "".equals(uri) ? null : uri; [23310,23345]
  replace return "".equals(uri) ? null : uri; by return uri;

  New cluster:
  UPDATE from while (aNode != null) {
                  if (aNode.getNodeType() == Node.ELEMENT_NODE) {
                      Attr attr = ((Element) aNode).getAttributeNode(qname);
                      if (attr != null) {
                          uri = attr.getValue();
                          break;
                      }
                  }
                  aNode = aNode.getParentNode();
              } to while (aNode != null) {
                  if (aNode.getNodeType() == Node.ELEMENT_NODE) {
                      Attr attr = ((Element) aNode).getAttributeNode(qname);
                      if (attr != null) {
                          return attr.getValue();
                      }
                  }
                  aNode = aNode.getParentNode();
              }
  ------------
  ===
  update-node
  ---
  while_statement: while (aNode != null) {
                  if (aNode.getNodeType() == Node.ELEMENT_NODE) {
                      Attr attr = ((Element) aNode).getAttributeNode(qname);
                      if (attr != null) {
                          uri = attr.getValue();
                          break;
                      }
                  }
                  aNode = aNode.getParentNode();
              } [22910,23291]
  replace while (aNode != null) {
                  if (aNode.getNodeType() == Node.ELEMENT_NODE) {
                      Attr attr = ((Element) aNode).getAttributeNode(qname);
                      if (attr != null) {
                          uri = attr.getValue();
                          break;
                      }
                  }
                  aNode = aNode.getParentNode();
              } by while (aNode != null) {
                  if (aNode.getNodeType() == Node.ELEMENT_NODE) {
                      Attr attr = ((Element) aNode).getAttributeNode(qname);
                      if (attr != null) {
                          return attr.getValue();
                      }
                  }
                  aNode = aNode.getParentNode();
              }

  New cluster:
  ===
  insert-node
  ---
  return_statement: return null; [23274,23286]
  to
  block [22742,23301]
  at 4
  ------------
  ===
  insert-node
  ---
  return_statement: return null; [23274,23286]
  to
  block [22742,23301]
  at 4

...
