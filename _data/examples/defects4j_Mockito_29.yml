---
language: java
before_tree:
  type: program
  fields: {}
  children:
  - type: class_declaration
    fields:
      name:
        type: identifier
        fields:
          text: Same
        children: []
        pos: 274
        length: 4
      body:
        type: class_body
        fields: {}
        children:
        - type: field_declaration
          fields:
            text: private static final long serialVersionUID = -1226959355938572597L;
          children: []
          pos: 342
          length: 67
        - type: field_declaration
          fields:
            text: private final Object wanted;
          children: []
          pos: 414
          length: 28
        - type: constructor_declaration
          fields:
            text: |-
              public Same(Object wanted) {
                      this.wanted = wanted;
                  }
          children: []
          pos: 448
          length: 64
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: matches
              children: []
              pos: 533
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Object actual
                children: []
                pos: 541
                length: 13
              pos: 518
              length: 78
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return wanted == actual;
                children: []
                pos: 566
                length: 24
              pos: 556
              length: 40
          children: []
          pos: 518
          length: 78
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: describeTo
              children: []
              pos: 614
              length: 10
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Description description
                children: []
                pos: 625
                length: 23
              pos: 602
              length: 282
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: description.appendText("same(");
                children: []
                pos: 660
                length: 32
              - type: expression_statement
                fields:
                  text: appendQuoting(description);
                children: []
                pos: 701
                length: 27
              - type: expression_statement
                fields:
                  text: 'description.appendText(wanted == null ? "null" : wanted.toString());'
                children: []
                pos: 737
                length: 68
              - type: expression_statement
                fields:
                  text: appendQuoting(description);
                children: []
                pos: 814
                length: 27
              - type: expression_statement
                fields:
                  text: description.appendText(")");
                children: []
                pos: 850
                length: 28
              pos: 650
              length: 234
          children: []
          pos: 602
          length: 282
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: appendQuoting
              children: []
              pos: 903
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Description description
                children: []
                pos: 917
                length: 23
              pos: 890
              length: 242
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: instanceof_expression
                        fields:
                          text: wanted instanceof String
                        children: []
                        pos: 956
                        length: 24
                    children: []
                    pos: 955
                    length: 26
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: description.appendText("\"");
                    children: []
                    pos: 996
                    length: 29
                  pos: 982
                  length: 53
                pos: 952
                length: 174
              pos: 942
              length: 190
          children: []
          pos: 890
          length: 242
        pos: 261
        length: 873
    children: []
    pos: 261
    length: 873
  pos: 0
  length: 1135
after_tree:
  type: program
  fields: {}
  children:
  - type: class_declaration
    fields:
      name:
        type: identifier
        fields:
          text: Same
        children: []
        pos: 274
        length: 4
      body:
        type: class_body
        fields: {}
        children:
        - type: field_declaration
          fields:
            text: private static final long serialVersionUID = -1226959355938572597L;
          children: []
          pos: 342
          length: 67
        - type: field_declaration
          fields:
            text: private final Object wanted;
          children: []
          pos: 414
          length: 28
        - type: constructor_declaration
          fields:
            text: |-
              public Same(Object wanted) {
                      this.wanted = wanted;
                  }
          children: []
          pos: 448
          length: 64
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: matches
              children: []
              pos: 533
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Object actual
                children: []
                pos: 541
                length: 13
              pos: 518
              length: 78
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return wanted == actual;
                children: []
                pos: 566
                length: 24
              pos: 556
              length: 40
          children: []
          pos: 518
          length: 78
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: describeTo
              children: []
              pos: 614
              length: 10
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Description description
                children: []
                pos: 625
                length: 23
              pos: 602
              length: 256
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: description.appendText("same(");
                children: []
                pos: 660
                length: 32
              - type: expression_statement
                fields:
                  text: appendQuoting(description);
                children: []
                pos: 701
                length: 27
              - type: expression_statement
                fields:
                  text: description.appendText(wanted.toString());
                children: []
                pos: 737
                length: 42
              - type: expression_statement
                fields:
                  text: appendQuoting(description);
                children: []
                pos: 788
                length: 27
              - type: expression_statement
                fields:
                  text: description.appendText(")");
                children: []
                pos: 824
                length: 28
              pos: 650
              length: 208
          children: []
          pos: 602
          length: 256
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: appendQuoting
              children: []
              pos: 877
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Description description
                children: []
                pos: 891
                length: 23
              pos: 864
              length: 242
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: instanceof_expression
                        fields:
                          text: wanted instanceof String
                        children: []
                        pos: 930
                        length: 24
                    children: []
                    pos: 929
                    length: 26
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: description.appendText("\"");
                    children: []
                    pos: 970
                    length: 29
                  pos: 956
                  length: 53
                pos: 926
                length: 174
              pos: 916
              length: 190
          children: []
          pos: 864
          length: 242
        pos: 261
        length: 847
    children: []
    pos: 261
    length: 847
  pos: 0
  length: 1109
text_diff: |
  --- before
  +++ after
  @@ -26,7 +26,7 @@
       public void describeTo(Description description) {
           description.appendText("same(");
           appendQuoting(description);
  -        description.appendText(wanted == null ? "null" : wanted.toString());
  +        description.appendText(wanted.toString());
           appendQuoting(description);
           description.appendText(")");
       }
tree_diff: |+
  New cluster:
  UPDATE from description.appendText(wanted == null ? "null" : wanted.toString()); to description.appendText(wanted.toString());
  ------------
  ===
  update-node
  ---
  expression_statement: description.appendText(wanted == null ? "null" : wanted.toString()); [737,805]
  replace description.appendText(wanted == null ? "null" : wanted.toString()); by description.appendText(wanted.toString());

...
