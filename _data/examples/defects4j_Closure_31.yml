---
language: java
before_tree:
  type: program
  fields: {}
  children:
  - type: class_declaration
    fields:
      name:
        type: identifier
        fields:
          text: Compiler
        children: []
        pos: 3083
        length: 8
      body:
        type: class_body
        fields: {}
        children:
        - type: field_declaration
          fields:
            text: static final String SINGLETON_MODULE_NAME = "[singleton]";
          children: []
          pos: 3121
          length: 58
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType MODULE_DEPENDENCY_ERROR =
                    DiagnosticType.error("JSC_MODULE_DEPENDENCY_ERROR",
                        "Bad dependency: {0} -> {1}. "
                            + "Modules must be listed in dependency order.");
          children: []
          pos: 3183
          length: 216
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType MISSING_ENTRY_ERROR = DiagnosticType.error(
                    "JSC_MISSING_ENTRY_ERROR",
                    "required entry point \"{0}\" never provided");
          children: []
          pos: 3403
          length: 158
        - type: field_declaration
          fields:
            text: CompilerOptions options = null;
          children: []
          pos: 3565
          length: 31
        - type: field_declaration
          fields:
            text: private PassConfig passes = null;
          children: []
          pos: 3600
          length: 33
        - type: field_declaration
          fields:
            text: private List<CompilerInput> externs;
          children: []
          pos: 3661
          length: 36
        - type: field_declaration
          fields:
            text: private List<JSModule> modules;
          children: []
          pos: 3728
          length: 31
        - type: field_declaration
          fields:
            text: private JSModuleGraph moduleGraph;
          children: []
          pos: 3913
          length: 34
        - type: field_declaration
          fields:
            text: private List<CompilerInput> inputs;
          children: []
          pos: 3977
          length: 35
        - type: field_declaration
          fields:
            text: private ErrorManager errorManager;
          children: []
          pos: 4074
          length: 34
        - type: field_declaration
          fields:
            text: private WarningsGuard warningsGuard;
          children: []
          pos: 4156
          length: 36
        - type: field_declaration
          fields:
            text: private final Map<String, Node> injectedLibraries = Maps.newLinkedHashMap();
          children: []
          pos: 4319
          length: 76
        - type: field_declaration
          fields:
            text: Node externsRoot;
          children: []
          pos: 4426
          length: 17
        - type: field_declaration
          fields:
            text: Node jsRoot;
          children: []
          pos: 4446
          length: 12
        - type: field_declaration
          fields:
            text: Node externAndJsRoot;
          children: []
          pos: 4461
          length: 21
        - type: field_declaration
          fields:
            text: private Map<InputId, CompilerInput> inputsById;
          children: []
          pos: 4486
          length: 47
        - type: field_declaration
          fields:
            text: private SourceMap sourceMap;
          children: []
          pos: 4566
          length: 28
        - type: field_declaration
          fields:
            text: private String externExports = null;
          children: []
          pos: 4646
          length: 36
        - type: field_declaration
          fields:
            text: private int uniqueNameId = 0;
          children: []
          pos: 4777
          length: 29
        - type: field_declaration
          fields:
            text: private boolean useThreads = true;
          children: []
          pos: 4843
          length: 34
        - type: field_declaration
          fields:
            text: private boolean hasRegExpGlobalReferences = true;
          children: []
          pos: 4982
          length: 49
        - type: field_declaration
          fields:
            text: private FunctionInformationMap functionInformationMap;
          children: []
          pos: 5073
          length: 54
        - type: field_declaration
          fields:
            text: private final StringBuilder debugLog = new StringBuilder();
          children: []
          pos: 5162
          length: 59
        - type: field_declaration
          fields:
            text: CodingConvention defaultCodingConvention = new ClosureCodingConvention();
          children: []
          pos: 5278
          length: 73
        - type: field_declaration
          fields:
            text: private JSTypeRegistry typeRegistry;
          children: []
          pos: 5355
          length: 36
        - type: field_declaration
          fields:
            text: private Config parserConfig = null;
          children: []
          pos: 5394
          length: 35
        - type: field_declaration
          fields:
            text: private ReverseAbstractInterpreter abstractInterpreter;
          children: []
          pos: 5433
          length: 55
        - type: field_declaration
          fields:
            text: private TypeValidator typeValidator;
          children: []
          pos: 5491
          length: 36
        - type: field_declaration
          fields:
            text: public PerformanceTracker tracker;
          children: []
          pos: 5531
          length: 34
        - type: field_declaration
          fields:
            text: |-
              private final com.google.javascript.rhino.ErrorReporter oldErrorReporter =
                    RhinoErrorReporter.forOldRhino(this);
          children: []
          pos: 5648
          length: 118
        - type: field_declaration
          fields:
            text: |-
              private final ErrorReporter defaultErrorReporter =
                    RhinoErrorReporter.forNewRhino(this);
          children: []
          pos: 5844
          length: 94
        - type: field_declaration
          fields:
            text: |-
              public static final DiagnosticType OPTIMIZE_LOOP_ERROR = DiagnosticType.error(
                    "JSC_OPTIMIZE_LOOP_ERROR",
                    "Exceeded max number of optimization iterations: {0}");
          children: []
          pos: 5993
          length: 173
        - type: field_declaration
          fields:
            text: |-
              public static final DiagnosticType MOTION_ITERATIONS_ERROR =
                    DiagnosticType.error("JSC_OPTIMIZE_LOOP_ERROR",
                        "Exceeded max number of code motion iterations: {0}");
          children: []
          pos: 6169
          length: 179
        - type: field_declaration
          fields:
            text: private static final long COMPILER_STACK_SIZE = 1048576L;
          children: []
          pos: 6352
          length: 57
        - type: field_declaration
          fields:
            text: |-
              private static final Logger logger =
                    Logger.getLogger("com.google.javascript.jscomp");
          children: []
          pos: 6597
          length: 92
        - type: field_declaration
          fields:
            text: private final PrintStream outStream;
          children: []
          pos: 6693
          length: 36
        - type: field_declaration
          fields:
            text: private GlobalVarReferenceMap globalRefMap = null;
          children: []
          pos: 6733
          length: 50
        - type: field_declaration
          fields:
            text: private volatile double progress = 0.0;
          children: []
          pos: 6787
          length: 39
        - type: constructor_declaration
          fields:
            text: |-
              public Compiler() {
                  this((PrintStream) null);
                }
          children: []
          pos: 6914
          length: 53
        - type: constructor_declaration
          fields:
            text: |-
              public Compiler(PrintStream stream) {
                  addChangeHandler(recentChange);
                  outStream = stream;
                }
          children: []
          pos: 7066
          length: 101
        - type: constructor_declaration
          fields:
            text: |-
              public Compiler(ErrorManager errorManager) {
                  this();
                  setErrorManager(errorManager);
                }
          children: []
          pos: 7241
          length: 95
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setErrorManager
              children: []
              pos: 7468
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: ErrorManager errorManager
                children: []
                pos: 7484
                length: 25
              pos: 7456
              length: 189
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: |-
                    Preconditions.checkNotNull(
                            errorManager, "the error manager cannot be null");
                children: []
                pos: 7517
                length: 86
              - type: expression_statement
                fields:
                  text: this.errorManager = errorManager;
                children: []
                pos: 7608
                length: 33
              pos: 7511
              length: 134
          children: []
          pos: 7456
          length: 189
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: createMessageFormatter
              children: []
              pos: 7788
              length: 22
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 7763
              length: 175
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: boolean colorize = options.shouldColorizeErrorOutput();
                children: []
                pos: 7819
                length: 55
              - type: return_statement
                fields:
                  text: return options.errorFormat.toFormatter(this, colorize);
                children: []
                pos: 7879
                length: 55
              pos: 7813
              length: 125
          children: []
          pos: 7763
          length: 175
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: initOptions
              children: []
              pos: 8068
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: CompilerOptions options
                children: []
                pos: 8080
                length: 23
              pos: 8056
              length: 2384
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: this.options = options;
                children: []
                pos: 8111
                length: 23
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: errorManager
                            children: []
                            pos: 8143
                            length: 12
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 8159
                            length: 4
                        children: []
                        pos: 8143
                        length: 20
                    children: []
                    pos: 8142
                    length: 22
                children:
                - type: block
                  fields: {}
                  children:
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: outStream
                                children: []
                                pos: 8177
                                length: 9
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 8190
                                length: 4
                            children: []
                            pos: 8177
                            length: 17
                        children: []
                        pos: 8176
                        length: 19
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: |-
                            setErrorManager(
                                        new LoggerErrorManager(createMessageFormatter(), logger));
                        children: []
                        pos: 8206
                        length: 87
                      pos: 8196
                      length: 105
                    pos: 8173
                    length: 364
                  pos: 8165
                  length: 378
                pos: 8139
                length: 404
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: options.enables(DiagnosticGroups.CHECK_TYPES)
                        children: []
                        pos: 8615
                        length: 45
                    children: []
                    pos: 8614
                    length: 47
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: options.checkTypes = true;
                    children: []
                    pos: 8670
                    length: 26
                  pos: 8662
                  length: 40
                pos: 8611
                length: 533
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: and
                        fields:
                          left:
                            type: method_invocation
                            fields:
                              text: options.checkGlobalThisLevel.isOn()
                            children: []
                            pos: 9154
                            length: 35
                          right:
                            type: unary_expression
                            fields:
                              text: "!options.disables(DiagnosticGroups.GLOBAL_THIS)"
                            children: []
                            pos: 9201
                            length: 47
                        children: []
                        pos: 9154
                        length: 94
                    children: []
                    pos: 9153
                    length: 96
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: |-
                        options.setWarningLevel(
                                  DiagnosticGroups.GLOBAL_THIS,
                                  options.checkGlobalThisLevel);
                    children: []
                    pos: 9258
                    length: 105
                  pos: 9250
                  length: 119
                pos: 9150
                length: 219
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: method_invocation
                            fields:
                              text: options.getLanguageIn()
                            children: []
                            pos: 9379
                            length: 23
                          right:
                            type: field_access
                            fields:
                              text: LanguageMode.ECMASCRIPT5_STRICT
                            children: []
                            pos: 9406
                            length: 31
                        children: []
                        pos: 9379
                        length: 58
                    children: []
                    pos: 9378
                    length: 60
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: |-
                        options.setWarningLevel(
                                  DiagnosticGroups.ES5_STRICT,
                                  CheckLevel.ERROR);
                    children: []
                    pos: 9447
                    length: 92
                  pos: 9439
                  length: 106
                pos: 9375
                length: 170
              - type: local_variable_declaration
                fields:
                  text: List<WarningsGuard> guards = Lists.newArrayList();
                children: []
                pos: 9589
                length: 50
              - type: expression_statement
                fields:
                  text: |-
                    guards.add(
                            new SuppressDocWarningsGuard(
                                getDiagnosticGroups().getRegisteredGroups()));
                children: []
                pos: 9644
                length: 108
              - type: expression_statement
                fields:
                  text: guards.add(options.getWarningsGuard());
                children: []
                pos: 9757
                length: 39
              - type: local_variable_declaration
                fields:
                  text: ComposeWarningsGuard composedGuards = new ComposeWarningsGuard(guards);
                children: []
                pos: 9802
                length: 71
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: and
                        fields:
                          left:
                            type: unary_expression
                            fields:
                              text: "!options.checkSymbols"
                            children: []
                            pos: 10169
                            length: 21
                          right:
                            type: unary_expression
                            fields:
                              text: "!composedGuards.enables(DiagnosticGroups.CHECK_VARIABLES)"
                            children: []
                            pos: 10202
                            length: 57
                        children: []
                        pos: 10169
                        length: 90
                    children: []
                    pos: 10168
                    length: 92
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: |-
                        composedGuards.addGuard(new DiagnosticGroupWarningsGuard(
                                  DiagnosticGroups.CHECK_VARIABLES, CheckLevel.OFF));
                    children: []
                    pos: 10269
                    length: 119
                  pos: 10261
                  length: 133
                pos: 10165
                length: 229
              - type: expression_statement
                fields:
                  text: this.warningsGuard = composedGuards;
                children: []
                pos: 10400
                length: 36
              pos: 8105
              length: 2335
          children: []
          pos: 8056
          length: 2384
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: init
              children: []
              pos: 10530
              length: 4
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSSourceFile[] externs
                children: []
                pos: 10535
                length: 22
              pos: 10518
              length: 212
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: |-
                    init(Lists.<JSSourceFile>newArrayList(externs),
                            Lists.<JSSourceFile>newArrayList(inputs), options);
                children: []
                pos: 10619
                length: 107
              pos: 10613
              length: 117
          children: []
          pos: 10518
          length: 212
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: init
              children: []
              pos: 10867
              length: 4
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: List<T1> externs
                children: []
                pos: 10879
                length: 16
              pos: 10808
              length: 340
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: JSModule module = new JSModule(SINGLETON_MODULE_NAME);
                children: []
                pos: 10957
                length: 54
              - type: enhanced_for_statement
                fields:
                  text: |-
                    for (SourceFile input : inputs) {
                          module.add(input);
                        }
                children: []
                pos: 11016
                length: 64
              - type: expression_statement
                fields:
                  text: initModules(externs, Lists.newArrayList(module), options);
                children: []
                pos: 11086
                length: 58
              pos: 10951
              length: 197
          children: []
          pos: 10808
          length: 340
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: init
              children: []
              pos: 11273
              length: 4
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSSourceFile[] externs
                children: []
                pos: 11278
                length: 22
              pos: 11261
              length: 212
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: |-
                    initModules(Lists.<SourceFile>newArrayList(externs),
                             Lists.<JSModule>newArrayList(modules), options);
                children: []
                pos: 11359
                length: 110
              pos: 11353
              length: 120
          children: []
          pos: 11261
          length: 212
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: initModules
              children: []
              pos: 11621
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: List<T> externs
                children: []
                pos: 11640
                length: 15
              pos: 11586
              length: 973
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: initOptions(options);
                children: []
                pos: 11712
                length: 21
              - type: expression_statement
                fields:
                  text: checkFirstModule(modules);
                children: []
                pos: 11739
                length: 26
              - type: expression_statement
                fields:
                  text: fillEmptyModules(modules);
                children: []
                pos: 11770
                length: 26
              - type: expression_statement
                fields:
                  text: this.externs = makeCompilerInput(externs, true);
                children: []
                pos: 11802
                length: 48
              - type: expression_statement
                fields:
                  text: this.modules = modules;
                children: []
                pos: 11958
                length: 23
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: greater_than
                        fields:
                          left:
                            type: method_invocation
                            fields:
                              text: modules.size()
                            children: []
                            pos: 11990
                            length: 14
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '1'
                            children: []
                            pos: 12007
                            length: 1
                        children: []
                        pos: 11990
                        length: 18
                    children: []
                    pos: 11989
                    length: 20
                children:
                - type: block
                  fields: {}
                  children:
                  - type: try_statement
                    fields:
                      body:
                        type: block
                        fields: {}
                        children:
                        - type: expression_statement
                          fields:
                            text: this.moduleGraph = new JSModuleGraph(modules);
                          children: []
                          pos: 12032
                          length: 46
                        pos: 12022
                        length: 64
                      excepts:
                        type: excepts
                        fields: {}
                        children:
                        - type: catch_clause
                          fields:
                            text: |-
                              catch (JSModuleGraph.ModuleDependenceException e) {
                                      // problems with the module format.  Report as an error.  The
                                      // message gives all details.
                                      report(JSError.make(MODULE_DEPENDENCY_ERROR,
                                              e.getModule().getName(), e.getDependentModule().getName()));
                                      return;
                                    }
                          children: []
                          pos: 12087
                          length: 313
                        pos: 12018
                        length: 382
                    children: []
                    pos: 12018
                    length: 382
                  pos: 12010
                  length: 396
                pos: 11986
                length: 464
              - type: expression_statement
                fields:
                  text: this.inputs = getAllInputsFromModules(modules);
                children: []
                pos: 12456
                length: 47
              - type: expression_statement
                fields:
                  text: initBasedOnOptions();
                children: []
                pos: 12508
                length: 21
              - type: expression_statement
                fields:
                  text: initInputsByIdMap();
                children: []
                pos: 12535
                length: 20
              pos: 11706
              length: 853
          children: []
          pos: 11586
          length: 973
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: initBasedOnOptions
              children: []
              pos: 12658
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 12645
              length: 262
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: field_access
                            fields:
                              text: options.sourceMapOutputPath
                            children: []
                            pos: 12732
                            length: 27
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 12763
                            length: 4
                        children: []
                        pos: 12732
                        length: 35
                    children: []
                    pos: 12731
                    length: 37
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: sourceMap = options.sourceMapFormat.getInstance();
                    children: []
                    pos: 12777
                    length: 50
                  - type: expression_statement
                    fields:
                      text: sourceMap.setPrefixMappings(options.sourceMapLocationMappings);
                    children: []
                    pos: 12834
                    length: 63
                  pos: 12769
                  length: 134
                pos: 12728
                length: 175
              pos: 12679
              length: 228
          children: []
          pos: 12645
          length: 262
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: makeCompilerInput
              children: []
              pos: 12962
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: List<T> files
                children: []
                pos: 12987
                length: 13
              pos: 12911
              length: 274
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: List<CompilerInput> inputs = Lists.newArrayList();
                children: []
                pos: 13026
                length: 50
              - type: enhanced_for_statement
                fields:
                  text: |-
                    for (T file : files) {
                          inputs.add(new CompilerInput(file, isExtern));
                        }
                children: []
                pos: 13081
                length: 81
              - type: return_statement
                fields:
                  text: return inputs;
                children: []
                pos: 13167
                length: 14
              pos: 13020
              length: 165
          children: []
          pos: 12911
          length: 274
        - type: field_declaration
          fields:
            text: |-
              private static final DiagnosticType EMPTY_MODULE_LIST_ERROR =
                    DiagnosticType.error("JSC_EMPTY_MODULE_LIST_ERROR",
                        "At least one module must be provided");
          children: []
          pos: 13189
          length: 170
        - type: field_declaration
          fields:
            text: |-
              private static final DiagnosticType EMPTY_ROOT_MODULE_ERROR =
                    DiagnosticType.error("JSC_EMPTY_ROOT_MODULE_ERROR",
                        "Root module '{0}' must contain at least one source code input");
          children: []
          pos: 13363
          length: 195
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: checkFirstModule
              children: []
              pos: 13708
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: List<JSModule> modules
                children: []
                pos: 13725
                length: 22
              pos: 13695
              length: 386
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: modules.isEmpty()
                        children: []
                        pos: 13759
                        length: 17
                    children: []
                    pos: 13758
                    length: 19
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: report(JSError.make(EMPTY_MODULE_LIST_ERROR));
                    children: []
                    pos: 13786
                    length: 46
                  pos: 13778
                  length: 60
                pos: 13755
                length: 322
              pos: 13749
              length: 332
          children: []
          pos: 13695
          length: 386
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: createFillFileName
              children: []
              pos: 14208
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String moduleName
                children: []
                pos: 14227
                length: 17
              pos: 14194
              length: 92
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return "[" + moduleName + "]";
                children: []
                pos: 14252
                length: 30
              pos: 14246
              length: 40
          children: []
          pos: 14194
          length: 92
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: fillEmptyModules
              children: []
              pos: 14422
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: List<JSModule> modules
                children: []
                pos: 14439
                length: 22
              pos: 14402
              length: 256
            body:
              type: block
              fields: {}
              children:
              - type: enhanced_for_statement
                fields:
                  text: |-
                    for (JSModule module : modules) {
                          if (module.getInputs().isEmpty()) {
                            module.add(SourceFile.fromCode(
                                createFillFileName(module.getName()), ""));
                          }
                        }
                children: []
                pos: 14469
                length: 185
              pos: 14463
              length: 195
          children: []
          pos: 14402
          length: 256
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: rebuildInputsFromModules
              children: []
              pos: 14916
              length: 24
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 14904
              length: 116
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: inputs = getAllInputsFromModules(modules);
                children: []
                pos: 14949
                length: 42
              - type: expression_statement
                fields:
                  text: initInputsByIdMap();
                children: []
                pos: 14996
                length: 20
              pos: 14943
              length: 77
          children: []
          pos: 14904
          length: 116
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getAllInputsFromModules
              children: []
              pos: 15165
              length: 23
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: List<JSModule> modules
                children: []
                pos: 15196
                length: 22
              pos: 15130
              length: 623
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: List<CompilerInput> inputs = Lists.newArrayList();
                children: []
                pos: 15226
                length: 50
              - type: local_variable_declaration
                fields:
                  text: Map<String, JSModule> inputMap = Maps.newHashMap();
                children: []
                pos: 15281
                length: 51
              - type: enhanced_for_statement
                fields:
                  text: |-
                    for (JSModule module : modules) {
                          for (CompilerInput input : module.getInputs()) {
                            String inputName = input.getName();

                            // NOTE(nicksantos): If an input is in more than one module,
                            // it will show up twice in the inputs list, and then we
                            // will get an error down the line.
                            inputs.add(input);
                            inputMap.put(inputName, module);
                          }
                        }
                children: []
                pos: 15337
                length: 393
              - type: return_statement
                fields:
                  text: return inputs;
                children: []
                pos: 15735
                length: 14
              pos: 15220
              length: 533
          children: []
          pos: 15130
          length: 623
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType DUPLICATE_INPUT =
                    DiagnosticType.error("JSC_DUPLICATE_INPUT", "Duplicate input: {0}");
          children: []
          pos: 15757
          length: 120
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType DUPLICATE_EXTERN_INPUT =
                    DiagnosticType.error("JSC_DUPLICATE_EXTERN_INPUT",
                        "Duplicate extern input: {0}");
          children: []
          pos: 15880
          length: 151
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: initInputsByIdMap
              children: []
              pos: 16152
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 16147
              length: 590
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: inputsById = new HashMap<InputId, CompilerInput>();
                children: []
                pos: 16178
                length: 51
              - type: enhanced_for_statement
                fields:
                  text: |-
                    for (CompilerInput input : externs) {
                          InputId id = input.getInputId();
                          CompilerInput previous = putCompilerInput(id, input);
                          if (previous != null) {
                            report(JSError.make(DUPLICATE_EXTERN_INPUT, input.getName()));
                          }
                        }
                children: []
                pos: 16234
                length: 251
              - type: enhanced_for_statement
                fields:
                  text: |-
                    for (CompilerInput input : inputs) {
                          InputId id = input.getInputId();
                          CompilerInput previous = putCompilerInput(id, input);
                          if (previous != null) {
                            report(JSError.make(DUPLICATE_INPUT, input.getName()));
                          }
                        }
                children: []
                pos: 16490
                length: 243
              pos: 16172
              length: 565
          children: []
          pos: 16147
          length: 590
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: compile
              children: []
              pos: 16755
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: SourceFile extern
                children: []
                pos: 16770
                length: 17
              pos: 16741
              length: 181
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return compile(Lists.newArrayList(extern), Lists.newArrayList(input),
                    options);
                children: []
                pos: 16839
                length: 79
              pos: 16832
              length: 90
          children: []
          pos: 16741
          length: 181
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: compile
              children: []
              pos: 16940
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: SourceFile extern
                children: []
                pos: 16955
                length: 17
              pos: 16926
              length: 185
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return compile(Lists.newArrayList(extern), Lists.newArrayList(input),
                    options);
                children: []
                pos: 17028
                length: 79
              pos: 17021
              length: 90
          children: []
          pos: 16926
          length: 185
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: compile
              children: []
              pos: 17129
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSSourceFile extern
                children: []
                pos: 17144
                length: 19
              pos: 17115
              length: 204
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return compileModules(
                             Lists.newArrayList(extern), Lists.newArrayList(modules), options);
                children: []
                pos: 17217
                length: 98
              pos: 17210
              length: 109
          children: []
          pos: 17115
          length: 204
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: compile
              children: []
              pos: 17381
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSSourceFile[] externs
                children: []
                pos: 17389
                length: 22
              pos: 17367
              length: 273
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return compile(Lists.<SourceFile>newArrayList(externs),
                            Lists.<SourceFile>newArrayList(inputs),
                            options);
                children: []
                pos: 17515
                length: 121
              pos: 17509
              length: 131
          children: []
          pos: 17367
          length: 273
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: compile
              children: []
              pos: 17749
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: List<T1> externs
                children: []
                pos: 17764
                length: 16
              pos: 17688
              length: 519
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: Preconditions.checkState(jsRoot == null);
                children: []
                pos: 17884
                length: 41
              - type: try_statement
                fields:
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: expression_statement
                      fields:
                        text: init(externs, inputs, options);
                      children: []
                      pos: 17943
                      length: 31
                    - type: if_statement
                      fields:
                        condition:
                          type: parenthesized_expression
                          fields:
                            expression:
                              type: method_invocation
                              fields:
                                text: hasErrors()
                              children: []
                              pos: 17985
                              length: 11
                          children: []
                          pos: 17984
                          length: 13
                      children:
                      - type: block
                        fields: {}
                        children:
                        - type: return_statement
                          fields:
                            text: return getResult();
                          children: []
                          pos: 18008
                          length: 19
                        pos: 17998
                        length: 37
                      pos: 17981
                      length: 54
                    - type: return_statement
                      fields:
                        text: return compile();
                      children: []
                      pos: 18042
                      length: 17
                    pos: 17935
                    length: 130
                  excepts:
                    type: excepts
                    fields: {}
                    children: []
                    pos: 17931
                    length: 272
                children: []
                pos: 17931
                length: 272
              pos: 17824
              length: 383
          children: []
          pos: 17688
          length: 519
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: compile
              children: []
              pos: 18270
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSSourceFile[] externs
                children: []
                pos: 18278
                length: 22
              pos: 18256
              length: 276
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return compileModules(Lists.<SourceFile>newArrayList(externs),
                            Lists.<JSModule>newArrayList(modules),
                            options);
                children: []
                pos: 18401
                length: 127
              pos: 18395
              length: 137
          children: []
          pos: 18256
          length: 276
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: compileModules
              children: []
              pos: 18618
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: List<T> externs
                children: []
                pos: 18633
                length: 15
              pos: 18581
              length: 515
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: Preconditions.checkState(jsRoot == null);
                children: []
                pos: 18765
                length: 41
              - type: try_statement
                fields:
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: expression_statement
                      fields:
                        text: initModules(externs, modules, options);
                      children: []
                      pos: 18824
                      length: 39
                    - type: if_statement
                      fields:
                        condition:
                          type: parenthesized_expression
                          fields:
                            expression:
                              type: method_invocation
                              fields:
                                text: hasErrors()
                              children: []
                              pos: 18874
                              length: 11
                          children: []
                          pos: 18873
                          length: 13
                      children:
                      - type: block
                        fields: {}
                        children:
                        - type: return_statement
                          fields:
                            text: return getResult();
                          children: []
                          pos: 18897
                          length: 19
                        pos: 18887
                        length: 37
                      pos: 18870
                      length: 54
                    - type: return_statement
                      fields:
                        text: return compile();
                      children: []
                      pos: 18931
                      length: 17
                    pos: 18816
                    length: 138
                  excepts:
                    type: excepts
                    fields: {}
                    children: []
                    pos: 18812
                    length: 280
                children: []
                pos: 18812
                length: 280
              pos: 18705
              length: 391
          children: []
          pos: 18581
          length: 515
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: compile
              children: []
              pos: 19115
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 19100
              length: 219
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return runInCompilerThread(new Callable<Result>() {
                          @Override
                          public Result call() throws Exception {
                            compileInternal();
                            return getResult();
                          }
                        });
                children: []
                pos: 19131
                length: 184
              pos: 19125
              length: 194
          children: []
          pos: 19100
          length: 219
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: disableThreads
              children: []
              pos: 19440
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 19428
              length: 58
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: useThreads = false;
                children: []
                pos: 19463
                length: 19
              pos: 19457
              length: 29
          children: []
          pos: 19428
          length: 58
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: runInCompilerThread
              children: []
              pos: 19504
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final Callable<T> callable
                children: []
                pos: 19524
                length: 26
              pos: 19490
              length: 136
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return runCallable(callable, useThreads, options.tracer.isOn());
                children: []
                pos: 19558
                length: 64
              pos: 19552
              length: 74
          children: []
          pos: 19490
          length: 136
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: runCallableWithLargeStack
              children: []
              pos: 19643
              length: 25
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final Callable<T> callable
                children: []
                pos: 19669
                length: 26
              pos: 19630
              length: 119
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return runCallable(callable, true, false);
                children: []
                pos: 19703
                length: 42
              pos: 19697
              length: 52
          children: []
          pos: 19630
          length: 119
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: runCallable
              children: []
              pos: 19799
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final Callable<T> callable
                children: []
                pos: 19818
                length: 26
              pos: 19753
              length: 1595
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: final boolean dumpTraceReport = trace;
                children: []
                pos: 20278
                length: 38
              - type: local_variable_declaration
                fields:
                  text: final Object[] result = new Object[1];
                children: []
                pos: 20321
                length: 38
              - type: local_variable_declaration
                fields:
                  text: final Throwable[] exception = new Throwable[1];
                children: []
                pos: 20364
                length: 47
              - type: local_variable_declaration
                fields:
                  text: |-
                    Runnable runnable = new Runnable() {
                          @Override
                          public void run() {
                            try {
                              if (dumpTraceReport) {
                                Tracer.initCurrentThreadTrace();
                              }
                              result[0] = callable.call();
                            } catch (Throwable e) {
                              exception[0] = e;
                            } finally {
                              if (dumpTraceReport) {
                                Tracer.logAndClearCurrentThreadTrace();
                              }
                            }
                          }
                        };
                children: []
                pos: 20416
                length: 423
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: identifier
                        fields:
                          text: useLargeStackThread
                        children: []
                        pos: 20849
                        length: 19
                    children: []
                    pos: 20848
                    length: 21
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: Thread th = new Thread(null, runnable, "jscompiler", COMPILER_STACK_SIZE);
                    children: []
                    pos: 20878
                    length: 74
                  - type: expression_statement
                    fields:
                      text: th.start();
                    children: []
                    pos: 20959
                    length: 11
                  - type: while_statement
                    fields:
                      text: |-
                        while (true) {
                                try {
                                  th.join();
                                  break;
                                } catch (InterruptedException ignore) {
                                  // ignore
                                }
                              }
                    children: []
                    pos: 20977
                    length: 152
                  pos: 20870
                  length: 265
                pos: 20845
                length: 325
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: array_access
                            fields:
                              array:
                                type: identifier
                                fields:
                                  text: exception
                                children: []
                                pos: 21240
                                length: 9
                              index:
                                type: decimal_integer_literal
                                fields:
                                  text: '0'
                                children: []
                                pos: 21250
                                length: 1
                            children: []
                            pos: 21240
                            length: 12
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 21256
                            length: 4
                        children: []
                        pos: 21240
                        length: 20
                    children: []
                    pos: 21239
                    length: 22
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: throw new RuntimeException(exception[0]);
                    children: []
                    pos: 21270
                    length: 41
                  pos: 21262
                  length: 55
                pos: 21236
                length: 81
              - type: return_statement
                fields:
                  text: return (T) result[0];
                children: []
                pos: 21323
                length: 21
              pos: 19890
              length: 1458
          children: []
          pos: 19753
          length: 1595
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: compileInternal
              children: []
              pos: 21365
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 21352
              length: 1048
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: setProgress(0.0);
                children: []
                pos: 21389
                length: 17
              - type: expression_statement
                fields:
                  text: parse();
                children: []
                pos: 21411
                length: 8
              - type: expression_statement
                fields:
                  text: setProgress(0.15);
                children: []
                pos: 21577
                length: 18
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: hasErrors()
                        children: []
                        pos: 21604
                        length: 11
                    children: []
                    pos: 21603
                    length: 13
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return;
                    children: []
                    pos: 21625
                    length: 7
                  pos: 21617
                  length: 21
                pos: 21600
                length: 38
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: unary_expression
                        fields:
                          text: "!precheck()"
                        children: []
                        pos: 21648
                        length: 11
                    children: []
                    pos: 21647
                    length: 13
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return;
                    children: []
                    pos: 21669
                    length: 7
                  pos: 21661
                  length: 21
                pos: 21644
                length: 38
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: field_access
                        fields:
                          text: options.nameAnonymousFunctionsOnly
                        children: []
                        pos: 21692
                        length: 34
                    children: []
                    pos: 21691
                    length: 36
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: check();
                    children: []
                    pos: 21807
                    length: 8
                  - type: return_statement
                    fields:
                      text: return;
                    children: []
                    pos: 21822
                    length: 7
                  pos: 21728
                  length: 107
                pos: 21688
                length: 147
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: unary_expression
                        fields:
                          text: "!options.skipAllPasses"
                        children: []
                        pos: 21845
                        length: 22
                    children: []
                    pos: 21844
                    length: 24
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: check();
                    children: []
                    pos: 21877
                    length: 8
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: method_invocation
                            fields:
                              text: hasErrors()
                            children: []
                            pos: 21896
                            length: 11
                        children: []
                        pos: 21895
                        length: 13
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: return_statement
                        fields:
                          text: return;
                        children: []
                        pos: 21919
                        length: 7
                      pos: 21909
                      length: 25
                    pos: 21892
                    length: 42
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: or
                            fields:
                              left:
                                type: method_invocation
                                fields:
                                  text: options.isExternExportsEnabled()
                                children: []
                                pos: 21946
                                length: 32
                              right:
                                type: not_equals
                                fields:
                                  left:
                                    type: field_access
                                    fields:
                                      text: options.externExportsPath
                                    children: []
                                    pos: 21992
                                    length: 25
                                  right:
                                    type: null_literal
                                    fields: {}
                                    children: []
                                    pos: 22021
                                    length: 4
                                children: []
                                pos: 21992
                                length: 33
                            children: []
                            pos: 21946
                            length: 79
                        children: []
                        pos: 21945
                        length: 81
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: externExports();
                        children: []
                        pos: 22037
                        length: 16
                      pos: 22027
                      length: 34
                    pos: 21942
                    length: 119
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: unary_expression
                            fields:
                              text: "!options.ideMode"
                            children: []
                            pos: 22151
                            length: 16
                        children: []
                        pos: 22150
                        length: 18
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: optimize();
                        children: []
                        pos: 22179
                        length: 11
                      pos: 22169
                      length: 29
                    pos: 22147
                    length: 51
                  pos: 21869
                  length: 335
                pos: 21841
                length: 363
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: field_access
                        fields:
                          text: options.recordFunctionInformation
                        children: []
                        pos: 22214
                        length: 33
                    children: []
                    pos: 22213
                    length: 35
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: recordFunctionInformation();
                    children: []
                    pos: 22257
                    length: 28
                  pos: 22249
                  length: 42
                pos: 22210
                length: 81
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: field_access
                            fields:
                              text: options.devMode
                            children: []
                            pos: 22301
                            length: 15
                          right:
                            type: field_access
                            fields:
                              text: DevMode.START_AND_END
                            children: []
                            pos: 22320
                            length: 21
                        children: []
                        pos: 22301
                        length: 40
                    children: []
                    pos: 22300
                    length: 42
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: runSanityCheck();
                    children: []
                    pos: 22351
                    length: 17
                  pos: 22343
                  length: 31
                pos: 22297
                length: 77
              - type: expression_statement
                fields:
                  text: setProgress(1.0);
                children: []
                pos: 22379
                length: 17
              pos: 21383
              length: 1017
          children: []
          pos: 21352
          length: 1048
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: parse
              children: []
              pos: 22416
              length: 5
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 22404
              length: 44
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: parseInputs();
                children: []
                pos: 22430
                length: 14
              pos: 22424
              length: 24
          children: []
          pos: 22404
          length: 44
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getPassConfig
              children: []
              pos: 22463
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 22452
              length: 126
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: passes
                            children: []
                            pos: 22489
                            length: 6
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 22499
                            length: 4
                        children: []
                        pos: 22489
                        length: 14
                    children: []
                    pos: 22488
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: passes = createPassConfigInternal();
                    children: []
                    pos: 22513
                    length: 36
                  pos: 22505
                  length: 50
                pos: 22485
                length: 70
              - type: return_statement
                fields:
                  text: return passes;
                children: []
                pos: 22560
                length: 14
              pos: 22479
              length: 99
          children: []
          pos: 22452
          length: 126
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: createPassConfigInternal
              children: []
              pos: 22702
              length: 24
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 22691
              length: 86
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return new DefaultPassConfig(options);
                children: []
                pos: 22735
                length: 38
              pos: 22729
              length: 48
          children: []
          pos: 22691
          length: 86
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setPassConfig
              children: []
              pos: 22994
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: PassConfig passes
                children: []
                pos: 23008
                length: 17
              pos: 22982
              length: 543
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: Preconditions.checkNotNull(passes);
                children: []
                pos: 23342
                length: 35
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: field_access
                            fields:
                              text: this.passes
                            children: []
                            pos: 23387
                            length: 11
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 23402
                            length: 4
                        children: []
                        pos: 23387
                        length: 19
                    children: []
                    pos: 23386
                    length: 21
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: throw new IllegalStateException("this.passes has already
                        been assigned");
                    children: []
                    pos: 23416
                    length: 73
                  pos: 23408
                  length: 87
                pos: 23383
                length: 112
              - type: expression_statement
                fields:
                  text: this.passes = passes;
                children: []
                pos: 23500
                length: 21
              pos: 23027
              length: 498
          children: []
          pos: 22982
          length: 543
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: precheck
              children: []
              pos: 23732
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 23724
              length: 41
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return true;
                children: []
                pos: 23749
                length: 12
              pos: 23743
              length: 22
          children: []
          pos: 23724
          length: 41
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: check
              children: []
              pos: 23781
              length: 5
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 23769
              length: 1295
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: runCustomPasses(CustomPassExecutionTime.BEFORE_CHECKS);
                children: []
                pos: 23795
                length: 55
              - type: local_variable_declaration
                fields:
                  text: |-
                    PhaseOptimizer phaseOptimizer = new PhaseOptimizer(this, tracker,
                            new PhaseOptimizer.ProgressRange(getProgress(), 1.0));
                children: []
                pos: 24013
                length: 128
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: field_access
                            fields:
                              text: options.devMode
                            children: []
                            pos: 24150
                            length: 15
                          right:
                            type: field_access
                            fields:
                              text: DevMode.EVERY_PASS
                            children: []
                            pos: 24169
                            length: 18
                        children: []
                        pos: 24150
                        length: 37
                    children: []
                    pos: 24149
                    length: 39
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: phaseOptimizer.setSanityCheck(sanityCheck);
                    children: []
                    pos: 24197
                    length: 43
                  pos: 24189
                  length: 57
                pos: 24146
                length: 100
              - type: expression_statement
                fields:
                  text: phaseOptimizer.consume(getPassConfig().getChecks());
                children: []
                pos: 24251
                length: 52
              - type: expression_statement
                fields:
                  text: phaseOptimizer.process(externsRoot, jsRoot);
                children: []
                pos: 24308
                length: 44
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: hasErrors()
                        children: []
                        pos: 24361
                        length: 11
                    children: []
                    pos: 24360
                    length: 13
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return;
                    children: []
                    pos: 24382
                    length: 7
                  pos: 24374
                  length: 21
                pos: 24357
                length: 38
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: field_access
                        fields:
                          text: options.nameAnonymousFunctionsOnly
                        children: []
                        pos: 24482
                        length: 34
                    children: []
                    pos: 24481
                    length: 36
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return;
                    children: []
                    pos: 24526
                    length: 7
                  pos: 24518
                  length: 21
                pos: 24478
                length: 61
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: field_access
                        fields:
                          text: options.removeTryCatchFinally
                        children: []
                        pos: 24549
                        length: 29
                    children: []
                    pos: 24548
                    length: 31
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: removeTryCatchFinally();
                    children: []
                    pos: 24588
                    length: 24
                  pos: 24580
                  length: 38
                pos: 24545
                length: 73
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: or
                            fields:
                              left:
                                type: or
                                fields:
                                  left:
                                    type: or
                                    fields:
                                      left:
                                        type: method_invocation
                                        fields:
                                          text: options.getTweakProcessing().shouldStrip()
                                        children: []
                                        pos: 24628
                                        length: 42
                                      right:
                                        type: unary_expression
                                        fields:
                                          text: "!options.stripTypes.isEmpty()"
                                        children: []
                                        pos: 24682
                                        length: 29
                                    children: []
                                    pos: 24628
                                    length: 83
                                  right:
                                    type: unary_expression
                                    fields:
                                      text: "!options.stripNameSuffixes.isEmpty()"
                                    children: []
                                    pos: 24723
                                    length: 36
                                children: []
                                pos: 24628
                                length: 131
                              right:
                                type: unary_expression
                                fields:
                                  text: "!options.stripTypePrefixes.isEmpty()"
                                children: []
                                pos: 24771
                                length: 36
                            children: []
                            pos: 24628
                            length: 179
                          right:
                            type: unary_expression
                            fields:
                              text: "!options.stripNamePrefixes.isEmpty()"
                            children: []
                            pos: 24819
                            length: 36
                        children: []
                        pos: 24628
                        length: 227
                    children: []
                    pos: 24627
                    length: 229
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: |-
                        stripCode(options.stripTypes, options.stripNameSuffixes,
                                  options.stripTypePrefixes, options.stripNamePrefixes);
                    children: []
                    pos: 24865
                    length: 121
                  pos: 24857
                  length: 135
                pos: 24624
                length: 368
              - type: expression_statement
                fields:
                  text: runCustomPasses(CustomPassExecutionTime.BEFORE_OPTIMIZATIONS);
                children: []
                pos: 24998
                length: 62
              pos: 23789
              length: 1275
          children: []
          pos: 23769
          length: 1295
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: externExports
              children: []
              pos: 25081
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 25068
              length: 262
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: logger.fine("Creating extern file for exports");
                children: []
                pos: 25103
                length: 48
              - type: expression_statement
                fields:
                  text: startPass("externExports");
                children: []
                pos: 25156
                length: 27
              - type: local_variable_declaration
                fields:
                  text: ExternExportsPass pass = new ExternExportsPass(this);
                children: []
                pos: 25189
                length: 53
              - type: expression_statement
                fields:
                  text: process(pass);
                children: []
                pos: 25247
                length: 14
              - type: expression_statement
                fields:
                  text: externExports = pass.getGeneratedExterns();
                children: []
                pos: 25267
                length: 43
              - type: expression_statement
                fields:
                  text: endPass();
                children: []
                pos: 25316
                length: 10
              pos: 25097
              length: 233
          children: []
          pos: 25068
          length: 262
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: process
              children: []
              pos: 25351
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: CompilerPass p
                children: []
                pos: 25359
                length: 14
              pos: 25334
              length: 82
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: p.process(externsRoot, jsRoot);
                children: []
                pos: 25381
                length: 31
              pos: 25375
              length: 41
          children: []
          pos: 25334
          length: 82
        - type: field_declaration
          fields:
            text: |-
              private final PassFactory sanityCheck =
                    new PassFactory("sanityCheck", false) {
                  @Override
                  protected CompilerPass createInternal(AbstractCompiler compiler) {
                    return new SanityCheck(compiler);
                  }
                };
          children: []
          pos: 25420
          length: 221
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: maybeSanityCheck
              children: []
              pos: 25658
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 25645
              length: 116
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: field_access
                            fields:
                              text: options.devMode
                            children: []
                            pos: 25687
                            length: 15
                          right:
                            type: field_access
                            fields:
                              text: DevMode.EVERY_PASS
                            children: []
                            pos: 25706
                            length: 18
                        children: []
                        pos: 25687
                        length: 37
                    children: []
                    pos: 25686
                    length: 39
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: runSanityCheck();
                    children: []
                    pos: 25734
                    length: 17
                  pos: 25726
                  length: 31
                pos: 25683
                length: 74
              pos: 25677
              length: 84
          children: []
          pos: 25645
          length: 116
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: runSanityCheck
              children: []
              pos: 25778
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 25765
              length: 94
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: sanityCheck.create(this).process(externsRoot, jsRoot);
                children: []
                pos: 25801
                length: 54
              pos: 25795
              length: 64
          children: []
          pos: 25765
          length: 94
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: removeTryCatchFinally
              children: []
              pos: 25944
              length: 21
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 25939
              length: 199
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: logger.fine("Remove try/catch/finally");
                children: []
                pos: 25974
                length: 40
              - type: expression_statement
                fields:
                  text: startPass("removeTryCatchFinally");
                children: []
                pos: 26019
                length: 35
              - type: local_variable_declaration
                fields:
                  text: RemoveTryCatch r = new RemoveTryCatch(this);
                children: []
                pos: 26059
                length: 44
              - type: expression_statement
                fields:
                  text: process(r);
                children: []
                pos: 26108
                length: 11
              - type: expression_statement
                fields:
                  text: endPass();
                children: []
                pos: 26124
                length: 10
              pos: 25968
              length: 170
          children: []
          pos: 25939
          length: 199
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: stripCode
              children: []
              pos: 26287
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Set<String> stripTypes
                children: []
                pos: 26297
                length: 22
              pos: 26282
              length: 441
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: logger.fine("Strip code");
                children: []
                pos: 26426
                length: 26
              - type: expression_statement
                fields:
                  text: startPass("stripCode");
                children: []
                pos: 26457
                length: 23
              - type: local_variable_declaration
                fields:
                  text: |-
                    StripCode r = new StripCode(this, stripTypes, stripNameSuffixes,
                            stripTypePrefixes, stripNamePrefixes);
                children: []
                pos: 26485
                length: 111
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: options.getTweakProcessing().shouldStrip()
                        children: []
                        pos: 26605
                        length: 42
                    children: []
                    pos: 26604
                    length: 44
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: r.enableTweakStripping();
                    children: []
                    pos: 26657
                    length: 25
                  pos: 26649
                  length: 39
                pos: 26601
                length: 87
              - type: expression_statement
                fields:
                  text: process(r);
                children: []
                pos: 26693
                length: 11
              - type: expression_statement
                fields:
                  text: endPass();
                children: []
                pos: 26709
                length: 10
              pos: 26420
              length: 303
          children: []
          pos: 26282
          length: 441
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: runCustomPasses
              children: []
              pos: 26825
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: CustomPassExecutionTime executionTime
                children: []
                pos: 26841
                length: 37
              pos: 26812
              length: 351
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: field_access
                            fields:
                              text: options.customPasses
                            children: []
                            pos: 26890
                            length: 20
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 26914
                            length: 4
                        children: []
                        pos: 26890
                        length: 28
                    children: []
                    pos: 26889
                    length: 30
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: Tracer t = newTracer("runCustomPasses");
                    children: []
                    pos: 26928
                    length: 40
                  - type: try_statement
                    fields:
                      body:
                        type: block
                        fields: {}
                        children:
                        - type: enhanced_for_statement
                          fields:
                            text: |-
                              for (CompilerPass p : options.customPasses.get(executionTime)) {
                                        process(p);
                                      }
                          children: []
                          pos: 26989
                          length: 96
                        pos: 26979
                        length: 114
                      excepts:
                        type: excepts
                        fields: {}
                        children: []
                        pos: 26975
                        length: 178
                    children: []
                    pos: 26975
                    length: 178
                  pos: 26920
                  length: 239
                pos: 26886
                length: 273
              pos: 26880
              length: 283
          children: []
          pos: 26812
          length: 351
        - type: field_declaration
          fields:
            text: private Tracer currentTracer = null;
          children: []
          pos: 27167
          length: 36
        - type: field_declaration
          fields:
            text: private String currentPassName = null;
          children: []
          pos: 27206
          length: 38
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: startPass
              children: []
              pos: 27301
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String passName
                children: []
                pos: 27311
                length: 15
              pos: 27296
              length: 163
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: Preconditions.checkState(currentTracer == null);
                children: []
                pos: 27334
                length: 48
              - type: expression_statement
                fields:
                  text: currentPassName = passName;
                children: []
                pos: 27387
                length: 27
              - type: expression_statement
                fields:
                  text: currentTracer = newTracer(passName);
                children: []
                pos: 27419
                length: 36
              pos: 27328
              length: 131
          children: []
          pos: 27296
          length: 163
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: endPass
              children: []
              pos: 27510
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 27505
              length: 301
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: |-
                    Preconditions.checkState(currentTracer != null,
                            "Tracer should not be null at the end of a pass.");
                children: []
                pos: 27526
                length: 107
              - type: expression_statement
                fields:
                  text: stopTracer(currentTracer, currentPassName);
                children: []
                pos: 27638
                length: 43
              - type: local_variable_declaration
                fields:
                  text: String passToCheck = currentPassName;
                children: []
                pos: 27686
                length: 37
              - type: expression_statement
                fields:
                  text: currentPassName = null;
                children: []
                pos: 27728
                length: 23
              - type: expression_statement
                fields:
                  text: currentTracer = null;
                children: []
                pos: 27756
                length: 21
              - type: expression_statement
                fields:
                  text: maybeSanityCheck();
                children: []
                pos: 27783
                length: 19
              pos: 27520
              length: 286
          children: []
          pos: 27505
          length: 301
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: newTracer
              children: []
              pos: 27880
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String passName
                children: []
                pos: 27890
                length: 15
              pos: 27873
              length: 270
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: |-
                    String comment = passName
                            + (recentChange.hasCodeChanged() ? " on recently changed AST" : "");
                children: []
                pos: 27913
                length: 102
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: options.tracer.isOn()
                        children: []
                        pos: 28024
                        length: 21
                    children: []
                    pos: 28023
                    length: 23
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: tracker.recordPassStart(passName);
                    children: []
                    pos: 28055
                    length: 34
                  pos: 28047
                  length: 48
                pos: 28020
                length: 75
              - type: return_statement
                fields:
                  text: return new Tracer("Compiler", comment);
                children: []
                pos: 28100
                length: 39
              pos: 27907
              length: 236
          children: []
          pos: 27873
          length: 270
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: stopTracer
              children: []
              pos: 28152
              length: 10
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Tracer t
                children: []
                pos: 28163
                length: 8
              pos: 28147
              length: 163
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: long result = t.stop();
                children: []
                pos: 28196
                length: 23
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: options.tracer.isOn()
                        children: []
                        pos: 28228
                        length: 21
                    children: []
                    pos: 28227
                    length: 23
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: tracker.recordPassStop(passName, result);
                    children: []
                    pos: 28259
                    length: 41
                  pos: 28251
                  length: 55
                pos: 28224
                length: 82
              pos: 28190
              length: 120
          children: []
          pos: 28147
          length: 163
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getResult
              children: []
              pos: 28384
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 28370
              length: 371
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: PassConfig.State state = getPassConfig().getIntermediateState();
                children: []
                pos: 28402
                length: 64
              - type: return_statement
                fields:
                  text: |-
                    return new Result(getErrors(), getWarnings(), debugLog.toString(),
                            state.variableMap, state.propertyMap,
                            state.anonymousFunctionNameMap, state.stringMap, functionInformationMap,
                            sourceMap, externExports, state.cssNames, state.idGeneratorMap);
                children: []
                pos: 28471
                length: 266
              pos: 28396
              length: 345
          children: []
          pos: 28370
          length: 371
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getMessages
              children: []
              pos: 28842
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 28825
              length: 60
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getErrors();
                children: []
                pos: 28862
                length: 19
              pos: 28856
              length: 29
          children: []
          pos: 28825
          length: 60
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getErrors
              children: []
              pos: 28965
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 28948
              length: 71
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return errorManager.getErrors();
                children: []
                pos: 28983
                length: 32
              pos: 28977
              length: 42
          children: []
          pos: 28948
          length: 71
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getWarnings
              children: []
              pos: 29101
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 29084
              length: 75
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return errorManager.getWarnings();
                children: []
                pos: 29121
                length: 34
              pos: 29115
              length: 44
          children: []
          pos: 29084
          length: 75
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getRoot
              children: []
              pos: 29187
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 29163
              length: 67
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return externAndJsRoot;
                children: []
                pos: 29203
                length: 23
              pos: 29197
              length: 33
          children: []
          pos: 29163
          length: 67
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: nextUniqueNameId
              children: []
              pos: 29305
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 29293
              length: 63
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return uniqueNameId++;
                children: []
                pos: 29330
                length: 22
              pos: 29324
              length: 32
          children: []
          pos: 29293
          length: 63
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: resetUniqueNameId
              children: []
              pos: 29437
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 29411
              length: 73
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: uniqueNameId = 0;
                children: []
                pos: 29463
                length: 17
              pos: 29457
              length: 27
          children: []
          pos: 29411
          length: 73
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getUniqueNameIdSupplier
              children: []
              pos: 29517
              length: 23
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 29488
              length: 243
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: final Compiler self = this;
                children: []
                pos: 29549
                length: 27
              - type: return_statement
                fields:
                  text: |-
                    return new Supplier<String>() {
                          @Override
                          public String get() {
                            return String.valueOf(self.nextUniqueNameId());
                          }
                        };
                children: []
                pos: 29581
                length: 146
              pos: 29543
              length: 188
          children: []
          pos: 29488
          length: 243
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: areNodesEqualForInlining
              children: []
              pos: 29755
              length: 24
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Node n1
                children: []
                pos: 29780
                length: 7
              pos: 29735
              length: 363
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: field_access
                            fields:
                              text: options.ambiguateProperties
                            children: []
                            pos: 29808
                            length: 27
                          right:
                            type: field_access
                            fields:
                              text: options.disambiguateProperties
                            children: []
                            pos: 29847
                            length: 30
                        children: []
                        pos: 29808
                        length: 69
                    children: []
                    pos: 29807
                    length: 71
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return n1.isEquivalentToTyped(n2);
                    children: []
                    pos: 30005
                    length: 34
                  pos: 29879
                  length: 166
                pos: 29804
                length: 290
              pos: 29798
              length: 300
          children: []
          pos: 29735
          length: 363
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getInput
              children: []
              pos: 30442
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: InputId id
                children: []
                pos: 30451
                length: 10
              pos: 30409
              length: 90
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return inputsById.get(id);
                children: []
                pos: 30469
                length: 26
              pos: 30463
              length: 36
          children: []
          pos: 30409
          length: 90
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: removeExternInput
              children: []
              pos: 30617
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: InputId id
                children: []
                pos: 30635
                length: 10
              pos: 30602
              length: 382
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: CompilerInput input = getInput(id);
                children: []
                pos: 30653
                length: 35
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: input
                            children: []
                            pos: 30697
                            length: 5
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 30706
                            length: 4
                        children: []
                        pos: 30697
                        length: 13
                    children: []
                    pos: 30696
                    length: 15
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return;
                    children: []
                    pos: 30720
                    length: 7
                  pos: 30712
                  length: 21
                pos: 30693
                length: 40
              - type: expression_statement
                fields:
                  text: 'Preconditions.checkState(input.isExtern(), "Not an extern
                    input: %s", input.getName());'
                children: []
                pos: 30738
                length: 87
              - type: expression_statement
                fields:
                  text: inputsById.remove(id);
                children: []
                pos: 30830
                length: 22
              - type: expression_statement
                fields:
                  text: externs.remove(input);
                children: []
                pos: 30857
                length: 22
              - type: local_variable_declaration
                fields:
                  text: Node root = input.getAstRoot(this);
                children: []
                pos: 30884
                length: 35
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: root
                            children: []
                            pos: 30928
                            length: 4
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 30936
                            length: 4
                        children: []
                        pos: 30928
                        length: 12
                    children: []
                    pos: 30927
                    length: 14
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: root.detachFromParent();
                    children: []
                    pos: 30950
                    length: 24
                  pos: 30942
                  length: 38
                pos: 30924
                length: 56
              pos: 30647
              length: 337
          children: []
          pos: 30602
          length: 382
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: newExternInput
              children: []
              pos: 31021
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String name
                children: []
                pos: 31036
                length: 11
              pos: 30988
              length: 452
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: SourceAst ast = new SyntheticAst(name);
                children: []
                pos: 31055
                length: 39
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: inputsById.containsKey(ast.getInputId())
                        children: []
                        pos: 31103
                        length: 40
                    children: []
                    pos: 31102
                    length: 42
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: 'throw new IllegalArgumentException("Conflicting externs
                        name: " + name);'
                    children: []
                    pos: 31153
                    length: 72
                  pos: 31145
                  length: 86
                pos: 31099
                length: 132
              - type: local_variable_declaration
                fields:
                  text: CompilerInput input = new CompilerInput(ast, true);
                children: []
                pos: 31236
                length: 51
              - type: expression_statement
                fields:
                  text: putCompilerInput(input.getInputId(), input);
                children: []
                pos: 31292
                length: 44
              - type: expression_statement
                fields:
                  text: externsRoot.addChildToFront(ast.getAstRoot(this));
                children: []
                pos: 31341
                length: 50
              - type: expression_statement
                fields:
                  text: externs.add(0, input);
                children: []
                pos: 31396
                length: 22
              - type: return_statement
                fields:
                  text: return input;
                children: []
                pos: 31423
                length: 13
              pos: 31049
              length: 391
          children: []
          pos: 30988
          length: 452
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: putCompilerInput
              children: []
              pos: 31466
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: InputId id
                children: []
                pos: 31483
                length: 10
              pos: 31444
              length: 144
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: input.setCompiler(this);
                children: []
                pos: 31522
                length: 24
              - type: return_statement
                fields:
                  text: return inputsById.put(id, input);
                children: []
                pos: 31551
                length: 33
              pos: 31516
              length: 72
          children: []
          pos: 31444
          length: 144
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: addIncrementalSourceAst
              children: []
              pos: 31676
              length: 23
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JsAst ast
                children: []
                pos: 31700
                length: 9
              pos: 31671
              length: 220
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: InputId id = ast.getInputId();
                children: []
                pos: 31717
                length: 30
              - type: expression_statement
                fields:
                  text: Preconditions.checkState(getInput(id) == null, "Duplicate
                    input %s", id.getIdName());
                children: []
                pos: 31752
                length: 85
              - type: expression_statement
                fields:
                  text: putCompilerInput(id, new CompilerInput(ast));
                children: []
                pos: 31842
                length: 45
              pos: 31711
              length: 180
          children: []
          pos: 31671
          length: 220
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: replaceIncrementalSourceAst
              children: []
              pos: 32174
              length: 27
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JsAst ast
                children: []
                pos: 32202
                length: 9
              pos: 32166
              length: 1089
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: CompilerInput oldInput = getInput(ast.getInputId());
                children: []
                pos: 32219
                length: 52
              - type: expression_statement
                fields:
                  text: 'Preconditions.checkNotNull(oldInput, "No input to replace:
                    %s", ast.getInputId().getIdName());'
                children: []
                pos: 32276
                length: 94
              - type: local_variable_declaration
                fields:
                  text: Node newRoot = ast.getAstRoot(this);
                children: []
                pos: 32375
                length: 36
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: newRoot
                            children: []
                            pos: 32420
                            length: 7
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 32431
                            length: 4
                        children: []
                        pos: 32420
                        length: 15
                    children: []
                    pos: 32419
                    length: 17
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return false;
                    children: []
                    pos: 32445
                    length: 13
                  pos: 32437
                  length: 27
                pos: 32416
                length: 48
              - type: local_variable_declaration
                fields:
                  text: Node oldRoot = oldInput.getAstRoot(this);
                children: []
                pos: 32470
                length: 41
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: oldRoot
                            children: []
                            pos: 32520
                            length: 7
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 32531
                            length: 4
                        children: []
                        pos: 32520
                        length: 15
                    children: []
                    pos: 32519
                    length: 17
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: oldRoot.getParent().replaceChild(oldRoot, newRoot);
                    children: []
                    pos: 32545
                    length: 51
                  pos: 32537
                  length: 65
                pos: 32516
                length: 155
              - type: local_variable_declaration
                fields:
                  text: CompilerInput newInput = new CompilerInput(ast);
                children: []
                pos: 32677
                length: 48
              - type: expression_statement
                fields:
                  text: putCompilerInput(ast.getInputId(), newInput);
                children: []
                pos: 32730
                length: 45
              - type: local_variable_declaration
                fields:
                  text: JSModule module = oldInput.getModule();
                children: []
                pos: 32781
                length: 39
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: module
                            children: []
                            pos: 32829
                            length: 6
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 32839
                            length: 4
                        children: []
                        pos: 32829
                        length: 14
                    children: []
                    pos: 32828
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: module.addAfter(newInput, oldInput);
                    children: []
                    pos: 32853
                    length: 36
                  - type: expression_statement
                    fields:
                      text: module.remove(oldInput);
                    children: []
                    pos: 32896
                    length: 24
                  pos: 32845
                  length: 81
                pos: 32825
                length: 101
              - type: expression_statement
                fields:
                  text: |-
                    Preconditions.checkState(
                            newInput.getInputId().equals(oldInput.getInputId()));
                children: []
                pos: 32976
                length: 87
              - type: local_variable_declaration
                fields:
                  text: InputId inputIdOnAst = newInput.getAstRoot(this).getInputId();
                children: []
                pos: 33068
                length: 62
              - type: expression_statement
                fields:
                  text: Preconditions.checkState(newInput.getInputId().equals(inputIdOnAst));
                children: []
                pos: 33135
                length: 69
              - type: expression_statement
                fields:
                  text: inputs.remove(oldInput);
                children: []
                pos: 33210
                length: 24
              - type: return_statement
                fields:
                  text: return true;
                children: []
                pos: 33239
                length: 12
              pos: 32213
              length: 1042
          children: []
          pos: 32166
          length: 1089
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: addNewSourceAst
              children: []
              pos: 33660
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JsAst ast
                children: []
                pos: 33676
                length: 9
              pos: 33652
              length: 701
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: CompilerInput oldInput = getInput(ast.getInputId());
                children: []
                pos: 33693
                length: 52
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: oldInput
                            children: []
                            pos: 33754
                            length: 8
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 33766
                            length: 4
                        children: []
                        pos: 33754
                        length: 16
                    children: []
                    pos: 33753
                    length: 18
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: |-
                        throw new IllegalStateException(
                                  "Input already exists: " + ast.getInputId().getIdName());
                    children: []
                    pos: 33780
                    length: 100
                  pos: 33772
                  length: 114
                pos: 33750
                length: 136
              - type: local_variable_declaration
                fields:
                  text: Node newRoot = ast.getAstRoot(this);
                children: []
                pos: 33891
                length: 36
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: newRoot
                            children: []
                            pos: 33936
                            length: 7
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 33947
                            length: 4
                        children: []
                        pos: 33936
                        length: 15
                    children: []
                    pos: 33935
                    length: 17
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return false;
                    children: []
                    pos: 33961
                    length: 13
                  pos: 33953
                  length: 27
                pos: 33932
                length: 48
              - type: expression_statement
                fields:
                  text: getRoot().getLastChild().addChildToBack(newRoot);
                children: []
                pos: 33986
                length: 49
              - type: local_variable_declaration
                fields:
                  text: CompilerInput newInput = new CompilerInput(ast);
                children: []
                pos: 34041
                length: 48
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: and
                        fields:
                          left:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: moduleGraph
                                children: []
                                pos: 34168
                                length: 11
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 34183
                                length: 4
                            children: []
                            pos: 34168
                            length: 19
                          right:
                            type: unary_expression
                            fields:
                              text: "!modules.isEmpty()"
                            children: []
                            pos: 34191
                            length: 18
                        children: []
                        pos: 34168
                        length: 41
                    children: []
                    pos: 34167
                    length: 43
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: modules.get(0).add(newInput);
                    children: []
                    pos: 34245
                    length: 29
                  pos: 34211
                  length: 69
                pos: 34164
                length: 116
              - type: expression_statement
                fields:
                  text: putCompilerInput(ast.getInputId(), newInput);
                children: []
                pos: 34286
                length: 45
              - type: return_statement
                fields:
                  text: return true;
                children: []
                pos: 34337
                length: 12
              pos: 33687
              length: 666
          children: []
          pos: 33652
          length: 701
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getModuleGraph
              children: []
              pos: 34383
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 34357
              length: 72
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return moduleGraph;
                children: []
                pos: 34406
                length: 19
              pos: 34400
              length: 29
          children: []
          pos: 34357
          length: 72
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getDegenerateModuleGraph
              children: []
              pos: 34588
              length: 24
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 34574
              length: 121
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: 'return moduleGraph == null ? new JSModuleGraph(modules) :
                    moduleGraph;'
                children: []
                pos: 34621
                length: 70
              pos: 34615
              length: 80
          children: []
          pos: 34574
          length: 121
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getTypeRegistry
              children: []
              pos: 34733
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 34699
              length: 199
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: typeRegistry
                            children: []
                            pos: 34761
                            length: 12
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 34777
                            length: 4
                        children: []
                        pos: 34761
                        length: 20
                    children: []
                    pos: 34760
                    length: 22
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: typeRegistry = new JSTypeRegistry(oldErrorReporter, options.looseTypes);
                    children: []
                    pos: 34791
                    length: 72
                  pos: 34783
                  length: 86
                pos: 34757
                length: 112
              - type: return_statement
                fields:
                  text: return typeRegistry;
                children: []
                pos: 34874
                length: 20
              pos: 34751
              length: 147
          children: []
          pos: 34699
          length: 199
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getTypedScopeCreator
              children: []
              pos: 34942
              length: 20
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 34902
              length: 119
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getPassConfig().getTypedScopeCreator();
                children: []
                pos: 34971
                length: 46
              pos: 34965
              length: 56
          children: []
          pos: 34902
          length: 119
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: ensureDefaultPassConfig
              children: []
              pos: 35076
              length: 23
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 35025
              length: 322
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: PassConfig passes = getPassConfig().getBasePassConfig();
                children: []
                pos: 35108
                length: 56
              - type: expression_statement
                fields:
                  text: |-
                    Preconditions.checkState(passes instanceof DefaultPassConfig,
                            "PassConfigs must eventually delegate to the DefaultPassConfig");
                children: []
                pos: 35169
                length: 135
              - type: return_statement
                fields:
                  text: return (DefaultPassConfig) passes;
                children: []
                pos: 35309
                length: 34
              pos: 35102
              length: 245
          children: []
          pos: 35025
          length: 322
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: buildKnownSymbolTable
              children: []
              pos: 35370
              length: 21
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 35351
              length: 1389
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: SymbolTable symbolTable = new SymbolTable(getTypeRegistry());
                children: []
                pos: 35400
                length: 61
              - type: local_variable_declaration
                fields:
                  text: MemoizedScopeCreator typedScopeCreator = getTypedScopeCreator();
                children: []
                pos: 35467
                length: 64
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: typedScopeCreator
                            children: []
                            pos: 35540
                            length: 17
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 35561
                            length: 4
                        children: []
                        pos: 35540
                        length: 25
                    children: []
                    pos: 35539
                    length: 27
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: symbolTable.addScopes(typedScopeCreator.getAllMemoizedScopes());
                    children: []
                    pos: 35575
                    length: 64
                  - type: expression_statement
                    fields:
                      text: symbolTable.addSymbolsFrom(typedScopeCreator);
                    children: []
                    pos: 35646
                    length: 46
                  pos: 35567
                  length: 131
                pos: 35536
                length: 232
              - type: local_variable_declaration
                fields:
                  text: |-
                    GlobalNamespace globalNamespace =
                            ensureDefaultPassConfig().getGlobalNamespace();
                children: []
                pos: 35774
                length: 89
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: globalNamespace
                            children: []
                            pos: 35872
                            length: 15
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 35891
                            length: 4
                        children: []
                        pos: 35872
                        length: 23
                    children: []
                    pos: 35871
                    length: 25
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: symbolTable.addSymbolsFrom(globalNamespace);
                    children: []
                    pos: 35905
                    length: 44
                  pos: 35897
                  length: 58
                pos: 35868
                length: 87
              - type: local_variable_declaration
                fields:
                  text: |-
                    ReferenceCollectingCallback refCollector =
                            new ReferenceCollectingCallback(
                                this, ReferenceCollectingCallback.DO_NOTHING_BEHAVIOR);
                children: []
                pos: 35961
                length: 151
              - type: expression_statement
                fields:
                  text: NodeTraversal.traverse(this, getRoot(), refCollector);
                children: []
                pos: 36117
                length: 54
              - type: expression_statement
                fields:
                  text: symbolTable.addSymbolsFrom(refCollector);
                children: []
                pos: 36176
                length: 41
              - type: local_variable_declaration
                fields:
                  text: |-
                    PreprocessorSymbolTable preprocessorSymbolTable =
                            ensureDefaultPassConfig().getPreprocessorSymbolTable();
                children: []
                pos: 36223
                length: 113
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: preprocessorSymbolTable
                            children: []
                            pos: 36345
                            length: 23
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 36372
                            length: 4
                        children: []
                        pos: 36345
                        length: 31
                    children: []
                    pos: 36344
                    length: 33
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: symbolTable.addSymbolsFrom(preprocessorSymbolTable);
                    children: []
                    pos: 36386
                    length: 52
                  pos: 36378
                  length: 66
                pos: 36341
                length: 103
              - type: expression_statement
                fields:
                  text: symbolTable.fillNamespaceReferences();
                children: []
                pos: 36450
                length: 38
              - type: expression_statement
                fields:
                  text: symbolTable.fillPropertyScopes();
                children: []
                pos: 36493
                length: 33
              - type: expression_statement
                fields:
                  text: symbolTable.fillThisReferences(this, externsRoot, jsRoot);
                children: []
                pos: 36531
                length: 58
              - type: expression_statement
                fields:
                  text: symbolTable.fillPropertySymbols(this, externsRoot, jsRoot);
                children: []
                pos: 36594
                length: 59
              - type: expression_statement
                fields:
                  text: symbolTable.fillJSDocInfo(this, externsRoot, jsRoot);
                children: []
                pos: 36658
                length: 53
              - type: return_statement
                fields:
                  text: return symbolTable;
                children: []
                pos: 36717
                length: 19
              pos: 35394
              length: 1346
          children: []
          pos: 35351
          length: 1389
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getTopScope
              children: []
              pos: 36769
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 36744
              length: 86
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getPassConfig().getTopScope();
                children: []
                pos: 36789
                length: 37
              pos: 36783
              length: 47
          children: []
          pos: 36744
          length: 86
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getReverseAbstractInterpreter
              children: []
              pos: 36880
              length: 29
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 36834
              length: 565
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: abstractInterpreter
                            children: []
                            pos: 36922
                            length: 19
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 36945
                            length: 4
                        children: []
                        pos: 36922
                        length: 27
                    children: []
                    pos: 36921
                    length: 29
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: |-
                        ChainableReverseAbstractInterpreter interpreter =
                                  new SemanticReverseAbstractInterpreter(
                                      getCodingConvention(), getTypeRegistry());
                    children: []
                    pos: 36959
                    length: 156
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: field_access
                            fields:
                              text: options.closurePass
                            children: []
                            pos: 37126
                            length: 19
                        children: []
                        pos: 37125
                        length: 21
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: |-
                            interpreter = new ClosureReverseAbstractInterpreter(
                                        getCodingConvention(), getTypeRegistry())
                                        .append(interpreter).getFirst();
                        children: []
                        pos: 37157
                        length: 151
                      pos: 37147
                      length: 169
                    pos: 37122
                    length: 194
                  - type: expression_statement
                    fields:
                      text: abstractInterpreter = interpreter;
                    children: []
                    pos: 37323
                    length: 34
                  pos: 36951
                  length: 412
                pos: 36918
                length: 445
              - type: return_statement
                fields:
                  text: return abstractInterpreter;
                children: []
                pos: 37368
                length: 27
              pos: 36912
              length: 487
          children: []
          pos: 36834
          length: 565
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getTypeValidator
              children: []
              pos: 37429
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 37403
              length: 162
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: typeValidator
                            children: []
                            pos: 37458
                            length: 13
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 37475
                            length: 4
                        children: []
                        pos: 37458
                        length: 21
                    children: []
                    pos: 37457
                    length: 23
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: typeValidator = new TypeValidator(this);
                    children: []
                    pos: 37489
                    length: 40
                  pos: 37481
                  length: 54
                pos: 37454
                length: 81
              - type: return_statement
                fields:
                  text: return typeValidator;
                children: []
                pos: 37540
                length: 21
              pos: 37448
              length: 117
          children: []
          pos: 37403
          length: 162
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: parseInputs
              children: []
              pos: 37902
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 37897
              length: 4461
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: boolean devMode = options.devMode != DevMode.OFF;
                children: []
                pos: 37922
                length: 49
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: externsRoot
                            children: []
                            pos: 38094
                            length: 11
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 38109
                            length: 4
                        children: []
                        pos: 38094
                        length: 19
                    children: []
                    pos: 38093
                    length: 21
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: externsRoot.detachChildren();
                    children: []
                    pos: 38123
                    length: 29
                  pos: 38115
                  length: 43
                pos: 38090
                length: 68
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: jsRoot
                            children: []
                            pos: 38167
                            length: 6
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 38177
                            length: 4
                        children: []
                        pos: 38167
                        length: 14
                    children: []
                    pos: 38166
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: jsRoot.detachChildren();
                    children: []
                    pos: 38191
                    length: 24
                  pos: 38183
                  length: 38
                pos: 38163
                length: 58
              - type: expression_statement
                fields:
                  text: jsRoot = IR.block();
                children: []
                pos: 38257
                length: 20
              - type: expression_statement
                fields:
                  text: jsRoot.setIsSyntheticBlock(true);
                children: []
                pos: 38282
                length: 33
              - type: expression_statement
                fields:
                  text: externsRoot = IR.block();
                children: []
                pos: 38321
                length: 25
              - type: expression_statement
                fields:
                  text: externsRoot.setIsSyntheticBlock(true);
                children: []
                pos: 38351
                length: 38
              - type: expression_statement
                fields:
                  text: externAndJsRoot = IR.block(externsRoot, jsRoot);
                children: []
                pos: 38395
                length: 48
              - type: expression_statement
                fields:
                  text: externAndJsRoot.setIsSyntheticBlock(true);
                children: []
                pos: 38448
                length: 42
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: options.tracer.isOn()
                        children: []
                        pos: 38500
                        length: 21
                    children: []
                    pos: 38499
                    length: 23
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: tracker = new PerformanceTracker(jsRoot, options.tracer);
                    children: []
                    pos: 38531
                    length: 57
                  - type: expression_statement
                    fields:
                      text: addChangeHandler(tracker.getCodeChangeHandler());
                    children: []
                    pos: 38595
                    length: 49
                  pos: 38523
                  length: 127
                pos: 38496
                length: 154
              - type: local_variable_declaration
                fields:
                  text: Tracer tracer = newTracer("parseInputs");
                children: []
                pos: 38656
                length: 41
              - type: try_statement
                fields:
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: enhanced_for_statement
                      fields:
                        text: |-
                          for (CompilerInput input : externs) {
                                  Node n = input.getAstRoot(this);
                                  if (hasErrors()) {
                                    return null;
                                  }
                                  externsRoot.addChildToBack(n);
                                }
                      children: []
                      pos: 38747
                      length: 185
                    - type: if_statement
                      fields:
                        condition:
                          type: parenthesized_expression
                          fields:
                            expression:
                              type: or
                              fields:
                                left:
                                  type: field_access
                                  fields:
                                    text: options.transformAMDToCJSModules
                                  children: []
                                  pos: 38995
                                  length: 32
                                right:
                                  type: field_access
                                  fields:
                                    text: options.processCommonJSModules
                                  children: []
                                  pos: 39031
                                  length: 30
                              children: []
                              pos: 38995
                              length: 66
                          children: []
                          pos: 38994
                          length: 68
                      children:
                      - type: block
                        fields: {}
                        children:
                        - type: expression_statement
                          fields:
                            text: processAMDAndCommonJSModules();
                          children: []
                          pos: 39073
                          length: 31
                        pos: 39063
                        length: 49
                      pos: 38991
                      length: 121
                    - type: local_variable_declaration
                      fields:
                        text: boolean staleInputs = false;
                      children: []
                      pos: 39178
                      length: 28
                    - type: if_statement
                      fields:
                        condition:
                          type: parenthesized_expression
                          fields:
                            expression:
                              type: and
                              fields:
                                left:
                                  type: method_invocation
                                  fields:
                                    text: options.dependencyOptions.needsManagement()
                                  children: []
                                  pos: 39271
                                  length: 43
                                right:
                                  type: field_access
                                  fields:
                                    text: options.closurePass
                                  children: []
                                  pos: 39328
                                  length: 19
                              children: []
                              pos: 39271
                              length: 76
                          children: []
                          pos: 39270
                          length: 78
                      children:
                      - type: block
                        fields: {}
                        children:
                        - type: enhanced_for_statement
                          fields:
                            text: |-
                              for (CompilerInput input : inputs) {
                                        // Forward-declare all the provided types, so that they
                                        // are not flagged even if they are dropped from the process.
                                        for (String provide : input.getProvides()) {
                                          getTypeRegistry().forwardDeclareType(provide);
                                        }
                                      }
                          children: []
                          pos: 39359
                          length: 310
                        - type: try_statement
                          fields:
                            body:
                              type: block
                              fields: {}
                              children:
                              - type: expression_statement
                                fields:
                                  text: |-
                                    inputs =
                                                  (moduleGraph == null ? new JSModuleGraph(modules) : moduleGraph)
                                                  .manageDependencies(options.dependencyOptions, inputs);
                                children: []
                                pos: 39695
                                length: 157
                              - type: expression_statement
                                fields:
                                  text: staleInputs = true;
                                children: []
                                pos: 39863
                                length: 19
                              pos: 39683
                              length: 209
                            excepts:
                              type: excepts
                              fields: {}
                              children:
                              - type: catch_clause
                                fields:
                                  text: |-
                                    catch (CircularDependencyException e) {
                                              report(JSError.make(
                                                  JSModule.CIRCULAR_DEPENDENCY_ERROR, e.getMessage()));

                                              // If in IDE mode, we ignore the error and keep going.
                                              if (hasErrors()) {
                                                return null;
                                              }
                                            }
                                children: []
                                pos: 39893
                                length: 280
                              - type: catch_clause
                                fields:
                                  text: |-
                                    catch (MissingProvideException e) {
                                              report(JSError.make(
                                                  MISSING_ENTRY_ERROR, e.getMessage()));

                                              // If in IDE mode, we ignore the error and keep going.
                                              if (hasErrors()) {
                                                return null;
                                              }
                                            }
                                children: []
                                pos: 40174
                                length: 261
                              pos: 39679
                              length: 756
                          children: []
                          pos: 39679
                          length: 756
                        pos: 39349
                        length: 1094
                      pos: 39267
                      length: 1176
                    - type: enhanced_for_statement
                      fields:
                        text: |-
                          for (CompilerInput input : inputs) {
                                  Node n = input.getAstRoot(this);

                                  // Inputs can have a null AST during initial parse.
                                  if (n == null) {
                                    continue;
                                  }

                                  if (n.getJSDocInfo() != null) {
                                    JSDocInfo info = n.getJSDocInfo();
                                    if (info.isExterns()) {
                                      // If the input file is explicitly marked as an externs file, then
                                      // assume the programmer made a mistake and throw it into
                                      // the externs pile anyways.
                                      externsRoot.addChildToBack(n);
                                      input.setIsExtern(true);

                                      input.getModule().remove(input);

                                      externs.add(input);
                                      staleInputs = true;
                                    } else if (info.isNoCompile()) {
                                      input.getModule().remove(input);
                                      staleInputs = true;
                                    }
                                  }
                                }
                      children: []
                      pos: 40451
                      length: 844
                    - type: if_statement
                      fields:
                        condition:
                          type: parenthesized_expression
                          fields:
                            expression:
                              type: identifier
                              fields:
                                text: staleInputs
                              children: []
                              pos: 41307
                              length: 11
                          children: []
                          pos: 41306
                          length: 13
                      children:
                      - type: block
                        fields: {}
                        children:
                        - type: expression_statement
                          fields:
                            text: fillEmptyModules(modules);
                          children: []
                          pos: 41330
                          length: 26
                        - type: expression_statement
                          fields:
                            text: rebuildInputsFromModules();
                          children: []
                          pos: 41365
                          length: 27
                        pos: 41320
                        length: 80
                      pos: 41303
                      length: 97
                    - type: enhanced_for_statement
                      fields:
                        text: |-
                          for (CompilerInput input : inputs) {
                                  Node n = input.getAstRoot(this);
                                  if (n == null) {
                                    continue;
                                  }

                                  if (devMode) {
                                    runSanityCheck();
                                    if (hasErrors()) {
                                      return null;
                                    }
                                  }

                                  if (options.sourceMapOutputPath != null ||
                                      options.nameReferenceReportPath != null) {

                                    // Annotate the nodes in the tree with information from the
                                    // input file. This information is used to construct the SourceMap.
                                    SourceInformationAnnotator sia =
                                        new SourceInformationAnnotator(
                                            input.getName(), options.devMode != DevMode.OFF);
                                    NodeTraversal.traverse(this, n, sia);
                                  }

                                  jsRoot.addChildToBack(n);
                                }
                      children: []
                      pos: 41432
                      length: 774
                    - type: if_statement
                      fields:
                        condition:
                          type: parenthesized_expression
                          fields:
                            expression:
                              type: method_invocation
                              fields:
                                text: hasErrors()
                              children: []
                              pos: 42218
                              length: 11
                          children: []
                          pos: 42217
                          length: 13
                      children:
                      - type: block
                        fields: {}
                        children:
                        - type: return_statement
                          fields:
                            text: return null;
                          children: []
                          pos: 42241
                          length: 12
                        pos: 42231
                        length: 30
                      pos: 42214
                      length: 47
                    - type: return_statement
                      fields:
                        text: return externAndJsRoot;
                      children: []
                      pos: 42268
                      length: 23
                    pos: 38707
                    length: 3590
                  excepts:
                    type: excepts
                    fields: {}
                    children: []
                    pos: 38703
                    length: 3651
                children: []
                pos: 38703
                length: 3651
              pos: 37916
              length: 4442
          children: []
          pos: 37897
          length: 4461
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: processAMDAndCommonJSModules
              children: []
              pos: 42539
              length: 28
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 42534
              length: 2170
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: Map<String, JSModule> modulesByName = Maps.newLinkedHashMap();
                children: []
                pos: 42576
                length: 62
              - type: local_variable_declaration
                fields:
                  text: Map<CompilerInput, JSModule> modulesByInput = Maps.newLinkedHashMap();
                children: []
                pos: 42643
                length: 70
              - type: enhanced_for_statement
                fields:
                  text: |-
                    for (CompilerInput input : inputs) {
                          input.setCompiler(this);
                          Node root = input.getAstRoot(this);
                          if (root == null) {
                            continue;
                          }
                          if (options.transformAMDToCJSModules) {
                            new TransformAMDToCJSModule(this).process(null, root);
                          }
                          if (options.processCommonJSModules) {
                            ProcessCommonJSModules cjs = new ProcessCommonJSModules(this,
                                options.commonJSModulePathPrefix);
                            cjs.process(null, root);
                            JSModule m = cjs.getModule();
                            if (m != null) {
                              modulesByName.put(m.getName(), m);
                              modulesByInput.put(input, m);
                            }
                          }
                        }
                children: []
                pos: 42978
                length: 644
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: field_access
                        fields:
                          text: options.processCommonJSModules
                        children: []
                        pos: 43631
                        length: 30
                    children: []
                    pos: 43630
                    length: 32
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: List<JSModule> modules = Lists.newArrayList(modulesByName.values());
                    children: []
                    pos: 43671
                    length: 68
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: unary_expression
                            fields:
                              text: "!modules.isEmpty()"
                            children: []
                            pos: 43750
                            length: 18
                        children: []
                        pos: 43749
                        length: 20
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: this.modules = modules;
                        children: []
                        pos: 43780
                        length: 23
                      - type: expression_statement
                        fields:
                          text: this.moduleGraph = new JSModuleGraph(this.modules);
                        children: []
                        pos: 43812
                        length: 51
                      pos: 43770
                      length: 101
                    pos: 43746
                    length: 125
                  - type: enhanced_for_statement
                    fields:
                      text: |-
                        for (JSModule module : modules) {
                                for (CompilerInput input : module.getInputs()) {
                                  for (String require : input.getRequires()) {
                                    JSModule dependency = modulesByName.get(require);
                                    if (dependency == null) {
                                      report(JSError.make(MISSING_ENTRY_ERROR, require));
                                    } else {
                                      module.addDependency(dependency);
                                    }
                                  }
                                }
                              }
                    children: []
                    pos: 43878
                    length: 424
                  - type: try_statement
                    fields:
                      body:
                        type: block
                        fields: {}
                        children:
                        - type: expression_statement
                          fields:
                            text: modules = Lists.newArrayList();
                          children: []
                          pos: 44323
                          length: 31
                        - type: enhanced_for_statement
                          fields:
                            text: |-
                              for (CompilerInput input : this.moduleGraph.manageDependencies(
                                          options.dependencyOptions, inputs)) {
                                        modules.add(modulesByInput.get(input));
                                      }
                          children: []
                          pos: 44363
                          length: 173
                        - type: expression_statement
                          fields:
                            text: this.modules = modules;
                          children: []
                          pos: 44545
                          length: 23
                        - type: expression_statement
                          fields:
                            text: this.moduleGraph = new JSModuleGraph(modules);
                          children: []
                          pos: 44577
                          length: 46
                        pos: 44313
                        length: 318
                      excepts:
                        type: excepts
                        fields: {}
                        children:
                        - type: catch_clause
                          fields:
                            text: |-
                              catch (Exception e) {
                                      Throwables.propagate(e);
                                    }
                          children: []
                          pos: 44632
                          length: 62
                        pos: 44309
                        length: 385
                    children: []
                    pos: 44309
                    length: 385
                  pos: 43663
                  length: 1037
                pos: 43627
                length: 1073
              pos: 42570
              length: 2134
          children: []
          pos: 42534
          length: 2170
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: parse
              children: []
              pos: 44720
              length: 5
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: SourceFile file
                children: []
                pos: 44726
                length: 15
              pos: 44708
              length: 170
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: initCompilerOptionsIfTesting();
                children: []
                pos: 44749
                length: 31
              - type: expression_statement
                fields:
                  text: 'addToDebugLog("Parsing: " + file.getName());'
                children: []
                pos: 44785
                length: 44
              - type: return_statement
                fields:
                  text: return new JsAst(file).getAstRoot(this);
                children: []
                pos: 44834
                length: 40
              pos: 44743
              length: 135
          children: []
          pos: 44708
          length: 170
        - type: field_declaration
          fields:
            text: private int syntheticCodeId = 0;
          children: []
          pos: 44882
          length: 32
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: parseSyntheticCode
              children: []
              pos: 44935
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String js
                children: []
                pos: 44954
                length: 9
              pos: 44918
              length: 260
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: |-
                    CompilerInput input = new CompilerInput(
                            SourceFile.fromCode(" [synthetic:" + (++syntheticCodeId) + "] ", js));
                children: []
                pos: 44971
                length: 119
              - type: expression_statement
                fields:
                  text: putCompilerInput(input.getInputId(), input);
                children: []
                pos: 45095
                length: 44
              - type: return_statement
                fields:
                  text: return input.getAstRoot(this);
                children: []
                pos: 45144
                length: 30
              pos: 44965
              length: 213
          children: []
          pos: 44918
          length: 260
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: newCompilerOptions
              children: []
              pos: 45289
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 45263
              length: 86
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return new CompilerOptions();
                children: []
                pos: 45316
                length: 29
              pos: 45310
              length: 39
          children: []
          pos: 45263
          length: 86
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: initCompilerOptionsIfTesting
              children: []
              pos: 45358
              length: 28
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 45353
              length: 219
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: options
                            children: []
                            pos: 45399
                            length: 7
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 45410
                            length: 4
                        children: []
                        pos: 45399
                        length: 15
                    children: []
                    pos: 45398
                    length: 17
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: initOptions(newCompilerOptions());
                    children: []
                    pos: 45528
                    length: 34
                  pos: 45416
                  length: 152
                pos: 45395
                length: 173
              pos: 45389
              length: 183
          children: []
          pos: 45353
          length: 219
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: parseSyntheticCode
              children: []
              pos: 45593
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String fileName
                children: []
                pos: 45612
                length: 15
              pos: 45576
              length: 158
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: initCompilerOptionsIfTesting();
                children: []
                pos: 45646
                length: 31
              - type: return_statement
                fields:
                  text: return parse(SourceFile.fromCode(fileName, js));
                children: []
                pos: 45682
                length: 48
              pos: 45640
              length: 94
          children: []
          pos: 45576
          length: 158
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: parseTestCode
              children: []
              pos: 45755
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String js
                children: []
                pos: 45769
                length: 9
              pos: 45738
              length: 334
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: initCompilerOptionsIfTesting();
                children: []
                pos: 45786
                length: 31
              - type: local_variable_declaration
                fields:
                  text: |-
                    CompilerInput input = new CompilerInput(
                            SourceFile.fromCode("[testcode]", js));
                children: []
                pos: 45822
                length: 88
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: inputsById
                            children: []
                            pos: 45919
                            length: 10
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 45933
                            length: 4
                        children: []
                        pos: 45919
                        length: 18
                    children: []
                    pos: 45918
                    length: 20
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: inputsById = Maps.newHashMap();
                    children: []
                    pos: 45947
                    length: 31
                  pos: 45939
                  length: 45
                pos: 45915
                length: 69
              - type: expression_statement
                fields:
                  text: putCompilerInput(input.getInputId(), input);
                children: []
                pos: 45989
                length: 44
              - type: return_statement
                fields:
                  text: return input.getAstRoot(this);
                children: []
                pos: 46038
                length: 30
              pos: 45780
              length: 292
          children: []
          pos: 45738
          length: 334
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getDefaultErrorReporter
              children: []
              pos: 46102
              length: 23
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 46076
              length: 90
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return defaultErrorReporter;
                children: []
                pos: 46134
                length: 28
              pos: 46128
              length: 38
          children: []
          pos: 46076
          length: 90
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: toSource
              children: []
              pos: 46435
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 46421
              length: 651
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return runInCompilerThread(new Callable<String>() {
                          @Override
                          public String call() throws Exception {
                            Tracer tracer = newTracer("toSource");
                            try {
                              CodeBuilder cb = new CodeBuilder();
                              if (jsRoot != null) {
                                int i = 0;
                                for (Node scriptNode = jsRoot.getFirstChild();
                                     scriptNode != null;
                                     scriptNode = scriptNode.getNext()) {
                                  toSource(cb, i++, scriptNode);
                                }
                              }
                              return cb.toString();
                            } finally {
                              stopTracer(tracer, "toSource");
                            }
                          }
                        });
                children: []
                pos: 46452
                length: 616
              pos: 46446
              length: 626
          children: []
          pos: 46421
          length: 651
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: toSourceArray
              children: []
              pos: 47165
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 47149
              length: 719
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return runInCompilerThread(new Callable<String[]>() {
                          @Override
                          public String[] call() throws Exception {
                            Tracer tracer = newTracer("toSourceArray");
                            try {
                              int numInputs = inputs.size();
                              String[] sources = new String[numInputs];
                              CodeBuilder cb = new CodeBuilder();
                              for (int i = 0; i < numInputs; i++) {
                                Node scriptNode = inputs.get(i).getAstRoot(Compiler.this);
                                cb.reset();
                                toSource(cb, i, scriptNode);
                                sources[i] = cb.toString();
                              }
                              return sources;
                            } finally {
                              stopTracer(tracer, "toSourceArray");
                            }
                          }
                        });
                children: []
                pos: 47187
                length: 677
              pos: 47181
              length: 687
          children: []
          pos: 47149
          length: 719
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: toSource
              children: []
              pos: 47957
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final JSModule module
                children: []
                pos: 47966
                length: 21
              pos: 47943
              length: 728
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return runInCompilerThread(new Callable<String>() {
                          @Override
                          public String call() throws Exception {
                            List<CompilerInput> inputs = module.getInputs();
                            int numInputs = inputs.size();
                            if (numInputs == 0) {
                              return "";
                            }
                            CodeBuilder cb = new CodeBuilder();
                            for (int i = 0; i < numInputs; i++) {
                              Node scriptNode = inputs.get(i).getAstRoot(Compiler.this);
                              if (scriptNode == null) {
                                throw new IllegalArgumentException(
                                    "Bad module: " + module.getName());
                              }
                              toSource(cb, i, scriptNode);
                            }
                            return cb.toString();
                          }
                        });
                children: []
                pos: 47995
                length: 672
              pos: 47989
              length: 682
          children: []
          pos: 47943
          length: 728
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: toSourceArray
              children: []
              pos: 48777
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final JSModule module
                children: []
                pos: 48791
                length: 21
              pos: 48761
              length: 869
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return runInCompilerThread(new Callable<String[]>() {
                          @Override
                          public String[] call() throws Exception {
                            List<CompilerInput> inputs = module.getInputs();
                            int numInputs = inputs.size();
                            if (numInputs == 0) {
                              return new String[0];
                            }

                            String[] sources = new String[numInputs];
                            CodeBuilder cb = new CodeBuilder();
                            for (int i = 0; i < numInputs; i++) {
                              Node scriptNode = inputs.get(i).getAstRoot(Compiler.this);
                              if (scriptNode == null) {
                                throw new IllegalArgumentException(
                                    "Bad module input: " + inputs.get(i).getName());
                              }

                              cb.reset();
                              toSource(cb, i, scriptNode);
                              sources[i] = cb.toString();
                            }
                            return sources;
                          }
                        });
                children: []
                pos: 48820
                length: 806
              pos: 48814
              length: 816
          children: []
          pos: 48761
          length: 869
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: toSource
              children: []
              pos: 49999
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final CodeBuilder cb
                children: []
                pos: 50008
                length: 20
              pos: 49987
              length: 2422
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: |-
                    runInCompilerThread(new Callable<Void>() {
                          @Override
                          public Void call() throws Exception {
                            if (options.printInputDelimiter) {
                              if ((cb.getLength() > 0) && !cb.endsWith("\n")) {
                                cb.append("\n");  // Make sure that the label starts on a new line
                              }
                              Preconditions.checkState(root.isScript());

                              String delimiter = options.inputDelimiter;

                              String inputName = root.getInputId().getIdName();
                              String sourceName = root.getSourceFileName();
                              Preconditions.checkState(sourceName != null);
                              Preconditions.checkState(!sourceName.isEmpty());

                              delimiter = delimiter
                                  .replaceAll("%name%", Matcher.quoteReplacement(inputName))
                                  .replaceAll("%num%", String.valueOf(inputSeqNum));

                              cb.append(delimiter)
                                .append("\n");
                            }
                            if (root.getJSDocInfo() != null &&
                                root.getJSDocInfo().getLicense() != null) {
                              cb.append("/*\n")
                                .append(root.getJSDocInfo().getLicense())
                                .append("*/\n");
                            }

                            // If there is a valid source map, then indicate to it that the current
                            // root node's mappings are offset by the given string builder buffer.
                            if (options.sourceMapOutputPath != null) {
                              sourceMap.setStartingPosition(
                                  cb.getLineIndex(), cb.getColumnIndex());
                            }

                            // if LanguageMode is ECMASCRIPT5_STRICT, only print 'use strict'
                            // for the first input file
                            String code = toSource(root, sourceMap, inputSeqNum == 0);
                            if (!code.isEmpty()) {
                              cb.append(code);

                              // In order to avoid parse ambiguity when files are concatenated
                              // together, all files should end in a semi-colon. Do a quick
                              // heuristic check if there's an obvious semi-colon already there.
                              int length = code.length();
                              char lastChar = code.charAt(length - 1);
                              char secondLastChar = length >= 2 ?
                                  code.charAt(length - 2) : '\0';
                              boolean hasSemiColon = lastChar == ';' ||
                                  (lastChar == '\n' && secondLastChar == ';');
                              if (!hasSemiColon) {
                                cb.append(";");
                              }
                            }
                            return null;
                          }
                        });
                children: []
                pos: 50122
                length: 2283
              pos: 50116
              length: 2293
          children: []
          pos: 49987
          length: 2422
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: toSource
              children: []
              pos: 52533
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Node n
                children: []
                pos: 52542
                length: 6
              pos: 52514
              length: 113
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: initCompilerOptionsIfTesting();
                children: []
                pos: 52556
                length: 31
              - type: return_statement
                fields:
                  text: return toSource(n, null, true);
                children: []
                pos: 52592
                length: 31
              pos: 52550
              length: 77
          children: []
          pos: 52514
          length: 113
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: toSource
              children: []
              pos: 52708
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Node n
                children: []
                pos: 52717
                length: 6
              pos: 52693
              length: 773
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: CodePrinter.Builder builder = new CodePrinter.Builder(n);
                children: []
                pos: 52773
                length: 57
              - type: expression_statement
                fields:
                  text: builder.setPrettyPrint(options.prettyPrint);
                children: []
                pos: 52835
                length: 44
              - type: expression_statement
                fields:
                  text: builder.setLineBreak(options.lineBreak);
                children: []
                pos: 52884
                length: 40
              - type: expression_statement
                fields:
                  text: builder.setPreferLineBreakAtEndOfFile(options.preferLineBreakAtEndOfFile);
                children: []
                pos: 52929
                length: 74
              - type: expression_statement
                fields:
                  text: builder.setSourceMap(sourceMap);
                children: []
                pos: 53008
                length: 32
              - type: expression_statement
                fields:
                  text: builder.setSourceMapDetailLevel(options.sourceMapDetailLevel);
                children: []
                pos: 53045
                length: 62
              - type: expression_statement
                fields:
                  text: |-
                    builder.setTagAsStrict(firstOutput &&
                            options.getLanguageOut() == LanguageMode.ECMASCRIPT5_STRICT);
                children: []
                pos: 53112
                length: 107
              - type: expression_statement
                fields:
                  text: builder.setLineLengthThreshold(options.lineLengthThreshold);
                children: []
                pos: 53224
                length: 60
              - type: local_variable_declaration
                fields:
                  text: |-
                    Charset charset = options.outputCharset != null ?
                            Charset.forName(options.outputCharset) : null;
                children: []
                pos: 53290
                length: 104
              - type: expression_statement
                fields:
                  text: builder.setOutputCharset(charset);
                children: []
                pos: 53399
                length: 34
              - type: return_statement
                fields:
                  text: return builder.build();
                children: []
                pos: 53439
                length: 23
              pos: 52767
              length: 699
          children: []
          pos: 52693
          length: 773
        - type: class_declaration
          fields:
            name:
              type: identifier
              fields:
                text: CodeBuilder
              children: []
              pos: 53649
              length: 11
            body:
              type: class_body
              fields: {}
              children:
              - type: field_declaration
                fields:
                  text: private final StringBuilder sb = new StringBuilder();
                children: []
                pos: 53667
                length: 53
              - type: field_declaration
                fields:
                  text: private int lineCount = 0;
                children: []
                pos: 53725
                length: 26
              - type: field_declaration
                fields:
                  text: private int colCount = 0;
                children: []
                pos: 53756
                length: 25
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: reset
                    children: []
                    pos: 53858
                    length: 5
                  parameters:
                    type: method_parameters
                    fields: {}
                    children: []
                    pos: 53853
                    length: 43
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: expression_statement
                      fields:
                        text: sb.setLength(0);
                      children: []
                      pos: 53874
                      length: 16
                    pos: 53866
                    length: 30
                children: []
                pos: 53853
                length: 43
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: append
                    children: []
                    pos: 53970
                    length: 6
                  parameters:
                    type: method_parameters
                    fields: {}
                    children:
                    - type: formal_parameter
                      fields:
                        text: String str
                      children: []
                      pos: 53977
                      length: 10
                    pos: 53958
                    length: 510
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: expression_statement
                      fields:
                        text: sb.append(str);
                      children: []
                      pos: 53997
                      length: 15
                    - type: local_variable_declaration
                      fields:
                        text: int index = -1;
                      children: []
                      pos: 54086
                      length: 15
                    - type: local_variable_declaration
                      fields:
                        text: int lastIndex = index;
                      children: []
                      pos: 54108
                      length: 22
                    - type: while_statement
                      fields:
                        text: |-
                          while ((index = str.indexOf('\n', index + 1)) >= 0) {
                                  ++lineCount;
                                  lastIndex = index;
                                }
                      children: []
                      pos: 54137
                      length: 109
                    - type: if_statement
                      fields:
                        condition:
                          type: parenthesized_expression
                          fields:
                            expression:
                              type: equals
                              fields:
                                left:
                                  type: identifier
                                  fields:
                                    text: lastIndex
                                  children: []
                                  pos: 54258
                                  length: 9
                                right:
                                  type: unary_expression
                                  fields:
                                    text: "-1"
                                  children: []
                                  pos: 54271
                                  length: 2
                              children: []
                              pos: 54258
                              length: 15
                          children: []
                          pos: 54257
                          length: 17
                      children:
                      - type: block
                        fields: {}
                        children:
                        - type: expression_statement
                          fields:
                            text: colCount += str.length();
                          children: []
                          pos: 54343
                          length: 25
                        pos: 54275
                        length: 101
                      pos: 54254
                      length: 188
                    - type: return_statement
                      fields:
                        text: return this;
                      children: []
                      pos: 54450
                      length: 12
                    pos: 53989
                    length: 479
                children: []
                pos: 53958
                length: 510
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: toString
                    children: []
                    pos: 54550
                    length: 8
                  parameters:
                    type: method_parameters
                    fields: {}
                    children: []
                    pos: 54522
                    length: 74
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: return_statement
                      fields:
                        text: return sb.toString();
                      children: []
                      pos: 54569
                      length: 21
                    pos: 54561
                    length: 35
                children: []
                pos: 54522
                length: 74
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: getLength
                    children: []
                    pos: 54663
                    length: 9
                  parameters:
                    type: method_parameters
                    fields: {}
                    children: []
                    pos: 54652
                    length: 56
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: return_statement
                      fields:
                        text: return sb.length();
                      children: []
                      pos: 54683
                      length: 19
                    pos: 54675
                    length: 33
                children: []
                pos: 54652
                length: 56
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: getLineIndex
                    children: []
                    pos: 54797
                    length: 12
                  parameters:
                    type: method_parameters
                    fields: {}
                    children: []
                    pos: 54793
                    length: 50
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: return_statement
                      fields:
                        text: return lineCount;
                      children: []
                      pos: 54820
                      length: 17
                    pos: 54812
                    length: 31
                children: []
                pos: 54793
                length: 50
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: getColumnIndex
                    children: []
                    pos: 54934
                    length: 14
                  parameters:
                    type: method_parameters
                    fields: {}
                    children: []
                    pos: 54930
                    length: 51
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: return_statement
                      fields:
                        text: return colCount;
                      children: []
                      pos: 54959
                      length: 16
                    pos: 54951
                    length: 30
                children: []
                pos: 54930
                length: 51
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: endsWith
                    children: []
                    pos: 55062
                    length: 8
                  parameters:
                    type: method_parameters
                    fields: {}
                    children:
                    - type: formal_parameter
                      fields:
                        text: String suffix
                      children: []
                      pos: 55071
                      length: 13
                    pos: 55054
                    length: 157
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: return_statement
                      fields:
                        text: |-
                          return (sb.length() > suffix.length())
                                    && suffix.equals(sb.substring(sb.length() - suffix.length()));
                      children: []
                      pos: 55094
                      length: 111
                    pos: 55086
                    length: 125
                children: []
                pos: 55054
                length: 157
              pos: 53629
              length: 1586
          children: []
          pos: 53629
          length: 1586
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: optimize
              children: []
              pos: 55405
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 55393
              length: 652
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: normalize();
                children: []
                pos: 55690
                length: 12
              - type: local_variable_declaration
                fields:
                  text: PhaseOptimizer phaseOptimizer = new PhaseOptimizer(this, tracker,
                    null);
                children: []
                pos: 55708
                length: 72
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: field_access
                            fields:
                              text: options.devMode
                            children: []
                            pos: 55789
                            length: 15
                          right:
                            type: field_access
                            fields:
                              text: DevMode.EVERY_PASS
                            children: []
                            pos: 55808
                            length: 18
                        children: []
                        pos: 55789
                        length: 37
                    children: []
                    pos: 55788
                    length: 39
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: phaseOptimizer.setSanityCheck(sanityCheck);
                    children: []
                    pos: 55836
                    length: 43
                  pos: 55828
                  length: 57
                pos: 55785
                length: 100
              - type: expression_statement
                fields:
                  text: phaseOptimizer.consume(getPassConfig().getOptimizations());
                children: []
                pos: 55890
                length: 59
              - type: expression_statement
                fields:
                  text: phaseOptimizer.process(externsRoot, jsRoot);
                children: []
                pos: 55954
                length: 44
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: hasErrors()
                        children: []
                        pos: 56007
                        length: 11
                    children: []
                    pos: 56006
                    length: 13
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return;
                    children: []
                    pos: 56028
                    length: 7
                  pos: 56020
                  length: 21
                pos: 56003
                length: 38
              pos: 55416
              length: 629
          children: []
          pos: 55393
          length: 652
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setCssRenamingMap
              children: []
              pos: 56066
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: CssRenamingMap map
                children: []
                pos: 56084
                length: 18
              pos: 56049
              length: 94
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: options.cssRenamingMap = map;
                children: []
                pos: 56110
                length: 29
              pos: 56104
              length: 39
          children: []
          pos: 56049
          length: 94
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getCssRenamingMap
              children: []
              pos: 56174
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 56147
              length: 87
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return options.cssRenamingMap;
                children: []
                pos: 56200
                length: 30
              pos: 56194
              length: 40
          children: []
          pos: 56147
          length: 87
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: processDefines
              children: []
              pos: 56599
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 56587
              length: 138
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: |-
                    (new DefaultPassConfig(options)).processDefines.create(this)
                            .process(externsRoot, jsRoot);
                children: []
                pos: 56622
                length: 99
              pos: 56616
              length: 109
          children: []
          pos: 56587
          length: 138
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isInliningForbidden
              children: []
              pos: 56737
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 56729
              length: 203
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return options.propertyRenaming == PropertyRenamingPolicy.HEURISTIC ||
                            options.propertyRenaming ==
                                PropertyRenamingPolicy.AGGRESSIVE_HEURISTIC;
                children: []
                pos: 56765
                length: 163
              pos: 56759
              length: 173
          children: []
          pos: 56729
          length: 203
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: computeCFG
              children: []
              pos: 56991
              length: 10
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 56968
              length: 290
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: logger.fine("Computing Control Flow Graph");
                children: []
                pos: 57010
                length: 44
              - type: local_variable_declaration
                fields:
                  text: Tracer tracer = newTracer("computeCFG");
                children: []
                pos: 57059
                length: 40
              - type: local_variable_declaration
                fields:
                  text: ControlFlowAnalysis cfa = new ControlFlowAnalysis(this, true,
                    false);
                children: []
                pos: 57104
                length: 69
              - type: expression_statement
                fields:
                  text: process(cfa);
                children: []
                pos: 57178
                length: 13
              - type: expression_statement
                fields:
                  text: stopTracer(tracer, "computeCFG");
                children: []
                pos: 57196
                length: 33
              - type: return_statement
                fields:
                  text: return cfa.getCfg();
                children: []
                pos: 57234
                length: 20
              pos: 57004
              length: 254
          children: []
          pos: 56968
          length: 290
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: normalize
              children: []
              pos: 57274
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 57262
              length: 145
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: logger.fine("Normalizing");
                children: []
                pos: 57292
                length: 27
              - type: expression_statement
                fields:
                  text: startPass("normalize");
                children: []
                pos: 57324
                length: 23
              - type: expression_statement
                fields:
                  text: process(new Normalize(this, false));
                children: []
                pos: 57352
                length: 36
              - type: expression_statement
                fields:
                  text: endPass();
                children: []
                pos: 57393
                length: 10
              pos: 57286
              length: 121
          children: []
          pos: 57262
          length: 145
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: prepareAst
              children: []
              pos: 57428
              length: 10
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Node root
                children: []
                pos: 57439
                length: 9
              pos: 57411
              length: 120
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: CompilerPass pass = new PrepareAst(this);
                children: []
                pos: 57456
                length: 41
              - type: expression_statement
                fields:
                  text: pass.process(null, root);
                children: []
                pos: 57502
                length: 25
              pos: 57450
              length: 81
          children: []
          pos: 57411
          length: 120
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: recordFunctionInformation
              children: []
              pos: 57540
              length: 25
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 57535
              length: 414
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: logger.fine("Recording function information");
                children: []
                pos: 57574
                length: 46
              - type: expression_statement
                fields:
                  text: startPass("recordFunctionInformation");
                children: []
                pos: 57625
                length: 39
              - type: local_variable_declaration
                fields:
                  text: |-
                    RecordFunctionInformation recordFunctionInfoPass =
                            new RecordFunctionInformation(
                                this, getPassConfig().getIntermediateState().functionNames);
                children: []
                pos: 57669
                length: 162
              - type: expression_statement
                fields:
                  text: process(recordFunctionInfoPass);
                children: []
                pos: 57836
                length: 32
              - type: expression_statement
                fields:
                  text: functionInformationMap = recordFunctionInfoPass.getMap();
                children: []
                pos: 57873
                length: 57
              - type: expression_statement
                fields:
                  text: endPass();
                children: []
                pos: 57935
                length: 10
              pos: 57568
              length: 381
          children: []
          pos: 57535
          length: 414
        - type: field_declaration
          fields:
            text: |-
              protected final CodeChangeHandler.RecentChange recentChange =
                    new CodeChangeHandler.RecentChange();
          children: []
          pos: 57953
          length: 105
        - type: field_declaration
          fields:
            text: |-
              private final List<CodeChangeHandler> codeChangeHandlers =
                    Lists.<CodeChangeHandler>newArrayList();
          children: []
          pos: 58061
          length: 105
        - type: field_declaration
          fields:
            text: static final String SYNTHETIC_EXTERNS = "{SyntheticVarsDeclar}";
          children: []
          pos: 58239
          length: 64
        - type: field_declaration
          fields:
            text: private CompilerInput synthesizedExternsInput = null;
          children: []
          pos: 58307
          length: 53
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: addChangeHandler
              children: []
              pos: 58381
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: CodeChangeHandler handler
                children: []
                pos: 58398
                length: 25
              pos: 58364
              length: 103
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: codeChangeHandlers.add(handler);
                children: []
                pos: 58431
                length: 32
              pos: 58425
              length: 42
          children: []
          pos: 58364
          length: 103
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: removeChangeHandler
              children: []
              pos: 58488
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: CodeChangeHandler handler
                children: []
                pos: 58508
                length: 25
              pos: 58471
              length: 109
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: codeChangeHandlers.remove(handler);
                children: []
                pos: 58541
                length: 35
              pos: 58535
              length: 45
          children: []
          pos: 58471
          length: 109
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: reportCodeChange
              children: []
              pos: 58799
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 58775
              length: 143
            body:
              type: block
              fields: {}
              children:
              - type: enhanced_for_statement
                fields:
                  text: |-
                    for (CodeChangeHandler handler : codeChangeHandlers) {
                          handler.reportChange();
                        }
                children: []
                pos: 58824
                length: 90
              pos: 58818
              length: 100
          children: []
          pos: 58775
          length: 143
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getCodingConvention
              children: []
              pos: 58958
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 58922
              length: 227
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: CodingConvention convention = options.getCodingConvention();
                children: []
                pos: 58986
                length: 60
              - type: expression_statement
                fields:
                  text: 'convention = convention != null ? convention : defaultCodingConvention;'
                children: []
                pos: 59051
                length: 71
              - type: return_statement
                fields:
                  text: return convention;
                children: []
                pos: 59127
                length: 18
              pos: 58980
              length: 169
          children: []
          pos: 58922
          length: 227
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isIdeMode
              children: []
              pos: 59180
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 59153
              length: 72
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return options.ideMode;
                children: []
                pos: 59198
                length: 23
              pos: 59192
              length: 33
          children: []
          pos: 59153
          length: 72
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: acceptEcmaScript5
              children: []
              pos: 59256
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 59229
              length: 191
            body:
              type: block
              fields: {}
              children:
              - type: switch_expression
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: options.getLanguageIn()
                        children: []
                        pos: 59290
                        length: 23
                    children: []
                    pos: 59289
                    length: 25
                  body:
                    type: switch_block
                    fields:
                      text: |-
                        {
                              case ECMASCRIPT5:
                              case ECMASCRIPT5_STRICT:
                                return true;
                            }
                    children: []
                    pos: 59315
                    length: 83
                children: []
                pos: 59282
                length: 116
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 59403
                length: 13
              pos: 59276
              length: 144
          children: []
          pos: 59229
          length: 191
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: languageMode
              children: []
              pos: 59444
              length: 12
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 59424
              length: 76
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return options.getLanguageIn();
                children: []
                pos: 59465
                length: 31
              pos: 59459
              length: 41
          children: []
          pos: 59424
          length: 76
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: acceptConstKeyword
              children: []
              pos: 59531
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 59504
              length: 92
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return options.acceptConstKeyword;
                children: []
                pos: 59558
                length: 34
              pos: 59552
              length: 44
          children: []
          pos: 59504
          length: 92
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getParserConfig
              children: []
              pos: 59619
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 59600
              length: 720
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: parserConfig
                            children: []
                            pos: 59647
                            length: 12
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 59663
                            length: 4
                        children: []
                        pos: 59647
                        length: 20
                    children: []
                    pos: 59646
                    length: 22
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: Config.LanguageMode mode;
                    children: []
                    pos: 59677
                    length: 25
                  - type: switch_expression
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: method_invocation
                            fields:
                              text: options.getLanguageIn()
                            children: []
                            pos: 59717
                            length: 23
                        children: []
                        pos: 59716
                        length: 25
                      body:
                        type: switch_block
                        fields:
                          text: |-
                            {
                                    case ECMASCRIPT3:
                                      mode = Config.LanguageMode.ECMASCRIPT3;
                                      break;
                                    case ECMASCRIPT5:
                                      mode = Config.LanguageMode.ECMASCRIPT5;
                                      break;
                                    case ECMASCRIPT5_STRICT:
                                      mode = Config.LanguageMode.ECMASCRIPT5_STRICT;
                                      break;
                                    default:
                                      throw new IllegalStateException("unexpected language mode");
                                  }
                        children: []
                        pos: 59742
                        length: 390
                    children: []
                    pos: 59709
                    length: 423
                  - type: expression_statement
                    fields:
                      text: |-
                        parserConfig = ParserRunner.createConfig(
                                isIdeMode(),
                                mode,
                                acceptConstKeyword(),
                                options.extraAnnotationNames);
                    children: []
                    pos: 60140
                    length: 145
                  pos: 59669
                  length: 622
                pos: 59643
                length: 648
              - type: return_statement
                fields:
                  text: return parserConfig;
                children: []
                pos: 60296
                length: 20
              pos: 59637
              length: 683
          children: []
          pos: 59600
          length: 720
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isTypeCheckingEnabled
              children: []
              pos: 60351
              length: 21
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 60324
              length: 87
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return options.checkTypes;
                children: []
                pos: 60381
                length: 26
              pos: 60375
              length: 36
          children: []
          pos: 60324
          length: 87
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getDiagnosticGroups
              children: []
              pos: 60761
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 60734
              length: 89
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return new DiagnosticGroups();
                children: []
                pos: 60789
                length: 30
              pos: 60783
              length: 40
          children: []
          pos: 60734
          length: 89
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: report
              children: []
              pos: 60851
              length: 6
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSError error
                children: []
                pos: 60858
                length: 13
              pos: 60827
              length: 441
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: CheckLevel level = error.getDefaultLevel();
                children: []
                pos: 60879
                length: 43
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: warningsGuard
                            children: []
                            pos: 60931
                            length: 13
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 60948
                            length: 4
                        children: []
                        pos: 60931
                        length: 21
                    children: []
                    pos: 60930
                    length: 23
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: CheckLevel newLevel = warningsGuard.level(error);
                    children: []
                    pos: 60962
                    length: 49
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: not_equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: newLevel
                                children: []
                                pos: 61022
                                length: 8
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 61034
                                length: 4
                            children: []
                            pos: 61022
                            length: 16
                        children: []
                        pos: 61021
                        length: 18
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: level = newLevel;
                        children: []
                        pos: 61050
                        length: 17
                      pos: 61040
                      length: 35
                    pos: 61018
                    length: 57
                  pos: 60954
                  length: 127
                pos: 60927
                length: 154
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: level.isOn()
                        children: []
                        pos: 61091
                        length: 12
                    children: []
                    pos: 61090
                    length: 14
                children:
                - type: block
                  fields: {}
                  children:
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: not_equals
                            fields:
                              left:
                                type: field_access
                                fields:
                                  text: getOptions().errorHandler
                                children: []
                                pos: 61117
                                length: 25
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 61146
                                length: 4
                            children: []
                            pos: 61117
                            length: 33
                        children: []
                        pos: 61116
                        length: 35
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: getOptions().errorHandler.report(level, error);
                        children: []
                        pos: 61162
                        length: 47
                      pos: 61152
                      length: 65
                    pos: 61113
                    length: 104
                  - type: expression_statement
                    fields:
                      text: errorManager.report(level, error);
                    children: []
                    pos: 61224
                    length: 34
                  pos: 61105
                  length: 159
                pos: 61087
                length: 177
              pos: 60873
              length: 395
          children: []
          pos: 60827
          length: 441
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getErrorLevel
              children: []
              pos: 61302
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSError error
                children: []
                pos: 61316
                length: 13
              pos: 61272
              length: 144
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: Preconditions.checkNotNull(options);
                children: []
                pos: 61337
                length: 36
              - type: return_statement
                fields:
                  text: return warningsGuard.level(error);
                children: []
                pos: 61378
                length: 34
              pos: 61331
              length: 85
          children: []
          pos: 61272
          length: 144
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: throwInternalError
              children: []
              pos: 61480
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String message
                children: []
                pos: 61499
                length: 14
              pos: 61463
              length: 345
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: |-
                    String finalMessage =
                          "INTERNAL COMPILER ERROR.\n" +
                          "Please report this problem.\n" + message;
                children: []
                pos: 61538
                length: 107
              - type: local_variable_declaration
                fields:
                  text: RuntimeException e = new RuntimeException(finalMessage, cause);
                children: []
                pos: 61651
                length: 63
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: cause
                            children: []
                            pos: 61723
                            length: 5
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 61732
                            length: 4
                        children: []
                        pos: 61723
                        length: 13
                    children: []
                    pos: 61722
                    length: 15
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: e.setStackTrace(cause.getStackTrace());
                    children: []
                    pos: 61746
                    length: 39
                  pos: 61738
                  length: 53
                pos: 61719
                length: 72
              - type: throw_statement
                fields:
                  text: throw e;
                children: []
                pos: 61796
                length: 8
              pos: 61532
              length: 276
          children: []
          pos: 61463
          length: 345
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getErrorCount
              children: []
              pos: 61868
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 61857
              length: 73
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return errorManager.getErrorCount();
                children: []
                pos: 61890
                length: 36
              pos: 61884
              length: 46
          children: []
          pos: 61857
          length: 73
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getWarningCount
              children: []
              pos: 61991
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 61980
              length: 77
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return errorManager.getWarningCount();
                children: []
                pos: 62015
                length: 38
              pos: 62009
              length: 48
          children: []
          pos: 61980
          length: 77
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: hasHaltingErrors
              children: []
              pos: 62081
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 62061
              length: 92
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return !isIdeMode() && getErrorCount() > 0;
                children: []
                pos: 62106
                length: 43
              pos: 62100
              length: 53
          children: []
          pos: 62061
          length: 92
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: hasErrors
              children: []
              pos: 62590
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 62575
              length: 63
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return hasHaltingErrors();
                children: []
                pos: 62608
                length: 26
              pos: 62602
              length: 36
          children: []
          pos: 62575
          length: 63
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: addToDebugLog
              children: []
              pos: 62717
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String str
                children: []
                pos: 62731
                length: 10
              pos: 62700
              length: 123
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: debugLog.append(str);
                children: []
                pos: 62749
                length: 21
              - type: expression_statement
                fields:
                  text: debugLog.append('\n');
                children: []
                pos: 62775
                length: 22
              - type: expression_statement
                fields:
                  text: logger.fine(str);
                children: []
                pos: 62802
                length: 17
              pos: 62743
              length: 80
          children: []
          pos: 62700
          length: 123
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getSourceFileByName
              children: []
              pos: 62846
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String sourceName
                children: []
                pos: 62866
                length: 17
              pos: 62827
              length: 373
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: sourceName
                            children: []
                            pos: 63010
                            length: 10
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 63024
                            length: 4
                        children: []
                        pos: 63010
                        length: 18
                    children: []
                    pos: 63009
                    length: 20
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: CompilerInput input = inputsById.get(new InputId(sourceName));
                    children: []
                    pos: 63038
                    length: 62
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: not_equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: input
                                children: []
                                pos: 63111
                                length: 5
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 63120
                                length: 4
                            children: []
                            pos: 63111
                            length: 13
                        children: []
                        pos: 63110
                        length: 15
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: return_statement
                        fields:
                          text: return input.getSourceFile();
                        children: []
                        pos: 63136
                        length: 29
                      pos: 63126
                      length: 47
                    pos: 63107
                    length: 66
                  pos: 63030
                  length: 149
                pos: 63006
                length: 173
              - type: return_statement
                fields:
                  text: return null;
                children: []
                pos: 63184
                length: 12
              pos: 62885
              length: 315
          children: []
          pos: 62827
          length: 373
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getSourceLine
              children: []
              pos: 63230
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String sourceName
                children: []
                pos: 63244
                length: 17
              pos: 63204
              length: 275
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: less_than
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: lineNumber
                            children: []
                            pos: 63289
                            length: 10
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '1'
                            children: []
                            pos: 63302
                            length: 1
                        children: []
                        pos: 63289
                        length: 14
                    children: []
                    pos: 63288
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return null;
                    children: []
                    pos: 63313
                    length: 12
                  pos: 63305
                  length: 26
                pos: 63285
                length: 46
              - type: local_variable_declaration
                fields:
                  text: SourceFile input = getSourceFileByName(sourceName);
                children: []
                pos: 63336
                length: 51
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: input
                            children: []
                            pos: 63396
                            length: 5
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 63405
                            length: 4
                        children: []
                        pos: 63396
                        length: 13
                    children: []
                    pos: 63395
                    length: 15
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return input.getLine(lineNumber);
                    children: []
                    pos: 63419
                    length: 33
                  pos: 63411
                  length: 47
                pos: 63392
                length: 66
              - type: return_statement
                fields:
                  text: return null;
                children: []
                pos: 63463
                length: 12
              pos: 63279
              length: 200
          children: []
          pos: 63204
          length: 275
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getSourceRegion
              children: []
              pos: 63509
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String sourceName
                children: []
                pos: 63525
                length: 17
              pos: 63483
              length: 279
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: less_than
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: lineNumber
                            children: []
                            pos: 63570
                            length: 10
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '1'
                            children: []
                            pos: 63583
                            length: 1
                        children: []
                        pos: 63570
                        length: 14
                    children: []
                    pos: 63569
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return null;
                    children: []
                    pos: 63594
                    length: 12
                  pos: 63586
                  length: 26
                pos: 63566
                length: 46
              - type: local_variable_declaration
                fields:
                  text: SourceFile input = getSourceFileByName(sourceName);
                children: []
                pos: 63617
                length: 51
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: input
                            children: []
                            pos: 63677
                            length: 5
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 63686
                            length: 4
                        children: []
                        pos: 63677
                        length: 13
                    children: []
                    pos: 63676
                    length: 15
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return input.getRegion(lineNumber);
                    children: []
                    pos: 63700
                    length: 35
                  pos: 63692
                  length: 49
                pos: 63673
                length: 68
              - type: return_statement
                fields:
                  text: return null;
                children: []
                pos: 63746
                length: 12
              pos: 63560
              length: 202
          children: []
          pos: 63483
          length: 279
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getNodeForCodeInsertion
              children: []
              pos: 63967
              length: 23
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSModule module
                children: []
                pos: 63991
                length: 15
              pos: 63950
              length: 451
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: module
                            children: []
                            pos: 64018
                            length: 6
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 64028
                            length: 4
                        children: []
                        pos: 64018
                        length: 14
                    children: []
                    pos: 64017
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: method_invocation
                            fields:
                              text: inputs.isEmpty()
                            children: []
                            pos: 64046
                            length: 16
                        children: []
                        pos: 64045
                        length: 18
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: throw_statement
                        fields:
                          text: throw new IllegalStateException("No inputs");
                        children: []
                        pos: 64074
                        length: 45
                      pos: 64064
                      length: 63
                    pos: 64042
                    length: 85
                  - type: return_statement
                    fields:
                      text: return inputs.get(0).getAstRoot(this);
                    children: []
                    pos: 64135
                    length: 38
                  pos: 64034
                  length: 145
                pos: 64014
                length: 165
              - type: local_variable_declaration
                fields:
                  text: List<CompilerInput> moduleInputs = module.getInputs();
                children: []
                pos: 64185
                length: 54
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: greater_than
                        fields:
                          left:
                            type: method_invocation
                            fields:
                              text: moduleInputs.size()
                            children: []
                            pos: 64248
                            length: 19
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '0'
                            children: []
                            pos: 64270
                            length: 1
                        children: []
                        pos: 64248
                        length: 23
                    children: []
                    pos: 64247
                    length: 25
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return moduleInputs.get(0).getAstRoot(this);
                    children: []
                    pos: 64281
                    length: 44
                  pos: 64273
                  length: 58
                pos: 64244
                length: 87
              - type: throw_statement
                fields:
                  text: throw new IllegalStateException("Root module has no inputs");
                children: []
                pos: 64336
                length: 61
              pos: 64008
              length: 393
          children: []
          pos: 63950
          length: 451
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getSourceMap
              children: []
              pos: 64422
              length: 12
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 64405
              length: 59
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return sourceMap;
                children: []
                pos: 64443
                length: 17
              pos: 64437
              length: 27
          children: []
          pos: 64405
          length: 59
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getVariableMap
              children: []
              pos: 64480
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 64468
              length: 97
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getPassConfig().getIntermediateState().variableMap;
                children: []
                pos: 64503
                length: 58
              pos: 64497
              length: 68
          children: []
          pos: 64468
          length: 97
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getPropertyMap
              children: []
              pos: 64581
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 64569
              length: 97
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getPassConfig().getIntermediateState().propertyMap;
                children: []
                pos: 64604
                length: 58
              pos: 64598
              length: 68
          children: []
          pos: 64569
          length: 97
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getOptions
              children: []
              pos: 64686
              length: 10
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 64670
              length: 54
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return options;
                children: []
                pos: 64705
                length: 15
              pos: 64699
              length: 25
          children: []
          pos: 64670
          length: 54
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getFunctionalInformationMap
              children: []
              pos: 64751
              length: 27
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 64728
              length: 93
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return functionInformationMap;
                children: []
                pos: 64787
                length: 30
              pos: 64781
              length: 40
          children: []
          pos: 64728
          length: 93
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setLoggingLevel
              children: []
              pos: 64930
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Level level
                children: []
                pos: 64946
                length: 11
              pos: 64911
              length: 81
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: logger.setLevel(level);
                children: []
                pos: 64965
                length: 23
              pos: 64959
              length: 33
          children: []
          pos: 64911
          length: 81
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getAstDotGraph
              children: []
              pos: 65086
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 65072
              length: 281
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: jsRoot
                            children: []
                            pos: 65132
                            length: 6
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 65142
                            length: 4
                        children: []
                        pos: 65132
                        length: 14
                    children: []
                    pos: 65131
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: ControlFlowAnalysis cfa = new ControlFlowAnalysis(this,
                        true, false);
                    children: []
                    pos: 65156
                    length: 69
                  - type: expression_statement
                    fields:
                      text: cfa.process(null, jsRoot);
                    children: []
                    pos: 65232
                    length: 26
                  - type: return_statement
                    fields:
                      text: return DotFormatter.toDot(jsRoot, cfa.getCfg());
                    children: []
                    pos: 65265
                    length: 48
                  pos: 65148
                  length: 171
                pos: 65128
                length: 221
              pos: 65122
              length: 231
          children: []
          pos: 65072
          length: 281
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getErrorManager
              children: []
              pos: 65389
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 65357
              length: 154
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: options
                            children: []
                            pos: 65417
                            length: 7
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 65428
                            length: 4
                        children: []
                        pos: 65417
                        length: 15
                    children: []
                    pos: 65416
                    length: 17
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: initOptions(newCompilerOptions());
                    children: []
                    pos: 65442
                    length: 34
                  pos: 65434
                  length: 48
                pos: 65413
                length: 69
              - type: return_statement
                fields:
                  text: return errorManager;
                children: []
                pos: 65487
                length: 20
              pos: 65407
              length: 104
          children: []
          pos: 65357
          length: 154
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getInputsInOrder
              children: []
              pos: 65547
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 65515
              length: 120
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return Collections.<CompilerInput>unmodifiableList(inputs);
                children: []
                pos: 65572
                length: 59
              pos: 65566
              length: 69
          children: []
          pos: 65515
          length: 120
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getInputsById
              children: []
              pos: 65758
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 65723
              length: 108
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return Collections.unmodifiableMap(inputsById);
                children: []
                pos: 65780
                length: 47
              pos: 65774
              length: 57
          children: []
          pos: 65723
          length: 108
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getExternsInOrder
              children: []
              pos: 65937
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 65917
              length: 110
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return Collections.<CompilerInput>unmodifiableList(externs);
                children: []
                pos: 65963
                length: 60
              pos: 65957
              length: 70
          children: []
          pos: 65917
          length: 110
        - type: class_declaration
          fields:
            name:
              type: identifier
              fields:
                text: IntermediateState
              children: []
              pos: 66647
              length: 17
            body:
              type: class_body
              fields: {}
              children:
              - type: field_declaration
                fields:
                  text: private static final long serialVersionUID = 1L;
                children: []
                pos: 66695
                length: 48
              - type: field_declaration
                fields:
                  text: Node externsRoot;
                children: []
                pos: 66749
                length: 17
              - type: field_declaration
                fields:
                  text: private Node jsRoot;
                children: []
                pos: 66771
                length: 20
              - type: field_declaration
                fields:
                  text: private List<CompilerInput> externs;
                children: []
                pos: 66796
                length: 36
              - type: field_declaration
                fields:
                  text: private List<CompilerInput> inputs;
                children: []
                pos: 66837
                length: 35
              - type: field_declaration
                fields:
                  text: private List<JSModule> modules;
                children: []
                pos: 66877
                length: 31
              - type: field_declaration
                fields:
                  text: private PassConfig.State passConfigState;
                children: []
                pos: 66913
                length: 41
              - type: field_declaration
                fields:
                  text: private JSTypeRegistry typeRegistry;
                children: []
                pos: 66959
                length: 36
              - type: field_declaration
                fields:
                  text: private AbstractCompiler.LifeCycleStage lifeCycleStage;
                children: []
                pos: 67000
                length: 55
              - type: field_declaration
                fields:
                  text: private Map<String, Node> injectedLibraries;
                children: []
                pos: 67060
                length: 44
              - type: constructor_declaration
                fields:
                  text: private IntermediateState() {}
                children: []
                pos: 67110
                length: 30
              pos: 66627
              length: 517
          children: []
          pos: 66627
          length: 517
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getState
              children: []
              pos: 67265
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 67240
              length: 491
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: IntermediateState state = new IntermediateState();
                children: []
                pos: 67282
                length: 50
              - type: expression_statement
                fields:
                  text: state.externsRoot = externsRoot;
                children: []
                pos: 67337
                length: 32
              - type: expression_statement
                fields:
                  text: state.jsRoot = jsRoot;
                children: []
                pos: 67374
                length: 22
              - type: expression_statement
                fields:
                  text: state.externs = externs;
                children: []
                pos: 67401
                length: 24
              - type: expression_statement
                fields:
                  text: state.inputs = inputs;
                children: []
                pos: 67430
                length: 22
              - type: expression_statement
                fields:
                  text: state.modules = modules;
                children: []
                pos: 67457
                length: 24
              - type: expression_statement
                fields:
                  text: state.passConfigState = getPassConfig().getIntermediateState();
                children: []
                pos: 67486
                length: 63
              - type: expression_statement
                fields:
                  text: state.typeRegistry = typeRegistry;
                children: []
                pos: 67554
                length: 34
              - type: expression_statement
                fields:
                  text: state.lifeCycleStage = getLifeCycleStage();
                children: []
                pos: 67593
                length: 43
              - type: expression_statement
                fields:
                  text: state.injectedLibraries = Maps.newLinkedHashMap(injectedLibraries);
                children: []
                pos: 67641
                length: 67
              - type: return_statement
                fields:
                  text: return state;
                children: []
                pos: 67714
                length: 13
              pos: 67276
              length: 455
          children: []
          pos: 67240
          length: 491
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setState
              children: []
              pos: 67880
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: IntermediateState state
                children: []
                pos: 67889
                length: 23
              pos: 67868
              length: 477
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: externsRoot = state.externsRoot;
                children: []
                pos: 67920
                length: 32
              - type: expression_statement
                fields:
                  text: jsRoot = state.jsRoot;
                children: []
                pos: 67957
                length: 22
              - type: expression_statement
                fields:
                  text: externs = state.externs;
                children: []
                pos: 67984
                length: 24
              - type: expression_statement
                fields:
                  text: inputs = state.inputs;
                children: []
                pos: 68013
                length: 22
              - type: expression_statement
                fields:
                  text: modules = state.modules;
                children: []
                pos: 68040
                length: 24
              - type: expression_statement
                fields:
                  text: passes = createPassConfigInternal();
                children: []
                pos: 68069
                length: 36
              - type: expression_statement
                fields:
                  text: getPassConfig().setIntermediateState(state.passConfigState);
                children: []
                pos: 68110
                length: 60
              - type: expression_statement
                fields:
                  text: typeRegistry = state.typeRegistry;
                children: []
                pos: 68175
                length: 34
              - type: expression_statement
                fields:
                  text: setLifeCycleStage(state.lifeCycleStage);
                children: []
                pos: 68214
                length: 40
              - type: expression_statement
                fields:
                  text: injectedLibraries.clear();
                children: []
                pos: 68260
                length: 26
              - type: expression_statement
                fields:
                  text: injectedLibraries.putAll(state.injectedLibraries);
                children: []
                pos: 68291
                length: 50
              pos: 67914
              length: 431
          children: []
          pos: 67868
          length: 477
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getInputsForTesting
              children: []
              pos: 68390
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 68349
              length: 87
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return inputs;
                children: []
                pos: 68418
                length: 14
              pos: 68412
              length: 24
          children: []
          pos: 68349
          length: 87
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getExternsForTesting
              children: []
              pos: 68481
              length: 20
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 68440
              length: 89
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return externs;
                children: []
                pos: 68510
                length: 15
              pos: 68504
              length: 25
          children: []
          pos: 68440
          length: 89
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: hasRegExpGlobalReferences
              children: []
              pos: 68553
              length: 25
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 68533
              length: 91
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return hasRegExpGlobalReferences;
                children: []
                pos: 68587
                length: 33
              pos: 68581
              length: 43
          children: []
          pos: 68533
          length: 91
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setHasRegExpGlobalReferences
              children: []
              pos: 68645
              length: 28
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: boolean references
                children: []
                pos: 68674
                length: 18
              pos: 68628
              length: 115
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: hasRegExpGlobalReferences = references;
                children: []
                pos: 68700
                length: 39
              pos: 68694
              length: 49
          children: []
          pos: 68628
          length: 115
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: updateGlobalVarReferences
              children: []
              pos: 68764
              length: 25
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Map<Var, ReferenceCollection> refMapPatch
                children: []
                pos: 68790
                length: 41
              pos: 68747
              length: 421
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: |-
                    Preconditions.checkState(collectionRoot.isScript()
                            || collectionRoot.isBlock());
                children: []
                pos: 68866
                length: 88
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: globalRefMap
                            children: []
                            pos: 68963
                            length: 12
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 68979
                            length: 4
                        children: []
                        pos: 68963
                        length: 20
                    children: []
                    pos: 68962
                    length: 22
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: |-
                        globalRefMap = new GlobalVarReferenceMap(getInputsInOrder(),
                                  getExternsInOrder());
                    children: []
                    pos: 68993
                    length: 92
                  pos: 68985
                  length: 106
                pos: 68959
                length: 132
              - type: expression_statement
                fields:
                  text: globalRefMap.updateGlobalVarReferences(refMapPatch, collectionRoot);
                children: []
                pos: 69096
                length: 68
              pos: 68860
              length: 308
          children: []
          pos: 68747
          length: 421
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getGlobalVarReferences
              children: []
              pos: 69206
              length: 22
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 69172
              length: 89
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return globalRefMap;
                children: []
                pos: 69237
                length: 20
              pos: 69231
              length: 30
          children: []
          pos: 69172
          length: 89
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getSynthesizedExternsInput
              children: []
              pos: 69291
              length: 26
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 69265
              length: 212
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: synthesizedExternsInput
                            children: []
                            pos: 69330
                            length: 23
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 69357
                            length: 4
                        children: []
                        pos: 69330
                        length: 31
                    children: []
                    pos: 69329
                    length: 33
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: synthesizedExternsInput = newExternInput(SYNTHETIC_EXTERNS);
                    children: []
                    pos: 69371
                    length: 60
                  pos: 69363
                  length: 74
                pos: 69326
                length: 111
              - type: return_statement
                fields:
                  text: return synthesizedExternsInput;
                children: []
                pos: 69442
                length: 31
              pos: 69320
              length: 157
          children: []
          pos: 69265
          length: 212
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getProgress
              children: []
              pos: 69507
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 69481
              length: 66
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return progress;
                children: []
                pos: 69527
                length: 16
              pos: 69521
              length: 26
          children: []
          pos: 69481
          length: 66
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setProgress
              children: []
              pos: 69568
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: double newProgress
                children: []
                pos: 69580
                length: 18
              pos: 69551
              length: 212
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: greater_than
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: newProgress
                            children: []
                            pos: 69610
                            length: 11
                          right:
                            type: decimal_floating_point_literal
                            fields:
                              text: '1.0'
                            children: []
                            pos: 69624
                            length: 3
                        children: []
                        pos: 69610
                        length: 17
                    children: []
                    pos: 69609
                    length: 19
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: progress = 1.0;
                    children: []
                    pos: 69637
                    length: 15
                  pos: 69629
                  length: 29
                pos: 69606
                length: 153
              pos: 69600
              length: 163
          children: []
          pos: 69551
          length: 212
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: replaceScript
              children: []
              pos: 70067
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JsAst ast
                children: []
                pos: 70081
                length: 9
              pos: 70055
              length: 256
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: CompilerInput input = this.getInput(ast.getInputId());
                children: []
                pos: 70098
                length: 54
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: unary_expression
                        fields:
                          text: "!replaceIncrementalSourceAst(ast)"
                        children: []
                        pos: 70161
                        length: 33
                    children: []
                    pos: 70160
                    length: 35
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return;
                    children: []
                    pos: 70204
                    length: 7
                  pos: 70196
                  length: 21
                pos: 70157
                length: 60
              - type: local_variable_declaration
                fields:
                  text: Node originalRoot = input.getAstRoot(this);
                children: []
                pos: 70222
                length: 43
              - type: expression_statement
                fields:
                  text: processNewScript(ast, originalRoot);
                children: []
                pos: 70271
                length: 36
              pos: 70092
              length: 219
          children: []
          pos: 70055
          length: 256
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: addNewScript
              children: []
              pos: 70567
              length: 12
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JsAst ast
                children: []
                pos: 70580
                length: 9
              pos: 70555
              length: 351
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: unary_expression
                        fields:
                          text: "!addNewSourceAst(ast)"
                        children: []
                        pos: 70601
                        length: 21
                    children: []
                    pos: 70600
                    length: 23
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return;
                    children: []
                    pos: 70632
                    length: 7
                  pos: 70624
                  length: 21
                pos: 70597
                length: 48
              - type: local_variable_declaration
                fields:
                  text: Node emptyScript = new Node(Token.SCRIPT);
                children: []
                pos: 70650
                length: 42
              - type: local_variable_declaration
                fields:
                  text: InputId inputId = ast.getInputId();
                children: []
                pos: 70697
                length: 35
              - type: expression_statement
                fields:
                  text: emptyScript.setInputId(inputId);
                children: []
                pos: 70737
                length: 32
              - type: expression_statement
                fields:
                  text: |-
                    emptyScript.setStaticSourceFile(
                            SourceFile.fromCode(inputId.getIdName(), ""));
                children: []
                pos: 70774
                length: 87
              - type: expression_statement
                fields:
                  text: processNewScript(ast, emptyScript);
                children: []
                pos: 70867
                length: 35
              pos: 70591
              length: 315
          children: []
          pos: 70555
          length: 351
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: processNewScript
              children: []
              pos: 70923
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JsAst ast
                children: []
                pos: 70940
                length: 9
              pos: 70910
              length: 574
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: Node js = ast.getAstRoot(this);
                children: []
                pos: 70976
                length: 31
              - type: expression_statement
                fields:
                  text: Preconditions.checkNotNull(js);
                children: []
                pos: 71012
                length: 31
              - type: expression_statement
                fields:
                  text: runHotSwap(originalRoot, js, this.getCleanupPassConfig());
                children: []
                pos: 71049
                length: 58
              - type: expression_statement
                fields:
                  text: runHotSwapPass(null, null, ensureDefaultPassConfig().garbageCollectChecks);
                children: []
                pos: 71254
                length: 75
              - type: expression_statement
                fields:
                  text: this.getTypeRegistry().clearNamedTypes();
                children: []
                pos: 71335
                length: 41
              - type: expression_statement
                fields:
                  text: this.removeSyntheticVarsInput();
                children: []
                pos: 71381
                length: 32
              - type: expression_statement
                fields:
                  text: runHotSwap(originalRoot, js, this.ensureDefaultPassConfig());
                children: []
                pos: 71419
                length: 61
              pos: 70970
              length: 514
          children: []
          pos: 70910
          length: 574
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: runHotSwap
              children: []
              pos: 71593
              length: 10
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Node originalRoot
                children: []
                pos: 71611
                length: 17
              pos: 71580
              length: 207
            body:
              type: block
              fields: {}
              children:
              - type: enhanced_for_statement
                fields:
                  text: |-
                    for (PassFactory passFactory : passConfig.getChecks()) {
                          runHotSwapPass(originalRoot, js, passFactory);
                        }
                children: []
                pos: 71668
                length: 115
              pos: 71662
              length: 125
          children: []
          pos: 71580
          length: 207
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: runHotSwapPass
              children: []
              pos: 71804
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Node originalRoot
                children: []
                pos: 71826
                length: 17
              pos: 71791
              length: 307
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: HotSwapCompilerPass pass = passFactory.getHotSwapPass(this);
                children: []
                pos: 71885
                length: 60
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: pass
                            children: []
                            pos: 71954
                            length: 4
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 71962
                            length: 4
                        children: []
                        pos: 71954
                        length: 12
                    children: []
                    pos: 71953
                    length: 14
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: logger.info("Performing HotSwap for pass " + passFactory.getName());
                    children: []
                    pos: 71976
                    length: 68
                  - type: expression_statement
                    fields:
                      text: pass.hotSwapScript(js, originalRoot);
                    children: []
                    pos: 72051
                    length: 37
                  pos: 71968
                  length: 126
                pos: 71950
                length: 144
              pos: 71879
              length: 219
          children: []
          pos: 71791
          length: 307
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getCleanupPassConfig
              children: []
              pos: 72121
              length: 20
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 72102
              length: 91
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return new CleanupPasses(getOptions());
                children: []
                pos: 72150
                length: 39
              pos: 72144
              length: 49
          children: []
          pos: 72102
          length: 91
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: removeSyntheticVarsInput
              children: []
              pos: 72210
              length: 24
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 72197
              length: 145
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: String sourceName = Compiler.SYNTHETIC_EXTERNS;
                children: []
                pos: 72243
                length: 47
              - type: expression_statement
                fields:
                  text: removeExternInput(new InputId(sourceName));
                children: []
                pos: 72295
                length: 43
              pos: 72237
              length: 105
          children: []
          pos: 72197
          length: 145
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: ensureLibraryInjected
              children: []
              pos: 72363
              length: 21
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String resourceName
                children: []
                pos: 72385
                length: 19
              pos: 72346
              length: 737
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: injectedLibraries.containsKey(resourceName)
                        children: []
                        pos: 72416
                        length: 43
                    children: []
                    pos: 72415
                    length: 45
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return null;
                    children: []
                    pos: 72469
                    length: 12
                  pos: 72461
                  length: 26
                pos: 72412
                length: 75
              - type: local_variable_declaration
                fields:
                  text: boolean isBase = "base".equals(resourceName);
                children: []
                pos: 72535
                length: 45
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: unary_expression
                        fields:
                          text: "!isBase"
                        children: []
                        pos: 72589
                        length: 7
                    children: []
                    pos: 72588
                    length: 9
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: ensureLibraryInjected("base");
                    children: []
                    pos: 72606
                    length: 30
                  pos: 72598
                  length: 44
                pos: 72585
                length: 57
              - type: local_variable_declaration
                fields:
                  text: Node firstChild = loadLibraryCode(resourceName).removeChildren();
                children: []
                pos: 72648
                length: 65
              - type: local_variable_declaration
                fields:
                  text: Node lastChild = firstChild.getLastSibling();
                children: []
                pos: 72718
                length: 45
              - type: local_variable_declaration
                fields:
                  text: Node parent = getNodeForCodeInsertion(null);
                children: []
                pos: 72769
                length: 44
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: identifier
                        fields:
                          text: isBase
                        children: []
                        pos: 72822
                        length: 6
                    children: []
                    pos: 72821
                    length: 8
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: parent.addChildrenToFront(firstChild);
                    children: []
                    pos: 72838
                    length: 38
                  pos: 72830
                  length: 52
                pos: 72818
                length: 162
              - type: expression_statement
                fields:
                  text: reportCodeChange();
                children: []
                pos: 72985
                length: 19
              - type: expression_statement
                fields:
                  text: injectedLibraries.put(resourceName, lastChild);
                children: []
                pos: 73010
                length: 47
              - type: return_statement
                fields:
                  text: return lastChild;
                children: []
                pos: 73062
                length: 17
              pos: 72406
              length: 677
          children: []
          pos: 72346
          length: 737
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: loadLibraryCode
              children: []
              pos: 73151
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String resourceName
                children: []
                pos: 73167
                length: 19
              pos: 73125
              length: 505
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: String originalCode;
                children: []
                pos: 73194
                length: 20
              - type: try_statement
                fields:
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: expression_statement
                      fields:
                        text: |-
                          originalCode = CharStreams.toString(new InputStreamReader(
                                    Compiler.class.getResourceAsStream(
                                        String.format("js/%s.js", resourceName)),
                                    Charsets.UTF_8));
                      children: []
                      pos: 73231
                      length: 188
                    pos: 73223
                    length: 202
                  excepts:
                    type: excepts
                    fields: {}
                    children:
                    - type: catch_clause
                      fields:
                        text: |-
                          catch (IOException e) {
                                throw new RuntimeException(e);
                              }
                      children: []
                      pos: 73426
                      length: 66
                    pos: 73219
                    length: 273
                children: []
                pos: 73219
                length: 273
              - type: return_statement
                fields:
                  text: |-
                    return Normalize.parseAndNormalizeSyntheticCode(
                            this, originalCode,
                            String.format("jscomp_%s_", resourceName));
                children: []
                pos: 73498
                length: 128
              pos: 73188
              length: 442
          children: []
          pos: 73125
          length: 505
        pos: 3070
        length: 70562
    children: []
    pos: 3070
    length: 70562
  pos: 0
  length: 73633
after_tree:
  type: program
  fields: {}
  children:
  - type: class_declaration
    fields:
      name:
        type: identifier
        fields:
          text: Compiler
        children: []
        pos: 3083
        length: 8
      body:
        type: class_body
        fields: {}
        children:
        - type: field_declaration
          fields:
            text: static final String SINGLETON_MODULE_NAME = "[singleton]";
          children: []
          pos: 3121
          length: 58
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType MODULE_DEPENDENCY_ERROR =
                    DiagnosticType.error("JSC_MODULE_DEPENDENCY_ERROR",
                        "Bad dependency: {0} -> {1}. "
                            + "Modules must be listed in dependency order.");
          children: []
          pos: 3183
          length: 216
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType MISSING_ENTRY_ERROR = DiagnosticType.error(
                    "JSC_MISSING_ENTRY_ERROR",
                    "required entry point \"{0}\" never provided");
          children: []
          pos: 3403
          length: 158
        - type: field_declaration
          fields:
            text: CompilerOptions options = null;
          children: []
          pos: 3565
          length: 31
        - type: field_declaration
          fields:
            text: private PassConfig passes = null;
          children: []
          pos: 3600
          length: 33
        - type: field_declaration
          fields:
            text: private List<CompilerInput> externs;
          children: []
          pos: 3661
          length: 36
        - type: field_declaration
          fields:
            text: private List<JSModule> modules;
          children: []
          pos: 3728
          length: 31
        - type: field_declaration
          fields:
            text: private JSModuleGraph moduleGraph;
          children: []
          pos: 3913
          length: 34
        - type: field_declaration
          fields:
            text: private List<CompilerInput> inputs;
          children: []
          pos: 3977
          length: 35
        - type: field_declaration
          fields:
            text: private ErrorManager errorManager;
          children: []
          pos: 4074
          length: 34
        - type: field_declaration
          fields:
            text: private WarningsGuard warningsGuard;
          children: []
          pos: 4156
          length: 36
        - type: field_declaration
          fields:
            text: private final Map<String, Node> injectedLibraries = Maps.newLinkedHashMap();
          children: []
          pos: 4319
          length: 76
        - type: field_declaration
          fields:
            text: Node externsRoot;
          children: []
          pos: 4426
          length: 17
        - type: field_declaration
          fields:
            text: Node jsRoot;
          children: []
          pos: 4446
          length: 12
        - type: field_declaration
          fields:
            text: Node externAndJsRoot;
          children: []
          pos: 4461
          length: 21
        - type: field_declaration
          fields:
            text: private Map<InputId, CompilerInput> inputsById;
          children: []
          pos: 4486
          length: 47
        - type: field_declaration
          fields:
            text: private SourceMap sourceMap;
          children: []
          pos: 4566
          length: 28
        - type: field_declaration
          fields:
            text: private String externExports = null;
          children: []
          pos: 4646
          length: 36
        - type: field_declaration
          fields:
            text: private int uniqueNameId = 0;
          children: []
          pos: 4777
          length: 29
        - type: field_declaration
          fields:
            text: private boolean useThreads = true;
          children: []
          pos: 4843
          length: 34
        - type: field_declaration
          fields:
            text: private boolean hasRegExpGlobalReferences = true;
          children: []
          pos: 4982
          length: 49
        - type: field_declaration
          fields:
            text: private FunctionInformationMap functionInformationMap;
          children: []
          pos: 5073
          length: 54
        - type: field_declaration
          fields:
            text: private final StringBuilder debugLog = new StringBuilder();
          children: []
          pos: 5162
          length: 59
        - type: field_declaration
          fields:
            text: CodingConvention defaultCodingConvention = new ClosureCodingConvention();
          children: []
          pos: 5278
          length: 73
        - type: field_declaration
          fields:
            text: private JSTypeRegistry typeRegistry;
          children: []
          pos: 5355
          length: 36
        - type: field_declaration
          fields:
            text: private Config parserConfig = null;
          children: []
          pos: 5394
          length: 35
        - type: field_declaration
          fields:
            text: private ReverseAbstractInterpreter abstractInterpreter;
          children: []
          pos: 5433
          length: 55
        - type: field_declaration
          fields:
            text: private TypeValidator typeValidator;
          children: []
          pos: 5491
          length: 36
        - type: field_declaration
          fields:
            text: public PerformanceTracker tracker;
          children: []
          pos: 5531
          length: 34
        - type: field_declaration
          fields:
            text: |-
              private final com.google.javascript.rhino.ErrorReporter oldErrorReporter =
                    RhinoErrorReporter.forOldRhino(this);
          children: []
          pos: 5648
          length: 118
        - type: field_declaration
          fields:
            text: |-
              private final ErrorReporter defaultErrorReporter =
                    RhinoErrorReporter.forNewRhino(this);
          children: []
          pos: 5844
          length: 94
        - type: field_declaration
          fields:
            text: |-
              public static final DiagnosticType OPTIMIZE_LOOP_ERROR = DiagnosticType.error(
                    "JSC_OPTIMIZE_LOOP_ERROR",
                    "Exceeded max number of optimization iterations: {0}");
          children: []
          pos: 5993
          length: 173
        - type: field_declaration
          fields:
            text: |-
              public static final DiagnosticType MOTION_ITERATIONS_ERROR =
                    DiagnosticType.error("JSC_OPTIMIZE_LOOP_ERROR",
                        "Exceeded max number of code motion iterations: {0}");
          children: []
          pos: 6169
          length: 179
        - type: field_declaration
          fields:
            text: private static final long COMPILER_STACK_SIZE = 1048576L;
          children: []
          pos: 6352
          length: 57
        - type: field_declaration
          fields:
            text: |-
              private static final Logger logger =
                    Logger.getLogger("com.google.javascript.jscomp");
          children: []
          pos: 6597
          length: 92
        - type: field_declaration
          fields:
            text: private final PrintStream outStream;
          children: []
          pos: 6693
          length: 36
        - type: field_declaration
          fields:
            text: private GlobalVarReferenceMap globalRefMap = null;
          children: []
          pos: 6733
          length: 50
        - type: field_declaration
          fields:
            text: private volatile double progress = 0.0;
          children: []
          pos: 6787
          length: 39
        - type: constructor_declaration
          fields:
            text: |-
              public Compiler() {
                  this((PrintStream) null);
                }
          children: []
          pos: 6914
          length: 53
        - type: constructor_declaration
          fields:
            text: |-
              public Compiler(PrintStream stream) {
                  addChangeHandler(recentChange);
                  outStream = stream;
                }
          children: []
          pos: 7066
          length: 101
        - type: constructor_declaration
          fields:
            text: |-
              public Compiler(ErrorManager errorManager) {
                  this();
                  setErrorManager(errorManager);
                }
          children: []
          pos: 7241
          length: 95
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setErrorManager
              children: []
              pos: 7468
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: ErrorManager errorManager
                children: []
                pos: 7484
                length: 25
              pos: 7456
              length: 189
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: |-
                    Preconditions.checkNotNull(
                            errorManager, "the error manager cannot be null");
                children: []
                pos: 7517
                length: 86
              - type: expression_statement
                fields:
                  text: this.errorManager = errorManager;
                children: []
                pos: 7608
                length: 33
              pos: 7511
              length: 134
          children: []
          pos: 7456
          length: 189
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: createMessageFormatter
              children: []
              pos: 7788
              length: 22
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 7763
              length: 175
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: boolean colorize = options.shouldColorizeErrorOutput();
                children: []
                pos: 7819
                length: 55
              - type: return_statement
                fields:
                  text: return options.errorFormat.toFormatter(this, colorize);
                children: []
                pos: 7879
                length: 55
              pos: 7813
              length: 125
          children: []
          pos: 7763
          length: 175
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: initOptions
              children: []
              pos: 8068
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: CompilerOptions options
                children: []
                pos: 8080
                length: 23
              pos: 8056
              length: 2384
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: this.options = options;
                children: []
                pos: 8111
                length: 23
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: errorManager
                            children: []
                            pos: 8143
                            length: 12
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 8159
                            length: 4
                        children: []
                        pos: 8143
                        length: 20
                    children: []
                    pos: 8142
                    length: 22
                children:
                - type: block
                  fields: {}
                  children:
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: outStream
                                children: []
                                pos: 8177
                                length: 9
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 8190
                                length: 4
                            children: []
                            pos: 8177
                            length: 17
                        children: []
                        pos: 8176
                        length: 19
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: |-
                            setErrorManager(
                                        new LoggerErrorManager(createMessageFormatter(), logger));
                        children: []
                        pos: 8206
                        length: 87
                      pos: 8196
                      length: 105
                    pos: 8173
                    length: 364
                  pos: 8165
                  length: 378
                pos: 8139
                length: 404
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: options.enables(DiagnosticGroups.CHECK_TYPES)
                        children: []
                        pos: 8615
                        length: 45
                    children: []
                    pos: 8614
                    length: 47
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: options.checkTypes = true;
                    children: []
                    pos: 8670
                    length: 26
                  pos: 8662
                  length: 40
                pos: 8611
                length: 533
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: and
                        fields:
                          left:
                            type: method_invocation
                            fields:
                              text: options.checkGlobalThisLevel.isOn()
                            children: []
                            pos: 9154
                            length: 35
                          right:
                            type: unary_expression
                            fields:
                              text: "!options.disables(DiagnosticGroups.GLOBAL_THIS)"
                            children: []
                            pos: 9201
                            length: 47
                        children: []
                        pos: 9154
                        length: 94
                    children: []
                    pos: 9153
                    length: 96
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: |-
                        options.setWarningLevel(
                                  DiagnosticGroups.GLOBAL_THIS,
                                  options.checkGlobalThisLevel);
                    children: []
                    pos: 9258
                    length: 105
                  pos: 9250
                  length: 119
                pos: 9150
                length: 219
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: method_invocation
                            fields:
                              text: options.getLanguageIn()
                            children: []
                            pos: 9379
                            length: 23
                          right:
                            type: field_access
                            fields:
                              text: LanguageMode.ECMASCRIPT5_STRICT
                            children: []
                            pos: 9406
                            length: 31
                        children: []
                        pos: 9379
                        length: 58
                    children: []
                    pos: 9378
                    length: 60
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: |-
                        options.setWarningLevel(
                                  DiagnosticGroups.ES5_STRICT,
                                  CheckLevel.ERROR);
                    children: []
                    pos: 9447
                    length: 92
                  pos: 9439
                  length: 106
                pos: 9375
                length: 170
              - type: local_variable_declaration
                fields:
                  text: List<WarningsGuard> guards = Lists.newArrayList();
                children: []
                pos: 9589
                length: 50
              - type: expression_statement
                fields:
                  text: |-
                    guards.add(
                            new SuppressDocWarningsGuard(
                                getDiagnosticGroups().getRegisteredGroups()));
                children: []
                pos: 9644
                length: 108
              - type: expression_statement
                fields:
                  text: guards.add(options.getWarningsGuard());
                children: []
                pos: 9757
                length: 39
              - type: local_variable_declaration
                fields:
                  text: ComposeWarningsGuard composedGuards = new ComposeWarningsGuard(guards);
                children: []
                pos: 9802
                length: 71
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: and
                        fields:
                          left:
                            type: unary_expression
                            fields:
                              text: "!options.checkSymbols"
                            children: []
                            pos: 10169
                            length: 21
                          right:
                            type: unary_expression
                            fields:
                              text: "!composedGuards.enables(DiagnosticGroups.CHECK_VARIABLES)"
                            children: []
                            pos: 10202
                            length: 57
                        children: []
                        pos: 10169
                        length: 90
                    children: []
                    pos: 10168
                    length: 92
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: |-
                        composedGuards.addGuard(new DiagnosticGroupWarningsGuard(
                                  DiagnosticGroups.CHECK_VARIABLES, CheckLevel.OFF));
                    children: []
                    pos: 10269
                    length: 119
                  pos: 10261
                  length: 133
                pos: 10165
                length: 229
              - type: expression_statement
                fields:
                  text: this.warningsGuard = composedGuards;
                children: []
                pos: 10400
                length: 36
              pos: 8105
              length: 2335
          children: []
          pos: 8056
          length: 2384
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: init
              children: []
              pos: 10530
              length: 4
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSSourceFile[] externs
                children: []
                pos: 10535
                length: 22
              pos: 10518
              length: 212
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: |-
                    init(Lists.<JSSourceFile>newArrayList(externs),
                            Lists.<JSSourceFile>newArrayList(inputs), options);
                children: []
                pos: 10619
                length: 107
              pos: 10613
              length: 117
          children: []
          pos: 10518
          length: 212
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: init
              children: []
              pos: 10867
              length: 4
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: List<T1> externs
                children: []
                pos: 10879
                length: 16
              pos: 10808
              length: 340
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: JSModule module = new JSModule(SINGLETON_MODULE_NAME);
                children: []
                pos: 10957
                length: 54
              - type: enhanced_for_statement
                fields:
                  text: |-
                    for (SourceFile input : inputs) {
                          module.add(input);
                        }
                children: []
                pos: 11016
                length: 64
              - type: expression_statement
                fields:
                  text: initModules(externs, Lists.newArrayList(module), options);
                children: []
                pos: 11086
                length: 58
              pos: 10951
              length: 197
          children: []
          pos: 10808
          length: 340
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: init
              children: []
              pos: 11273
              length: 4
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSSourceFile[] externs
                children: []
                pos: 11278
                length: 22
              pos: 11261
              length: 212
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: |-
                    initModules(Lists.<SourceFile>newArrayList(externs),
                             Lists.<JSModule>newArrayList(modules), options);
                children: []
                pos: 11359
                length: 110
              pos: 11353
              length: 120
          children: []
          pos: 11261
          length: 212
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: initModules
              children: []
              pos: 11621
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: List<T> externs
                children: []
                pos: 11640
                length: 15
              pos: 11586
              length: 973
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: initOptions(options);
                children: []
                pos: 11712
                length: 21
              - type: expression_statement
                fields:
                  text: checkFirstModule(modules);
                children: []
                pos: 11739
                length: 26
              - type: expression_statement
                fields:
                  text: fillEmptyModules(modules);
                children: []
                pos: 11770
                length: 26
              - type: expression_statement
                fields:
                  text: this.externs = makeCompilerInput(externs, true);
                children: []
                pos: 11802
                length: 48
              - type: expression_statement
                fields:
                  text: this.modules = modules;
                children: []
                pos: 11958
                length: 23
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: greater_than
                        fields:
                          left:
                            type: method_invocation
                            fields:
                              text: modules.size()
                            children: []
                            pos: 11990
                            length: 14
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '1'
                            children: []
                            pos: 12007
                            length: 1
                        children: []
                        pos: 11990
                        length: 18
                    children: []
                    pos: 11989
                    length: 20
                children:
                - type: block
                  fields: {}
                  children:
                  - type: try_statement
                    fields:
                      body:
                        type: block
                        fields: {}
                        children:
                        - type: expression_statement
                          fields:
                            text: this.moduleGraph = new JSModuleGraph(modules);
                          children: []
                          pos: 12032
                          length: 46
                        pos: 12022
                        length: 64
                      excepts:
                        type: excepts
                        fields: {}
                        children:
                        - type: catch_clause
                          fields:
                            text: |-
                              catch (JSModuleGraph.ModuleDependenceException e) {
                                      // problems with the module format.  Report as an error.  The
                                      // message gives all details.
                                      report(JSError.make(MODULE_DEPENDENCY_ERROR,
                                              e.getModule().getName(), e.getDependentModule().getName()));
                                      return;
                                    }
                          children: []
                          pos: 12087
                          length: 313
                        pos: 12018
                        length: 382
                    children: []
                    pos: 12018
                    length: 382
                  pos: 12010
                  length: 396
                pos: 11986
                length: 464
              - type: expression_statement
                fields:
                  text: this.inputs = getAllInputsFromModules(modules);
                children: []
                pos: 12456
                length: 47
              - type: expression_statement
                fields:
                  text: initBasedOnOptions();
                children: []
                pos: 12508
                length: 21
              - type: expression_statement
                fields:
                  text: initInputsByIdMap();
                children: []
                pos: 12535
                length: 20
              pos: 11706
              length: 853
          children: []
          pos: 11586
          length: 973
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: initBasedOnOptions
              children: []
              pos: 12658
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 12645
              length: 262
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: field_access
                            fields:
                              text: options.sourceMapOutputPath
                            children: []
                            pos: 12732
                            length: 27
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 12763
                            length: 4
                        children: []
                        pos: 12732
                        length: 35
                    children: []
                    pos: 12731
                    length: 37
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: sourceMap = options.sourceMapFormat.getInstance();
                    children: []
                    pos: 12777
                    length: 50
                  - type: expression_statement
                    fields:
                      text: sourceMap.setPrefixMappings(options.sourceMapLocationMappings);
                    children: []
                    pos: 12834
                    length: 63
                  pos: 12769
                  length: 134
                pos: 12728
                length: 175
              pos: 12679
              length: 228
          children: []
          pos: 12645
          length: 262
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: makeCompilerInput
              children: []
              pos: 12962
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: List<T> files
                children: []
                pos: 12987
                length: 13
              pos: 12911
              length: 274
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: List<CompilerInput> inputs = Lists.newArrayList();
                children: []
                pos: 13026
                length: 50
              - type: enhanced_for_statement
                fields:
                  text: |-
                    for (T file : files) {
                          inputs.add(new CompilerInput(file, isExtern));
                        }
                children: []
                pos: 13081
                length: 81
              - type: return_statement
                fields:
                  text: return inputs;
                children: []
                pos: 13167
                length: 14
              pos: 13020
              length: 165
          children: []
          pos: 12911
          length: 274
        - type: field_declaration
          fields:
            text: |-
              private static final DiagnosticType EMPTY_MODULE_LIST_ERROR =
                    DiagnosticType.error("JSC_EMPTY_MODULE_LIST_ERROR",
                        "At least one module must be provided");
          children: []
          pos: 13189
          length: 170
        - type: field_declaration
          fields:
            text: |-
              private static final DiagnosticType EMPTY_ROOT_MODULE_ERROR =
                    DiagnosticType.error("JSC_EMPTY_ROOT_MODULE_ERROR",
                        "Root module '{0}' must contain at least one source code input");
          children: []
          pos: 13363
          length: 195
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: checkFirstModule
              children: []
              pos: 13708
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: List<JSModule> modules
                children: []
                pos: 13725
                length: 22
              pos: 13695
              length: 386
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: modules.isEmpty()
                        children: []
                        pos: 13759
                        length: 17
                    children: []
                    pos: 13758
                    length: 19
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: report(JSError.make(EMPTY_MODULE_LIST_ERROR));
                    children: []
                    pos: 13786
                    length: 46
                  pos: 13778
                  length: 60
                pos: 13755
                length: 322
              pos: 13749
              length: 332
          children: []
          pos: 13695
          length: 386
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: createFillFileName
              children: []
              pos: 14208
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String moduleName
                children: []
                pos: 14227
                length: 17
              pos: 14194
              length: 92
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return "[" + moduleName + "]";
                children: []
                pos: 14252
                length: 30
              pos: 14246
              length: 40
          children: []
          pos: 14194
          length: 92
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: fillEmptyModules
              children: []
              pos: 14422
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: List<JSModule> modules
                children: []
                pos: 14439
                length: 22
              pos: 14402
              length: 256
            body:
              type: block
              fields: {}
              children:
              - type: enhanced_for_statement
                fields:
                  text: |-
                    for (JSModule module : modules) {
                          if (module.getInputs().isEmpty()) {
                            module.add(SourceFile.fromCode(
                                createFillFileName(module.getName()), ""));
                          }
                        }
                children: []
                pos: 14469
                length: 185
              pos: 14463
              length: 195
          children: []
          pos: 14402
          length: 256
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: rebuildInputsFromModules
              children: []
              pos: 14916
              length: 24
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 14904
              length: 116
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: inputs = getAllInputsFromModules(modules);
                children: []
                pos: 14949
                length: 42
              - type: expression_statement
                fields:
                  text: initInputsByIdMap();
                children: []
                pos: 14996
                length: 20
              pos: 14943
              length: 77
          children: []
          pos: 14904
          length: 116
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getAllInputsFromModules
              children: []
              pos: 15165
              length: 23
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: List<JSModule> modules
                children: []
                pos: 15196
                length: 22
              pos: 15130
              length: 623
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: List<CompilerInput> inputs = Lists.newArrayList();
                children: []
                pos: 15226
                length: 50
              - type: local_variable_declaration
                fields:
                  text: Map<String, JSModule> inputMap = Maps.newHashMap();
                children: []
                pos: 15281
                length: 51
              - type: enhanced_for_statement
                fields:
                  text: |-
                    for (JSModule module : modules) {
                          for (CompilerInput input : module.getInputs()) {
                            String inputName = input.getName();

                            // NOTE(nicksantos): If an input is in more than one module,
                            // it will show up twice in the inputs list, and then we
                            // will get an error down the line.
                            inputs.add(input);
                            inputMap.put(inputName, module);
                          }
                        }
                children: []
                pos: 15337
                length: 393
              - type: return_statement
                fields:
                  text: return inputs;
                children: []
                pos: 15735
                length: 14
              pos: 15220
              length: 533
          children: []
          pos: 15130
          length: 623
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType DUPLICATE_INPUT =
                    DiagnosticType.error("JSC_DUPLICATE_INPUT", "Duplicate input: {0}");
          children: []
          pos: 15757
          length: 120
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType DUPLICATE_EXTERN_INPUT =
                    DiagnosticType.error("JSC_DUPLICATE_EXTERN_INPUT",
                        "Duplicate extern input: {0}");
          children: []
          pos: 15880
          length: 151
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: initInputsByIdMap
              children: []
              pos: 16152
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 16147
              length: 590
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: inputsById = new HashMap<InputId, CompilerInput>();
                children: []
                pos: 16178
                length: 51
              - type: enhanced_for_statement
                fields:
                  text: |-
                    for (CompilerInput input : externs) {
                          InputId id = input.getInputId();
                          CompilerInput previous = putCompilerInput(id, input);
                          if (previous != null) {
                            report(JSError.make(DUPLICATE_EXTERN_INPUT, input.getName()));
                          }
                        }
                children: []
                pos: 16234
                length: 251
              - type: enhanced_for_statement
                fields:
                  text: |-
                    for (CompilerInput input : inputs) {
                          InputId id = input.getInputId();
                          CompilerInput previous = putCompilerInput(id, input);
                          if (previous != null) {
                            report(JSError.make(DUPLICATE_INPUT, input.getName()));
                          }
                        }
                children: []
                pos: 16490
                length: 243
              pos: 16172
              length: 565
          children: []
          pos: 16147
          length: 590
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: compile
              children: []
              pos: 16755
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: SourceFile extern
                children: []
                pos: 16770
                length: 17
              pos: 16741
              length: 181
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return compile(Lists.newArrayList(extern), Lists.newArrayList(input),
                    options);
                children: []
                pos: 16839
                length: 79
              pos: 16832
              length: 90
          children: []
          pos: 16741
          length: 181
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: compile
              children: []
              pos: 16940
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: SourceFile extern
                children: []
                pos: 16955
                length: 17
              pos: 16926
              length: 185
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return compile(Lists.newArrayList(extern), Lists.newArrayList(input),
                    options);
                children: []
                pos: 17028
                length: 79
              pos: 17021
              length: 90
          children: []
          pos: 16926
          length: 185
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: compile
              children: []
              pos: 17129
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSSourceFile extern
                children: []
                pos: 17144
                length: 19
              pos: 17115
              length: 204
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return compileModules(
                             Lists.newArrayList(extern), Lists.newArrayList(modules), options);
                children: []
                pos: 17217
                length: 98
              pos: 17210
              length: 109
          children: []
          pos: 17115
          length: 204
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: compile
              children: []
              pos: 17381
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSSourceFile[] externs
                children: []
                pos: 17389
                length: 22
              pos: 17367
              length: 273
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return compile(Lists.<SourceFile>newArrayList(externs),
                            Lists.<SourceFile>newArrayList(inputs),
                            options);
                children: []
                pos: 17515
                length: 121
              pos: 17509
              length: 131
          children: []
          pos: 17367
          length: 273
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: compile
              children: []
              pos: 17749
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: List<T1> externs
                children: []
                pos: 17764
                length: 16
              pos: 17688
              length: 519
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: Preconditions.checkState(jsRoot == null);
                children: []
                pos: 17884
                length: 41
              - type: try_statement
                fields:
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: expression_statement
                      fields:
                        text: init(externs, inputs, options);
                      children: []
                      pos: 17943
                      length: 31
                    - type: if_statement
                      fields:
                        condition:
                          type: parenthesized_expression
                          fields:
                            expression:
                              type: method_invocation
                              fields:
                                text: hasErrors()
                              children: []
                              pos: 17985
                              length: 11
                          children: []
                          pos: 17984
                          length: 13
                      children:
                      - type: block
                        fields: {}
                        children:
                        - type: return_statement
                          fields:
                            text: return getResult();
                          children: []
                          pos: 18008
                          length: 19
                        pos: 17998
                        length: 37
                      pos: 17981
                      length: 54
                    - type: return_statement
                      fields:
                        text: return compile();
                      children: []
                      pos: 18042
                      length: 17
                    pos: 17935
                    length: 130
                  excepts:
                    type: excepts
                    fields: {}
                    children: []
                    pos: 17931
                    length: 272
                children: []
                pos: 17931
                length: 272
              pos: 17824
              length: 383
          children: []
          pos: 17688
          length: 519
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: compile
              children: []
              pos: 18270
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSSourceFile[] externs
                children: []
                pos: 18278
                length: 22
              pos: 18256
              length: 276
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return compileModules(Lists.<SourceFile>newArrayList(externs),
                            Lists.<JSModule>newArrayList(modules),
                            options);
                children: []
                pos: 18401
                length: 127
              pos: 18395
              length: 137
          children: []
          pos: 18256
          length: 276
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: compileModules
              children: []
              pos: 18618
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: List<T> externs
                children: []
                pos: 18633
                length: 15
              pos: 18581
              length: 515
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: Preconditions.checkState(jsRoot == null);
                children: []
                pos: 18765
                length: 41
              - type: try_statement
                fields:
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: expression_statement
                      fields:
                        text: initModules(externs, modules, options);
                      children: []
                      pos: 18824
                      length: 39
                    - type: if_statement
                      fields:
                        condition:
                          type: parenthesized_expression
                          fields:
                            expression:
                              type: method_invocation
                              fields:
                                text: hasErrors()
                              children: []
                              pos: 18874
                              length: 11
                          children: []
                          pos: 18873
                          length: 13
                      children:
                      - type: block
                        fields: {}
                        children:
                        - type: return_statement
                          fields:
                            text: return getResult();
                          children: []
                          pos: 18897
                          length: 19
                        pos: 18887
                        length: 37
                      pos: 18870
                      length: 54
                    - type: return_statement
                      fields:
                        text: return compile();
                      children: []
                      pos: 18931
                      length: 17
                    pos: 18816
                    length: 138
                  excepts:
                    type: excepts
                    fields: {}
                    children: []
                    pos: 18812
                    length: 280
                children: []
                pos: 18812
                length: 280
              pos: 18705
              length: 391
          children: []
          pos: 18581
          length: 515
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: compile
              children: []
              pos: 19115
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 19100
              length: 219
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return runInCompilerThread(new Callable<Result>() {
                          @Override
                          public Result call() throws Exception {
                            compileInternal();
                            return getResult();
                          }
                        });
                children: []
                pos: 19131
                length: 184
              pos: 19125
              length: 194
          children: []
          pos: 19100
          length: 219
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: disableThreads
              children: []
              pos: 19440
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 19428
              length: 58
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: useThreads = false;
                children: []
                pos: 19463
                length: 19
              pos: 19457
              length: 29
          children: []
          pos: 19428
          length: 58
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: runInCompilerThread
              children: []
              pos: 19504
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final Callable<T> callable
                children: []
                pos: 19524
                length: 26
              pos: 19490
              length: 136
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return runCallable(callable, useThreads, options.tracer.isOn());
                children: []
                pos: 19558
                length: 64
              pos: 19552
              length: 74
          children: []
          pos: 19490
          length: 136
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: runCallableWithLargeStack
              children: []
              pos: 19643
              length: 25
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final Callable<T> callable
                children: []
                pos: 19669
                length: 26
              pos: 19630
              length: 119
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return runCallable(callable, true, false);
                children: []
                pos: 19703
                length: 42
              pos: 19697
              length: 52
          children: []
          pos: 19630
          length: 119
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: runCallable
              children: []
              pos: 19799
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final Callable<T> callable
                children: []
                pos: 19818
                length: 26
              pos: 19753
              length: 1595
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: final boolean dumpTraceReport = trace;
                children: []
                pos: 20278
                length: 38
              - type: local_variable_declaration
                fields:
                  text: final Object[] result = new Object[1];
                children: []
                pos: 20321
                length: 38
              - type: local_variable_declaration
                fields:
                  text: final Throwable[] exception = new Throwable[1];
                children: []
                pos: 20364
                length: 47
              - type: local_variable_declaration
                fields:
                  text: |-
                    Runnable runnable = new Runnable() {
                          @Override
                          public void run() {
                            try {
                              if (dumpTraceReport) {
                                Tracer.initCurrentThreadTrace();
                              }
                              result[0] = callable.call();
                            } catch (Throwable e) {
                              exception[0] = e;
                            } finally {
                              if (dumpTraceReport) {
                                Tracer.logAndClearCurrentThreadTrace();
                              }
                            }
                          }
                        };
                children: []
                pos: 20416
                length: 423
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: identifier
                        fields:
                          text: useLargeStackThread
                        children: []
                        pos: 20849
                        length: 19
                    children: []
                    pos: 20848
                    length: 21
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: Thread th = new Thread(null, runnable, "jscompiler", COMPILER_STACK_SIZE);
                    children: []
                    pos: 20878
                    length: 74
                  - type: expression_statement
                    fields:
                      text: th.start();
                    children: []
                    pos: 20959
                    length: 11
                  - type: while_statement
                    fields:
                      text: |-
                        while (true) {
                                try {
                                  th.join();
                                  break;
                                } catch (InterruptedException ignore) {
                                  // ignore
                                }
                              }
                    children: []
                    pos: 20977
                    length: 152
                  pos: 20870
                  length: 265
                pos: 20845
                length: 325
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: array_access
                            fields:
                              array:
                                type: identifier
                                fields:
                                  text: exception
                                children: []
                                pos: 21240
                                length: 9
                              index:
                                type: decimal_integer_literal
                                fields:
                                  text: '0'
                                children: []
                                pos: 21250
                                length: 1
                            children: []
                            pos: 21240
                            length: 12
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 21256
                            length: 4
                        children: []
                        pos: 21240
                        length: 20
                    children: []
                    pos: 21239
                    length: 22
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: throw new RuntimeException(exception[0]);
                    children: []
                    pos: 21270
                    length: 41
                  pos: 21262
                  length: 55
                pos: 21236
                length: 81
              - type: return_statement
                fields:
                  text: return (T) result[0];
                children: []
                pos: 21323
                length: 21
              pos: 19890
              length: 1458
          children: []
          pos: 19753
          length: 1595
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: compileInternal
              children: []
              pos: 21365
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 21352
              length: 1048
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: setProgress(0.0);
                children: []
                pos: 21389
                length: 17
              - type: expression_statement
                fields:
                  text: parse();
                children: []
                pos: 21411
                length: 8
              - type: expression_statement
                fields:
                  text: setProgress(0.15);
                children: []
                pos: 21577
                length: 18
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: hasErrors()
                        children: []
                        pos: 21604
                        length: 11
                    children: []
                    pos: 21603
                    length: 13
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return;
                    children: []
                    pos: 21625
                    length: 7
                  pos: 21617
                  length: 21
                pos: 21600
                length: 38
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: unary_expression
                        fields:
                          text: "!precheck()"
                        children: []
                        pos: 21648
                        length: 11
                    children: []
                    pos: 21647
                    length: 13
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return;
                    children: []
                    pos: 21669
                    length: 7
                  pos: 21661
                  length: 21
                pos: 21644
                length: 38
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: field_access
                        fields:
                          text: options.nameAnonymousFunctionsOnly
                        children: []
                        pos: 21692
                        length: 34
                    children: []
                    pos: 21691
                    length: 36
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: check();
                    children: []
                    pos: 21807
                    length: 8
                  - type: return_statement
                    fields:
                      text: return;
                    children: []
                    pos: 21822
                    length: 7
                  pos: 21728
                  length: 107
                pos: 21688
                length: 147
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: unary_expression
                        fields:
                          text: "!options.skipAllPasses"
                        children: []
                        pos: 21845
                        length: 22
                    children: []
                    pos: 21844
                    length: 24
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: check();
                    children: []
                    pos: 21877
                    length: 8
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: method_invocation
                            fields:
                              text: hasErrors()
                            children: []
                            pos: 21896
                            length: 11
                        children: []
                        pos: 21895
                        length: 13
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: return_statement
                        fields:
                          text: return;
                        children: []
                        pos: 21919
                        length: 7
                      pos: 21909
                      length: 25
                    pos: 21892
                    length: 42
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: or
                            fields:
                              left:
                                type: method_invocation
                                fields:
                                  text: options.isExternExportsEnabled()
                                children: []
                                pos: 21946
                                length: 32
                              right:
                                type: not_equals
                                fields:
                                  left:
                                    type: field_access
                                    fields:
                                      text: options.externExportsPath
                                    children: []
                                    pos: 21992
                                    length: 25
                                  right:
                                    type: null_literal
                                    fields: {}
                                    children: []
                                    pos: 22021
                                    length: 4
                                children: []
                                pos: 21992
                                length: 33
                            children: []
                            pos: 21946
                            length: 79
                        children: []
                        pos: 21945
                        length: 81
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: externExports();
                        children: []
                        pos: 22037
                        length: 16
                      pos: 22027
                      length: 34
                    pos: 21942
                    length: 119
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: unary_expression
                            fields:
                              text: "!options.ideMode"
                            children: []
                            pos: 22151
                            length: 16
                        children: []
                        pos: 22150
                        length: 18
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: optimize();
                        children: []
                        pos: 22179
                        length: 11
                      pos: 22169
                      length: 29
                    pos: 22147
                    length: 51
                  pos: 21869
                  length: 335
                pos: 21841
                length: 363
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: field_access
                        fields:
                          text: options.recordFunctionInformation
                        children: []
                        pos: 22214
                        length: 33
                    children: []
                    pos: 22213
                    length: 35
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: recordFunctionInformation();
                    children: []
                    pos: 22257
                    length: 28
                  pos: 22249
                  length: 42
                pos: 22210
                length: 81
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: field_access
                            fields:
                              text: options.devMode
                            children: []
                            pos: 22301
                            length: 15
                          right:
                            type: field_access
                            fields:
                              text: DevMode.START_AND_END
                            children: []
                            pos: 22320
                            length: 21
                        children: []
                        pos: 22301
                        length: 40
                    children: []
                    pos: 22300
                    length: 42
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: runSanityCheck();
                    children: []
                    pos: 22351
                    length: 17
                  pos: 22343
                  length: 31
                pos: 22297
                length: 77
              - type: expression_statement
                fields:
                  text: setProgress(1.0);
                children: []
                pos: 22379
                length: 17
              pos: 21383
              length: 1017
          children: []
          pos: 21352
          length: 1048
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: parse
              children: []
              pos: 22416
              length: 5
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 22404
              length: 44
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: parseInputs();
                children: []
                pos: 22430
                length: 14
              pos: 22424
              length: 24
          children: []
          pos: 22404
          length: 44
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getPassConfig
              children: []
              pos: 22463
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 22452
              length: 126
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: passes
                            children: []
                            pos: 22489
                            length: 6
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 22499
                            length: 4
                        children: []
                        pos: 22489
                        length: 14
                    children: []
                    pos: 22488
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: passes = createPassConfigInternal();
                    children: []
                    pos: 22513
                    length: 36
                  pos: 22505
                  length: 50
                pos: 22485
                length: 70
              - type: return_statement
                fields:
                  text: return passes;
                children: []
                pos: 22560
                length: 14
              pos: 22479
              length: 99
          children: []
          pos: 22452
          length: 126
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: createPassConfigInternal
              children: []
              pos: 22702
              length: 24
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 22691
              length: 86
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return new DefaultPassConfig(options);
                children: []
                pos: 22735
                length: 38
              pos: 22729
              length: 48
          children: []
          pos: 22691
          length: 86
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setPassConfig
              children: []
              pos: 22994
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: PassConfig passes
                children: []
                pos: 23008
                length: 17
              pos: 22982
              length: 543
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: Preconditions.checkNotNull(passes);
                children: []
                pos: 23342
                length: 35
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: field_access
                            fields:
                              text: this.passes
                            children: []
                            pos: 23387
                            length: 11
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 23402
                            length: 4
                        children: []
                        pos: 23387
                        length: 19
                    children: []
                    pos: 23386
                    length: 21
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: throw new IllegalStateException("this.passes has already
                        been assigned");
                    children: []
                    pos: 23416
                    length: 73
                  pos: 23408
                  length: 87
                pos: 23383
                length: 112
              - type: expression_statement
                fields:
                  text: this.passes = passes;
                children: []
                pos: 23500
                length: 21
              pos: 23027
              length: 498
          children: []
          pos: 22982
          length: 543
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: precheck
              children: []
              pos: 23732
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 23724
              length: 41
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return true;
                children: []
                pos: 23749
                length: 12
              pos: 23743
              length: 22
          children: []
          pos: 23724
          length: 41
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: check
              children: []
              pos: 23781
              length: 5
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 23769
              length: 1295
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: runCustomPasses(CustomPassExecutionTime.BEFORE_CHECKS);
                children: []
                pos: 23795
                length: 55
              - type: local_variable_declaration
                fields:
                  text: |-
                    PhaseOptimizer phaseOptimizer = new PhaseOptimizer(this, tracker,
                            new PhaseOptimizer.ProgressRange(getProgress(), 1.0));
                children: []
                pos: 24013
                length: 128
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: field_access
                            fields:
                              text: options.devMode
                            children: []
                            pos: 24150
                            length: 15
                          right:
                            type: field_access
                            fields:
                              text: DevMode.EVERY_PASS
                            children: []
                            pos: 24169
                            length: 18
                        children: []
                        pos: 24150
                        length: 37
                    children: []
                    pos: 24149
                    length: 39
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: phaseOptimizer.setSanityCheck(sanityCheck);
                    children: []
                    pos: 24197
                    length: 43
                  pos: 24189
                  length: 57
                pos: 24146
                length: 100
              - type: expression_statement
                fields:
                  text: phaseOptimizer.consume(getPassConfig().getChecks());
                children: []
                pos: 24251
                length: 52
              - type: expression_statement
                fields:
                  text: phaseOptimizer.process(externsRoot, jsRoot);
                children: []
                pos: 24308
                length: 44
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: hasErrors()
                        children: []
                        pos: 24361
                        length: 11
                    children: []
                    pos: 24360
                    length: 13
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return;
                    children: []
                    pos: 24382
                    length: 7
                  pos: 24374
                  length: 21
                pos: 24357
                length: 38
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: field_access
                        fields:
                          text: options.nameAnonymousFunctionsOnly
                        children: []
                        pos: 24482
                        length: 34
                    children: []
                    pos: 24481
                    length: 36
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return;
                    children: []
                    pos: 24526
                    length: 7
                  pos: 24518
                  length: 21
                pos: 24478
                length: 61
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: field_access
                        fields:
                          text: options.removeTryCatchFinally
                        children: []
                        pos: 24549
                        length: 29
                    children: []
                    pos: 24548
                    length: 31
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: removeTryCatchFinally();
                    children: []
                    pos: 24588
                    length: 24
                  pos: 24580
                  length: 38
                pos: 24545
                length: 73
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: or
                            fields:
                              left:
                                type: or
                                fields:
                                  left:
                                    type: or
                                    fields:
                                      left:
                                        type: method_invocation
                                        fields:
                                          text: options.getTweakProcessing().shouldStrip()
                                        children: []
                                        pos: 24628
                                        length: 42
                                      right:
                                        type: unary_expression
                                        fields:
                                          text: "!options.stripTypes.isEmpty()"
                                        children: []
                                        pos: 24682
                                        length: 29
                                    children: []
                                    pos: 24628
                                    length: 83
                                  right:
                                    type: unary_expression
                                    fields:
                                      text: "!options.stripNameSuffixes.isEmpty()"
                                    children: []
                                    pos: 24723
                                    length: 36
                                children: []
                                pos: 24628
                                length: 131
                              right:
                                type: unary_expression
                                fields:
                                  text: "!options.stripTypePrefixes.isEmpty()"
                                children: []
                                pos: 24771
                                length: 36
                            children: []
                            pos: 24628
                            length: 179
                          right:
                            type: unary_expression
                            fields:
                              text: "!options.stripNamePrefixes.isEmpty()"
                            children: []
                            pos: 24819
                            length: 36
                        children: []
                        pos: 24628
                        length: 227
                    children: []
                    pos: 24627
                    length: 229
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: |-
                        stripCode(options.stripTypes, options.stripNameSuffixes,
                                  options.stripTypePrefixes, options.stripNamePrefixes);
                    children: []
                    pos: 24865
                    length: 121
                  pos: 24857
                  length: 135
                pos: 24624
                length: 368
              - type: expression_statement
                fields:
                  text: runCustomPasses(CustomPassExecutionTime.BEFORE_OPTIMIZATIONS);
                children: []
                pos: 24998
                length: 62
              pos: 23789
              length: 1275
          children: []
          pos: 23769
          length: 1295
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: externExports
              children: []
              pos: 25081
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 25068
              length: 262
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: logger.fine("Creating extern file for exports");
                children: []
                pos: 25103
                length: 48
              - type: expression_statement
                fields:
                  text: startPass("externExports");
                children: []
                pos: 25156
                length: 27
              - type: local_variable_declaration
                fields:
                  text: ExternExportsPass pass = new ExternExportsPass(this);
                children: []
                pos: 25189
                length: 53
              - type: expression_statement
                fields:
                  text: process(pass);
                children: []
                pos: 25247
                length: 14
              - type: expression_statement
                fields:
                  text: externExports = pass.getGeneratedExterns();
                children: []
                pos: 25267
                length: 43
              - type: expression_statement
                fields:
                  text: endPass();
                children: []
                pos: 25316
                length: 10
              pos: 25097
              length: 233
          children: []
          pos: 25068
          length: 262
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: process
              children: []
              pos: 25351
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: CompilerPass p
                children: []
                pos: 25359
                length: 14
              pos: 25334
              length: 82
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: p.process(externsRoot, jsRoot);
                children: []
                pos: 25381
                length: 31
              pos: 25375
              length: 41
          children: []
          pos: 25334
          length: 82
        - type: field_declaration
          fields:
            text: |-
              private final PassFactory sanityCheck =
                    new PassFactory("sanityCheck", false) {
                  @Override
                  protected CompilerPass createInternal(AbstractCompiler compiler) {
                    return new SanityCheck(compiler);
                  }
                };
          children: []
          pos: 25420
          length: 221
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: maybeSanityCheck
              children: []
              pos: 25658
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 25645
              length: 116
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: field_access
                            fields:
                              text: options.devMode
                            children: []
                            pos: 25687
                            length: 15
                          right:
                            type: field_access
                            fields:
                              text: DevMode.EVERY_PASS
                            children: []
                            pos: 25706
                            length: 18
                        children: []
                        pos: 25687
                        length: 37
                    children: []
                    pos: 25686
                    length: 39
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: runSanityCheck();
                    children: []
                    pos: 25734
                    length: 17
                  pos: 25726
                  length: 31
                pos: 25683
                length: 74
              pos: 25677
              length: 84
          children: []
          pos: 25645
          length: 116
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: runSanityCheck
              children: []
              pos: 25778
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 25765
              length: 94
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: sanityCheck.create(this).process(externsRoot, jsRoot);
                children: []
                pos: 25801
                length: 54
              pos: 25795
              length: 64
          children: []
          pos: 25765
          length: 94
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: removeTryCatchFinally
              children: []
              pos: 25944
              length: 21
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 25939
              length: 199
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: logger.fine("Remove try/catch/finally");
                children: []
                pos: 25974
                length: 40
              - type: expression_statement
                fields:
                  text: startPass("removeTryCatchFinally");
                children: []
                pos: 26019
                length: 35
              - type: local_variable_declaration
                fields:
                  text: RemoveTryCatch r = new RemoveTryCatch(this);
                children: []
                pos: 26059
                length: 44
              - type: expression_statement
                fields:
                  text: process(r);
                children: []
                pos: 26108
                length: 11
              - type: expression_statement
                fields:
                  text: endPass();
                children: []
                pos: 26124
                length: 10
              pos: 25968
              length: 170
          children: []
          pos: 25939
          length: 199
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: stripCode
              children: []
              pos: 26287
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Set<String> stripTypes
                children: []
                pos: 26297
                length: 22
              pos: 26282
              length: 441
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: logger.fine("Strip code");
                children: []
                pos: 26426
                length: 26
              - type: expression_statement
                fields:
                  text: startPass("stripCode");
                children: []
                pos: 26457
                length: 23
              - type: local_variable_declaration
                fields:
                  text: |-
                    StripCode r = new StripCode(this, stripTypes, stripNameSuffixes,
                            stripTypePrefixes, stripNamePrefixes);
                children: []
                pos: 26485
                length: 111
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: options.getTweakProcessing().shouldStrip()
                        children: []
                        pos: 26605
                        length: 42
                    children: []
                    pos: 26604
                    length: 44
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: r.enableTweakStripping();
                    children: []
                    pos: 26657
                    length: 25
                  pos: 26649
                  length: 39
                pos: 26601
                length: 87
              - type: expression_statement
                fields:
                  text: process(r);
                children: []
                pos: 26693
                length: 11
              - type: expression_statement
                fields:
                  text: endPass();
                children: []
                pos: 26709
                length: 10
              pos: 26420
              length: 303
          children: []
          pos: 26282
          length: 441
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: runCustomPasses
              children: []
              pos: 26825
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: CustomPassExecutionTime executionTime
                children: []
                pos: 26841
                length: 37
              pos: 26812
              length: 351
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: field_access
                            fields:
                              text: options.customPasses
                            children: []
                            pos: 26890
                            length: 20
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 26914
                            length: 4
                        children: []
                        pos: 26890
                        length: 28
                    children: []
                    pos: 26889
                    length: 30
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: Tracer t = newTracer("runCustomPasses");
                    children: []
                    pos: 26928
                    length: 40
                  - type: try_statement
                    fields:
                      body:
                        type: block
                        fields: {}
                        children:
                        - type: enhanced_for_statement
                          fields:
                            text: |-
                              for (CompilerPass p : options.customPasses.get(executionTime)) {
                                        process(p);
                                      }
                          children: []
                          pos: 26989
                          length: 96
                        pos: 26979
                        length: 114
                      excepts:
                        type: excepts
                        fields: {}
                        children: []
                        pos: 26975
                        length: 178
                    children: []
                    pos: 26975
                    length: 178
                  pos: 26920
                  length: 239
                pos: 26886
                length: 273
              pos: 26880
              length: 283
          children: []
          pos: 26812
          length: 351
        - type: field_declaration
          fields:
            text: private Tracer currentTracer = null;
          children: []
          pos: 27167
          length: 36
        - type: field_declaration
          fields:
            text: private String currentPassName = null;
          children: []
          pos: 27206
          length: 38
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: startPass
              children: []
              pos: 27301
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String passName
                children: []
                pos: 27311
                length: 15
              pos: 27296
              length: 163
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: Preconditions.checkState(currentTracer == null);
                children: []
                pos: 27334
                length: 48
              - type: expression_statement
                fields:
                  text: currentPassName = passName;
                children: []
                pos: 27387
                length: 27
              - type: expression_statement
                fields:
                  text: currentTracer = newTracer(passName);
                children: []
                pos: 27419
                length: 36
              pos: 27328
              length: 131
          children: []
          pos: 27296
          length: 163
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: endPass
              children: []
              pos: 27510
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 27505
              length: 301
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: |-
                    Preconditions.checkState(currentTracer != null,
                            "Tracer should not be null at the end of a pass.");
                children: []
                pos: 27526
                length: 107
              - type: expression_statement
                fields:
                  text: stopTracer(currentTracer, currentPassName);
                children: []
                pos: 27638
                length: 43
              - type: local_variable_declaration
                fields:
                  text: String passToCheck = currentPassName;
                children: []
                pos: 27686
                length: 37
              - type: expression_statement
                fields:
                  text: currentPassName = null;
                children: []
                pos: 27728
                length: 23
              - type: expression_statement
                fields:
                  text: currentTracer = null;
                children: []
                pos: 27756
                length: 21
              - type: expression_statement
                fields:
                  text: maybeSanityCheck();
                children: []
                pos: 27783
                length: 19
              pos: 27520
              length: 286
          children: []
          pos: 27505
          length: 301
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: newTracer
              children: []
              pos: 27880
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String passName
                children: []
                pos: 27890
                length: 15
              pos: 27873
              length: 270
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: |-
                    String comment = passName
                            + (recentChange.hasCodeChanged() ? " on recently changed AST" : "");
                children: []
                pos: 27913
                length: 102
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: options.tracer.isOn()
                        children: []
                        pos: 28024
                        length: 21
                    children: []
                    pos: 28023
                    length: 23
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: tracker.recordPassStart(passName);
                    children: []
                    pos: 28055
                    length: 34
                  pos: 28047
                  length: 48
                pos: 28020
                length: 75
              - type: return_statement
                fields:
                  text: return new Tracer("Compiler", comment);
                children: []
                pos: 28100
                length: 39
              pos: 27907
              length: 236
          children: []
          pos: 27873
          length: 270
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: stopTracer
              children: []
              pos: 28152
              length: 10
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Tracer t
                children: []
                pos: 28163
                length: 8
              pos: 28147
              length: 163
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: long result = t.stop();
                children: []
                pos: 28196
                length: 23
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: options.tracer.isOn()
                        children: []
                        pos: 28228
                        length: 21
                    children: []
                    pos: 28227
                    length: 23
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: tracker.recordPassStop(passName, result);
                    children: []
                    pos: 28259
                    length: 41
                  pos: 28251
                  length: 55
                pos: 28224
                length: 82
              pos: 28190
              length: 120
          children: []
          pos: 28147
          length: 163
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getResult
              children: []
              pos: 28384
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 28370
              length: 371
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: PassConfig.State state = getPassConfig().getIntermediateState();
                children: []
                pos: 28402
                length: 64
              - type: return_statement
                fields:
                  text: |-
                    return new Result(getErrors(), getWarnings(), debugLog.toString(),
                            state.variableMap, state.propertyMap,
                            state.anonymousFunctionNameMap, state.stringMap, functionInformationMap,
                            sourceMap, externExports, state.cssNames, state.idGeneratorMap);
                children: []
                pos: 28471
                length: 266
              pos: 28396
              length: 345
          children: []
          pos: 28370
          length: 371
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getMessages
              children: []
              pos: 28842
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 28825
              length: 60
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getErrors();
                children: []
                pos: 28862
                length: 19
              pos: 28856
              length: 29
          children: []
          pos: 28825
          length: 60
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getErrors
              children: []
              pos: 28965
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 28948
              length: 71
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return errorManager.getErrors();
                children: []
                pos: 28983
                length: 32
              pos: 28977
              length: 42
          children: []
          pos: 28948
          length: 71
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getWarnings
              children: []
              pos: 29101
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 29084
              length: 75
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return errorManager.getWarnings();
                children: []
                pos: 29121
                length: 34
              pos: 29115
              length: 44
          children: []
          pos: 29084
          length: 75
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getRoot
              children: []
              pos: 29187
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 29163
              length: 67
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return externAndJsRoot;
                children: []
                pos: 29203
                length: 23
              pos: 29197
              length: 33
          children: []
          pos: 29163
          length: 67
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: nextUniqueNameId
              children: []
              pos: 29305
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 29293
              length: 63
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return uniqueNameId++;
                children: []
                pos: 29330
                length: 22
              pos: 29324
              length: 32
          children: []
          pos: 29293
          length: 63
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: resetUniqueNameId
              children: []
              pos: 29437
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 29411
              length: 73
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: uniqueNameId = 0;
                children: []
                pos: 29463
                length: 17
              pos: 29457
              length: 27
          children: []
          pos: 29411
          length: 73
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getUniqueNameIdSupplier
              children: []
              pos: 29517
              length: 23
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 29488
              length: 243
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: final Compiler self = this;
                children: []
                pos: 29549
                length: 27
              - type: return_statement
                fields:
                  text: |-
                    return new Supplier<String>() {
                          @Override
                          public String get() {
                            return String.valueOf(self.nextUniqueNameId());
                          }
                        };
                children: []
                pos: 29581
                length: 146
              pos: 29543
              length: 188
          children: []
          pos: 29488
          length: 243
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: areNodesEqualForInlining
              children: []
              pos: 29755
              length: 24
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Node n1
                children: []
                pos: 29780
                length: 7
              pos: 29735
              length: 363
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: field_access
                            fields:
                              text: options.ambiguateProperties
                            children: []
                            pos: 29808
                            length: 27
                          right:
                            type: field_access
                            fields:
                              text: options.disambiguateProperties
                            children: []
                            pos: 29847
                            length: 30
                        children: []
                        pos: 29808
                        length: 69
                    children: []
                    pos: 29807
                    length: 71
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return n1.isEquivalentToTyped(n2);
                    children: []
                    pos: 30005
                    length: 34
                  pos: 29879
                  length: 166
                pos: 29804
                length: 290
              pos: 29798
              length: 300
          children: []
          pos: 29735
          length: 363
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getInput
              children: []
              pos: 30442
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: InputId id
                children: []
                pos: 30451
                length: 10
              pos: 30409
              length: 90
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return inputsById.get(id);
                children: []
                pos: 30469
                length: 26
              pos: 30463
              length: 36
          children: []
          pos: 30409
          length: 90
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: removeExternInput
              children: []
              pos: 30617
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: InputId id
                children: []
                pos: 30635
                length: 10
              pos: 30602
              length: 382
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: CompilerInput input = getInput(id);
                children: []
                pos: 30653
                length: 35
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: input
                            children: []
                            pos: 30697
                            length: 5
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 30706
                            length: 4
                        children: []
                        pos: 30697
                        length: 13
                    children: []
                    pos: 30696
                    length: 15
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return;
                    children: []
                    pos: 30720
                    length: 7
                  pos: 30712
                  length: 21
                pos: 30693
                length: 40
              - type: expression_statement
                fields:
                  text: 'Preconditions.checkState(input.isExtern(), "Not an extern
                    input: %s", input.getName());'
                children: []
                pos: 30738
                length: 87
              - type: expression_statement
                fields:
                  text: inputsById.remove(id);
                children: []
                pos: 30830
                length: 22
              - type: expression_statement
                fields:
                  text: externs.remove(input);
                children: []
                pos: 30857
                length: 22
              - type: local_variable_declaration
                fields:
                  text: Node root = input.getAstRoot(this);
                children: []
                pos: 30884
                length: 35
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: root
                            children: []
                            pos: 30928
                            length: 4
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 30936
                            length: 4
                        children: []
                        pos: 30928
                        length: 12
                    children: []
                    pos: 30927
                    length: 14
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: root.detachFromParent();
                    children: []
                    pos: 30950
                    length: 24
                  pos: 30942
                  length: 38
                pos: 30924
                length: 56
              pos: 30647
              length: 337
          children: []
          pos: 30602
          length: 382
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: newExternInput
              children: []
              pos: 31021
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String name
                children: []
                pos: 31036
                length: 11
              pos: 30988
              length: 452
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: SourceAst ast = new SyntheticAst(name);
                children: []
                pos: 31055
                length: 39
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: inputsById.containsKey(ast.getInputId())
                        children: []
                        pos: 31103
                        length: 40
                    children: []
                    pos: 31102
                    length: 42
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: 'throw new IllegalArgumentException("Conflicting externs
                        name: " + name);'
                    children: []
                    pos: 31153
                    length: 72
                  pos: 31145
                  length: 86
                pos: 31099
                length: 132
              - type: local_variable_declaration
                fields:
                  text: CompilerInput input = new CompilerInput(ast, true);
                children: []
                pos: 31236
                length: 51
              - type: expression_statement
                fields:
                  text: putCompilerInput(input.getInputId(), input);
                children: []
                pos: 31292
                length: 44
              - type: expression_statement
                fields:
                  text: externsRoot.addChildToFront(ast.getAstRoot(this));
                children: []
                pos: 31341
                length: 50
              - type: expression_statement
                fields:
                  text: externs.add(0, input);
                children: []
                pos: 31396
                length: 22
              - type: return_statement
                fields:
                  text: return input;
                children: []
                pos: 31423
                length: 13
              pos: 31049
              length: 391
          children: []
          pos: 30988
          length: 452
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: putCompilerInput
              children: []
              pos: 31466
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: InputId id
                children: []
                pos: 31483
                length: 10
              pos: 31444
              length: 144
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: input.setCompiler(this);
                children: []
                pos: 31522
                length: 24
              - type: return_statement
                fields:
                  text: return inputsById.put(id, input);
                children: []
                pos: 31551
                length: 33
              pos: 31516
              length: 72
          children: []
          pos: 31444
          length: 144
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: addIncrementalSourceAst
              children: []
              pos: 31676
              length: 23
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JsAst ast
                children: []
                pos: 31700
                length: 9
              pos: 31671
              length: 220
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: InputId id = ast.getInputId();
                children: []
                pos: 31717
                length: 30
              - type: expression_statement
                fields:
                  text: Preconditions.checkState(getInput(id) == null, "Duplicate
                    input %s", id.getIdName());
                children: []
                pos: 31752
                length: 85
              - type: expression_statement
                fields:
                  text: putCompilerInput(id, new CompilerInput(ast));
                children: []
                pos: 31842
                length: 45
              pos: 31711
              length: 180
          children: []
          pos: 31671
          length: 220
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: replaceIncrementalSourceAst
              children: []
              pos: 32174
              length: 27
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JsAst ast
                children: []
                pos: 32202
                length: 9
              pos: 32166
              length: 1089
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: CompilerInput oldInput = getInput(ast.getInputId());
                children: []
                pos: 32219
                length: 52
              - type: expression_statement
                fields:
                  text: 'Preconditions.checkNotNull(oldInput, "No input to replace:
                    %s", ast.getInputId().getIdName());'
                children: []
                pos: 32276
                length: 94
              - type: local_variable_declaration
                fields:
                  text: Node newRoot = ast.getAstRoot(this);
                children: []
                pos: 32375
                length: 36
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: newRoot
                            children: []
                            pos: 32420
                            length: 7
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 32431
                            length: 4
                        children: []
                        pos: 32420
                        length: 15
                    children: []
                    pos: 32419
                    length: 17
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return false;
                    children: []
                    pos: 32445
                    length: 13
                  pos: 32437
                  length: 27
                pos: 32416
                length: 48
              - type: local_variable_declaration
                fields:
                  text: Node oldRoot = oldInput.getAstRoot(this);
                children: []
                pos: 32470
                length: 41
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: oldRoot
                            children: []
                            pos: 32520
                            length: 7
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 32531
                            length: 4
                        children: []
                        pos: 32520
                        length: 15
                    children: []
                    pos: 32519
                    length: 17
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: oldRoot.getParent().replaceChild(oldRoot, newRoot);
                    children: []
                    pos: 32545
                    length: 51
                  pos: 32537
                  length: 65
                pos: 32516
                length: 155
              - type: local_variable_declaration
                fields:
                  text: CompilerInput newInput = new CompilerInput(ast);
                children: []
                pos: 32677
                length: 48
              - type: expression_statement
                fields:
                  text: putCompilerInput(ast.getInputId(), newInput);
                children: []
                pos: 32730
                length: 45
              - type: local_variable_declaration
                fields:
                  text: JSModule module = oldInput.getModule();
                children: []
                pos: 32781
                length: 39
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: module
                            children: []
                            pos: 32829
                            length: 6
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 32839
                            length: 4
                        children: []
                        pos: 32829
                        length: 14
                    children: []
                    pos: 32828
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: module.addAfter(newInput, oldInput);
                    children: []
                    pos: 32853
                    length: 36
                  - type: expression_statement
                    fields:
                      text: module.remove(oldInput);
                    children: []
                    pos: 32896
                    length: 24
                  pos: 32845
                  length: 81
                pos: 32825
                length: 101
              - type: expression_statement
                fields:
                  text: |-
                    Preconditions.checkState(
                            newInput.getInputId().equals(oldInput.getInputId()));
                children: []
                pos: 32976
                length: 87
              - type: local_variable_declaration
                fields:
                  text: InputId inputIdOnAst = newInput.getAstRoot(this).getInputId();
                children: []
                pos: 33068
                length: 62
              - type: expression_statement
                fields:
                  text: Preconditions.checkState(newInput.getInputId().equals(inputIdOnAst));
                children: []
                pos: 33135
                length: 69
              - type: expression_statement
                fields:
                  text: inputs.remove(oldInput);
                children: []
                pos: 33210
                length: 24
              - type: return_statement
                fields:
                  text: return true;
                children: []
                pos: 33239
                length: 12
              pos: 32213
              length: 1042
          children: []
          pos: 32166
          length: 1089
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: addNewSourceAst
              children: []
              pos: 33660
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JsAst ast
                children: []
                pos: 33676
                length: 9
              pos: 33652
              length: 701
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: CompilerInput oldInput = getInput(ast.getInputId());
                children: []
                pos: 33693
                length: 52
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: oldInput
                            children: []
                            pos: 33754
                            length: 8
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 33766
                            length: 4
                        children: []
                        pos: 33754
                        length: 16
                    children: []
                    pos: 33753
                    length: 18
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: |-
                        throw new IllegalStateException(
                                  "Input already exists: " + ast.getInputId().getIdName());
                    children: []
                    pos: 33780
                    length: 100
                  pos: 33772
                  length: 114
                pos: 33750
                length: 136
              - type: local_variable_declaration
                fields:
                  text: Node newRoot = ast.getAstRoot(this);
                children: []
                pos: 33891
                length: 36
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: newRoot
                            children: []
                            pos: 33936
                            length: 7
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 33947
                            length: 4
                        children: []
                        pos: 33936
                        length: 15
                    children: []
                    pos: 33935
                    length: 17
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return false;
                    children: []
                    pos: 33961
                    length: 13
                  pos: 33953
                  length: 27
                pos: 33932
                length: 48
              - type: expression_statement
                fields:
                  text: getRoot().getLastChild().addChildToBack(newRoot);
                children: []
                pos: 33986
                length: 49
              - type: local_variable_declaration
                fields:
                  text: CompilerInput newInput = new CompilerInput(ast);
                children: []
                pos: 34041
                length: 48
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: and
                        fields:
                          left:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: moduleGraph
                                children: []
                                pos: 34168
                                length: 11
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 34183
                                length: 4
                            children: []
                            pos: 34168
                            length: 19
                          right:
                            type: unary_expression
                            fields:
                              text: "!modules.isEmpty()"
                            children: []
                            pos: 34191
                            length: 18
                        children: []
                        pos: 34168
                        length: 41
                    children: []
                    pos: 34167
                    length: 43
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: modules.get(0).add(newInput);
                    children: []
                    pos: 34245
                    length: 29
                  pos: 34211
                  length: 69
                pos: 34164
                length: 116
              - type: expression_statement
                fields:
                  text: putCompilerInput(ast.getInputId(), newInput);
                children: []
                pos: 34286
                length: 45
              - type: return_statement
                fields:
                  text: return true;
                children: []
                pos: 34337
                length: 12
              pos: 33687
              length: 666
          children: []
          pos: 33652
          length: 701
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getModuleGraph
              children: []
              pos: 34383
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 34357
              length: 72
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return moduleGraph;
                children: []
                pos: 34406
                length: 19
              pos: 34400
              length: 29
          children: []
          pos: 34357
          length: 72
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getDegenerateModuleGraph
              children: []
              pos: 34588
              length: 24
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 34574
              length: 121
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: 'return moduleGraph == null ? new JSModuleGraph(modules) :
                    moduleGraph;'
                children: []
                pos: 34621
                length: 70
              pos: 34615
              length: 80
          children: []
          pos: 34574
          length: 121
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getTypeRegistry
              children: []
              pos: 34733
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 34699
              length: 199
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: typeRegistry
                            children: []
                            pos: 34761
                            length: 12
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 34777
                            length: 4
                        children: []
                        pos: 34761
                        length: 20
                    children: []
                    pos: 34760
                    length: 22
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: typeRegistry = new JSTypeRegistry(oldErrorReporter, options.looseTypes);
                    children: []
                    pos: 34791
                    length: 72
                  pos: 34783
                  length: 86
                pos: 34757
                length: 112
              - type: return_statement
                fields:
                  text: return typeRegistry;
                children: []
                pos: 34874
                length: 20
              pos: 34751
              length: 147
          children: []
          pos: 34699
          length: 199
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getTypedScopeCreator
              children: []
              pos: 34942
              length: 20
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 34902
              length: 119
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getPassConfig().getTypedScopeCreator();
                children: []
                pos: 34971
                length: 46
              pos: 34965
              length: 56
          children: []
          pos: 34902
          length: 119
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: ensureDefaultPassConfig
              children: []
              pos: 35076
              length: 23
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 35025
              length: 322
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: PassConfig passes = getPassConfig().getBasePassConfig();
                children: []
                pos: 35108
                length: 56
              - type: expression_statement
                fields:
                  text: |-
                    Preconditions.checkState(passes instanceof DefaultPassConfig,
                            "PassConfigs must eventually delegate to the DefaultPassConfig");
                children: []
                pos: 35169
                length: 135
              - type: return_statement
                fields:
                  text: return (DefaultPassConfig) passes;
                children: []
                pos: 35309
                length: 34
              pos: 35102
              length: 245
          children: []
          pos: 35025
          length: 322
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: buildKnownSymbolTable
              children: []
              pos: 35370
              length: 21
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 35351
              length: 1389
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: SymbolTable symbolTable = new SymbolTable(getTypeRegistry());
                children: []
                pos: 35400
                length: 61
              - type: local_variable_declaration
                fields:
                  text: MemoizedScopeCreator typedScopeCreator = getTypedScopeCreator();
                children: []
                pos: 35467
                length: 64
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: typedScopeCreator
                            children: []
                            pos: 35540
                            length: 17
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 35561
                            length: 4
                        children: []
                        pos: 35540
                        length: 25
                    children: []
                    pos: 35539
                    length: 27
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: symbolTable.addScopes(typedScopeCreator.getAllMemoizedScopes());
                    children: []
                    pos: 35575
                    length: 64
                  - type: expression_statement
                    fields:
                      text: symbolTable.addSymbolsFrom(typedScopeCreator);
                    children: []
                    pos: 35646
                    length: 46
                  pos: 35567
                  length: 131
                pos: 35536
                length: 232
              - type: local_variable_declaration
                fields:
                  text: |-
                    GlobalNamespace globalNamespace =
                            ensureDefaultPassConfig().getGlobalNamespace();
                children: []
                pos: 35774
                length: 89
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: globalNamespace
                            children: []
                            pos: 35872
                            length: 15
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 35891
                            length: 4
                        children: []
                        pos: 35872
                        length: 23
                    children: []
                    pos: 35871
                    length: 25
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: symbolTable.addSymbolsFrom(globalNamespace);
                    children: []
                    pos: 35905
                    length: 44
                  pos: 35897
                  length: 58
                pos: 35868
                length: 87
              - type: local_variable_declaration
                fields:
                  text: |-
                    ReferenceCollectingCallback refCollector =
                            new ReferenceCollectingCallback(
                                this, ReferenceCollectingCallback.DO_NOTHING_BEHAVIOR);
                children: []
                pos: 35961
                length: 151
              - type: expression_statement
                fields:
                  text: NodeTraversal.traverse(this, getRoot(), refCollector);
                children: []
                pos: 36117
                length: 54
              - type: expression_statement
                fields:
                  text: symbolTable.addSymbolsFrom(refCollector);
                children: []
                pos: 36176
                length: 41
              - type: local_variable_declaration
                fields:
                  text: |-
                    PreprocessorSymbolTable preprocessorSymbolTable =
                            ensureDefaultPassConfig().getPreprocessorSymbolTable();
                children: []
                pos: 36223
                length: 113
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: preprocessorSymbolTable
                            children: []
                            pos: 36345
                            length: 23
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 36372
                            length: 4
                        children: []
                        pos: 36345
                        length: 31
                    children: []
                    pos: 36344
                    length: 33
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: symbolTable.addSymbolsFrom(preprocessorSymbolTable);
                    children: []
                    pos: 36386
                    length: 52
                  pos: 36378
                  length: 66
                pos: 36341
                length: 103
              - type: expression_statement
                fields:
                  text: symbolTable.fillNamespaceReferences();
                children: []
                pos: 36450
                length: 38
              - type: expression_statement
                fields:
                  text: symbolTable.fillPropertyScopes();
                children: []
                pos: 36493
                length: 33
              - type: expression_statement
                fields:
                  text: symbolTable.fillThisReferences(this, externsRoot, jsRoot);
                children: []
                pos: 36531
                length: 58
              - type: expression_statement
                fields:
                  text: symbolTable.fillPropertySymbols(this, externsRoot, jsRoot);
                children: []
                pos: 36594
                length: 59
              - type: expression_statement
                fields:
                  text: symbolTable.fillJSDocInfo(this, externsRoot, jsRoot);
                children: []
                pos: 36658
                length: 53
              - type: return_statement
                fields:
                  text: return symbolTable;
                children: []
                pos: 36717
                length: 19
              pos: 35394
              length: 1346
          children: []
          pos: 35351
          length: 1389
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getTopScope
              children: []
              pos: 36769
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 36744
              length: 86
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getPassConfig().getTopScope();
                children: []
                pos: 36789
                length: 37
              pos: 36783
              length: 47
          children: []
          pos: 36744
          length: 86
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getReverseAbstractInterpreter
              children: []
              pos: 36880
              length: 29
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 36834
              length: 565
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: abstractInterpreter
                            children: []
                            pos: 36922
                            length: 19
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 36945
                            length: 4
                        children: []
                        pos: 36922
                        length: 27
                    children: []
                    pos: 36921
                    length: 29
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: |-
                        ChainableReverseAbstractInterpreter interpreter =
                                  new SemanticReverseAbstractInterpreter(
                                      getCodingConvention(), getTypeRegistry());
                    children: []
                    pos: 36959
                    length: 156
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: field_access
                            fields:
                              text: options.closurePass
                            children: []
                            pos: 37126
                            length: 19
                        children: []
                        pos: 37125
                        length: 21
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: |-
                            interpreter = new ClosureReverseAbstractInterpreter(
                                        getCodingConvention(), getTypeRegistry())
                                        .append(interpreter).getFirst();
                        children: []
                        pos: 37157
                        length: 151
                      pos: 37147
                      length: 169
                    pos: 37122
                    length: 194
                  - type: expression_statement
                    fields:
                      text: abstractInterpreter = interpreter;
                    children: []
                    pos: 37323
                    length: 34
                  pos: 36951
                  length: 412
                pos: 36918
                length: 445
              - type: return_statement
                fields:
                  text: return abstractInterpreter;
                children: []
                pos: 37368
                length: 27
              pos: 36912
              length: 487
          children: []
          pos: 36834
          length: 565
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getTypeValidator
              children: []
              pos: 37429
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 37403
              length: 162
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: typeValidator
                            children: []
                            pos: 37458
                            length: 13
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 37475
                            length: 4
                        children: []
                        pos: 37458
                        length: 21
                    children: []
                    pos: 37457
                    length: 23
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: typeValidator = new TypeValidator(this);
                    children: []
                    pos: 37489
                    length: 40
                  pos: 37481
                  length: 54
                pos: 37454
                length: 81
              - type: return_statement
                fields:
                  text: return typeValidator;
                children: []
                pos: 37540
                length: 21
              pos: 37448
              length: 117
          children: []
          pos: 37403
          length: 162
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: parseInputs
              children: []
              pos: 37902
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 37897
              length: 4497
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: boolean devMode = options.devMode != DevMode.OFF;
                children: []
                pos: 37922
                length: 49
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: externsRoot
                            children: []
                            pos: 38094
                            length: 11
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 38109
                            length: 4
                        children: []
                        pos: 38094
                        length: 19
                    children: []
                    pos: 38093
                    length: 21
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: externsRoot.detachChildren();
                    children: []
                    pos: 38123
                    length: 29
                  pos: 38115
                  length: 43
                pos: 38090
                length: 68
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: jsRoot
                            children: []
                            pos: 38167
                            length: 6
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 38177
                            length: 4
                        children: []
                        pos: 38167
                        length: 14
                    children: []
                    pos: 38166
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: jsRoot.detachChildren();
                    children: []
                    pos: 38191
                    length: 24
                  pos: 38183
                  length: 38
                pos: 38163
                length: 58
              - type: expression_statement
                fields:
                  text: jsRoot = IR.block();
                children: []
                pos: 38257
                length: 20
              - type: expression_statement
                fields:
                  text: jsRoot.setIsSyntheticBlock(true);
                children: []
                pos: 38282
                length: 33
              - type: expression_statement
                fields:
                  text: externsRoot = IR.block();
                children: []
                pos: 38321
                length: 25
              - type: expression_statement
                fields:
                  text: externsRoot.setIsSyntheticBlock(true);
                children: []
                pos: 38351
                length: 38
              - type: expression_statement
                fields:
                  text: externAndJsRoot = IR.block(externsRoot, jsRoot);
                children: []
                pos: 38395
                length: 48
              - type: expression_statement
                fields:
                  text: externAndJsRoot.setIsSyntheticBlock(true);
                children: []
                pos: 38448
                length: 42
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: options.tracer.isOn()
                        children: []
                        pos: 38500
                        length: 21
                    children: []
                    pos: 38499
                    length: 23
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: tracker = new PerformanceTracker(jsRoot, options.tracer);
                    children: []
                    pos: 38531
                    length: 57
                  - type: expression_statement
                    fields:
                      text: addChangeHandler(tracker.getCodeChangeHandler());
                    children: []
                    pos: 38595
                    length: 49
                  pos: 38523
                  length: 127
                pos: 38496
                length: 154
              - type: local_variable_declaration
                fields:
                  text: Tracer tracer = newTracer("parseInputs");
                children: []
                pos: 38656
                length: 41
              - type: try_statement
                fields:
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: enhanced_for_statement
                      fields:
                        text: |-
                          for (CompilerInput input : externs) {
                                  Node n = input.getAstRoot(this);
                                  if (hasErrors()) {
                                    return null;
                                  }
                                  externsRoot.addChildToBack(n);
                                }
                      children: []
                      pos: 38747
                      length: 185
                    - type: if_statement
                      fields:
                        condition:
                          type: parenthesized_expression
                          fields:
                            expression:
                              type: or
                              fields:
                                left:
                                  type: field_access
                                  fields:
                                    text: options.transformAMDToCJSModules
                                  children: []
                                  pos: 38995
                                  length: 32
                                right:
                                  type: field_access
                                  fields:
                                    text: options.processCommonJSModules
                                  children: []
                                  pos: 39031
                                  length: 30
                              children: []
                              pos: 38995
                              length: 66
                          children: []
                          pos: 38994
                          length: 68
                      children:
                      - type: block
                        fields: {}
                        children:
                        - type: expression_statement
                          fields:
                            text: processAMDAndCommonJSModules();
                          children: []
                          pos: 39073
                          length: 31
                        pos: 39063
                        length: 49
                      pos: 38991
                      length: 121
                    - type: local_variable_declaration
                      fields:
                        text: boolean staleInputs = false;
                      children: []
                      pos: 39178
                      length: 28
                    - type: if_statement
                      fields:
                        condition:
                          type: parenthesized_expression
                          fields:
                            expression:
                              type: and
                              fields:
                                left:
                                  type: and
                                  fields:
                                    left:
                                      type: method_invocation
                                      fields:
                                        text: options.dependencyOptions.needsManagement()
                                      children: []
                                      pos: 39271
                                      length: 43
                                    right:
                                      type: unary_expression
                                      fields:
                                        text: "!options.skipAllPasses"
                                      children: []
                                      pos: 39328
                                      length: 22
                                  children: []
                                  pos: 39271
                                  length: 79
                                right:
                                  type: field_access
                                  fields:
                                    text: options.closurePass
                                  children: []
                                  pos: 39364
                                  length: 19
                              children: []
                              pos: 39271
                              length: 112
                          children: []
                          pos: 39270
                          length: 114
                      children:
                      - type: block
                        fields: {}
                        children:
                        - type: enhanced_for_statement
                          fields:
                            text: |-
                              for (CompilerInput input : inputs) {
                                        // Forward-declare all the provided types, so that they
                                        // are not flagged even if they are dropped from the process.
                                        for (String provide : input.getProvides()) {
                                          getTypeRegistry().forwardDeclareType(provide);
                                        }
                                      }
                          children: []
                          pos: 39395
                          length: 310
                        - type: try_statement
                          fields:
                            body:
                              type: block
                              fields: {}
                              children:
                              - type: expression_statement
                                fields:
                                  text: |-
                                    inputs =
                                                  (moduleGraph == null ? new JSModuleGraph(modules) : moduleGraph)
                                                  .manageDependencies(options.dependencyOptions, inputs);
                                children: []
                                pos: 39731
                                length: 157
                              - type: expression_statement
                                fields:
                                  text: staleInputs = true;
                                children: []
                                pos: 39899
                                length: 19
                              pos: 39719
                              length: 209
                            excepts:
                              type: excepts
                              fields: {}
                              children:
                              - type: catch_clause
                                fields:
                                  text: |-
                                    catch (CircularDependencyException e) {
                                              report(JSError.make(
                                                  JSModule.CIRCULAR_DEPENDENCY_ERROR, e.getMessage()));

                                              // If in IDE mode, we ignore the error and keep going.
                                              if (hasErrors()) {
                                                return null;
                                              }
                                            }
                                children: []
                                pos: 39929
                                length: 280
                              - type: catch_clause
                                fields:
                                  text: |-
                                    catch (MissingProvideException e) {
                                              report(JSError.make(
                                                  MISSING_ENTRY_ERROR, e.getMessage()));

                                              // If in IDE mode, we ignore the error and keep going.
                                              if (hasErrors()) {
                                                return null;
                                              }
                                            }
                                children: []
                                pos: 40210
                                length: 261
                              pos: 39715
                              length: 756
                          children: []
                          pos: 39715
                          length: 756
                        pos: 39385
                        length: 1094
                      pos: 39267
                      length: 1212
                    - type: enhanced_for_statement
                      fields:
                        text: |-
                          for (CompilerInput input : inputs) {
                                  Node n = input.getAstRoot(this);

                                  // Inputs can have a null AST during initial parse.
                                  if (n == null) {
                                    continue;
                                  }

                                  if (n.getJSDocInfo() != null) {
                                    JSDocInfo info = n.getJSDocInfo();
                                    if (info.isExterns()) {
                                      // If the input file is explicitly marked as an externs file, then
                                      // assume the programmer made a mistake and throw it into
                                      // the externs pile anyways.
                                      externsRoot.addChildToBack(n);
                                      input.setIsExtern(true);

                                      input.getModule().remove(input);

                                      externs.add(input);
                                      staleInputs = true;
                                    } else if (info.isNoCompile()) {
                                      input.getModule().remove(input);
                                      staleInputs = true;
                                    }
                                  }
                                }
                      children: []
                      pos: 40487
                      length: 844
                    - type: if_statement
                      fields:
                        condition:
                          type: parenthesized_expression
                          fields:
                            expression:
                              type: identifier
                              fields:
                                text: staleInputs
                              children: []
                              pos: 41343
                              length: 11
                          children: []
                          pos: 41342
                          length: 13
                      children:
                      - type: block
                        fields: {}
                        children:
                        - type: expression_statement
                          fields:
                            text: fillEmptyModules(modules);
                          children: []
                          pos: 41366
                          length: 26
                        - type: expression_statement
                          fields:
                            text: rebuildInputsFromModules();
                          children: []
                          pos: 41401
                          length: 27
                        pos: 41356
                        length: 80
                      pos: 41339
                      length: 97
                    - type: enhanced_for_statement
                      fields:
                        text: |-
                          for (CompilerInput input : inputs) {
                                  Node n = input.getAstRoot(this);
                                  if (n == null) {
                                    continue;
                                  }

                                  if (devMode) {
                                    runSanityCheck();
                                    if (hasErrors()) {
                                      return null;
                                    }
                                  }

                                  if (options.sourceMapOutputPath != null ||
                                      options.nameReferenceReportPath != null) {

                                    // Annotate the nodes in the tree with information from the
                                    // input file. This information is used to construct the SourceMap.
                                    SourceInformationAnnotator sia =
                                        new SourceInformationAnnotator(
                                            input.getName(), options.devMode != DevMode.OFF);
                                    NodeTraversal.traverse(this, n, sia);
                                  }

                                  jsRoot.addChildToBack(n);
                                }
                      children: []
                      pos: 41468
                      length: 774
                    - type: if_statement
                      fields:
                        condition:
                          type: parenthesized_expression
                          fields:
                            expression:
                              type: method_invocation
                              fields:
                                text: hasErrors()
                              children: []
                              pos: 42254
                              length: 11
                          children: []
                          pos: 42253
                          length: 13
                      children:
                      - type: block
                        fields: {}
                        children:
                        - type: return_statement
                          fields:
                            text: return null;
                          children: []
                          pos: 42277
                          length: 12
                        pos: 42267
                        length: 30
                      pos: 42250
                      length: 47
                    - type: return_statement
                      fields:
                        text: return externAndJsRoot;
                      children: []
                      pos: 42304
                      length: 23
                    pos: 38707
                    length: 3626
                  excepts:
                    type: excepts
                    fields: {}
                    children: []
                    pos: 38703
                    length: 3687
                children: []
                pos: 38703
                length: 3687
              pos: 37916
              length: 4478
          children: []
          pos: 37897
          length: 4497
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: processAMDAndCommonJSModules
              children: []
              pos: 42575
              length: 28
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 42570
              length: 2170
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: Map<String, JSModule> modulesByName = Maps.newLinkedHashMap();
                children: []
                pos: 42612
                length: 62
              - type: local_variable_declaration
                fields:
                  text: Map<CompilerInput, JSModule> modulesByInput = Maps.newLinkedHashMap();
                children: []
                pos: 42679
                length: 70
              - type: enhanced_for_statement
                fields:
                  text: |-
                    for (CompilerInput input : inputs) {
                          input.setCompiler(this);
                          Node root = input.getAstRoot(this);
                          if (root == null) {
                            continue;
                          }
                          if (options.transformAMDToCJSModules) {
                            new TransformAMDToCJSModule(this).process(null, root);
                          }
                          if (options.processCommonJSModules) {
                            ProcessCommonJSModules cjs = new ProcessCommonJSModules(this,
                                options.commonJSModulePathPrefix);
                            cjs.process(null, root);
                            JSModule m = cjs.getModule();
                            if (m != null) {
                              modulesByName.put(m.getName(), m);
                              modulesByInput.put(input, m);
                            }
                          }
                        }
                children: []
                pos: 43014
                length: 644
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: field_access
                        fields:
                          text: options.processCommonJSModules
                        children: []
                        pos: 43667
                        length: 30
                    children: []
                    pos: 43666
                    length: 32
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: List<JSModule> modules = Lists.newArrayList(modulesByName.values());
                    children: []
                    pos: 43707
                    length: 68
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: unary_expression
                            fields:
                              text: "!modules.isEmpty()"
                            children: []
                            pos: 43786
                            length: 18
                        children: []
                        pos: 43785
                        length: 20
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: this.modules = modules;
                        children: []
                        pos: 43816
                        length: 23
                      - type: expression_statement
                        fields:
                          text: this.moduleGraph = new JSModuleGraph(this.modules);
                        children: []
                        pos: 43848
                        length: 51
                      pos: 43806
                      length: 101
                    pos: 43782
                    length: 125
                  - type: enhanced_for_statement
                    fields:
                      text: |-
                        for (JSModule module : modules) {
                                for (CompilerInput input : module.getInputs()) {
                                  for (String require : input.getRequires()) {
                                    JSModule dependency = modulesByName.get(require);
                                    if (dependency == null) {
                                      report(JSError.make(MISSING_ENTRY_ERROR, require));
                                    } else {
                                      module.addDependency(dependency);
                                    }
                                  }
                                }
                              }
                    children: []
                    pos: 43914
                    length: 424
                  - type: try_statement
                    fields:
                      body:
                        type: block
                        fields: {}
                        children:
                        - type: expression_statement
                          fields:
                            text: modules = Lists.newArrayList();
                          children: []
                          pos: 44359
                          length: 31
                        - type: enhanced_for_statement
                          fields:
                            text: |-
                              for (CompilerInput input : this.moduleGraph.manageDependencies(
                                          options.dependencyOptions, inputs)) {
                                        modules.add(modulesByInput.get(input));
                                      }
                          children: []
                          pos: 44399
                          length: 173
                        - type: expression_statement
                          fields:
                            text: this.modules = modules;
                          children: []
                          pos: 44581
                          length: 23
                        - type: expression_statement
                          fields:
                            text: this.moduleGraph = new JSModuleGraph(modules);
                          children: []
                          pos: 44613
                          length: 46
                        pos: 44349
                        length: 318
                      excepts:
                        type: excepts
                        fields: {}
                        children:
                        - type: catch_clause
                          fields:
                            text: |-
                              catch (Exception e) {
                                      Throwables.propagate(e);
                                    }
                          children: []
                          pos: 44668
                          length: 62
                        pos: 44345
                        length: 385
                    children: []
                    pos: 44345
                    length: 385
                  pos: 43699
                  length: 1037
                pos: 43663
                length: 1073
              pos: 42606
              length: 2134
          children: []
          pos: 42570
          length: 2170
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: parse
              children: []
              pos: 44756
              length: 5
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: SourceFile file
                children: []
                pos: 44762
                length: 15
              pos: 44744
              length: 170
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: initCompilerOptionsIfTesting();
                children: []
                pos: 44785
                length: 31
              - type: expression_statement
                fields:
                  text: 'addToDebugLog("Parsing: " + file.getName());'
                children: []
                pos: 44821
                length: 44
              - type: return_statement
                fields:
                  text: return new JsAst(file).getAstRoot(this);
                children: []
                pos: 44870
                length: 40
              pos: 44779
              length: 135
          children: []
          pos: 44744
          length: 170
        - type: field_declaration
          fields:
            text: private int syntheticCodeId = 0;
          children: []
          pos: 44918
          length: 32
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: parseSyntheticCode
              children: []
              pos: 44971
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String js
                children: []
                pos: 44990
                length: 9
              pos: 44954
              length: 260
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: |-
                    CompilerInput input = new CompilerInput(
                            SourceFile.fromCode(" [synthetic:" + (++syntheticCodeId) + "] ", js));
                children: []
                pos: 45007
                length: 119
              - type: expression_statement
                fields:
                  text: putCompilerInput(input.getInputId(), input);
                children: []
                pos: 45131
                length: 44
              - type: return_statement
                fields:
                  text: return input.getAstRoot(this);
                children: []
                pos: 45180
                length: 30
              pos: 45001
              length: 213
          children: []
          pos: 44954
          length: 260
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: newCompilerOptions
              children: []
              pos: 45325
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 45299
              length: 86
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return new CompilerOptions();
                children: []
                pos: 45352
                length: 29
              pos: 45346
              length: 39
          children: []
          pos: 45299
          length: 86
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: initCompilerOptionsIfTesting
              children: []
              pos: 45394
              length: 28
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 45389
              length: 219
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: options
                            children: []
                            pos: 45435
                            length: 7
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 45446
                            length: 4
                        children: []
                        pos: 45435
                        length: 15
                    children: []
                    pos: 45434
                    length: 17
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: initOptions(newCompilerOptions());
                    children: []
                    pos: 45564
                    length: 34
                  pos: 45452
                  length: 152
                pos: 45431
                length: 173
              pos: 45425
              length: 183
          children: []
          pos: 45389
          length: 219
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: parseSyntheticCode
              children: []
              pos: 45629
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String fileName
                children: []
                pos: 45648
                length: 15
              pos: 45612
              length: 158
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: initCompilerOptionsIfTesting();
                children: []
                pos: 45682
                length: 31
              - type: return_statement
                fields:
                  text: return parse(SourceFile.fromCode(fileName, js));
                children: []
                pos: 45718
                length: 48
              pos: 45676
              length: 94
          children: []
          pos: 45612
          length: 158
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: parseTestCode
              children: []
              pos: 45791
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String js
                children: []
                pos: 45805
                length: 9
              pos: 45774
              length: 334
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: initCompilerOptionsIfTesting();
                children: []
                pos: 45822
                length: 31
              - type: local_variable_declaration
                fields:
                  text: |-
                    CompilerInput input = new CompilerInput(
                            SourceFile.fromCode("[testcode]", js));
                children: []
                pos: 45858
                length: 88
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: inputsById
                            children: []
                            pos: 45955
                            length: 10
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 45969
                            length: 4
                        children: []
                        pos: 45955
                        length: 18
                    children: []
                    pos: 45954
                    length: 20
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: inputsById = Maps.newHashMap();
                    children: []
                    pos: 45983
                    length: 31
                  pos: 45975
                  length: 45
                pos: 45951
                length: 69
              - type: expression_statement
                fields:
                  text: putCompilerInput(input.getInputId(), input);
                children: []
                pos: 46025
                length: 44
              - type: return_statement
                fields:
                  text: return input.getAstRoot(this);
                children: []
                pos: 46074
                length: 30
              pos: 45816
              length: 292
          children: []
          pos: 45774
          length: 334
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getDefaultErrorReporter
              children: []
              pos: 46138
              length: 23
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 46112
              length: 90
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return defaultErrorReporter;
                children: []
                pos: 46170
                length: 28
              pos: 46164
              length: 38
          children: []
          pos: 46112
          length: 90
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: toSource
              children: []
              pos: 46471
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 46457
              length: 651
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return runInCompilerThread(new Callable<String>() {
                          @Override
                          public String call() throws Exception {
                            Tracer tracer = newTracer("toSource");
                            try {
                              CodeBuilder cb = new CodeBuilder();
                              if (jsRoot != null) {
                                int i = 0;
                                for (Node scriptNode = jsRoot.getFirstChild();
                                     scriptNode != null;
                                     scriptNode = scriptNode.getNext()) {
                                  toSource(cb, i++, scriptNode);
                                }
                              }
                              return cb.toString();
                            } finally {
                              stopTracer(tracer, "toSource");
                            }
                          }
                        });
                children: []
                pos: 46488
                length: 616
              pos: 46482
              length: 626
          children: []
          pos: 46457
          length: 651
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: toSourceArray
              children: []
              pos: 47201
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 47185
              length: 719
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return runInCompilerThread(new Callable<String[]>() {
                          @Override
                          public String[] call() throws Exception {
                            Tracer tracer = newTracer("toSourceArray");
                            try {
                              int numInputs = inputs.size();
                              String[] sources = new String[numInputs];
                              CodeBuilder cb = new CodeBuilder();
                              for (int i = 0; i < numInputs; i++) {
                                Node scriptNode = inputs.get(i).getAstRoot(Compiler.this);
                                cb.reset();
                                toSource(cb, i, scriptNode);
                                sources[i] = cb.toString();
                              }
                              return sources;
                            } finally {
                              stopTracer(tracer, "toSourceArray");
                            }
                          }
                        });
                children: []
                pos: 47223
                length: 677
              pos: 47217
              length: 687
          children: []
          pos: 47185
          length: 719
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: toSource
              children: []
              pos: 47993
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final JSModule module
                children: []
                pos: 48002
                length: 21
              pos: 47979
              length: 728
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return runInCompilerThread(new Callable<String>() {
                          @Override
                          public String call() throws Exception {
                            List<CompilerInput> inputs = module.getInputs();
                            int numInputs = inputs.size();
                            if (numInputs == 0) {
                              return "";
                            }
                            CodeBuilder cb = new CodeBuilder();
                            for (int i = 0; i < numInputs; i++) {
                              Node scriptNode = inputs.get(i).getAstRoot(Compiler.this);
                              if (scriptNode == null) {
                                throw new IllegalArgumentException(
                                    "Bad module: " + module.getName());
                              }
                              toSource(cb, i, scriptNode);
                            }
                            return cb.toString();
                          }
                        });
                children: []
                pos: 48031
                length: 672
              pos: 48025
              length: 682
          children: []
          pos: 47979
          length: 728
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: toSourceArray
              children: []
              pos: 48813
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final JSModule module
                children: []
                pos: 48827
                length: 21
              pos: 48797
              length: 869
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return runInCompilerThread(new Callable<String[]>() {
                          @Override
                          public String[] call() throws Exception {
                            List<CompilerInput> inputs = module.getInputs();
                            int numInputs = inputs.size();
                            if (numInputs == 0) {
                              return new String[0];
                            }

                            String[] sources = new String[numInputs];
                            CodeBuilder cb = new CodeBuilder();
                            for (int i = 0; i < numInputs; i++) {
                              Node scriptNode = inputs.get(i).getAstRoot(Compiler.this);
                              if (scriptNode == null) {
                                throw new IllegalArgumentException(
                                    "Bad module input: " + inputs.get(i).getName());
                              }

                              cb.reset();
                              toSource(cb, i, scriptNode);
                              sources[i] = cb.toString();
                            }
                            return sources;
                          }
                        });
                children: []
                pos: 48856
                length: 806
              pos: 48850
              length: 816
          children: []
          pos: 48797
          length: 869
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: toSource
              children: []
              pos: 50035
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final CodeBuilder cb
                children: []
                pos: 50044
                length: 20
              pos: 50023
              length: 2422
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: |-
                    runInCompilerThread(new Callable<Void>() {
                          @Override
                          public Void call() throws Exception {
                            if (options.printInputDelimiter) {
                              if ((cb.getLength() > 0) && !cb.endsWith("\n")) {
                                cb.append("\n");  // Make sure that the label starts on a new line
                              }
                              Preconditions.checkState(root.isScript());

                              String delimiter = options.inputDelimiter;

                              String inputName = root.getInputId().getIdName();
                              String sourceName = root.getSourceFileName();
                              Preconditions.checkState(sourceName != null);
                              Preconditions.checkState(!sourceName.isEmpty());

                              delimiter = delimiter
                                  .replaceAll("%name%", Matcher.quoteReplacement(inputName))
                                  .replaceAll("%num%", String.valueOf(inputSeqNum));

                              cb.append(delimiter)
                                .append("\n");
                            }
                            if (root.getJSDocInfo() != null &&
                                root.getJSDocInfo().getLicense() != null) {
                              cb.append("/*\n")
                                .append(root.getJSDocInfo().getLicense())
                                .append("*/\n");
                            }

                            // If there is a valid source map, then indicate to it that the current
                            // root node's mappings are offset by the given string builder buffer.
                            if (options.sourceMapOutputPath != null) {
                              sourceMap.setStartingPosition(
                                  cb.getLineIndex(), cb.getColumnIndex());
                            }

                            // if LanguageMode is ECMASCRIPT5_STRICT, only print 'use strict'
                            // for the first input file
                            String code = toSource(root, sourceMap, inputSeqNum == 0);
                            if (!code.isEmpty()) {
                              cb.append(code);

                              // In order to avoid parse ambiguity when files are concatenated
                              // together, all files should end in a semi-colon. Do a quick
                              // heuristic check if there's an obvious semi-colon already there.
                              int length = code.length();
                              char lastChar = code.charAt(length - 1);
                              char secondLastChar = length >= 2 ?
                                  code.charAt(length - 2) : '\0';
                              boolean hasSemiColon = lastChar == ';' ||
                                  (lastChar == '\n' && secondLastChar == ';');
                              if (!hasSemiColon) {
                                cb.append(";");
                              }
                            }
                            return null;
                          }
                        });
                children: []
                pos: 50158
                length: 2283
              pos: 50152
              length: 2293
          children: []
          pos: 50023
          length: 2422
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: toSource
              children: []
              pos: 52569
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Node n
                children: []
                pos: 52578
                length: 6
              pos: 52550
              length: 113
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: initCompilerOptionsIfTesting();
                children: []
                pos: 52592
                length: 31
              - type: return_statement
                fields:
                  text: return toSource(n, null, true);
                children: []
                pos: 52628
                length: 31
              pos: 52586
              length: 77
          children: []
          pos: 52550
          length: 113
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: toSource
              children: []
              pos: 52744
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Node n
                children: []
                pos: 52753
                length: 6
              pos: 52729
              length: 773
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: CodePrinter.Builder builder = new CodePrinter.Builder(n);
                children: []
                pos: 52809
                length: 57
              - type: expression_statement
                fields:
                  text: builder.setPrettyPrint(options.prettyPrint);
                children: []
                pos: 52871
                length: 44
              - type: expression_statement
                fields:
                  text: builder.setLineBreak(options.lineBreak);
                children: []
                pos: 52920
                length: 40
              - type: expression_statement
                fields:
                  text: builder.setPreferLineBreakAtEndOfFile(options.preferLineBreakAtEndOfFile);
                children: []
                pos: 52965
                length: 74
              - type: expression_statement
                fields:
                  text: builder.setSourceMap(sourceMap);
                children: []
                pos: 53044
                length: 32
              - type: expression_statement
                fields:
                  text: builder.setSourceMapDetailLevel(options.sourceMapDetailLevel);
                children: []
                pos: 53081
                length: 62
              - type: expression_statement
                fields:
                  text: |-
                    builder.setTagAsStrict(firstOutput &&
                            options.getLanguageOut() == LanguageMode.ECMASCRIPT5_STRICT);
                children: []
                pos: 53148
                length: 107
              - type: expression_statement
                fields:
                  text: builder.setLineLengthThreshold(options.lineLengthThreshold);
                children: []
                pos: 53260
                length: 60
              - type: local_variable_declaration
                fields:
                  text: |-
                    Charset charset = options.outputCharset != null ?
                            Charset.forName(options.outputCharset) : null;
                children: []
                pos: 53326
                length: 104
              - type: expression_statement
                fields:
                  text: builder.setOutputCharset(charset);
                children: []
                pos: 53435
                length: 34
              - type: return_statement
                fields:
                  text: return builder.build();
                children: []
                pos: 53475
                length: 23
              pos: 52803
              length: 699
          children: []
          pos: 52729
          length: 773
        - type: class_declaration
          fields:
            name:
              type: identifier
              fields:
                text: CodeBuilder
              children: []
              pos: 53685
              length: 11
            body:
              type: class_body
              fields: {}
              children:
              - type: field_declaration
                fields:
                  text: private final StringBuilder sb = new StringBuilder();
                children: []
                pos: 53703
                length: 53
              - type: field_declaration
                fields:
                  text: private int lineCount = 0;
                children: []
                pos: 53761
                length: 26
              - type: field_declaration
                fields:
                  text: private int colCount = 0;
                children: []
                pos: 53792
                length: 25
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: reset
                    children: []
                    pos: 53894
                    length: 5
                  parameters:
                    type: method_parameters
                    fields: {}
                    children: []
                    pos: 53889
                    length: 43
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: expression_statement
                      fields:
                        text: sb.setLength(0);
                      children: []
                      pos: 53910
                      length: 16
                    pos: 53902
                    length: 30
                children: []
                pos: 53889
                length: 43
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: append
                    children: []
                    pos: 54006
                    length: 6
                  parameters:
                    type: method_parameters
                    fields: {}
                    children:
                    - type: formal_parameter
                      fields:
                        text: String str
                      children: []
                      pos: 54013
                      length: 10
                    pos: 53994
                    length: 510
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: expression_statement
                      fields:
                        text: sb.append(str);
                      children: []
                      pos: 54033
                      length: 15
                    - type: local_variable_declaration
                      fields:
                        text: int index = -1;
                      children: []
                      pos: 54122
                      length: 15
                    - type: local_variable_declaration
                      fields:
                        text: int lastIndex = index;
                      children: []
                      pos: 54144
                      length: 22
                    - type: while_statement
                      fields:
                        text: |-
                          while ((index = str.indexOf('\n', index + 1)) >= 0) {
                                  ++lineCount;
                                  lastIndex = index;
                                }
                      children: []
                      pos: 54173
                      length: 109
                    - type: if_statement
                      fields:
                        condition:
                          type: parenthesized_expression
                          fields:
                            expression:
                              type: equals
                              fields:
                                left:
                                  type: identifier
                                  fields:
                                    text: lastIndex
                                  children: []
                                  pos: 54294
                                  length: 9
                                right:
                                  type: unary_expression
                                  fields:
                                    text: "-1"
                                  children: []
                                  pos: 54307
                                  length: 2
                              children: []
                              pos: 54294
                              length: 15
                          children: []
                          pos: 54293
                          length: 17
                      children:
                      - type: block
                        fields: {}
                        children:
                        - type: expression_statement
                          fields:
                            text: colCount += str.length();
                          children: []
                          pos: 54379
                          length: 25
                        pos: 54311
                        length: 101
                      pos: 54290
                      length: 188
                    - type: return_statement
                      fields:
                        text: return this;
                      children: []
                      pos: 54486
                      length: 12
                    pos: 54025
                    length: 479
                children: []
                pos: 53994
                length: 510
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: toString
                    children: []
                    pos: 54586
                    length: 8
                  parameters:
                    type: method_parameters
                    fields: {}
                    children: []
                    pos: 54558
                    length: 74
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: return_statement
                      fields:
                        text: return sb.toString();
                      children: []
                      pos: 54605
                      length: 21
                    pos: 54597
                    length: 35
                children: []
                pos: 54558
                length: 74
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: getLength
                    children: []
                    pos: 54699
                    length: 9
                  parameters:
                    type: method_parameters
                    fields: {}
                    children: []
                    pos: 54688
                    length: 56
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: return_statement
                      fields:
                        text: return sb.length();
                      children: []
                      pos: 54719
                      length: 19
                    pos: 54711
                    length: 33
                children: []
                pos: 54688
                length: 56
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: getLineIndex
                    children: []
                    pos: 54833
                    length: 12
                  parameters:
                    type: method_parameters
                    fields: {}
                    children: []
                    pos: 54829
                    length: 50
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: return_statement
                      fields:
                        text: return lineCount;
                      children: []
                      pos: 54856
                      length: 17
                    pos: 54848
                    length: 31
                children: []
                pos: 54829
                length: 50
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: getColumnIndex
                    children: []
                    pos: 54970
                    length: 14
                  parameters:
                    type: method_parameters
                    fields: {}
                    children: []
                    pos: 54966
                    length: 51
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: return_statement
                      fields:
                        text: return colCount;
                      children: []
                      pos: 54995
                      length: 16
                    pos: 54987
                    length: 30
                children: []
                pos: 54966
                length: 51
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: endsWith
                    children: []
                    pos: 55098
                    length: 8
                  parameters:
                    type: method_parameters
                    fields: {}
                    children:
                    - type: formal_parameter
                      fields:
                        text: String suffix
                      children: []
                      pos: 55107
                      length: 13
                    pos: 55090
                    length: 157
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: return_statement
                      fields:
                        text: |-
                          return (sb.length() > suffix.length())
                                    && suffix.equals(sb.substring(sb.length() - suffix.length()));
                      children: []
                      pos: 55130
                      length: 111
                    pos: 55122
                    length: 125
                children: []
                pos: 55090
                length: 157
              pos: 53665
              length: 1586
          children: []
          pos: 53665
          length: 1586
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: optimize
              children: []
              pos: 55441
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 55429
              length: 652
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: normalize();
                children: []
                pos: 55726
                length: 12
              - type: local_variable_declaration
                fields:
                  text: PhaseOptimizer phaseOptimizer = new PhaseOptimizer(this, tracker,
                    null);
                children: []
                pos: 55744
                length: 72
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: field_access
                            fields:
                              text: options.devMode
                            children: []
                            pos: 55825
                            length: 15
                          right:
                            type: field_access
                            fields:
                              text: DevMode.EVERY_PASS
                            children: []
                            pos: 55844
                            length: 18
                        children: []
                        pos: 55825
                        length: 37
                    children: []
                    pos: 55824
                    length: 39
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: phaseOptimizer.setSanityCheck(sanityCheck);
                    children: []
                    pos: 55872
                    length: 43
                  pos: 55864
                  length: 57
                pos: 55821
                length: 100
              - type: expression_statement
                fields:
                  text: phaseOptimizer.consume(getPassConfig().getOptimizations());
                children: []
                pos: 55926
                length: 59
              - type: expression_statement
                fields:
                  text: phaseOptimizer.process(externsRoot, jsRoot);
                children: []
                pos: 55990
                length: 44
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: hasErrors()
                        children: []
                        pos: 56043
                        length: 11
                    children: []
                    pos: 56042
                    length: 13
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return;
                    children: []
                    pos: 56064
                    length: 7
                  pos: 56056
                  length: 21
                pos: 56039
                length: 38
              pos: 55452
              length: 629
          children: []
          pos: 55429
          length: 652
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setCssRenamingMap
              children: []
              pos: 56102
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: CssRenamingMap map
                children: []
                pos: 56120
                length: 18
              pos: 56085
              length: 94
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: options.cssRenamingMap = map;
                children: []
                pos: 56146
                length: 29
              pos: 56140
              length: 39
          children: []
          pos: 56085
          length: 94
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getCssRenamingMap
              children: []
              pos: 56210
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 56183
              length: 87
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return options.cssRenamingMap;
                children: []
                pos: 56236
                length: 30
              pos: 56230
              length: 40
          children: []
          pos: 56183
          length: 87
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: processDefines
              children: []
              pos: 56635
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 56623
              length: 138
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: |-
                    (new DefaultPassConfig(options)).processDefines.create(this)
                            .process(externsRoot, jsRoot);
                children: []
                pos: 56658
                length: 99
              pos: 56652
              length: 109
          children: []
          pos: 56623
          length: 138
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isInliningForbidden
              children: []
              pos: 56773
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 56765
              length: 203
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return options.propertyRenaming == PropertyRenamingPolicy.HEURISTIC ||
                            options.propertyRenaming ==
                                PropertyRenamingPolicy.AGGRESSIVE_HEURISTIC;
                children: []
                pos: 56801
                length: 163
              pos: 56795
              length: 173
          children: []
          pos: 56765
          length: 203
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: computeCFG
              children: []
              pos: 57027
              length: 10
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 57004
              length: 290
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: logger.fine("Computing Control Flow Graph");
                children: []
                pos: 57046
                length: 44
              - type: local_variable_declaration
                fields:
                  text: Tracer tracer = newTracer("computeCFG");
                children: []
                pos: 57095
                length: 40
              - type: local_variable_declaration
                fields:
                  text: ControlFlowAnalysis cfa = new ControlFlowAnalysis(this, true,
                    false);
                children: []
                pos: 57140
                length: 69
              - type: expression_statement
                fields:
                  text: process(cfa);
                children: []
                pos: 57214
                length: 13
              - type: expression_statement
                fields:
                  text: stopTracer(tracer, "computeCFG");
                children: []
                pos: 57232
                length: 33
              - type: return_statement
                fields:
                  text: return cfa.getCfg();
                children: []
                pos: 57270
                length: 20
              pos: 57040
              length: 254
          children: []
          pos: 57004
          length: 290
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: normalize
              children: []
              pos: 57310
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 57298
              length: 145
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: logger.fine("Normalizing");
                children: []
                pos: 57328
                length: 27
              - type: expression_statement
                fields:
                  text: startPass("normalize");
                children: []
                pos: 57360
                length: 23
              - type: expression_statement
                fields:
                  text: process(new Normalize(this, false));
                children: []
                pos: 57388
                length: 36
              - type: expression_statement
                fields:
                  text: endPass();
                children: []
                pos: 57429
                length: 10
              pos: 57322
              length: 121
          children: []
          pos: 57298
          length: 145
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: prepareAst
              children: []
              pos: 57464
              length: 10
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Node root
                children: []
                pos: 57475
                length: 9
              pos: 57447
              length: 120
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: CompilerPass pass = new PrepareAst(this);
                children: []
                pos: 57492
                length: 41
              - type: expression_statement
                fields:
                  text: pass.process(null, root);
                children: []
                pos: 57538
                length: 25
              pos: 57486
              length: 81
          children: []
          pos: 57447
          length: 120
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: recordFunctionInformation
              children: []
              pos: 57576
              length: 25
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 57571
              length: 414
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: logger.fine("Recording function information");
                children: []
                pos: 57610
                length: 46
              - type: expression_statement
                fields:
                  text: startPass("recordFunctionInformation");
                children: []
                pos: 57661
                length: 39
              - type: local_variable_declaration
                fields:
                  text: |-
                    RecordFunctionInformation recordFunctionInfoPass =
                            new RecordFunctionInformation(
                                this, getPassConfig().getIntermediateState().functionNames);
                children: []
                pos: 57705
                length: 162
              - type: expression_statement
                fields:
                  text: process(recordFunctionInfoPass);
                children: []
                pos: 57872
                length: 32
              - type: expression_statement
                fields:
                  text: functionInformationMap = recordFunctionInfoPass.getMap();
                children: []
                pos: 57909
                length: 57
              - type: expression_statement
                fields:
                  text: endPass();
                children: []
                pos: 57971
                length: 10
              pos: 57604
              length: 381
          children: []
          pos: 57571
          length: 414
        - type: field_declaration
          fields:
            text: |-
              protected final CodeChangeHandler.RecentChange recentChange =
                    new CodeChangeHandler.RecentChange();
          children: []
          pos: 57989
          length: 105
        - type: field_declaration
          fields:
            text: |-
              private final List<CodeChangeHandler> codeChangeHandlers =
                    Lists.<CodeChangeHandler>newArrayList();
          children: []
          pos: 58097
          length: 105
        - type: field_declaration
          fields:
            text: static final String SYNTHETIC_EXTERNS = "{SyntheticVarsDeclar}";
          children: []
          pos: 58275
          length: 64
        - type: field_declaration
          fields:
            text: private CompilerInput synthesizedExternsInput = null;
          children: []
          pos: 58343
          length: 53
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: addChangeHandler
              children: []
              pos: 58417
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: CodeChangeHandler handler
                children: []
                pos: 58434
                length: 25
              pos: 58400
              length: 103
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: codeChangeHandlers.add(handler);
                children: []
                pos: 58467
                length: 32
              pos: 58461
              length: 42
          children: []
          pos: 58400
          length: 103
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: removeChangeHandler
              children: []
              pos: 58524
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: CodeChangeHandler handler
                children: []
                pos: 58544
                length: 25
              pos: 58507
              length: 109
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: codeChangeHandlers.remove(handler);
                children: []
                pos: 58577
                length: 35
              pos: 58571
              length: 45
          children: []
          pos: 58507
          length: 109
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: reportCodeChange
              children: []
              pos: 58835
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 58811
              length: 143
            body:
              type: block
              fields: {}
              children:
              - type: enhanced_for_statement
                fields:
                  text: |-
                    for (CodeChangeHandler handler : codeChangeHandlers) {
                          handler.reportChange();
                        }
                children: []
                pos: 58860
                length: 90
              pos: 58854
              length: 100
          children: []
          pos: 58811
          length: 143
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getCodingConvention
              children: []
              pos: 58994
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 58958
              length: 227
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: CodingConvention convention = options.getCodingConvention();
                children: []
                pos: 59022
                length: 60
              - type: expression_statement
                fields:
                  text: 'convention = convention != null ? convention : defaultCodingConvention;'
                children: []
                pos: 59087
                length: 71
              - type: return_statement
                fields:
                  text: return convention;
                children: []
                pos: 59163
                length: 18
              pos: 59016
              length: 169
          children: []
          pos: 58958
          length: 227
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isIdeMode
              children: []
              pos: 59216
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 59189
              length: 72
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return options.ideMode;
                children: []
                pos: 59234
                length: 23
              pos: 59228
              length: 33
          children: []
          pos: 59189
          length: 72
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: acceptEcmaScript5
              children: []
              pos: 59292
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 59265
              length: 191
            body:
              type: block
              fields: {}
              children:
              - type: switch_expression
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: options.getLanguageIn()
                        children: []
                        pos: 59326
                        length: 23
                    children: []
                    pos: 59325
                    length: 25
                  body:
                    type: switch_block
                    fields:
                      text: |-
                        {
                              case ECMASCRIPT5:
                              case ECMASCRIPT5_STRICT:
                                return true;
                            }
                    children: []
                    pos: 59351
                    length: 83
                children: []
                pos: 59318
                length: 116
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 59439
                length: 13
              pos: 59312
              length: 144
          children: []
          pos: 59265
          length: 191
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: languageMode
              children: []
              pos: 59480
              length: 12
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 59460
              length: 76
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return options.getLanguageIn();
                children: []
                pos: 59501
                length: 31
              pos: 59495
              length: 41
          children: []
          pos: 59460
          length: 76
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: acceptConstKeyword
              children: []
              pos: 59567
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 59540
              length: 92
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return options.acceptConstKeyword;
                children: []
                pos: 59594
                length: 34
              pos: 59588
              length: 44
          children: []
          pos: 59540
          length: 92
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getParserConfig
              children: []
              pos: 59655
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 59636
              length: 720
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: parserConfig
                            children: []
                            pos: 59683
                            length: 12
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 59699
                            length: 4
                        children: []
                        pos: 59683
                        length: 20
                    children: []
                    pos: 59682
                    length: 22
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: Config.LanguageMode mode;
                    children: []
                    pos: 59713
                    length: 25
                  - type: switch_expression
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: method_invocation
                            fields:
                              text: options.getLanguageIn()
                            children: []
                            pos: 59753
                            length: 23
                        children: []
                        pos: 59752
                        length: 25
                      body:
                        type: switch_block
                        fields:
                          text: |-
                            {
                                    case ECMASCRIPT3:
                                      mode = Config.LanguageMode.ECMASCRIPT3;
                                      break;
                                    case ECMASCRIPT5:
                                      mode = Config.LanguageMode.ECMASCRIPT5;
                                      break;
                                    case ECMASCRIPT5_STRICT:
                                      mode = Config.LanguageMode.ECMASCRIPT5_STRICT;
                                      break;
                                    default:
                                      throw new IllegalStateException("unexpected language mode");
                                  }
                        children: []
                        pos: 59778
                        length: 390
                    children: []
                    pos: 59745
                    length: 423
                  - type: expression_statement
                    fields:
                      text: |-
                        parserConfig = ParserRunner.createConfig(
                                isIdeMode(),
                                mode,
                                acceptConstKeyword(),
                                options.extraAnnotationNames);
                    children: []
                    pos: 60176
                    length: 145
                  pos: 59705
                  length: 622
                pos: 59679
                length: 648
              - type: return_statement
                fields:
                  text: return parserConfig;
                children: []
                pos: 60332
                length: 20
              pos: 59673
              length: 683
          children: []
          pos: 59636
          length: 720
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isTypeCheckingEnabled
              children: []
              pos: 60387
              length: 21
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 60360
              length: 87
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return options.checkTypes;
                children: []
                pos: 60417
                length: 26
              pos: 60411
              length: 36
          children: []
          pos: 60360
          length: 87
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getDiagnosticGroups
              children: []
              pos: 60797
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 60770
              length: 89
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return new DiagnosticGroups();
                children: []
                pos: 60825
                length: 30
              pos: 60819
              length: 40
          children: []
          pos: 60770
          length: 89
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: report
              children: []
              pos: 60887
              length: 6
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSError error
                children: []
                pos: 60894
                length: 13
              pos: 60863
              length: 441
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: CheckLevel level = error.getDefaultLevel();
                children: []
                pos: 60915
                length: 43
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: warningsGuard
                            children: []
                            pos: 60967
                            length: 13
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 60984
                            length: 4
                        children: []
                        pos: 60967
                        length: 21
                    children: []
                    pos: 60966
                    length: 23
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: CheckLevel newLevel = warningsGuard.level(error);
                    children: []
                    pos: 60998
                    length: 49
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: not_equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: newLevel
                                children: []
                                pos: 61058
                                length: 8
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 61070
                                length: 4
                            children: []
                            pos: 61058
                            length: 16
                        children: []
                        pos: 61057
                        length: 18
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: level = newLevel;
                        children: []
                        pos: 61086
                        length: 17
                      pos: 61076
                      length: 35
                    pos: 61054
                    length: 57
                  pos: 60990
                  length: 127
                pos: 60963
                length: 154
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: level.isOn()
                        children: []
                        pos: 61127
                        length: 12
                    children: []
                    pos: 61126
                    length: 14
                children:
                - type: block
                  fields: {}
                  children:
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: not_equals
                            fields:
                              left:
                                type: field_access
                                fields:
                                  text: getOptions().errorHandler
                                children: []
                                pos: 61153
                                length: 25
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 61182
                                length: 4
                            children: []
                            pos: 61153
                            length: 33
                        children: []
                        pos: 61152
                        length: 35
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: getOptions().errorHandler.report(level, error);
                        children: []
                        pos: 61198
                        length: 47
                      pos: 61188
                      length: 65
                    pos: 61149
                    length: 104
                  - type: expression_statement
                    fields:
                      text: errorManager.report(level, error);
                    children: []
                    pos: 61260
                    length: 34
                  pos: 61141
                  length: 159
                pos: 61123
                length: 177
              pos: 60909
              length: 395
          children: []
          pos: 60863
          length: 441
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getErrorLevel
              children: []
              pos: 61338
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSError error
                children: []
                pos: 61352
                length: 13
              pos: 61308
              length: 144
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: Preconditions.checkNotNull(options);
                children: []
                pos: 61373
                length: 36
              - type: return_statement
                fields:
                  text: return warningsGuard.level(error);
                children: []
                pos: 61414
                length: 34
              pos: 61367
              length: 85
          children: []
          pos: 61308
          length: 144
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: throwInternalError
              children: []
              pos: 61516
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String message
                children: []
                pos: 61535
                length: 14
              pos: 61499
              length: 345
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: |-
                    String finalMessage =
                          "INTERNAL COMPILER ERROR.\n" +
                          "Please report this problem.\n" + message;
                children: []
                pos: 61574
                length: 107
              - type: local_variable_declaration
                fields:
                  text: RuntimeException e = new RuntimeException(finalMessage, cause);
                children: []
                pos: 61687
                length: 63
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: cause
                            children: []
                            pos: 61759
                            length: 5
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 61768
                            length: 4
                        children: []
                        pos: 61759
                        length: 13
                    children: []
                    pos: 61758
                    length: 15
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: e.setStackTrace(cause.getStackTrace());
                    children: []
                    pos: 61782
                    length: 39
                  pos: 61774
                  length: 53
                pos: 61755
                length: 72
              - type: throw_statement
                fields:
                  text: throw e;
                children: []
                pos: 61832
                length: 8
              pos: 61568
              length: 276
          children: []
          pos: 61499
          length: 345
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getErrorCount
              children: []
              pos: 61904
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 61893
              length: 73
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return errorManager.getErrorCount();
                children: []
                pos: 61926
                length: 36
              pos: 61920
              length: 46
          children: []
          pos: 61893
          length: 73
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getWarningCount
              children: []
              pos: 62027
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 62016
              length: 77
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return errorManager.getWarningCount();
                children: []
                pos: 62051
                length: 38
              pos: 62045
              length: 48
          children: []
          pos: 62016
          length: 77
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: hasHaltingErrors
              children: []
              pos: 62117
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 62097
              length: 92
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return !isIdeMode() && getErrorCount() > 0;
                children: []
                pos: 62142
                length: 43
              pos: 62136
              length: 53
          children: []
          pos: 62097
          length: 92
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: hasErrors
              children: []
              pos: 62626
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 62611
              length: 63
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return hasHaltingErrors();
                children: []
                pos: 62644
                length: 26
              pos: 62638
              length: 36
          children: []
          pos: 62611
          length: 63
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: addToDebugLog
              children: []
              pos: 62753
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String str
                children: []
                pos: 62767
                length: 10
              pos: 62736
              length: 123
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: debugLog.append(str);
                children: []
                pos: 62785
                length: 21
              - type: expression_statement
                fields:
                  text: debugLog.append('\n');
                children: []
                pos: 62811
                length: 22
              - type: expression_statement
                fields:
                  text: logger.fine(str);
                children: []
                pos: 62838
                length: 17
              pos: 62779
              length: 80
          children: []
          pos: 62736
          length: 123
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getSourceFileByName
              children: []
              pos: 62882
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String sourceName
                children: []
                pos: 62902
                length: 17
              pos: 62863
              length: 373
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: sourceName
                            children: []
                            pos: 63046
                            length: 10
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 63060
                            length: 4
                        children: []
                        pos: 63046
                        length: 18
                    children: []
                    pos: 63045
                    length: 20
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: CompilerInput input = inputsById.get(new InputId(sourceName));
                    children: []
                    pos: 63074
                    length: 62
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: not_equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: input
                                children: []
                                pos: 63147
                                length: 5
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 63156
                                length: 4
                            children: []
                            pos: 63147
                            length: 13
                        children: []
                        pos: 63146
                        length: 15
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: return_statement
                        fields:
                          text: return input.getSourceFile();
                        children: []
                        pos: 63172
                        length: 29
                      pos: 63162
                      length: 47
                    pos: 63143
                    length: 66
                  pos: 63066
                  length: 149
                pos: 63042
                length: 173
              - type: return_statement
                fields:
                  text: return null;
                children: []
                pos: 63220
                length: 12
              pos: 62921
              length: 315
          children: []
          pos: 62863
          length: 373
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getSourceLine
              children: []
              pos: 63266
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String sourceName
                children: []
                pos: 63280
                length: 17
              pos: 63240
              length: 275
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: less_than
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: lineNumber
                            children: []
                            pos: 63325
                            length: 10
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '1'
                            children: []
                            pos: 63338
                            length: 1
                        children: []
                        pos: 63325
                        length: 14
                    children: []
                    pos: 63324
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return null;
                    children: []
                    pos: 63349
                    length: 12
                  pos: 63341
                  length: 26
                pos: 63321
                length: 46
              - type: local_variable_declaration
                fields:
                  text: SourceFile input = getSourceFileByName(sourceName);
                children: []
                pos: 63372
                length: 51
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: input
                            children: []
                            pos: 63432
                            length: 5
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 63441
                            length: 4
                        children: []
                        pos: 63432
                        length: 13
                    children: []
                    pos: 63431
                    length: 15
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return input.getLine(lineNumber);
                    children: []
                    pos: 63455
                    length: 33
                  pos: 63447
                  length: 47
                pos: 63428
                length: 66
              - type: return_statement
                fields:
                  text: return null;
                children: []
                pos: 63499
                length: 12
              pos: 63315
              length: 200
          children: []
          pos: 63240
          length: 275
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getSourceRegion
              children: []
              pos: 63545
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String sourceName
                children: []
                pos: 63561
                length: 17
              pos: 63519
              length: 279
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: less_than
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: lineNumber
                            children: []
                            pos: 63606
                            length: 10
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '1'
                            children: []
                            pos: 63619
                            length: 1
                        children: []
                        pos: 63606
                        length: 14
                    children: []
                    pos: 63605
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return null;
                    children: []
                    pos: 63630
                    length: 12
                  pos: 63622
                  length: 26
                pos: 63602
                length: 46
              - type: local_variable_declaration
                fields:
                  text: SourceFile input = getSourceFileByName(sourceName);
                children: []
                pos: 63653
                length: 51
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: input
                            children: []
                            pos: 63713
                            length: 5
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 63722
                            length: 4
                        children: []
                        pos: 63713
                        length: 13
                    children: []
                    pos: 63712
                    length: 15
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return input.getRegion(lineNumber);
                    children: []
                    pos: 63736
                    length: 35
                  pos: 63728
                  length: 49
                pos: 63709
                length: 68
              - type: return_statement
                fields:
                  text: return null;
                children: []
                pos: 63782
                length: 12
              pos: 63596
              length: 202
          children: []
          pos: 63519
          length: 279
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getNodeForCodeInsertion
              children: []
              pos: 64003
              length: 23
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSModule module
                children: []
                pos: 64027
                length: 15
              pos: 63986
              length: 451
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: module
                            children: []
                            pos: 64054
                            length: 6
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 64064
                            length: 4
                        children: []
                        pos: 64054
                        length: 14
                    children: []
                    pos: 64053
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: method_invocation
                            fields:
                              text: inputs.isEmpty()
                            children: []
                            pos: 64082
                            length: 16
                        children: []
                        pos: 64081
                        length: 18
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: throw_statement
                        fields:
                          text: throw new IllegalStateException("No inputs");
                        children: []
                        pos: 64110
                        length: 45
                      pos: 64100
                      length: 63
                    pos: 64078
                    length: 85
                  - type: return_statement
                    fields:
                      text: return inputs.get(0).getAstRoot(this);
                    children: []
                    pos: 64171
                    length: 38
                  pos: 64070
                  length: 145
                pos: 64050
                length: 165
              - type: local_variable_declaration
                fields:
                  text: List<CompilerInput> moduleInputs = module.getInputs();
                children: []
                pos: 64221
                length: 54
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: greater_than
                        fields:
                          left:
                            type: method_invocation
                            fields:
                              text: moduleInputs.size()
                            children: []
                            pos: 64284
                            length: 19
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '0'
                            children: []
                            pos: 64306
                            length: 1
                        children: []
                        pos: 64284
                        length: 23
                    children: []
                    pos: 64283
                    length: 25
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return moduleInputs.get(0).getAstRoot(this);
                    children: []
                    pos: 64317
                    length: 44
                  pos: 64309
                  length: 58
                pos: 64280
                length: 87
              - type: throw_statement
                fields:
                  text: throw new IllegalStateException("Root module has no inputs");
                children: []
                pos: 64372
                length: 61
              pos: 64044
              length: 393
          children: []
          pos: 63986
          length: 451
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getSourceMap
              children: []
              pos: 64458
              length: 12
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 64441
              length: 59
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return sourceMap;
                children: []
                pos: 64479
                length: 17
              pos: 64473
              length: 27
          children: []
          pos: 64441
          length: 59
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getVariableMap
              children: []
              pos: 64516
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 64504
              length: 97
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getPassConfig().getIntermediateState().variableMap;
                children: []
                pos: 64539
                length: 58
              pos: 64533
              length: 68
          children: []
          pos: 64504
          length: 97
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getPropertyMap
              children: []
              pos: 64617
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 64605
              length: 97
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getPassConfig().getIntermediateState().propertyMap;
                children: []
                pos: 64640
                length: 58
              pos: 64634
              length: 68
          children: []
          pos: 64605
          length: 97
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getOptions
              children: []
              pos: 64722
              length: 10
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 64706
              length: 54
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return options;
                children: []
                pos: 64741
                length: 15
              pos: 64735
              length: 25
          children: []
          pos: 64706
          length: 54
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getFunctionalInformationMap
              children: []
              pos: 64787
              length: 27
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 64764
              length: 93
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return functionInformationMap;
                children: []
                pos: 64823
                length: 30
              pos: 64817
              length: 40
          children: []
          pos: 64764
          length: 93
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setLoggingLevel
              children: []
              pos: 64966
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Level level
                children: []
                pos: 64982
                length: 11
              pos: 64947
              length: 81
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: logger.setLevel(level);
                children: []
                pos: 65001
                length: 23
              pos: 64995
              length: 33
          children: []
          pos: 64947
          length: 81
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getAstDotGraph
              children: []
              pos: 65122
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 65108
              length: 281
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: jsRoot
                            children: []
                            pos: 65168
                            length: 6
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 65178
                            length: 4
                        children: []
                        pos: 65168
                        length: 14
                    children: []
                    pos: 65167
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: ControlFlowAnalysis cfa = new ControlFlowAnalysis(this,
                        true, false);
                    children: []
                    pos: 65192
                    length: 69
                  - type: expression_statement
                    fields:
                      text: cfa.process(null, jsRoot);
                    children: []
                    pos: 65268
                    length: 26
                  - type: return_statement
                    fields:
                      text: return DotFormatter.toDot(jsRoot, cfa.getCfg());
                    children: []
                    pos: 65301
                    length: 48
                  pos: 65184
                  length: 171
                pos: 65164
                length: 221
              pos: 65158
              length: 231
          children: []
          pos: 65108
          length: 281
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getErrorManager
              children: []
              pos: 65425
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 65393
              length: 154
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: options
                            children: []
                            pos: 65453
                            length: 7
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 65464
                            length: 4
                        children: []
                        pos: 65453
                        length: 15
                    children: []
                    pos: 65452
                    length: 17
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: initOptions(newCompilerOptions());
                    children: []
                    pos: 65478
                    length: 34
                  pos: 65470
                  length: 48
                pos: 65449
                length: 69
              - type: return_statement
                fields:
                  text: return errorManager;
                children: []
                pos: 65523
                length: 20
              pos: 65443
              length: 104
          children: []
          pos: 65393
          length: 154
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getInputsInOrder
              children: []
              pos: 65583
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 65551
              length: 120
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return Collections.<CompilerInput>unmodifiableList(inputs);
                children: []
                pos: 65608
                length: 59
              pos: 65602
              length: 69
          children: []
          pos: 65551
          length: 120
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getInputsById
              children: []
              pos: 65794
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 65759
              length: 108
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return Collections.unmodifiableMap(inputsById);
                children: []
                pos: 65816
                length: 47
              pos: 65810
              length: 57
          children: []
          pos: 65759
          length: 108
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getExternsInOrder
              children: []
              pos: 65973
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 65953
              length: 110
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return Collections.<CompilerInput>unmodifiableList(externs);
                children: []
                pos: 65999
                length: 60
              pos: 65993
              length: 70
          children: []
          pos: 65953
          length: 110
        - type: class_declaration
          fields:
            name:
              type: identifier
              fields:
                text: IntermediateState
              children: []
              pos: 66683
              length: 17
            body:
              type: class_body
              fields: {}
              children:
              - type: field_declaration
                fields:
                  text: private static final long serialVersionUID = 1L;
                children: []
                pos: 66731
                length: 48
              - type: field_declaration
                fields:
                  text: Node externsRoot;
                children: []
                pos: 66785
                length: 17
              - type: field_declaration
                fields:
                  text: private Node jsRoot;
                children: []
                pos: 66807
                length: 20
              - type: field_declaration
                fields:
                  text: private List<CompilerInput> externs;
                children: []
                pos: 66832
                length: 36
              - type: field_declaration
                fields:
                  text: private List<CompilerInput> inputs;
                children: []
                pos: 66873
                length: 35
              - type: field_declaration
                fields:
                  text: private List<JSModule> modules;
                children: []
                pos: 66913
                length: 31
              - type: field_declaration
                fields:
                  text: private PassConfig.State passConfigState;
                children: []
                pos: 66949
                length: 41
              - type: field_declaration
                fields:
                  text: private JSTypeRegistry typeRegistry;
                children: []
                pos: 66995
                length: 36
              - type: field_declaration
                fields:
                  text: private AbstractCompiler.LifeCycleStage lifeCycleStage;
                children: []
                pos: 67036
                length: 55
              - type: field_declaration
                fields:
                  text: private Map<String, Node> injectedLibraries;
                children: []
                pos: 67096
                length: 44
              - type: constructor_declaration
                fields:
                  text: private IntermediateState() {}
                children: []
                pos: 67146
                length: 30
              pos: 66663
              length: 517
          children: []
          pos: 66663
          length: 517
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getState
              children: []
              pos: 67301
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 67276
              length: 491
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: IntermediateState state = new IntermediateState();
                children: []
                pos: 67318
                length: 50
              - type: expression_statement
                fields:
                  text: state.externsRoot = externsRoot;
                children: []
                pos: 67373
                length: 32
              - type: expression_statement
                fields:
                  text: state.jsRoot = jsRoot;
                children: []
                pos: 67410
                length: 22
              - type: expression_statement
                fields:
                  text: state.externs = externs;
                children: []
                pos: 67437
                length: 24
              - type: expression_statement
                fields:
                  text: state.inputs = inputs;
                children: []
                pos: 67466
                length: 22
              - type: expression_statement
                fields:
                  text: state.modules = modules;
                children: []
                pos: 67493
                length: 24
              - type: expression_statement
                fields:
                  text: state.passConfigState = getPassConfig().getIntermediateState();
                children: []
                pos: 67522
                length: 63
              - type: expression_statement
                fields:
                  text: state.typeRegistry = typeRegistry;
                children: []
                pos: 67590
                length: 34
              - type: expression_statement
                fields:
                  text: state.lifeCycleStage = getLifeCycleStage();
                children: []
                pos: 67629
                length: 43
              - type: expression_statement
                fields:
                  text: state.injectedLibraries = Maps.newLinkedHashMap(injectedLibraries);
                children: []
                pos: 67677
                length: 67
              - type: return_statement
                fields:
                  text: return state;
                children: []
                pos: 67750
                length: 13
              pos: 67312
              length: 455
          children: []
          pos: 67276
          length: 491
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setState
              children: []
              pos: 67916
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: IntermediateState state
                children: []
                pos: 67925
                length: 23
              pos: 67904
              length: 477
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: externsRoot = state.externsRoot;
                children: []
                pos: 67956
                length: 32
              - type: expression_statement
                fields:
                  text: jsRoot = state.jsRoot;
                children: []
                pos: 67993
                length: 22
              - type: expression_statement
                fields:
                  text: externs = state.externs;
                children: []
                pos: 68020
                length: 24
              - type: expression_statement
                fields:
                  text: inputs = state.inputs;
                children: []
                pos: 68049
                length: 22
              - type: expression_statement
                fields:
                  text: modules = state.modules;
                children: []
                pos: 68076
                length: 24
              - type: expression_statement
                fields:
                  text: passes = createPassConfigInternal();
                children: []
                pos: 68105
                length: 36
              - type: expression_statement
                fields:
                  text: getPassConfig().setIntermediateState(state.passConfigState);
                children: []
                pos: 68146
                length: 60
              - type: expression_statement
                fields:
                  text: typeRegistry = state.typeRegistry;
                children: []
                pos: 68211
                length: 34
              - type: expression_statement
                fields:
                  text: setLifeCycleStage(state.lifeCycleStage);
                children: []
                pos: 68250
                length: 40
              - type: expression_statement
                fields:
                  text: injectedLibraries.clear();
                children: []
                pos: 68296
                length: 26
              - type: expression_statement
                fields:
                  text: injectedLibraries.putAll(state.injectedLibraries);
                children: []
                pos: 68327
                length: 50
              pos: 67950
              length: 431
          children: []
          pos: 67904
          length: 477
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getInputsForTesting
              children: []
              pos: 68426
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 68385
              length: 87
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return inputs;
                children: []
                pos: 68454
                length: 14
              pos: 68448
              length: 24
          children: []
          pos: 68385
          length: 87
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getExternsForTesting
              children: []
              pos: 68517
              length: 20
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 68476
              length: 89
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return externs;
                children: []
                pos: 68546
                length: 15
              pos: 68540
              length: 25
          children: []
          pos: 68476
          length: 89
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: hasRegExpGlobalReferences
              children: []
              pos: 68589
              length: 25
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 68569
              length: 91
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return hasRegExpGlobalReferences;
                children: []
                pos: 68623
                length: 33
              pos: 68617
              length: 43
          children: []
          pos: 68569
          length: 91
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setHasRegExpGlobalReferences
              children: []
              pos: 68681
              length: 28
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: boolean references
                children: []
                pos: 68710
                length: 18
              pos: 68664
              length: 115
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: hasRegExpGlobalReferences = references;
                children: []
                pos: 68736
                length: 39
              pos: 68730
              length: 49
          children: []
          pos: 68664
          length: 115
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: updateGlobalVarReferences
              children: []
              pos: 68800
              length: 25
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Map<Var, ReferenceCollection> refMapPatch
                children: []
                pos: 68826
                length: 41
              pos: 68783
              length: 421
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: |-
                    Preconditions.checkState(collectionRoot.isScript()
                            || collectionRoot.isBlock());
                children: []
                pos: 68902
                length: 88
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: globalRefMap
                            children: []
                            pos: 68999
                            length: 12
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 69015
                            length: 4
                        children: []
                        pos: 68999
                        length: 20
                    children: []
                    pos: 68998
                    length: 22
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: |-
                        globalRefMap = new GlobalVarReferenceMap(getInputsInOrder(),
                                  getExternsInOrder());
                    children: []
                    pos: 69029
                    length: 92
                  pos: 69021
                  length: 106
                pos: 68995
                length: 132
              - type: expression_statement
                fields:
                  text: globalRefMap.updateGlobalVarReferences(refMapPatch, collectionRoot);
                children: []
                pos: 69132
                length: 68
              pos: 68896
              length: 308
          children: []
          pos: 68783
          length: 421
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getGlobalVarReferences
              children: []
              pos: 69242
              length: 22
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 69208
              length: 89
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return globalRefMap;
                children: []
                pos: 69273
                length: 20
              pos: 69267
              length: 30
          children: []
          pos: 69208
          length: 89
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getSynthesizedExternsInput
              children: []
              pos: 69327
              length: 26
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 69301
              length: 212
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: synthesizedExternsInput
                            children: []
                            pos: 69366
                            length: 23
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 69393
                            length: 4
                        children: []
                        pos: 69366
                        length: 31
                    children: []
                    pos: 69365
                    length: 33
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: synthesizedExternsInput = newExternInput(SYNTHETIC_EXTERNS);
                    children: []
                    pos: 69407
                    length: 60
                  pos: 69399
                  length: 74
                pos: 69362
                length: 111
              - type: return_statement
                fields:
                  text: return synthesizedExternsInput;
                children: []
                pos: 69478
                length: 31
              pos: 69356
              length: 157
          children: []
          pos: 69301
          length: 212
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getProgress
              children: []
              pos: 69543
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 69517
              length: 66
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return progress;
                children: []
                pos: 69563
                length: 16
              pos: 69557
              length: 26
          children: []
          pos: 69517
          length: 66
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setProgress
              children: []
              pos: 69604
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: double newProgress
                children: []
                pos: 69616
                length: 18
              pos: 69587
              length: 212
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: greater_than
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: newProgress
                            children: []
                            pos: 69646
                            length: 11
                          right:
                            type: decimal_floating_point_literal
                            fields:
                              text: '1.0'
                            children: []
                            pos: 69660
                            length: 3
                        children: []
                        pos: 69646
                        length: 17
                    children: []
                    pos: 69645
                    length: 19
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: progress = 1.0;
                    children: []
                    pos: 69673
                    length: 15
                  pos: 69665
                  length: 29
                pos: 69642
                length: 153
              pos: 69636
              length: 163
          children: []
          pos: 69587
          length: 212
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: replaceScript
              children: []
              pos: 70103
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JsAst ast
                children: []
                pos: 70117
                length: 9
              pos: 70091
              length: 256
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: CompilerInput input = this.getInput(ast.getInputId());
                children: []
                pos: 70134
                length: 54
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: unary_expression
                        fields:
                          text: "!replaceIncrementalSourceAst(ast)"
                        children: []
                        pos: 70197
                        length: 33
                    children: []
                    pos: 70196
                    length: 35
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return;
                    children: []
                    pos: 70240
                    length: 7
                  pos: 70232
                  length: 21
                pos: 70193
                length: 60
              - type: local_variable_declaration
                fields:
                  text: Node originalRoot = input.getAstRoot(this);
                children: []
                pos: 70258
                length: 43
              - type: expression_statement
                fields:
                  text: processNewScript(ast, originalRoot);
                children: []
                pos: 70307
                length: 36
              pos: 70128
              length: 219
          children: []
          pos: 70091
          length: 256
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: addNewScript
              children: []
              pos: 70603
              length: 12
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JsAst ast
                children: []
                pos: 70616
                length: 9
              pos: 70591
              length: 351
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: unary_expression
                        fields:
                          text: "!addNewSourceAst(ast)"
                        children: []
                        pos: 70637
                        length: 21
                    children: []
                    pos: 70636
                    length: 23
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return;
                    children: []
                    pos: 70668
                    length: 7
                  pos: 70660
                  length: 21
                pos: 70633
                length: 48
              - type: local_variable_declaration
                fields:
                  text: Node emptyScript = new Node(Token.SCRIPT);
                children: []
                pos: 70686
                length: 42
              - type: local_variable_declaration
                fields:
                  text: InputId inputId = ast.getInputId();
                children: []
                pos: 70733
                length: 35
              - type: expression_statement
                fields:
                  text: emptyScript.setInputId(inputId);
                children: []
                pos: 70773
                length: 32
              - type: expression_statement
                fields:
                  text: |-
                    emptyScript.setStaticSourceFile(
                            SourceFile.fromCode(inputId.getIdName(), ""));
                children: []
                pos: 70810
                length: 87
              - type: expression_statement
                fields:
                  text: processNewScript(ast, emptyScript);
                children: []
                pos: 70903
                length: 35
              pos: 70627
              length: 315
          children: []
          pos: 70591
          length: 351
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: processNewScript
              children: []
              pos: 70959
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JsAst ast
                children: []
                pos: 70976
                length: 9
              pos: 70946
              length: 574
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: Node js = ast.getAstRoot(this);
                children: []
                pos: 71012
                length: 31
              - type: expression_statement
                fields:
                  text: Preconditions.checkNotNull(js);
                children: []
                pos: 71048
                length: 31
              - type: expression_statement
                fields:
                  text: runHotSwap(originalRoot, js, this.getCleanupPassConfig());
                children: []
                pos: 71085
                length: 58
              - type: expression_statement
                fields:
                  text: runHotSwapPass(null, null, ensureDefaultPassConfig().garbageCollectChecks);
                children: []
                pos: 71290
                length: 75
              - type: expression_statement
                fields:
                  text: this.getTypeRegistry().clearNamedTypes();
                children: []
                pos: 71371
                length: 41
              - type: expression_statement
                fields:
                  text: this.removeSyntheticVarsInput();
                children: []
                pos: 71417
                length: 32
              - type: expression_statement
                fields:
                  text: runHotSwap(originalRoot, js, this.ensureDefaultPassConfig());
                children: []
                pos: 71455
                length: 61
              pos: 71006
              length: 514
          children: []
          pos: 70946
          length: 574
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: runHotSwap
              children: []
              pos: 71629
              length: 10
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Node originalRoot
                children: []
                pos: 71647
                length: 17
              pos: 71616
              length: 207
            body:
              type: block
              fields: {}
              children:
              - type: enhanced_for_statement
                fields:
                  text: |-
                    for (PassFactory passFactory : passConfig.getChecks()) {
                          runHotSwapPass(originalRoot, js, passFactory);
                        }
                children: []
                pos: 71704
                length: 115
              pos: 71698
              length: 125
          children: []
          pos: 71616
          length: 207
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: runHotSwapPass
              children: []
              pos: 71840
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Node originalRoot
                children: []
                pos: 71862
                length: 17
              pos: 71827
              length: 307
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: HotSwapCompilerPass pass = passFactory.getHotSwapPass(this);
                children: []
                pos: 71921
                length: 60
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: pass
                            children: []
                            pos: 71990
                            length: 4
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 71998
                            length: 4
                        children: []
                        pos: 71990
                        length: 12
                    children: []
                    pos: 71989
                    length: 14
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: logger.info("Performing HotSwap for pass " + passFactory.getName());
                    children: []
                    pos: 72012
                    length: 68
                  - type: expression_statement
                    fields:
                      text: pass.hotSwapScript(js, originalRoot);
                    children: []
                    pos: 72087
                    length: 37
                  pos: 72004
                  length: 126
                pos: 71986
                length: 144
              pos: 71915
              length: 219
          children: []
          pos: 71827
          length: 307
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getCleanupPassConfig
              children: []
              pos: 72157
              length: 20
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 72138
              length: 91
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return new CleanupPasses(getOptions());
                children: []
                pos: 72186
                length: 39
              pos: 72180
              length: 49
          children: []
          pos: 72138
          length: 91
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: removeSyntheticVarsInput
              children: []
              pos: 72246
              length: 24
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 72233
              length: 145
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: String sourceName = Compiler.SYNTHETIC_EXTERNS;
                children: []
                pos: 72279
                length: 47
              - type: expression_statement
                fields:
                  text: removeExternInput(new InputId(sourceName));
                children: []
                pos: 72331
                length: 43
              pos: 72273
              length: 105
          children: []
          pos: 72233
          length: 145
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: ensureLibraryInjected
              children: []
              pos: 72399
              length: 21
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String resourceName
                children: []
                pos: 72421
                length: 19
              pos: 72382
              length: 737
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: injectedLibraries.containsKey(resourceName)
                        children: []
                        pos: 72452
                        length: 43
                    children: []
                    pos: 72451
                    length: 45
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return null;
                    children: []
                    pos: 72505
                    length: 12
                  pos: 72497
                  length: 26
                pos: 72448
                length: 75
              - type: local_variable_declaration
                fields:
                  text: boolean isBase = "base".equals(resourceName);
                children: []
                pos: 72571
                length: 45
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: unary_expression
                        fields:
                          text: "!isBase"
                        children: []
                        pos: 72625
                        length: 7
                    children: []
                    pos: 72624
                    length: 9
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: ensureLibraryInjected("base");
                    children: []
                    pos: 72642
                    length: 30
                  pos: 72634
                  length: 44
                pos: 72621
                length: 57
              - type: local_variable_declaration
                fields:
                  text: Node firstChild = loadLibraryCode(resourceName).removeChildren();
                children: []
                pos: 72684
                length: 65
              - type: local_variable_declaration
                fields:
                  text: Node lastChild = firstChild.getLastSibling();
                children: []
                pos: 72754
                length: 45
              - type: local_variable_declaration
                fields:
                  text: Node parent = getNodeForCodeInsertion(null);
                children: []
                pos: 72805
                length: 44
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: identifier
                        fields:
                          text: isBase
                        children: []
                        pos: 72858
                        length: 6
                    children: []
                    pos: 72857
                    length: 8
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: parent.addChildrenToFront(firstChild);
                    children: []
                    pos: 72874
                    length: 38
                  pos: 72866
                  length: 52
                pos: 72854
                length: 162
              - type: expression_statement
                fields:
                  text: reportCodeChange();
                children: []
                pos: 73021
                length: 19
              - type: expression_statement
                fields:
                  text: injectedLibraries.put(resourceName, lastChild);
                children: []
                pos: 73046
                length: 47
              - type: return_statement
                fields:
                  text: return lastChild;
                children: []
                pos: 73098
                length: 17
              pos: 72442
              length: 677
          children: []
          pos: 72382
          length: 737
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: loadLibraryCode
              children: []
              pos: 73187
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String resourceName
                children: []
                pos: 73203
                length: 19
              pos: 73161
              length: 505
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: String originalCode;
                children: []
                pos: 73230
                length: 20
              - type: try_statement
                fields:
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: expression_statement
                      fields:
                        text: |-
                          originalCode = CharStreams.toString(new InputStreamReader(
                                    Compiler.class.getResourceAsStream(
                                        String.format("js/%s.js", resourceName)),
                                    Charsets.UTF_8));
                      children: []
                      pos: 73267
                      length: 188
                    pos: 73259
                    length: 202
                  excepts:
                    type: excepts
                    fields: {}
                    children:
                    - type: catch_clause
                      fields:
                        text: |-
                          catch (IOException e) {
                                throw new RuntimeException(e);
                              }
                      children: []
                      pos: 73462
                      length: 66
                    pos: 73255
                    length: 273
                children: []
                pos: 73255
                length: 273
              - type: return_statement
                fields:
                  text: |-
                    return Normalize.parseAndNormalizeSyntheticCode(
                            this, originalCode,
                            String.format("jscomp_%s_", resourceName));
                children: []
                pos: 73534
                length: 128
              pos: 73224
              length: 442
          children: []
          pos: 73161
          length: 505
        pos: 3070
        length: 70598
    children: []
    pos: 3070
    length: 70598
  pos: 0
  length: 73669
text_diff: "--- before\n+++ after\n@@ -1282,6 +1282,7 @@\n \n       // Check if the
  sources need to be re-ordered.\n       if (options.dependencyOptions.needsManagement()
  &&\n+          !options.skipAllPasses &&\n           options.closurePass) {\n         for
  (CompilerInput input : inputs) {\n           // Forward-declare all the provided
  types, so that they\n"
tree_diff: |+
  New cluster:
  Unknown cluster type
  ------------
  ===
  insert-tree
  ---
  and [39271,39350]
      method_invocation: options.dependencyOptions.needsManagement() [39271,39314]
      unary_expression: !options.skipAllPasses [39328,39350]
  to
  and [39271,39347]
  at 0

  New cluster:
  ===
  delete-node
  ---
  method_invocation: options.dependencyOptions.needsManagement() [39271,39314]
  ===
  ------------
  ===
  delete-node
  ---
  method_invocation: options.dependencyOptions.needsManagement() [39271,39314]
  ===

...
