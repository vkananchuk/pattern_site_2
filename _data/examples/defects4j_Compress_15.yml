---
language: java
before_tree:
  type: program
  fields: {}
  children:
  - type: class_declaration
    fields:
      name:
        type: identifier
        fields:
          text: ZipArchiveEntry
        children: []
        pos: 2041
        length: 15
      body:
        type: class_body
        fields: {}
        children:
        - type: field_declaration
          fields:
            text: public static final int PLATFORM_UNIX = 3;
          children: []
          pos: 2123
          length: 42
        - type: field_declaration
          fields:
            text: public static final int PLATFORM_FAT  = 0;
          children: []
          pos: 2170
          length: 42
        - type: field_declaration
          fields:
            text: private static final int SHORT_MASK = 0xFFFF;
          children: []
          pos: 2217
          length: 45
        - type: field_declaration
          fields:
            text: private static final int SHORT_SHIFT = 16;
          children: []
          pos: 2267
          length: 42
        - type: field_declaration
          fields:
            text: private int method = -1;
          children: []
          pos: 2719
          length: 24
        - type: field_declaration
          fields:
            text: private long size = SIZE_UNKNOWN;
          children: []
          pos: 3008
          length: 33
        - type: field_declaration
          fields:
            text: private int internalAttributes = 0;
          children: []
          pos: 3047
          length: 35
        - type: field_declaration
          fields:
            text: private int platform = PLATFORM_FAT;
          children: []
          pos: 3087
          length: 36
        - type: field_declaration
          fields:
            text: private long externalAttributes = 0;
          children: []
          pos: 3128
          length: 36
        - type: field_declaration
          fields:
            text: private LinkedHashMap<ZipShort, ZipExtraField> extraFields = null;
          children: []
          pos: 3169
          length: 66
        - type: field_declaration
          fields:
            text: private UnparseableExtraFieldData unparseableExtra = null;
          children: []
          pos: 3240
          length: 58
        - type: field_declaration
          fields:
            text: private String name = null;
          children: []
          pos: 3303
          length: 27
        - type: field_declaration
          fields:
            text: private byte[] rawName = null;
          children: []
          pos: 3335
          length: 30
        - type: field_declaration
          fields:
            text: private GeneralPurposeBit gpb = new GeneralPurposeBit();
          children: []
          pos: 3370
          length: 56
        - type: constructor_declaration
          fields:
            text: |-
              public ZipArchiveEntry(String name) {
                      super(name);
                      setName(name);
                  }
          children: []
          pos: 3676
          length: 87
        - type: constructor_declaration
          fields:
            text: |-
              public ZipArchiveEntry(java.util.zip.ZipEntry entry) throws ZipException {
                      super(entry);
                      setName(entry.getName());
                      byte[] extra = entry.getExtra();
                      if (extra != null) {
                          setExtraFields(ExtraFieldUtils.parse(extra, true,
                                                               ExtraFieldUtils
                                                               .UnparseableExtraField.READ));
                      } else {
                          // initializes extra data to an empty byte array
                          setExtra();
                      }
                      setMethod(entry.getMethod());
                      this.size = entry.getSize();
                  }
          children: []
          pos: 4081
          length: 600
        - type: constructor_declaration
          fields:
            text: |-
              public ZipArchiveEntry(ZipArchiveEntry entry) throws ZipException {
                      this((java.util.zip.ZipEntry) entry);
                      setInternalAttributes(entry.getInternalAttributes());
                      setExternalAttributes(entry.getExternalAttributes());
                      setExtraFields(entry.getExtraFields(true));
                  }
          children: []
          pos: 4999
          length: 295
        - type: constructor_declaration
          fields:
            text: |-
              protected ZipArchiveEntry() {
                      this("");
                  }
          children: []
          pos: 5316
          length: 53
        - type: constructor_declaration
          fields:
            text: "public ZipArchiveEntry(File inputFile, String entryName) {\n        this(inputFile.isDirectory()
              && !entryName.endsWith(\"/\") ? \n             entryName + \"/\" : entryName);\n
              \       if (inputFile.isFile()){\n            setSize(inputFile.length());\n
              \       }\n        setTime(inputFile.lastModified());\n        // TODO
              are there any other fields we can set here?\n    }"
          children: []
          pos: 5735
          length: 362
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: clone
              children: []
              pos: 6224
              length: 5
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 6196
              length: 287
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: ZipArchiveEntry e = (ZipArchiveEntry) super.clone();
                children: []
                pos: 6242
                length: 52
              - type: expression_statement
                fields:
                  text: e.setInternalAttributes(getInternalAttributes());
                children: []
                pos: 6304
                length: 49
              - type: expression_statement
                fields:
                  text: e.setExternalAttributes(getExternalAttributes());
                children: []
                pos: 6362
                length: 49
              - type: expression_statement
                fields:
                  text: e.setExtraFields(getExtraFields(true));
                children: []
                pos: 6420
                length: 39
              - type: return_statement
                fields:
                  text: return e;
                children: []
                pos: 6468
                length: 9
              pos: 6232
              length: 251
          children: []
          pos: 6196
          length: 287
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getMethod
              children: []
              pos: 6712
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 6687
              length: 67
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return method;
                children: []
                pos: 6734
                length: 14
              pos: 6724
              length: 30
          children: []
          pos: 6687
          length: 67
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setMethod
              children: []
              pos: 6924
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: int method
                children: []
                pos: 6934
                length: 10
              pos: 6898
              length: 247
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: less_than
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: method
                            children: []
                            pos: 6960
                            length: 6
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '0'
                            children: []
                            pos: 6969
                            length: 1
                        children: []
                        pos: 6960
                        length: 10
                    children: []
                    pos: 6959
                    length: 12
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: |-
                        throw new IllegalArgumentException(
                                            "ZIP compression method can not be negative: " + method);
                    children: []
                    pos: 6986
                    length: 113
                  pos: 6972
                  length: 137
                pos: 6956
                length: 153
              - type: expression_statement
                fields:
                  text: this.method = method;
                children: []
                pos: 7118
                length: 21
              pos: 6946
              length: 199
          children: []
          pos: 6898
          length: 247
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getInternalAttributes
              children: []
              pos: 7276
              length: 21
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 7265
              length: 77
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return internalAttributes;
                children: []
                pos: 7310
                length: 26
              pos: 7300
              length: 42
          children: []
          pos: 7265
          length: 77
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setInternalAttributes
              children: []
              pos: 7464
              length: 21
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: int value
                children: []
                pos: 7486
                length: 9
              pos: 7452
              length: 88
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: internalAttributes = value;
                children: []
                pos: 7507
                length: 27
              pos: 7497
              length: 43
          children: []
          pos: 7452
          length: 88
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getExternalAttributes
              children: []
              pos: 7665
              length: 21
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 7653
              length: 78
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return externalAttributes;
                children: []
                pos: 7699
                length: 26
              pos: 7689
              length: 42
          children: []
          pos: 7653
          length: 78
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setExternalAttributes
              children: []
              pos: 7854
              length: 21
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: long value
                children: []
                pos: 7876
                length: 10
              pos: 7842
              length: 89
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: externalAttributes = value;
                children: []
                pos: 7898
                length: 27
              pos: 7888
              length: 43
          children: []
          pos: 7842
          length: 89
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setUnixMode
              children: []
              pos: 8103
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: int mode
                children: []
                pos: 8115
                length: 8
              pos: 8091
              length: 460
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: |-
                    setExternalAttributes((mode << SHORT_SHIFT)
                                                  // MS-DOS read-only attribute
                                                  | ((mode & 0200) == 0 ? 1 : 0)
                                                  // MS-DOS directory flag
                                                  | (isDirectory() ? 0x10 : 0));
                children: []
                pos: 8189
                length: 280
              - type: expression_statement
                fields:
                  text: platform = PLATFORM_UNIX;
                children: []
                pos: 8520
                length: 25
              pos: 8125
              length: 426
          children: []
          pos: 8091
          length: 460
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getUnixMode
              children: []
              pos: 8644
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 8633
              length: 154
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return platform != PLATFORM_UNIX ? 0 :
                                (int) ((getExternalAttributes() >> SHORT_SHIFT) & SHORT_MASK);
                children: []
                pos: 8668
                length: 113
              pos: 8658
              length: 129
          children: []
          pos: 8633
          length: 154
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getPlatform
              children: []
              pos: 9078
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 9067
              length: 57
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return platform;
                children: []
                pos: 9102
                length: 16
              pos: 9092
              length: 32
          children: []
          pos: 9067
          length: 57
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setPlatform
              children: []
              pos: 9271
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: int platform
                children: []
                pos: 9283
                length: 12
              pos: 9256
              length: 82
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: this.platform = platform;
                children: []
                pos: 9307
                length: 25
              pos: 9297
              length: 41
          children: []
          pos: 9256
          length: 82
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setExtraFields
              children: []
              pos: 9490
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: ZipExtraField[] fields
                children: []
                pos: 9505
                length: 22
              pos: 9478
              length: 429
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: extraFields = new LinkedHashMap<ZipShort, ZipExtraField>();
                children: []
                pos: 9539
                length: 59
              - type: enhanced_for_statement
                fields:
                  text: |-
                    for (ZipExtraField field : fields) {
                                if (field instanceof UnparseableExtraFieldData) {
                                    unparseableExtra = (UnparseableExtraFieldData) field;
                                } else {
                                    extraFields.put(field.getHeaderId(), field);
                                }
                            }
                children: []
                pos: 9607
                length: 274
              - type: expression_statement
                fields:
                  text: setExtra();
                children: []
                pos: 9890
                length: 11
              pos: 9529
              length: 378
          children: []
          pos: 9478
          length: 429
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getExtraFields
              children: []
              pos: 10066
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 10043
              length: 85
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getExtraFields(false);
                children: []
                pos: 10093
                length: 29
              pos: 10083
              length: 45
          children: []
          pos: 10043
          length: 85
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getExtraFields
              children: []
              pos: 10426
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: boolean includeUnparseable
                children: []
                pos: 10441
                length: 26
              pos: 10403
              length: 552
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: extraFields
                            children: []
                            pos: 10483
                            length: 11
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 10498
                            length: 4
                        children: []
                        pos: 10483
                        length: 19
                    children: []
                    pos: 10482
                    length: 21
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: |-
                        return !includeUnparseable || unparseableExtra == null
                                        ? new ZipExtraField[0]
                                        : new ZipExtraField[] { unparseableExtra };
                    children: []
                    pos: 10518
                    length: 153
                  pos: 10504
                  length: 177
                pos: 10479
                length: 202
              - type: local_variable_declaration
                fields:
                  text: |-
                    List<ZipExtraField> result =
                                new ArrayList<ZipExtraField>(extraFields.values());
                children: []
                pos: 10690
                length: 92
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: and
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: includeUnparseable
                            children: []
                            pos: 10795
                            length: 18
                          right:
                            type: not_equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: unparseableExtra
                                children: []
                                pos: 10817
                                length: 16
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 10837
                                length: 4
                            children: []
                            pos: 10817
                            length: 24
                        children: []
                        pos: 10795
                        length: 46
                    children: []
                    pos: 10794
                    length: 48
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: result.add(unparseableExtra);
                    children: []
                    pos: 10857
                    length: 29
                  pos: 10843
                  length: 53
                pos: 10791
                length: 105
              - type: return_statement
                fields:
                  text: return result.toArray(new ZipExtraField[0]);
                children: []
                pos: 10905
                length: 44
              pos: 10469
              length: 486
          children: []
          pos: 10403
          length: 552
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: addExtraField
              children: []
              pos: 11226
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: ZipExtraField ze
                children: []
                pos: 11240
                length: 16
              pos: 11214
              length: 396
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: instanceof_expression
                        fields:
                          text: ze instanceof UnparseableExtraFieldData
                        children: []
                        pos: 11272
                        length: 39
                    children: []
                    pos: 11271
                    length: 41
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: unparseableExtra = (UnparseableExtraFieldData) ze;
                    children: []
                    pos: 11327
                    length: 50
                  pos: 11313
                  length: 74
                pos: 11268
                length: 316
              - type: expression_statement
                fields:
                  text: setExtra();
                children: []
                pos: 11593
                length: 11
              pos: 11258
              length: 352
          children: []
          pos: 11214
          length: 396
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: addAsFirstExtraField
              children: []
              pos: 11835
              length: 20
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: ZipExtraField ze
                children: []
                pos: 11856
                length: 16
              pos: 11823
              length: 552
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: instanceof_expression
                        fields:
                          text: ze instanceof UnparseableExtraFieldData
                        children: []
                        pos: 11888
                        length: 39
                    children: []
                    pos: 11887
                    length: 41
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: unparseableExtra = (UnparseableExtraFieldData) ze;
                    children: []
                    pos: 11943
                    length: 50
                  pos: 11929
                  length: 74
                pos: 11884
                length: 465
              - type: expression_statement
                fields:
                  text: setExtra();
                children: []
                pos: 12358
                length: 11
              pos: 11874
              length: 501
          children: []
          pos: 11823
          length: 552
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: removeExtraField
              children: []
              pos: 12492
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: ZipShort type
                children: []
                pos: 12509
                length: 13
              pos: 12480
              length: 290
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: extraFields
                            children: []
                            pos: 12538
                            length: 11
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 12553
                            length: 4
                        children: []
                        pos: 12538
                        length: 19
                    children: []
                    pos: 12537
                    length: 21
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: throw new java.util.NoSuchElementException();
                    children: []
                    pos: 12573
                    length: 45
                  pos: 12559
                  length: 69
                pos: 12534
                length: 94
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: method_invocation
                            fields:
                              text: extraFields.remove(type)
                            children: []
                            pos: 12641
                            length: 24
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 12669
                            length: 4
                        children: []
                        pos: 12641
                        length: 32
                    children: []
                    pos: 12640
                    length: 34
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: throw new java.util.NoSuchElementException();
                    children: []
                    pos: 12689
                    length: 45
                  pos: 12675
                  length: 69
                pos: 12637
                length: 107
              - type: expression_statement
                fields:
                  text: setExtra();
                children: []
                pos: 12753
                length: 11
              pos: 12524
              length: 246
          children: []
          pos: 12480
          length: 290
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: removeUnparseableExtraFieldData
              children: []
              pos: 12874
              length: 31
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 12862
              length: 214
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: unparseableExtra
                            children: []
                            pos: 12922
                            length: 16
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 12942
                            length: 4
                        children: []
                        pos: 12922
                        length: 24
                    children: []
                    pos: 12921
                    length: 26
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: throw new java.util.NoSuchElementException();
                    children: []
                    pos: 12962
                    length: 45
                  pos: 12948
                  length: 69
                pos: 12918
                length: 99
              - type: expression_statement
                fields:
                  text: unparseableExtra = null;
                children: []
                pos: 13026
                length: 24
              - type: expression_statement
                fields:
                  text: setExtra();
                children: []
                pos: 13059
                length: 11
              pos: 12908
              length: 168
          children: []
          pos: 12862
          length: 214
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getExtraField
              children: []
              pos: 13220
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: ZipShort type
                children: []
                pos: 13234
                length: 13
              pos: 13199
              length: 165
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: extraFields
                            children: []
                            pos: 13263
                            length: 11
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 13278
                            length: 4
                        children: []
                        pos: 13263
                        length: 19
                    children: []
                    pos: 13262
                    length: 21
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return extraFields.get(type);
                    children: []
                    pos: 13298
                    length: 29
                  pos: 13284
                  length: 53
                pos: 13259
                length: 78
              - type: return_statement
                fields:
                  text: return null;
                children: []
                pos: 13346
                length: 12
              pos: 13249
              length: 115
          children: []
          pos: 13199
          length: 165
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getUnparseableExtraFieldData
              children: []
              pos: 13564
              length: 28
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 13531
              length: 104
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return unparseableExtra;
                children: []
                pos: 13605
                length: 24
              pos: 13595
              length: 40
          children: []
          pos: 13531
          length: 104
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setExtra
              children: []
              pos: 14003
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: byte[] extra
                children: []
                pos: 14012
                length: 12
              pos: 13977
              length: 585
            body:
              type: block
              fields: {}
              children:
              - type: try_statement
                fields:
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: local_variable_declaration
                      fields:
                        text: |-
                          ZipExtraField[] local =
                                          ExtraFieldUtils.parse(extra, true,
                                                                ExtraFieldUtils.UnparseableExtraField.READ);
                      children: []
                      pos: 14078
                      length: 157
                    - type: expression_statement
                      fields:
                        text: mergeExtraFields(local, true);
                      children: []
                      pos: 14248
                      length: 30
                    pos: 14064
                    length: 224
                  excepts:
                    type: excepts
                    fields: {}
                    children:
                    - type: catch_clause
                      fields:
                        text: |-
                          catch (ZipException e) {
                                      // actually this is not possible as of Commons Compress 1.1
                                      throw new RuntimeException("Error parsing extra fields for entry: "
                                                                 + getName() + " - " + e.getMessage(), e);
                                  }
                      children: []
                      pos: 14289
                      length: 267
                    pos: 14060
                    length: 496
                children: []
                pos: 14060
                length: 496
              pos: 14050
              length: 512
          children: []
          pos: 13977
          length: 585
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setExtra
              children: []
              pos: 14829
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 14814
              length: 119
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: super.setExtra(ExtraFieldUtils.mergeLocalFileDataData(getExtraFields(true)));
                children: []
                pos: 14850
                length: 77
              pos: 14840
              length: 93
          children: []
          pos: 14814
          length: 119
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setCentralDirectoryExtra
              children: []
              pos: 15023
              length: 24
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: byte[] b
                children: []
                pos: 15048
                length: 8
              pos: 15011
              length: 387
            body:
              type: block
              fields: {}
              children:
              - type: try_statement
                fields:
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: local_variable_declaration
                      fields:
                        text: |-
                          ZipExtraField[] central =
                                          ExtraFieldUtils.parse(b, false,
                                                                ExtraFieldUtils.UnparseableExtraField.READ);
                      children: []
                      pos: 15086
                      length: 156
                    - type: expression_statement
                      fields:
                        text: mergeExtraFields(central, false);
                      children: []
                      pos: 15255
                      length: 33
                    pos: 15072
                    length: 226
                  excepts:
                    type: excepts
                    fields: {}
                    children:
                    - type: catch_clause
                      fields:
                        text: |-
                          catch (ZipException e) {
                                      throw new RuntimeException(e.getMessage(), e);
                                  }
                      children: []
                      pos: 15299
                      length: 93
                    pos: 15068
                    length: 324
                children: []
                pos: 15068
                length: 324
              pos: 15058
              length: 340
          children: []
          pos: 15011
          length: 387
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getLocalFileDataExtra
              children: []
              pos: 15536
              length: 21
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 15522
              length: 132
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: byte[] extra = getExtra();
                children: []
                pos: 15570
                length: 26
              - type: return_statement
                fields:
                  text: 'return extra != null ? extra : new byte[0];'
                children: []
                pos: 15605
                length: 43
              pos: 15560
              length: 94
          children: []
          pos: 15522
          length: 132
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getCentralDirectoryExtra
              children: []
              pos: 15797
              length: 24
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 15783
              length: 128
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return ExtraFieldUtils.mergeCentralDirectoryData(getExtraFields(true));
                children: []
                pos: 15834
                length: 71
              pos: 15824
              length: 87
          children: []
          pos: 15783
          length: 128
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getName
              children: []
              pos: 16025
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 15997
              length: 99
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: 'return name == null ? super.getName() : name;'
                children: []
                pos: 16045
                length: 45
              pos: 16035
              length: 61
          children: []
          pos: 15997
          length: 99
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isDirectory
              children: []
              pos: 16229
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 16200
              length: 90
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getName().endsWith("/");
                children: []
                pos: 16253
                length: 31
              pos: 16243
              length: 47
          children: []
          pos: 16200
          length: 90
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setName
              children: []
              pos: 16396
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String name
                children: []
                pos: 16404
                length: 11
              pos: 16381
              length: 223
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: and
                        fields:
                          left:
                            type: and
                            fields:
                              left:
                                type: not_equals
                                fields:
                                  left:
                                    type: identifier
                                    fields:
                                      text: name
                                    children: []
                                    pos: 16431
                                    length: 4
                                  right:
                                    type: null_literal
                                    fields: {}
                                    children: []
                                    pos: 16439
                                    length: 4
                                children: []
                                pos: 16431
                                length: 12
                              right:
                                type: equals
                                fields:
                                  left:
                                    type: method_invocation
                                    fields:
                                      text: getPlatform()
                                    children: []
                                    pos: 16447
                                    length: 13
                                  right:
                                    type: identifier
                                    fields:
                                      text: PLATFORM_FAT
                                    children: []
                                    pos: 16464
                                    length: 12
                                children: []
                                pos: 16447
                                length: 29
                            children: []
                            pos: 16431
                            length: 45
                          right:
                            type: equals
                            fields:
                              left:
                                type: method_invocation
                                fields:
                                  text: name.indexOf("/")
                                children: []
                                pos: 16492
                                length: 17
                              right:
                                type: unary_expression
                                fields:
                                  text: "-1"
                                children: []
                                pos: 16513
                                length: 2
                            children: []
                            pos: 16492
                            length: 23
                        children: []
                        pos: 16431
                        length: 84
                    children: []
                    pos: 16430
                    length: 86
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: name = name.replace('\\', '/');
                    children: []
                    pos: 16531
                    length: 31
                  pos: 16517
                  length: 55
                pos: 16427
                length: 145
              - type: expression_statement
                fields:
                  text: this.name = name;
                children: []
                pos: 16581
                length: 17
              pos: 16417
              length: 187
          children: []
          pos: 16381
          length: 223
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getSize
              children: []
              pos: 16735
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 16709
              length: 64
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return size;
                children: []
                pos: 16755
                length: 12
              pos: 16745
              length: 28
          children: []
          pos: 16709
          length: 64
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setSize
              children: []
              pos: 17022
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: long size
                children: []
                pos: 17030
                length: 9
              pos: 16996
              length: 182
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: less_than
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: size
                            children: []
                            pos: 17055
                            length: 4
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '0'
                            children: []
                            pos: 17062
                            length: 1
                        children: []
                        pos: 17055
                        length: 8
                    children: []
                    pos: 17054
                    length: 10
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: throw new IllegalArgumentException("invalid entry size");
                    children: []
                    pos: 17079
                    length: 57
                  pos: 17065
                  length: 81
                pos: 17051
                length: 95
              - type: expression_statement
                fields:
                  text: this.size = size;
                children: []
                pos: 17155
                length: 17
              pos: 17041
              length: 137
          children: []
          pos: 16996
          length: 182
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setName
              children: []
              pos: 17548
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String name
                children: []
                pos: 17556
                length: 11
              pos: 17533
              length: 114
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: setName(name);
                children: []
                pos: 17595
                length: 14
              - type: expression_statement
                fields:
                  text: this.rawName = rawName;
                children: []
                pos: 17618
                length: 23
              pos: 17585
              length: 62
          children: []
          pos: 17533
          length: 114
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getRawName
              children: []
              pos: 17946
              length: 10
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 17932
              length: 231
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: rawName
                            children: []
                            pos: 17973
                            length: 7
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 17984
                            length: 4
                        children: []
                        pos: 17973
                        length: 15
                    children: []
                    pos: 17972
                    length: 17
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: byte[] b = new byte[rawName.length];
                    children: []
                    pos: 18004
                    length: 36
                  - type: expression_statement
                    fields:
                      text: System.arraycopy(rawName, 0, b, 0, rawName.length);
                    children: []
                    pos: 18053
                    length: 51
                  - type: return_statement
                    fields:
                      text: return b;
                    children: []
                    pos: 18117
                    length: 9
                  pos: 17990
                  length: 146
                pos: 17969
                length: 167
              - type: return_statement
                fields:
                  text: return null;
                children: []
                pos: 18145
                length: 12
              pos: 17959
              length: 204
          children: []
          pos: 17932
          length: 231
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: hashCode
              children: []
              pos: 18318
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 18293
              length: 387
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getName().hashCode();
                children: []
                pos: 18646
                length: 28
              pos: 18329
              length: 351
          children: []
          pos: 18293
          length: 387
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getGeneralPurposeBit
              children: []
              pos: 18785
              length: 20
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 18760
              length: 75
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return gpb;
                children: []
                pos: 18818
                length: 11
              pos: 18808
              length: 27
          children: []
          pos: 18760
          length: 75
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setGeneralPurposeBit
              children: []
              pos: 18927
              length: 20
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: GeneralPurposeBit b
                children: []
                pos: 18948
                length: 19
              pos: 18915
              length: 78
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: gpb = b;
                children: []
                pos: 18979
                length: 8
              pos: 18969
              length: 24
          children: []
          pos: 18915
          length: 78
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: mergeExtraFields
              children: []
              pos: 19363
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: ZipExtraField[] f
                children: []
                pos: 19380
                length: 17
              pos: 19350
              length: 1046
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: extraFields
                            children: []
                            pos: 19456
                            length: 11
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 19471
                            length: 4
                        children: []
                        pos: 19456
                        length: 19
                    children: []
                    pos: 19455
                    length: 21
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: setExtraFields(f);
                    children: []
                    pos: 19491
                    length: 18
                  pos: 19477
                  length: 42
                pos: 19452
                length: 938
              pos: 19442
              length: 954
          children: []
          pos: 19350
          length: 1046
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getLastModifiedDate
              children: []
              pos: 20439
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 20427
              length: 77
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return new Date(getTime());
                children: []
                pos: 20471
                length: 27
              pos: 20461
              length: 43
          children: []
          pos: 20427
          length: 77
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: equals
              children: []
              pos: 20622
              length: 6
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Object obj
                children: []
                pos: 20629
                length: 10
              pos: 20593
              length: 1536
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: this
                            fields: {}
                            children: []
                            pos: 20655
                            length: 4
                          right:
                            type: identifier
                            fields:
                              text: obj
                            children: []
                            pos: 20663
                            length: 3
                        children: []
                        pos: 20655
                        length: 11
                    children: []
                    pos: 20654
                    length: 13
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return true;
                    children: []
                    pos: 20682
                    length: 12
                  pos: 20668
                  length: 36
                pos: 20651
                length: 53
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: obj
                                children: []
                                pos: 20717
                                length: 3
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 20724
                                length: 4
                            children: []
                            pos: 20717
                            length: 11
                          right:
                            type: not_equals
                            fields:
                              left:
                                type: method_invocation
                                fields:
                                  text: getClass()
                                children: []
                                pos: 20732
                                length: 10
                              right:
                                type: method_invocation
                                fields:
                                  text: obj.getClass()
                                children: []
                                pos: 20746
                                length: 14
                            children: []
                            pos: 20732
                            length: 28
                        children: []
                        pos: 20717
                        length: 43
                    children: []
                    pos: 20716
                    length: 45
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return false;
                    children: []
                    pos: 20776
                    length: 13
                  pos: 20762
                  length: 37
                pos: 20713
                length: 86
              - type: local_variable_declaration
                fields:
                  text: ZipArchiveEntry other = (ZipArchiveEntry) obj;
                children: []
                pos: 20808
                length: 46
              - type: local_variable_declaration
                fields:
                  text: String myName = getName();
                children: []
                pos: 20863
                length: 26
              - type: local_variable_declaration
                fields:
                  text: String otherName = other.getName();
                children: []
                pos: 20898
                length: 35
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: myName
                            children: []
                            pos: 20946
                            length: 6
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 20956
                            length: 4
                        children: []
                        pos: 20946
                        length: 14
                    children: []
                    pos: 20945
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: not_equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: otherName
                                children: []
                                pos: 20980
                                length: 9
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 20993
                                length: 4
                            children: []
                            pos: 20980
                            length: 17
                        children: []
                        pos: 20979
                        length: 19
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: return_statement
                        fields:
                          text: return false;
                        children: []
                        pos: 21017
                        length: 13
                      pos: 20999
                      length: 45
                    pos: 20976
                    length: 68
                  pos: 20962
                  length: 92
                pos: 20942
                length: 186
              - type: local_variable_declaration
                fields:
                  text: String myComment = getComment();
                children: []
                pos: 21137
                length: 32
              - type: local_variable_declaration
                fields:
                  text: String otherComment = other.getComment();
                children: []
                pos: 21178
                length: 41
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: myComment
                            children: []
                            pos: 21232
                            length: 9
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 21245
                            length: 4
                        children: []
                        pos: 21232
                        length: 17
                    children: []
                    pos: 21231
                    length: 19
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: myComment = "";
                    children: []
                    pos: 21265
                    length: 15
                  pos: 21251
                  length: 39
                pos: 21228
                length: 62
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: otherComment
                            children: []
                            pos: 21303
                            length: 12
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 21319
                            length: 4
                        children: []
                        pos: 21303
                        length: 20
                    children: []
                    pos: 21302
                    length: 22
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: otherComment = "";
                    children: []
                    pos: 21339
                    length: 18
                  pos: 21325
                  length: 42
                pos: 21299
                length: 68
              - type: return_statement
                fields:
                  text: |-
                    return getTime() == other.getTime()
                                && myComment.equals(otherComment)
                                && getInternalAttributes() == other.getInternalAttributes()
                                && getPlatform() == other.getPlatform()
                                && getExternalAttributes() == other.getExternalAttributes()
                                && getMethod() == other.getMethod()
                                && getSize() == other.getSize()
                                && getCrc() == other.getCrc()
                                && getCompressedSize() == other.getCompressedSize()
                                && Arrays.equals(getCentralDirectoryExtra(),
                                                 other.getCentralDirectoryExtra())
                                && Arrays.equals(getLocalFileDataExtra(),
                                                 other.getLocalFileDataExtra())
                                && gpb.equals(other.gpb);
                children: []
                pos: 21376
                length: 747
              pos: 20641
              length: 1488
          children: []
          pos: 20593
          length: 1536
        pos: 2028
        length: 20103
    children: []
    pos: 2028
    length: 20103
  pos: 0
  length: 22132
after_tree:
  type: program
  fields: {}
  children:
  - type: class_declaration
    fields:
      name:
        type: identifier
        fields:
          text: ZipArchiveEntry
        children: []
        pos: 2041
        length: 15
      body:
        type: class_body
        fields: {}
        children:
        - type: field_declaration
          fields:
            text: public static final int PLATFORM_UNIX = 3;
          children: []
          pos: 2123
          length: 42
        - type: field_declaration
          fields:
            text: public static final int PLATFORM_FAT  = 0;
          children: []
          pos: 2170
          length: 42
        - type: field_declaration
          fields:
            text: private static final int SHORT_MASK = 0xFFFF;
          children: []
          pos: 2217
          length: 45
        - type: field_declaration
          fields:
            text: private static final int SHORT_SHIFT = 16;
          children: []
          pos: 2267
          length: 42
        - type: field_declaration
          fields:
            text: private int method = -1;
          children: []
          pos: 2719
          length: 24
        - type: field_declaration
          fields:
            text: private long size = SIZE_UNKNOWN;
          children: []
          pos: 3008
          length: 33
        - type: field_declaration
          fields:
            text: private int internalAttributes = 0;
          children: []
          pos: 3047
          length: 35
        - type: field_declaration
          fields:
            text: private int platform = PLATFORM_FAT;
          children: []
          pos: 3087
          length: 36
        - type: field_declaration
          fields:
            text: private long externalAttributes = 0;
          children: []
          pos: 3128
          length: 36
        - type: field_declaration
          fields:
            text: private LinkedHashMap<ZipShort, ZipExtraField> extraFields = null;
          children: []
          pos: 3169
          length: 66
        - type: field_declaration
          fields:
            text: private UnparseableExtraFieldData unparseableExtra = null;
          children: []
          pos: 3240
          length: 58
        - type: field_declaration
          fields:
            text: private String name = null;
          children: []
          pos: 3303
          length: 27
        - type: field_declaration
          fields:
            text: private byte[] rawName = null;
          children: []
          pos: 3335
          length: 30
        - type: field_declaration
          fields:
            text: private GeneralPurposeBit gpb = new GeneralPurposeBit();
          children: []
          pos: 3370
          length: 56
        - type: constructor_declaration
          fields:
            text: |-
              public ZipArchiveEntry(String name) {
                      super(name);
                      setName(name);
                  }
          children: []
          pos: 3676
          length: 87
        - type: constructor_declaration
          fields:
            text: |-
              public ZipArchiveEntry(java.util.zip.ZipEntry entry) throws ZipException {
                      super(entry);
                      setName(entry.getName());
                      byte[] extra = entry.getExtra();
                      if (extra != null) {
                          setExtraFields(ExtraFieldUtils.parse(extra, true,
                                                               ExtraFieldUtils
                                                               .UnparseableExtraField.READ));
                      } else {
                          // initializes extra data to an empty byte array
                          setExtra();
                      }
                      setMethod(entry.getMethod());
                      this.size = entry.getSize();
                  }
          children: []
          pos: 4081
          length: 600
        - type: constructor_declaration
          fields:
            text: |-
              public ZipArchiveEntry(ZipArchiveEntry entry) throws ZipException {
                      this((java.util.zip.ZipEntry) entry);
                      setInternalAttributes(entry.getInternalAttributes());
                      setExternalAttributes(entry.getExternalAttributes());
                      setExtraFields(entry.getExtraFields(true));
                  }
          children: []
          pos: 4999
          length: 295
        - type: constructor_declaration
          fields:
            text: |-
              protected ZipArchiveEntry() {
                      this("");
                  }
          children: []
          pos: 5316
          length: 53
        - type: constructor_declaration
          fields:
            text: "public ZipArchiveEntry(File inputFile, String entryName) {\n        this(inputFile.isDirectory()
              && !entryName.endsWith(\"/\") ? \n             entryName + \"/\" : entryName);\n
              \       if (inputFile.isFile()){\n            setSize(inputFile.length());\n
              \       }\n        setTime(inputFile.lastModified());\n        // TODO
              are there any other fields we can set here?\n    }"
          children: []
          pos: 5735
          length: 362
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: clone
              children: []
              pos: 6224
              length: 5
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 6196
              length: 287
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: ZipArchiveEntry e = (ZipArchiveEntry) super.clone();
                children: []
                pos: 6242
                length: 52
              - type: expression_statement
                fields:
                  text: e.setInternalAttributes(getInternalAttributes());
                children: []
                pos: 6304
                length: 49
              - type: expression_statement
                fields:
                  text: e.setExternalAttributes(getExternalAttributes());
                children: []
                pos: 6362
                length: 49
              - type: expression_statement
                fields:
                  text: e.setExtraFields(getExtraFields(true));
                children: []
                pos: 6420
                length: 39
              - type: return_statement
                fields:
                  text: return e;
                children: []
                pos: 6468
                length: 9
              pos: 6232
              length: 251
          children: []
          pos: 6196
          length: 287
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getMethod
              children: []
              pos: 6712
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 6687
              length: 67
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return method;
                children: []
                pos: 6734
                length: 14
              pos: 6724
              length: 30
          children: []
          pos: 6687
          length: 67
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setMethod
              children: []
              pos: 6924
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: int method
                children: []
                pos: 6934
                length: 10
              pos: 6898
              length: 247
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: less_than
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: method
                            children: []
                            pos: 6960
                            length: 6
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '0'
                            children: []
                            pos: 6969
                            length: 1
                        children: []
                        pos: 6960
                        length: 10
                    children: []
                    pos: 6959
                    length: 12
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: |-
                        throw new IllegalArgumentException(
                                            "ZIP compression method can not be negative: " + method);
                    children: []
                    pos: 6986
                    length: 113
                  pos: 6972
                  length: 137
                pos: 6956
                length: 153
              - type: expression_statement
                fields:
                  text: this.method = method;
                children: []
                pos: 7118
                length: 21
              pos: 6946
              length: 199
          children: []
          pos: 6898
          length: 247
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getInternalAttributes
              children: []
              pos: 7276
              length: 21
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 7265
              length: 77
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return internalAttributes;
                children: []
                pos: 7310
                length: 26
              pos: 7300
              length: 42
          children: []
          pos: 7265
          length: 77
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setInternalAttributes
              children: []
              pos: 7464
              length: 21
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: int value
                children: []
                pos: 7486
                length: 9
              pos: 7452
              length: 88
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: internalAttributes = value;
                children: []
                pos: 7507
                length: 27
              pos: 7497
              length: 43
          children: []
          pos: 7452
          length: 88
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getExternalAttributes
              children: []
              pos: 7665
              length: 21
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 7653
              length: 78
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return externalAttributes;
                children: []
                pos: 7699
                length: 26
              pos: 7689
              length: 42
          children: []
          pos: 7653
          length: 78
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setExternalAttributes
              children: []
              pos: 7854
              length: 21
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: long value
                children: []
                pos: 7876
                length: 10
              pos: 7842
              length: 89
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: externalAttributes = value;
                children: []
                pos: 7898
                length: 27
              pos: 7888
              length: 43
          children: []
          pos: 7842
          length: 89
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setUnixMode
              children: []
              pos: 8103
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: int mode
                children: []
                pos: 8115
                length: 8
              pos: 8091
              length: 460
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: |-
                    setExternalAttributes((mode << SHORT_SHIFT)
                                                  // MS-DOS read-only attribute
                                                  | ((mode & 0200) == 0 ? 1 : 0)
                                                  // MS-DOS directory flag
                                                  | (isDirectory() ? 0x10 : 0));
                children: []
                pos: 8189
                length: 280
              - type: expression_statement
                fields:
                  text: platform = PLATFORM_UNIX;
                children: []
                pos: 8520
                length: 25
              pos: 8125
              length: 426
          children: []
          pos: 8091
          length: 460
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getUnixMode
              children: []
              pos: 8644
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 8633
              length: 154
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return platform != PLATFORM_UNIX ? 0 :
                                (int) ((getExternalAttributes() >> SHORT_SHIFT) & SHORT_MASK);
                children: []
                pos: 8668
                length: 113
              pos: 8658
              length: 129
          children: []
          pos: 8633
          length: 154
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getPlatform
              children: []
              pos: 9078
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 9067
              length: 57
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return platform;
                children: []
                pos: 9102
                length: 16
              pos: 9092
              length: 32
          children: []
          pos: 9067
          length: 57
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setPlatform
              children: []
              pos: 9271
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: int platform
                children: []
                pos: 9283
                length: 12
              pos: 9256
              length: 82
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: this.platform = platform;
                children: []
                pos: 9307
                length: 25
              pos: 9297
              length: 41
          children: []
          pos: 9256
          length: 82
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setExtraFields
              children: []
              pos: 9490
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: ZipExtraField[] fields
                children: []
                pos: 9505
                length: 22
              pos: 9478
              length: 429
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: extraFields = new LinkedHashMap<ZipShort, ZipExtraField>();
                children: []
                pos: 9539
                length: 59
              - type: enhanced_for_statement
                fields:
                  text: |-
                    for (ZipExtraField field : fields) {
                                if (field instanceof UnparseableExtraFieldData) {
                                    unparseableExtra = (UnparseableExtraFieldData) field;
                                } else {
                                    extraFields.put(field.getHeaderId(), field);
                                }
                            }
                children: []
                pos: 9607
                length: 274
              - type: expression_statement
                fields:
                  text: setExtra();
                children: []
                pos: 9890
                length: 11
              pos: 9529
              length: 378
          children: []
          pos: 9478
          length: 429
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getExtraFields
              children: []
              pos: 10066
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 10043
              length: 85
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getExtraFields(false);
                children: []
                pos: 10093
                length: 29
              pos: 10083
              length: 45
          children: []
          pos: 10043
          length: 85
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getExtraFields
              children: []
              pos: 10426
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: boolean includeUnparseable
                children: []
                pos: 10441
                length: 26
              pos: 10403
              length: 552
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: extraFields
                            children: []
                            pos: 10483
                            length: 11
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 10498
                            length: 4
                        children: []
                        pos: 10483
                        length: 19
                    children: []
                    pos: 10482
                    length: 21
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: |-
                        return !includeUnparseable || unparseableExtra == null
                                        ? new ZipExtraField[0]
                                        : new ZipExtraField[] { unparseableExtra };
                    children: []
                    pos: 10518
                    length: 153
                  pos: 10504
                  length: 177
                pos: 10479
                length: 202
              - type: local_variable_declaration
                fields:
                  text: |-
                    List<ZipExtraField> result =
                                new ArrayList<ZipExtraField>(extraFields.values());
                children: []
                pos: 10690
                length: 92
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: and
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: includeUnparseable
                            children: []
                            pos: 10795
                            length: 18
                          right:
                            type: not_equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: unparseableExtra
                                children: []
                                pos: 10817
                                length: 16
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 10837
                                length: 4
                            children: []
                            pos: 10817
                            length: 24
                        children: []
                        pos: 10795
                        length: 46
                    children: []
                    pos: 10794
                    length: 48
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: result.add(unparseableExtra);
                    children: []
                    pos: 10857
                    length: 29
                  pos: 10843
                  length: 53
                pos: 10791
                length: 105
              - type: return_statement
                fields:
                  text: return result.toArray(new ZipExtraField[0]);
                children: []
                pos: 10905
                length: 44
              pos: 10469
              length: 486
          children: []
          pos: 10403
          length: 552
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: addExtraField
              children: []
              pos: 11226
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: ZipExtraField ze
                children: []
                pos: 11240
                length: 16
              pos: 11214
              length: 396
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: instanceof_expression
                        fields:
                          text: ze instanceof UnparseableExtraFieldData
                        children: []
                        pos: 11272
                        length: 39
                    children: []
                    pos: 11271
                    length: 41
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: unparseableExtra = (UnparseableExtraFieldData) ze;
                    children: []
                    pos: 11327
                    length: 50
                  pos: 11313
                  length: 74
                pos: 11268
                length: 316
              - type: expression_statement
                fields:
                  text: setExtra();
                children: []
                pos: 11593
                length: 11
              pos: 11258
              length: 352
          children: []
          pos: 11214
          length: 396
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: addAsFirstExtraField
              children: []
              pos: 11835
              length: 20
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: ZipExtraField ze
                children: []
                pos: 11856
                length: 16
              pos: 11823
              length: 552
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: instanceof_expression
                        fields:
                          text: ze instanceof UnparseableExtraFieldData
                        children: []
                        pos: 11888
                        length: 39
                    children: []
                    pos: 11887
                    length: 41
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: unparseableExtra = (UnparseableExtraFieldData) ze;
                    children: []
                    pos: 11943
                    length: 50
                  pos: 11929
                  length: 74
                pos: 11884
                length: 465
              - type: expression_statement
                fields:
                  text: setExtra();
                children: []
                pos: 12358
                length: 11
              pos: 11874
              length: 501
          children: []
          pos: 11823
          length: 552
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: removeExtraField
              children: []
              pos: 12492
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: ZipShort type
                children: []
                pos: 12509
                length: 13
              pos: 12480
              length: 290
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: extraFields
                            children: []
                            pos: 12538
                            length: 11
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 12553
                            length: 4
                        children: []
                        pos: 12538
                        length: 19
                    children: []
                    pos: 12537
                    length: 21
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: throw new java.util.NoSuchElementException();
                    children: []
                    pos: 12573
                    length: 45
                  pos: 12559
                  length: 69
                pos: 12534
                length: 94
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: method_invocation
                            fields:
                              text: extraFields.remove(type)
                            children: []
                            pos: 12641
                            length: 24
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 12669
                            length: 4
                        children: []
                        pos: 12641
                        length: 32
                    children: []
                    pos: 12640
                    length: 34
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: throw new java.util.NoSuchElementException();
                    children: []
                    pos: 12689
                    length: 45
                  pos: 12675
                  length: 69
                pos: 12637
                length: 107
              - type: expression_statement
                fields:
                  text: setExtra();
                children: []
                pos: 12753
                length: 11
              pos: 12524
              length: 246
          children: []
          pos: 12480
          length: 290
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: removeUnparseableExtraFieldData
              children: []
              pos: 12874
              length: 31
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 12862
              length: 214
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: unparseableExtra
                            children: []
                            pos: 12922
                            length: 16
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 12942
                            length: 4
                        children: []
                        pos: 12922
                        length: 24
                    children: []
                    pos: 12921
                    length: 26
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: throw new java.util.NoSuchElementException();
                    children: []
                    pos: 12962
                    length: 45
                  pos: 12948
                  length: 69
                pos: 12918
                length: 99
              - type: expression_statement
                fields:
                  text: unparseableExtra = null;
                children: []
                pos: 13026
                length: 24
              - type: expression_statement
                fields:
                  text: setExtra();
                children: []
                pos: 13059
                length: 11
              pos: 12908
              length: 168
          children: []
          pos: 12862
          length: 214
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getExtraField
              children: []
              pos: 13220
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: ZipShort type
                children: []
                pos: 13234
                length: 13
              pos: 13199
              length: 165
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: extraFields
                            children: []
                            pos: 13263
                            length: 11
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 13278
                            length: 4
                        children: []
                        pos: 13263
                        length: 19
                    children: []
                    pos: 13262
                    length: 21
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return extraFields.get(type);
                    children: []
                    pos: 13298
                    length: 29
                  pos: 13284
                  length: 53
                pos: 13259
                length: 78
              - type: return_statement
                fields:
                  text: return null;
                children: []
                pos: 13346
                length: 12
              pos: 13249
              length: 115
          children: []
          pos: 13199
          length: 165
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getUnparseableExtraFieldData
              children: []
              pos: 13564
              length: 28
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 13531
              length: 104
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return unparseableExtra;
                children: []
                pos: 13605
                length: 24
              pos: 13595
              length: 40
          children: []
          pos: 13531
          length: 104
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setExtra
              children: []
              pos: 14003
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: byte[] extra
                children: []
                pos: 14012
                length: 12
              pos: 13977
              length: 585
            body:
              type: block
              fields: {}
              children:
              - type: try_statement
                fields:
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: local_variable_declaration
                      fields:
                        text: |-
                          ZipExtraField[] local =
                                          ExtraFieldUtils.parse(extra, true,
                                                                ExtraFieldUtils.UnparseableExtraField.READ);
                      children: []
                      pos: 14078
                      length: 157
                    - type: expression_statement
                      fields:
                        text: mergeExtraFields(local, true);
                      children: []
                      pos: 14248
                      length: 30
                    pos: 14064
                    length: 224
                  excepts:
                    type: excepts
                    fields: {}
                    children:
                    - type: catch_clause
                      fields:
                        text: |-
                          catch (ZipException e) {
                                      // actually this is not possible as of Commons Compress 1.1
                                      throw new RuntimeException("Error parsing extra fields for entry: "
                                                                 + getName() + " - " + e.getMessage(), e);
                                  }
                      children: []
                      pos: 14289
                      length: 267
                    pos: 14060
                    length: 496
                children: []
                pos: 14060
                length: 496
              pos: 14050
              length: 512
          children: []
          pos: 13977
          length: 585
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setExtra
              children: []
              pos: 14829
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 14814
              length: 119
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: super.setExtra(ExtraFieldUtils.mergeLocalFileDataData(getExtraFields(true)));
                children: []
                pos: 14850
                length: 77
              pos: 14840
              length: 93
          children: []
          pos: 14814
          length: 119
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setCentralDirectoryExtra
              children: []
              pos: 15023
              length: 24
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: byte[] b
                children: []
                pos: 15048
                length: 8
              pos: 15011
              length: 387
            body:
              type: block
              fields: {}
              children:
              - type: try_statement
                fields:
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: local_variable_declaration
                      fields:
                        text: |-
                          ZipExtraField[] central =
                                          ExtraFieldUtils.parse(b, false,
                                                                ExtraFieldUtils.UnparseableExtraField.READ);
                      children: []
                      pos: 15086
                      length: 156
                    - type: expression_statement
                      fields:
                        text: mergeExtraFields(central, false);
                      children: []
                      pos: 15255
                      length: 33
                    pos: 15072
                    length: 226
                  excepts:
                    type: excepts
                    fields: {}
                    children:
                    - type: catch_clause
                      fields:
                        text: |-
                          catch (ZipException e) {
                                      throw new RuntimeException(e.getMessage(), e);
                                  }
                      children: []
                      pos: 15299
                      length: 93
                    pos: 15068
                    length: 324
                children: []
                pos: 15068
                length: 324
              pos: 15058
              length: 340
          children: []
          pos: 15011
          length: 387
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getLocalFileDataExtra
              children: []
              pos: 15536
              length: 21
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 15522
              length: 132
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: byte[] extra = getExtra();
                children: []
                pos: 15570
                length: 26
              - type: return_statement
                fields:
                  text: 'return extra != null ? extra : new byte[0];'
                children: []
                pos: 15605
                length: 43
              pos: 15560
              length: 94
          children: []
          pos: 15522
          length: 132
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getCentralDirectoryExtra
              children: []
              pos: 15797
              length: 24
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 15783
              length: 128
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return ExtraFieldUtils.mergeCentralDirectoryData(getExtraFields(true));
                children: []
                pos: 15834
                length: 71
              pos: 15824
              length: 87
          children: []
          pos: 15783
          length: 128
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getName
              children: []
              pos: 16025
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 15997
              length: 99
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: 'return name == null ? super.getName() : name;'
                children: []
                pos: 16045
                length: 45
              pos: 16035
              length: 61
          children: []
          pos: 15997
          length: 99
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isDirectory
              children: []
              pos: 16229
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 16200
              length: 90
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getName().endsWith("/");
                children: []
                pos: 16253
                length: 31
              pos: 16243
              length: 47
          children: []
          pos: 16200
          length: 90
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setName
              children: []
              pos: 16396
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String name
                children: []
                pos: 16404
                length: 11
              pos: 16381
              length: 223
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: and
                        fields:
                          left:
                            type: and
                            fields:
                              left:
                                type: not_equals
                                fields:
                                  left:
                                    type: identifier
                                    fields:
                                      text: name
                                    children: []
                                    pos: 16431
                                    length: 4
                                  right:
                                    type: null_literal
                                    fields: {}
                                    children: []
                                    pos: 16439
                                    length: 4
                                children: []
                                pos: 16431
                                length: 12
                              right:
                                type: equals
                                fields:
                                  left:
                                    type: method_invocation
                                    fields:
                                      text: getPlatform()
                                    children: []
                                    pos: 16447
                                    length: 13
                                  right:
                                    type: identifier
                                    fields:
                                      text: PLATFORM_FAT
                                    children: []
                                    pos: 16464
                                    length: 12
                                children: []
                                pos: 16447
                                length: 29
                            children: []
                            pos: 16431
                            length: 45
                          right:
                            type: equals
                            fields:
                              left:
                                type: method_invocation
                                fields:
                                  text: name.indexOf("/")
                                children: []
                                pos: 16492
                                length: 17
                              right:
                                type: unary_expression
                                fields:
                                  text: "-1"
                                children: []
                                pos: 16513
                                length: 2
                            children: []
                            pos: 16492
                            length: 23
                        children: []
                        pos: 16431
                        length: 84
                    children: []
                    pos: 16430
                    length: 86
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: name = name.replace('\\', '/');
                    children: []
                    pos: 16531
                    length: 31
                  pos: 16517
                  length: 55
                pos: 16427
                length: 145
              - type: expression_statement
                fields:
                  text: this.name = name;
                children: []
                pos: 16581
                length: 17
              pos: 16417
              length: 187
          children: []
          pos: 16381
          length: 223
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getSize
              children: []
              pos: 16735
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 16709
              length: 64
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return size;
                children: []
                pos: 16755
                length: 12
              pos: 16745
              length: 28
          children: []
          pos: 16709
          length: 64
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setSize
              children: []
              pos: 17022
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: long size
                children: []
                pos: 17030
                length: 9
              pos: 16996
              length: 182
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: less_than
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: size
                            children: []
                            pos: 17055
                            length: 4
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '0'
                            children: []
                            pos: 17062
                            length: 1
                        children: []
                        pos: 17055
                        length: 8
                    children: []
                    pos: 17054
                    length: 10
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: throw new IllegalArgumentException("invalid entry size");
                    children: []
                    pos: 17079
                    length: 57
                  pos: 17065
                  length: 81
                pos: 17051
                length: 95
              - type: expression_statement
                fields:
                  text: this.size = size;
                children: []
                pos: 17155
                length: 17
              pos: 17041
              length: 137
          children: []
          pos: 16996
          length: 182
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setName
              children: []
              pos: 17548
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String name
                children: []
                pos: 17556
                length: 11
              pos: 17533
              length: 114
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: setName(name);
                children: []
                pos: 17595
                length: 14
              - type: expression_statement
                fields:
                  text: this.rawName = rawName;
                children: []
                pos: 17618
                length: 23
              pos: 17585
              length: 62
          children: []
          pos: 17533
          length: 114
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getRawName
              children: []
              pos: 17946
              length: 10
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 17932
              length: 231
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: rawName
                            children: []
                            pos: 17973
                            length: 7
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 17984
                            length: 4
                        children: []
                        pos: 17973
                        length: 15
                    children: []
                    pos: 17972
                    length: 17
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: byte[] b = new byte[rawName.length];
                    children: []
                    pos: 18004
                    length: 36
                  - type: expression_statement
                    fields:
                      text: System.arraycopy(rawName, 0, b, 0, rawName.length);
                    children: []
                    pos: 18053
                    length: 51
                  - type: return_statement
                    fields:
                      text: return b;
                    children: []
                    pos: 18117
                    length: 9
                  pos: 17990
                  length: 146
                pos: 17969
                length: 167
              - type: return_statement
                fields:
                  text: return null;
                children: []
                pos: 18145
                length: 12
              pos: 17959
              length: 204
          children: []
          pos: 17932
          length: 231
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: hashCode
              children: []
              pos: 18318
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 18293
              length: 387
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getName().hashCode();
                children: []
                pos: 18646
                length: 28
              pos: 18329
              length: 351
          children: []
          pos: 18293
          length: 387
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getGeneralPurposeBit
              children: []
              pos: 18785
              length: 20
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 18760
              length: 75
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return gpb;
                children: []
                pos: 18818
                length: 11
              pos: 18808
              length: 27
          children: []
          pos: 18760
          length: 75
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setGeneralPurposeBit
              children: []
              pos: 18927
              length: 20
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: GeneralPurposeBit b
                children: []
                pos: 18948
                length: 19
              pos: 18915
              length: 78
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: gpb = b;
                children: []
                pos: 18979
                length: 8
              pos: 18969
              length: 24
          children: []
          pos: 18915
          length: 78
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: mergeExtraFields
              children: []
              pos: 19363
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: ZipExtraField[] f
                children: []
                pos: 19380
                length: 17
              pos: 19350
              length: 1046
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: extraFields
                            children: []
                            pos: 19456
                            length: 11
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 19471
                            length: 4
                        children: []
                        pos: 19456
                        length: 19
                    children: []
                    pos: 19455
                    length: 21
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: setExtraFields(f);
                    children: []
                    pos: 19491
                    length: 18
                  pos: 19477
                  length: 42
                pos: 19452
                length: 938
              pos: 19442
              length: 954
          children: []
          pos: 19350
          length: 1046
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getLastModifiedDate
              children: []
              pos: 20439
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 20427
              length: 77
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return new Date(getTime());
                children: []
                pos: 20471
                length: 27
              pos: 20461
              length: 43
          children: []
          pos: 20427
          length: 77
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: equals
              children: []
              pos: 20622
              length: 6
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Object obj
                children: []
                pos: 20629
                length: 10
              pos: 20593
              length: 1549
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: this
                            fields: {}
                            children: []
                            pos: 20655
                            length: 4
                          right:
                            type: identifier
                            fields:
                              text: obj
                            children: []
                            pos: 20663
                            length: 3
                        children: []
                        pos: 20655
                        length: 11
                    children: []
                    pos: 20654
                    length: 13
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return true;
                    children: []
                    pos: 20682
                    length: 12
                  pos: 20668
                  length: 36
                pos: 20651
                length: 53
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: obj
                                children: []
                                pos: 20717
                                length: 3
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 20724
                                length: 4
                            children: []
                            pos: 20717
                            length: 11
                          right:
                            type: not_equals
                            fields:
                              left:
                                type: method_invocation
                                fields:
                                  text: getClass()
                                children: []
                                pos: 20732
                                length: 10
                              right:
                                type: method_invocation
                                fields:
                                  text: obj.getClass()
                                children: []
                                pos: 20746
                                length: 14
                            children: []
                            pos: 20732
                            length: 28
                        children: []
                        pos: 20717
                        length: 43
                    children: []
                    pos: 20716
                    length: 45
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return false;
                    children: []
                    pos: 20776
                    length: 13
                  pos: 20762
                  length: 37
                pos: 20713
                length: 86
              - type: local_variable_declaration
                fields:
                  text: ZipArchiveEntry other = (ZipArchiveEntry) obj;
                children: []
                pos: 20808
                length: 46
              - type: local_variable_declaration
                fields:
                  text: String myName = getName();
                children: []
                pos: 20863
                length: 26
              - type: local_variable_declaration
                fields:
                  text: String otherName = other.getName();
                children: []
                pos: 20898
                length: 35
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: myName
                            children: []
                            pos: 20946
                            length: 6
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 20956
                            length: 4
                        children: []
                        pos: 20946
                        length: 14
                    children: []
                    pos: 20945
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: not_equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: otherName
                                children: []
                                pos: 20980
                                length: 9
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 20993
                                length: 4
                            children: []
                            pos: 20980
                            length: 17
                        children: []
                        pos: 20979
                        length: 19
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: return_statement
                        fields:
                          text: return false;
                        children: []
                        pos: 21017
                        length: 13
                      pos: 20999
                      length: 45
                    pos: 20976
                    length: 68
                  pos: 20962
                  length: 92
                pos: 20942
                length: 186
              - type: local_variable_declaration
                fields:
                  text: String myComment = getComment();
                children: []
                pos: 21137
                length: 32
              - type: local_variable_declaration
                fields:
                  text: String otherComment = other.getComment();
                children: []
                pos: 21178
                length: 41
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: myComment
                            children: []
                            pos: 21232
                            length: 9
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 21245
                            length: 4
                        children: []
                        pos: 21232
                        length: 17
                    children: []
                    pos: 21231
                    length: 19
                children:
                - type: block
                  fields: {}
                  children:
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: not_equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: otherComment
                                children: []
                                pos: 21269
                                length: 12
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 21285
                                length: 4
                            children: []
                            pos: 21269
                            length: 20
                        children: []
                        pos: 21268
                        length: 22
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: return_statement
                        fields:
                          text: return false;
                        children: []
                        pos: 21309
                        length: 13
                      pos: 21291
                      length: 45
                    pos: 21265
                    length: 71
                  pos: 21251
                  length: 95
                pos: 21228
                length: 198
              - type: return_statement
                fields:
                  text: |-
                    return getTime() == other.getTime()
                                && getInternalAttributes() == other.getInternalAttributes()
                                && getPlatform() == other.getPlatform()
                                && getExternalAttributes() == other.getExternalAttributes()
                                && getMethod() == other.getMethod()
                                && getSize() == other.getSize()
                                && getCrc() == other.getCrc()
                                && getCompressedSize() == other.getCompressedSize()
                                && Arrays.equals(getCentralDirectoryExtra(),
                                                 other.getCentralDirectoryExtra())
                                && Arrays.equals(getLocalFileDataExtra(),
                                                 other.getLocalFileDataExtra())
                                && gpb.equals(other.gpb);
                children: []
                pos: 21435
                length: 701
              pos: 20641
              length: 1501
          children: []
          pos: 20593
          length: 1549
        pos: 2028
        length: 20116
    children: []
    pos: 2028
    length: 20116
  pos: 0
  length: 22145
text_diff: |
  --- before
  +++ after
  @@ -666,13 +666,13 @@
           String myComment = getComment();
           String otherComment = other.getComment();
           if (myComment == null) {
  -            myComment = "";
  -        }
  -        if (otherComment == null) {
  -            otherComment = "";
  +            if (otherComment != null) {
  +                return false;
  +            }
  +        } else if (!myComment.equals(otherComment)) {
  +            return false;
           }
           return getTime() == other.getTime()
  -            && myComment.equals(otherComment)
               && getInternalAttributes() == other.getInternalAttributes()
               && getPlatform() == other.getPlatform()
               && getExternalAttributes() == other.getExternalAttributes()
tree_diff: |+
  New cluster:
  UPDATE from return getTime() == other.getTime()
              && myComment.equals(otherComment)
              && getInternalAttributes() == other.getInternalAttributes()
              && getPlatform() == other.getPlatform()
              && getExternalAttributes() == other.getExternalAttributes()
              && getMethod() == other.getMethod()
              && getSize() == other.getSize()
              && getCrc() == other.getCrc()
              && getCompressedSize() == other.getCompressedSize()
              && Arrays.equals(getCentralDirectoryExtra(),
                               other.getCentralDirectoryExtra())
              && Arrays.equals(getLocalFileDataExtra(),
                               other.getLocalFileDataExtra())
              && gpb.equals(other.gpb); to return getTime() == other.getTime()
              && getInternalAttributes() == other.getInternalAttributes()
              && getPlatform() == other.getPlatform()
              && getExternalAttributes() == other.getExternalAttributes()
              && getMethod() == other.getMethod()
              && getSize() == other.getSize()
              && getCrc() == other.getCrc()
              && getCompressedSize() == other.getCompressedSize()
              && Arrays.equals(getCentralDirectoryExtra(),
                               other.getCentralDirectoryExtra())
              && Arrays.equals(getLocalFileDataExtra(),
                               other.getLocalFileDataExtra())
              && gpb.equals(other.gpb);
  ------------
  ===
  update-node
  ---
  return_statement: return getTime() == other.getTime()
              && myComment.equals(otherComment)
              && getInternalAttributes() == other.getInternalAttributes()
              && getPlatform() == other.getPlatform()
              && getExternalAttributes() == other.getExternalAttributes()
              && getMethod() == other.getMethod()
              && getSize() == other.getSize()
              && getCrc() == other.getCrc()
              && getCompressedSize() == other.getCompressedSize()
              && Arrays.equals(getCentralDirectoryExtra(),
                               other.getCentralDirectoryExtra())
              && Arrays.equals(getLocalFileDataExtra(),
                               other.getLocalFileDataExtra())
              && gpb.equals(other.gpb); [21376,22123]
  replace return getTime() == other.getTime()
              && myComment.equals(otherComment)
              && getInternalAttributes() == other.getInternalAttributes()
              && getPlatform() == other.getPlatform()
              && getExternalAttributes() == other.getExternalAttributes()
              && getMethod() == other.getMethod()
              && getSize() == other.getSize()
              && getCrc() == other.getCrc()
              && getCompressedSize() == other.getCompressedSize()
              && Arrays.equals(getCentralDirectoryExtra(),
                               other.getCentralDirectoryExtra())
              && Arrays.equals(getLocalFileDataExtra(),
                               other.getLocalFileDataExtra())
              && gpb.equals(other.gpb); by return getTime() == other.getTime()
              && getInternalAttributes() == other.getInternalAttributes()
              && getPlatform() == other.getPlatform()
              && getExternalAttributes() == other.getExternalAttributes()
              && getMethod() == other.getMethod()
              && getSize() == other.getSize()
              && getCrc() == other.getCrc()
              && getCompressedSize() == other.getCompressedSize()
              && Arrays.equals(getCentralDirectoryExtra(),
                               other.getCentralDirectoryExtra())
              && Arrays.equals(getLocalFileDataExtra(),
                               other.getLocalFileDataExtra())
              && gpb.equals(other.gpb);

  New cluster:
  Unknown cluster type
  ------------
  ===
  insert-tree
  ---
  if_statement [21265,21336]
      parenthesized_expression [21268,21290]
          not_equals [21269,21289]
              identifier: otherComment [21269,21281]
              null_literal [21285,21289]
      block [21291,21336]
          return_statement: return false; [21309,21322]
  to
  block [21251,21290]
  at 0

  New cluster:
  ===
  delete-node
  ---
  expression_statement: myComment = ""; [21265,21280]
  ===
  ------------
  ===
  delete-node
  ---
  expression_statement: myComment = ""; [21265,21280]
  ===

  New cluster:
  Unknown cluster type
  ------------
  ===
  delete-tree
  ---
  if_statement [21299,21367]
      parenthesized_expression [21302,21324]
          equals [21303,21323]
              identifier: otherComment [21303,21315]
              null_literal [21319,21323]
      block [21325,21367]
          expression_statement: otherComment = ""; [21339,21357]

...
