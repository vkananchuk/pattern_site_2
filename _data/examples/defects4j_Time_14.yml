---
language: java
before_tree:
  type: program
  fields: {}
  children:
  - type: class_declaration
    fields:
      name:
        type: identifier
        fields:
          text: BasicMonthOfYearDateTimeField
        children: []
        pos: 1158
        length: 29
      body:
        type: class_body
        fields: {}
        children:
        - type: field_declaration
          fields:
            text: private static final long serialVersionUID = -8258715387168736L;
          children: []
          pos: 1259
          length: 64
        - type: field_declaration
          fields:
            text: private static final int MIN = DateTimeConstants.JANUARY;
          children: []
          pos: 1329
          length: 57
        - type: field_declaration
          fields:
            text: private final BasicChronology iChronology;
          children: []
          pos: 1392
          length: 42
        - type: field_declaration
          fields:
            text: private final int iMax;
          children: []
          pos: 1439
          length: 23
        - type: field_declaration
          fields:
            text: private final int iLeapMonth;
          children: []
          pos: 1467
          length: 29
        - type: constructor_declaration
          fields:
            text: |-
              BasicMonthOfYearDateTimeField(BasicChronology chronology, int leapMonth) {
                      super(DateTimeFieldType.monthOfYear(), chronology.getAverageMillisPerMonth());
                      iChronology = chronology;
                      iMax = iChronology.getMaxMonth();
                      iLeapMonth = leapMonth;
                  }
          children: []
          pos: 1610
          length: 275
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isLenient
              children: []
              pos: 1984
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 1969
              length: 56
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 2006
                length: 13
              pos: 1996
              length: 29
          children: []
          pos: 1969
          length: 56
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: get
              children: []
              pos: 2426
              length: 3
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: long instant
                children: []
                pos: 2430
                length: 12
              pos: 2415
              length: 88
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return iChronology.getMonthOfYear(instant);
                children: []
                pos: 2454
                length: 43
              pos: 2444
              length: 59
          children: []
          pos: 2415
          length: 88
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: add
              children: []
              pos: 3239
              length: 3
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: long instant
                children: []
                pos: 3243
                length: 12
              pos: 3227
              length: 2024
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: months
                            children: []
                            pos: 3283
                            length: 6
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '0'
                            children: []
                            pos: 3293
                            length: 1
                        children: []
                        pos: 3283
                        length: 11
                    children: []
                    pos: 3282
                    length: 13
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return instant;
                    children: []
                    pos: 3310
                    length: 15
                  pos: 3296
                  length: 56
                pos: 3279
                length: 73
              - type: local_variable_declaration
                fields:
                  text: long timePart = iChronology.getMillisOfDay(instant);
                children: []
                pos: 3416
                length: 52
              - type: local_variable_declaration
                fields:
                  text: int thisYear = iChronology.getYear(instant);
                children: []
                pos: 3546
                length: 44
              - type: local_variable_declaration
                fields:
                  text: int thisMonth = iChronology.getMonthOfYear(instant, thisYear);
                children: []
                pos: 3599
                length: 62
              - type: local_variable_declaration
                fields:
                  text: int yearToUse;
                children: []
                pos: 3866
                length: 14
              - type: local_variable_declaration
                fields:
                  text: int monthToUse = thisMonth - 1 + months;
                children: []
                pos: 3936
                length: 40
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: greater_or_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: monthToUse
                            children: []
                            pos: 3989
                            length: 10
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '0'
                            children: []
                            pos: 4003
                            length: 1
                        children: []
                        pos: 3989
                        length: 15
                    children: []
                    pos: 3988
                    length: 17
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: yearToUse = thisYear + (monthToUse / iMax);
                    children: []
                    pos: 4020
                    length: 43
                  - type: expression_statement
                    fields:
                      text: monthToUse = (monthToUse % iMax) + 1;
                    children: []
                    pos: 4076
                    length: 37
                  pos: 4006
                  length: 117
                pos: 3985
                length: 637
              - type: local_variable_declaration
                fields:
                  text: int dayToUse = iChronology.getDayOfMonth(instant, thisYear,
                    thisMonth);
                children: []
                pos: 4811
                length: 71
              - type: local_variable_declaration
                fields:
                  text: int maxDay = iChronology.getDaysInYearMonth(yearToUse, monthToUse);
                children: []
                pos: 4891
                length: 67
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: greater_than
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: dayToUse
                            children: []
                            pos: 4971
                            length: 8
                          right:
                            type: identifier
                            fields:
                              text: maxDay
                            children: []
                            pos: 4982
                            length: 6
                        children: []
                        pos: 4971
                        length: 17
                    children: []
                    pos: 4970
                    length: 19
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: dayToUse = maxDay;
                    children: []
                    pos: 5004
                    length: 18
                  pos: 4990
                  length: 42
                pos: 4967
                length: 65
              - type: local_variable_declaration
                fields:
                  text: |-
                    long datePart =
                                iChronology.getYearMonthDayMillis(yearToUse, monthToUse, dayToUse);
                children: []
                pos: 5114
                length: 95
              - type: return_statement
                fields:
                  text: return datePart + timePart;
                children: []
                pos: 5218
                length: 27
              pos: 3269
              length: 1982
          children: []
          pos: 3227
          length: 2024
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: add
              children: []
              pos: 5347
              length: 3
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: long instant
                children: []
                pos: 5351
                length: 12
              pos: 5335
              length: 1747
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: int i_months = (int)months;
                children: []
                pos: 5388
                length: 27
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: i_months
                            children: []
                            pos: 5428
                            length: 8
                          right:
                            type: identifier
                            fields:
                              text: months
                            children: []
                            pos: 5440
                            length: 6
                        children: []
                        pos: 5428
                        length: 18
                    children: []
                    pos: 5427
                    length: 20
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return add(instant, i_months);
                    children: []
                    pos: 5462
                    length: 30
                  pos: 5448
                  length: 54
                pos: 5424
                length: 78
              - type: local_variable_declaration
                fields:
                  text: long timePart = iChronology.getMillisOfDay(instant);
                children: []
                pos: 5574
                length: 52
              - type: local_variable_declaration
                fields:
                  text: int thisYear = iChronology.getYear(instant);
                children: []
                pos: 5636
                length: 44
              - type: local_variable_declaration
                fields:
                  text: int thisMonth = iChronology.getMonthOfYear(instant, thisYear);
                children: []
                pos: 5689
                length: 62
              - type: local_variable_declaration
                fields:
                  text: long yearToUse;
                children: []
                pos: 5761
                length: 15
              - type: local_variable_declaration
                fields:
                  text: long monthToUse = thisMonth - 1 + months;
                children: []
                pos: 5785
                length: 41
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: greater_or_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: monthToUse
                            children: []
                            pos: 5839
                            length: 10
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '0'
                            children: []
                            pos: 5853
                            length: 1
                        children: []
                        pos: 5839
                        length: 15
                    children: []
                    pos: 5838
                    length: 17
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: yearToUse = thisYear + (monthToUse / iMax);
                    children: []
                    pos: 5870
                    length: 43
                  - type: expression_statement
                    fields:
                      text: monthToUse = (monthToUse % iMax) + 1;
                    children: []
                    pos: 5926
                    length: 37
                  pos: 5856
                  length: 117
                pos: 5835
                length: 542
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: less_than
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: yearToUse
                                children: []
                                pos: 6391
                                length: 9
                              right:
                                type: method_invocation
                                fields:
                                  text: iChronology.getMinYear()
                                children: []
                                pos: 6403
                                length: 24
                            children: []
                            pos: 6391
                            length: 36
                          right:
                            type: greater_than
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: yearToUse
                                children: []
                                pos: 6443
                                length: 9
                              right:
                                type: method_invocation
                                fields:
                                  text: iChronology.getMaxYear()
                                children: []
                                pos: 6455
                                length: 24
                            children: []
                            pos: 6443
                            length: 36
                        children: []
                        pos: 6391
                        length: 88
                    children: []
                    pos: 6390
                    length: 90
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: |-
                        throw new IllegalArgumentException
                                        ("Magnitude of add amount is too large: " + months);
                    children: []
                    pos: 6496
                    length: 103
                  pos: 6481
                  length: 128
                pos: 6387
                length: 222
              - type: local_variable_declaration
                fields:
                  text: int i_yearToUse = (int)yearToUse;
                children: []
                pos: 6619
                length: 33
              - type: local_variable_declaration
                fields:
                  text: int i_monthToUse = (int)monthToUse;
                children: []
                pos: 6661
                length: 35
              - type: local_variable_declaration
                fields:
                  text: int dayToUse = iChronology.getDayOfMonth(instant, thisYear,
                    thisMonth);
                children: []
                pos: 6706
                length: 71
              - type: local_variable_declaration
                fields:
                  text: int maxDay = iChronology.getDaysInYearMonth(i_yearToUse, i_monthToUse);
                children: []
                pos: 6786
                length: 71
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: greater_than
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: dayToUse
                            children: []
                            pos: 6870
                            length: 8
                          right:
                            type: identifier
                            fields:
                              text: maxDay
                            children: []
                            pos: 6881
                            length: 6
                        children: []
                        pos: 6870
                        length: 17
                    children: []
                    pos: 6869
                    length: 19
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: dayToUse = maxDay;
                    children: []
                    pos: 6903
                    length: 18
                  pos: 6889
                  length: 42
                pos: 6866
                length: 65
              - type: local_variable_declaration
                fields:
                  text: |-
                    long datePart =
                                iChronology.getYearMonthDayMillis(i_yearToUse, i_monthToUse, dayToUse);
                children: []
                pos: 6941
                length: 99
              - type: return_statement
                fields:
                  text: return datePart + timePart;
                children: []
                pos: 7049
                length: 27
              pos: 5378
              length: 1704
          children: []
          pos: 5335
          length: 1747
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: add
              children: []
              pos: 7179
              length: 3
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: ReadablePartial partial
                children: []
                pos: 7183
                length: 23
              pos: 7166
              length: 1133
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: valueToAdd
                            children: []
                            pos: 7386
                            length: 10
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '0'
                            children: []
                            pos: 7400
                            length: 1
                        children: []
                        pos: 7386
                        length: 15
                    children: []
                    pos: 7385
                    length: 17
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return values;
                    children: []
                    pos: 7417
                    length: 14
                  pos: 7403
                  length: 38
                pos: 7382
                length: 59
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: and
                        fields:
                          left:
                            type: and
                            fields:
                              left:
                                type: greater_than
                                fields:
                                  left:
                                    type: method_invocation
                                    fields:
                                      text: partial.size()
                                    children: []
                                    pos: 7454
                                    length: 14
                                  right:
                                    type: decimal_integer_literal
                                    fields:
                                      text: '0'
                                    children: []
                                    pos: 7471
                                    length: 1
                                children: []
                                pos: 7454
                                length: 18
                              right:
                                type: method_invocation
                                fields:
                                  text: partial.getFieldType(0).equals(DateTimeFieldType.monthOfYear())
                                children: []
                                pos: 7476
                                length: 63
                            children: []
                            pos: 7454
                            length: 85
                          right:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: fieldIndex
                                children: []
                                pos: 7543
                                length: 10
                              right:
                                type: decimal_integer_literal
                                fields:
                                  text: '0'
                                children: []
                                pos: 7557
                                length: 1
                            children: []
                            pos: 7543
                            length: 15
                        children: []
                        pos: 7454
                        length: 104
                    children: []
                    pos: 7453
                    length: 106
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: int curMonth0 = partial.getValue(0) - 1;
                    children: []
                    pos: 7650
                    length: 40
                  - type: local_variable_declaration
                    fields:
                      text: int newMonth = ((curMonth0 + (valueToAdd % 12) + 12) %
                        12) + 1;
                    children: []
                    pos: 7703
                    length: 63
                  - type: return_statement
                    fields:
                      text: return set(partial, 0, values, newMonth);
                    children: []
                    pos: 7779
                    length: 41
                  pos: 7560
                  length: 270
                pos: 7450
                length: 380
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: DateTimeUtils.isContiguous(partial)
                        children: []
                        pos: 7843
                        length: 35
                    children: []
                    pos: 7842
                    length: 37
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: long instant = 0L;
                    children: []
                    pos: 7894
                    length: 18
                  - type: for_statement
                    fields:
                      text: |-
                        for (int i = 0, isize = partial.size(); i < isize; i++) {
                                        instant = partial.getFieldType(i).getField(iChronology).set(instant, values[i]);
                                    }
                    children: []
                    pos: 7925
                    length: 168
                  - type: expression_statement
                    fields:
                      text: instant = add(instant, valueToAdd);
                    children: []
                    pos: 8106
                    length: 35
                  - type: return_statement
                    fields:
                      text: return iChronology.get(partial, instant);
                    children: []
                    pos: 8154
                    length: 41
                  pos: 7880
                  length: 325
                pos: 7839
                length: 454
              pos: 7254
              length: 1045
          children: []
          pos: 7166
          length: 1133
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: addWrapField
              children: []
              pos: 8756
              length: 12
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: long instant
                children: []
                pos: 8769
                length: 12
              pos: 8744
              length: 148
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return set(instant, FieldUtils.getWrappedValue(get(instant),
                    months, MIN, iMax));
                children: []
                pos: 8805
                length: 81
              pos: 8795
              length: 97
          children: []
          pos: 8744
          length: 148
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getDifferenceAsLong
              children: []
              pos: 8988
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: long minuendInstant
                children: []
                pos: 9008
                length: 19
              pos: 8976
              length: 1915
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: less_than
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: minuendInstant
                            children: []
                            pos: 9067
                            length: 14
                          right:
                            type: identifier
                            fields:
                              text: subtrahendInstant
                            children: []
                            pos: 9084
                            length: 17
                        children: []
                        pos: 9067
                        length: 34
                    children: []
                    pos: 9066
                    length: 36
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return -getDifference(subtrahendInstant, minuendInstant);
                    children: []
                    pos: 9117
                    length: 57
                  pos: 9103
                  length: 81
                pos: 9063
                length: 121
              - type: local_variable_declaration
                fields:
                  text: int minuendYear = iChronology.getYear(minuendInstant);
                children: []
                pos: 9194
                length: 54
              - type: local_variable_declaration
                fields:
                  text: int minuendMonth = iChronology.getMonthOfYear(minuendInstant,
                    minuendYear);
                children: []
                pos: 9257
                length: 75
              - type: local_variable_declaration
                fields:
                  text: int subtrahendYear = iChronology.getYear(subtrahendInstant);
                children: []
                pos: 9341
                length: 60
              - type: local_variable_declaration
                fields:
                  text: int subtrahendMonth = iChronology.getMonthOfYear(subtrahendInstant,
                    subtrahendYear);
                children: []
                pos: 9410
                length: 84
              - type: local_variable_declaration
                fields:
                  text: long difference = (minuendYear - subtrahendYear) * ((long)
                    iMax) + minuendMonth - subtrahendMonth;
                children: []
                pos: 9504
                length: 98
              - type: local_variable_declaration
                fields:
                  text: |-
                    int minuendDom = iChronology.getDayOfMonth
                                (minuendInstant, minuendYear, minuendMonth);
                children: []
                pos: 9758
                length: 99
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: minuendDom
                            children: []
                            pos: 9870
                            length: 10
                          right:
                            type: method_invocation
                            fields:
                              text: iChronology.getDaysInYearMonth(minuendYear, minuendMonth)
                            children: []
                            pos: 9884
                            length: 57
                        children: []
                        pos: 9870
                        length: 71
                    children: []
                    pos: 9869
                    length: 73
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: |-
                        int subtrahendDom = iChronology.getDayOfMonth
                                        (subtrahendInstant, subtrahendYear, subtrahendMonth);
                    children: []
                    pos: 10005
                    length: 115
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: greater_than
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: subtrahendDom
                                children: []
                                pos: 10137
                                length: 13
                              right:
                                type: identifier
                                fields:
                                  text: minuendDom
                                children: []
                                pos: 10153
                                length: 10
                            children: []
                            pos: 10137
                            length: 26
                        children: []
                        pos: 10136
                        length: 28
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: subtrahendInstant = iChronology.dayOfMonth().set(subtrahendInstant,
                            minuendDom);
                        children: []
                        pos: 10371
                        length: 80
                      pos: 10165
                      length: 300
                    pos: 10133
                    length: 332
                  pos: 9943
                  length: 532
                pos: 9866
                length: 609
              - type: local_variable_declaration
                fields:
                  text: |-
                    long minuendRem = minuendInstant
                                - iChronology.getYearMonthMillis(minuendYear, minuendMonth);
                children: []
                pos: 10547
                length: 105
              - type: local_variable_declaration
                fields:
                  text: |-
                    long subtrahendRem = subtrahendInstant
                                - iChronology.getYearMonthMillis(subtrahendYear, subtrahendMonth);
                children: []
                pos: 10661
                length: 117
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: less_than
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: minuendRem
                            children: []
                            pos: 10792
                            length: 10
                          right:
                            type: identifier
                            fields:
                              text: subtrahendRem
                            children: []
                            pos: 10805
                            length: 13
                        children: []
                        pos: 10792
                        length: 26
                    children: []
                    pos: 10791
                    length: 28
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: difference--;
                    children: []
                    pos: 10834
                    length: 13
                  pos: 10820
                  length: 37
                pos: 10788
                length: 69
              - type: return_statement
                fields:
                  text: return difference;
                children: []
                pos: 10867
                length: 18
              pos: 9053
              length: 1838
          children: []
          pos: 8976
          length: 1915
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: set
              children: []
              pos: 11541
              length: 3
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: long instant
                children: []
                pos: 11545
                length: 12
              pos: 11529
              length: 625
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: FieldUtils.verifyValueBounds(this, month, MIN, iMax);
                children: []
                pos: 11580
                length: 53
              - type: local_variable_declaration
                fields:
                  text: int thisYear = iChronology.getYear(instant);
                children: []
                pos: 11653
                length: 44
              - type: local_variable_declaration
                fields:
                  text: int thisDom = iChronology.getDayOfMonth(instant, thisYear);
                children: []
                pos: 11717
                length: 59
              - type: local_variable_declaration
                fields:
                  text: int maxDom = iChronology.getDaysInYearMonth(thisYear, month);
                children: []
                pos: 11785
                length: 61
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: greater_than
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: thisDom
                            children: []
                            pos: 11859
                            length: 7
                          right:
                            type: identifier
                            fields:
                              text: maxDom
                            children: []
                            pos: 11869
                            length: 6
                        children: []
                        pos: 11859
                        length: 16
                    children: []
                    pos: 11858
                    length: 18
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: thisDom = maxDom;
                    children: []
                    pos: 11947
                    length: 17
                  pos: 11877
                  length: 97
                pos: 11855
                length: 119
              - type: return_statement
                fields:
                  text: |-
                    return iChronology.getYearMonthDayMillis(thisYear, month, thisDom) +
                                iChronology.getMillisOfDay(instant);
                children: []
                pos: 12031
                length: 117
              pos: 11570
              length: 584
          children: []
          pos: 11529
          length: 625
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getRangeDurationField
              children: []
              pos: 12259
              length: 21
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 12238
              length: 88
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return iChronology.years();
                children: []
                pos: 12293
                length: 27
              pos: 12283
              length: 43
          children: []
          pos: 12238
          length: 88
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isLeap
              children: []
              pos: 12425
              length: 6
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: long instant
                children: []
                pos: 12432
                length: 12
              pos: 12410
              length: 258
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: int thisYear = iChronology.getYear(instant);
                children: []
                pos: 12456
                length: 44
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: iChronology.isLeapYear(thisYear)
                        children: []
                        pos: 12513
                        length: 32
                    children: []
                    pos: 12512
                    length: 34
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return (iChronology.getMonthOfYear(instant, thisYear)
                        == iLeapMonth);
                    children: []
                    pos: 12561
                    length: 69
                  pos: 12547
                  length: 93
                pos: 12509
                length: 131
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 12649
                length: 13
              pos: 12446
              length: 222
          children: []
          pos: 12410
          length: 258
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getLeapAmount
              children: []
              pos: 12763
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: long instant
                children: []
                pos: 12777
                length: 12
              pos: 12752
              length: 86
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: 'return isLeap(instant) ? 1 : 0;'
                children: []
                pos: 12801
                length: 31
              pos: 12791
              length: 47
          children: []
          pos: 12752
          length: 86
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getLeapDurationField
              children: []
              pos: 12943
              length: 20
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 12922
              length: 86
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return iChronology.days();
                children: []
                pos: 12976
                length: 26
              pos: 12966
              length: 42
          children: []
          pos: 12922
          length: 86
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getMinimumValue
              children: []
              pos: 13103
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 13092
              length: 56
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return MIN;
                children: []
                pos: 13131
                length: 11
              pos: 13121
              length: 27
          children: []
          pos: 13092
          length: 56
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getMaximumValue
              children: []
              pos: 13243
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 13232
              length: 57
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return iMax;
                children: []
                pos: 13271
                length: 12
              pos: 13261
              length: 28
          children: []
          pos: 13232
          length: 57
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: roundFloor
              children: []
              pos: 13385
              length: 10
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: long instant
                children: []
                pos: 13396
                length: 12
              pos: 13373
              length: 216
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: int year = iChronology.getYear(instant);
                children: []
                pos: 13420
                length: 40
              - type: local_variable_declaration
                fields:
                  text: int month = iChronology.getMonthOfYear(instant, year);
                children: []
                pos: 13469
                length: 54
              - type: return_statement
                fields:
                  text: return iChronology.getYearMonthMillis(year, month);
                children: []
                pos: 13532
                length: 51
              pos: 13410
              length: 179
          children: []
          pos: 13373
          length: 216
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: remainder
              children: []
              pos: 13685
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: long instant
                children: []
                pos: 13695
                length: 12
              pos: 13673
              length: 89
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return instant - roundFloor(instant);
                children: []
                pos: 13719
                length: 37
              pos: 13709
              length: 53
          children: []
          pos: 13673
          length: 89
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: readResolve
              children: []
              pos: 13908
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 13893
              length: 78
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return iChronology.monthOfYear();
                children: []
                pos: 13932
                length: 33
              pos: 13922
              length: 49
          children: []
          pos: 13893
          length: 78
        pos: 1152
        length: 12821
    children: []
    pos: 1152
    length: 12821
  pos: 0
  length: 13974
after_tree:
  type: program
  fields: {}
  children:
  - type: class_declaration
    fields:
      name:
        type: identifier
        fields:
          text: BasicMonthOfYearDateTimeField
        children: []
        pos: 1158
        length: 29
      body:
        type: class_body
        fields: {}
        children:
        - type: field_declaration
          fields:
            text: private static final long serialVersionUID = -8258715387168736L;
          children: []
          pos: 1259
          length: 64
        - type: field_declaration
          fields:
            text: private static final int MIN = DateTimeConstants.JANUARY;
          children: []
          pos: 1329
          length: 57
        - type: field_declaration
          fields:
            text: private final BasicChronology iChronology;
          children: []
          pos: 1392
          length: 42
        - type: field_declaration
          fields:
            text: private final int iMax;
          children: []
          pos: 1439
          length: 23
        - type: field_declaration
          fields:
            text: private final int iLeapMonth;
          children: []
          pos: 1467
          length: 29
        - type: constructor_declaration
          fields:
            text: |-
              BasicMonthOfYearDateTimeField(BasicChronology chronology, int leapMonth) {
                      super(DateTimeFieldType.monthOfYear(), chronology.getAverageMillisPerMonth());
                      iChronology = chronology;
                      iMax = iChronology.getMaxMonth();
                      iLeapMonth = leapMonth;
                  }
          children: []
          pos: 1610
          length: 275
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isLenient
              children: []
              pos: 1984
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 1969
              length: 56
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 2006
                length: 13
              pos: 1996
              length: 29
          children: []
          pos: 1969
          length: 56
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: get
              children: []
              pos: 2426
              length: 3
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: long instant
                children: []
                pos: 2430
                length: 12
              pos: 2415
              length: 88
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return iChronology.getMonthOfYear(instant);
                children: []
                pos: 2454
                length: 43
              pos: 2444
              length: 59
          children: []
          pos: 2415
          length: 88
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: add
              children: []
              pos: 3239
              length: 3
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: long instant
                children: []
                pos: 3243
                length: 12
              pos: 3227
              length: 2024
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: months
                            children: []
                            pos: 3283
                            length: 6
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '0'
                            children: []
                            pos: 3293
                            length: 1
                        children: []
                        pos: 3283
                        length: 11
                    children: []
                    pos: 3282
                    length: 13
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return instant;
                    children: []
                    pos: 3310
                    length: 15
                  pos: 3296
                  length: 56
                pos: 3279
                length: 73
              - type: local_variable_declaration
                fields:
                  text: long timePart = iChronology.getMillisOfDay(instant);
                children: []
                pos: 3416
                length: 52
              - type: local_variable_declaration
                fields:
                  text: int thisYear = iChronology.getYear(instant);
                children: []
                pos: 3546
                length: 44
              - type: local_variable_declaration
                fields:
                  text: int thisMonth = iChronology.getMonthOfYear(instant, thisYear);
                children: []
                pos: 3599
                length: 62
              - type: local_variable_declaration
                fields:
                  text: int yearToUse;
                children: []
                pos: 3866
                length: 14
              - type: local_variable_declaration
                fields:
                  text: int monthToUse = thisMonth - 1 + months;
                children: []
                pos: 3936
                length: 40
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: greater_or_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: monthToUse
                            children: []
                            pos: 3989
                            length: 10
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '0'
                            children: []
                            pos: 4003
                            length: 1
                        children: []
                        pos: 3989
                        length: 15
                    children: []
                    pos: 3988
                    length: 17
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: yearToUse = thisYear + (monthToUse / iMax);
                    children: []
                    pos: 4020
                    length: 43
                  - type: expression_statement
                    fields:
                      text: monthToUse = (monthToUse % iMax) + 1;
                    children: []
                    pos: 4076
                    length: 37
                  pos: 4006
                  length: 117
                pos: 3985
                length: 637
              - type: local_variable_declaration
                fields:
                  text: int dayToUse = iChronology.getDayOfMonth(instant, thisYear,
                    thisMonth);
                children: []
                pos: 4811
                length: 71
              - type: local_variable_declaration
                fields:
                  text: int maxDay = iChronology.getDaysInYearMonth(yearToUse, monthToUse);
                children: []
                pos: 4891
                length: 67
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: greater_than
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: dayToUse
                            children: []
                            pos: 4971
                            length: 8
                          right:
                            type: identifier
                            fields:
                              text: maxDay
                            children: []
                            pos: 4982
                            length: 6
                        children: []
                        pos: 4971
                        length: 17
                    children: []
                    pos: 4970
                    length: 19
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: dayToUse = maxDay;
                    children: []
                    pos: 5004
                    length: 18
                  pos: 4990
                  length: 42
                pos: 4967
                length: 65
              - type: local_variable_declaration
                fields:
                  text: |-
                    long datePart =
                                iChronology.getYearMonthDayMillis(yearToUse, monthToUse, dayToUse);
                children: []
                pos: 5114
                length: 95
              - type: return_statement
                fields:
                  text: return datePart + timePart;
                children: []
                pos: 5218
                length: 27
              pos: 3269
              length: 1982
          children: []
          pos: 3227
          length: 2024
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: add
              children: []
              pos: 5347
              length: 3
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: long instant
                children: []
                pos: 5351
                length: 12
              pos: 5335
              length: 1747
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: int i_months = (int)months;
                children: []
                pos: 5388
                length: 27
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: i_months
                            children: []
                            pos: 5428
                            length: 8
                          right:
                            type: identifier
                            fields:
                              text: months
                            children: []
                            pos: 5440
                            length: 6
                        children: []
                        pos: 5428
                        length: 18
                    children: []
                    pos: 5427
                    length: 20
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return add(instant, i_months);
                    children: []
                    pos: 5462
                    length: 30
                  pos: 5448
                  length: 54
                pos: 5424
                length: 78
              - type: local_variable_declaration
                fields:
                  text: long timePart = iChronology.getMillisOfDay(instant);
                children: []
                pos: 5574
                length: 52
              - type: local_variable_declaration
                fields:
                  text: int thisYear = iChronology.getYear(instant);
                children: []
                pos: 5636
                length: 44
              - type: local_variable_declaration
                fields:
                  text: int thisMonth = iChronology.getMonthOfYear(instant, thisYear);
                children: []
                pos: 5689
                length: 62
              - type: local_variable_declaration
                fields:
                  text: long yearToUse;
                children: []
                pos: 5761
                length: 15
              - type: local_variable_declaration
                fields:
                  text: long monthToUse = thisMonth - 1 + months;
                children: []
                pos: 5785
                length: 41
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: greater_or_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: monthToUse
                            children: []
                            pos: 5839
                            length: 10
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '0'
                            children: []
                            pos: 5853
                            length: 1
                        children: []
                        pos: 5839
                        length: 15
                    children: []
                    pos: 5838
                    length: 17
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: yearToUse = thisYear + (monthToUse / iMax);
                    children: []
                    pos: 5870
                    length: 43
                  - type: expression_statement
                    fields:
                      text: monthToUse = (monthToUse % iMax) + 1;
                    children: []
                    pos: 5926
                    length: 37
                  pos: 5856
                  length: 117
                pos: 5835
                length: 542
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: less_than
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: yearToUse
                                children: []
                                pos: 6391
                                length: 9
                              right:
                                type: method_invocation
                                fields:
                                  text: iChronology.getMinYear()
                                children: []
                                pos: 6403
                                length: 24
                            children: []
                            pos: 6391
                            length: 36
                          right:
                            type: greater_than
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: yearToUse
                                children: []
                                pos: 6443
                                length: 9
                              right:
                                type: method_invocation
                                fields:
                                  text: iChronology.getMaxYear()
                                children: []
                                pos: 6455
                                length: 24
                            children: []
                            pos: 6443
                            length: 36
                        children: []
                        pos: 6391
                        length: 88
                    children: []
                    pos: 6390
                    length: 90
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: |-
                        throw new IllegalArgumentException
                                        ("Magnitude of add amount is too large: " + months);
                    children: []
                    pos: 6496
                    length: 103
                  pos: 6481
                  length: 128
                pos: 6387
                length: 222
              - type: local_variable_declaration
                fields:
                  text: int i_yearToUse = (int)yearToUse;
                children: []
                pos: 6619
                length: 33
              - type: local_variable_declaration
                fields:
                  text: int i_monthToUse = (int)monthToUse;
                children: []
                pos: 6661
                length: 35
              - type: local_variable_declaration
                fields:
                  text: int dayToUse = iChronology.getDayOfMonth(instant, thisYear,
                    thisMonth);
                children: []
                pos: 6706
                length: 71
              - type: local_variable_declaration
                fields:
                  text: int maxDay = iChronology.getDaysInYearMonth(i_yearToUse, i_monthToUse);
                children: []
                pos: 6786
                length: 71
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: greater_than
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: dayToUse
                            children: []
                            pos: 6870
                            length: 8
                          right:
                            type: identifier
                            fields:
                              text: maxDay
                            children: []
                            pos: 6881
                            length: 6
                        children: []
                        pos: 6870
                        length: 17
                    children: []
                    pos: 6869
                    length: 19
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: dayToUse = maxDay;
                    children: []
                    pos: 6903
                    length: 18
                  pos: 6889
                  length: 42
                pos: 6866
                length: 65
              - type: local_variable_declaration
                fields:
                  text: |-
                    long datePart =
                                iChronology.getYearMonthDayMillis(i_yearToUse, i_monthToUse, dayToUse);
                children: []
                pos: 6941
                length: 99
              - type: return_statement
                fields:
                  text: return datePart + timePart;
                children: []
                pos: 7049
                length: 27
              pos: 5378
              length: 1704
          children: []
          pos: 5335
          length: 1747
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: add
              children: []
              pos: 7179
              length: 3
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: ReadablePartial partial
                children: []
                pos: 7183
                length: 23
              pos: 7166
              length: 820
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: valueToAdd
                            children: []
                            pos: 7386
                            length: 10
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '0'
                            children: []
                            pos: 7400
                            length: 1
                        children: []
                        pos: 7386
                        length: 15
                    children: []
                    pos: 7385
                    length: 17
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return values;
                    children: []
                    pos: 7417
                    length: 14
                  pos: 7403
                  length: 38
                pos: 7382
                length: 59
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: DateTimeUtils.isContiguous(partial)
                        children: []
                        pos: 7530
                        length: 35
                    children: []
                    pos: 7529
                    length: 37
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: long instant = 0L;
                    children: []
                    pos: 7581
                    length: 18
                  - type: for_statement
                    fields:
                      text: |-
                        for (int i = 0, isize = partial.size(); i < isize; i++) {
                                        instant = partial.getFieldType(i).getField(iChronology).set(instant, values[i]);
                                    }
                    children: []
                    pos: 7612
                    length: 168
                  - type: expression_statement
                    fields:
                      text: instant = add(instant, valueToAdd);
                    children: []
                    pos: 7793
                    length: 35
                  - type: return_statement
                    fields:
                      text: return iChronology.get(partial, instant);
                    children: []
                    pos: 7841
                    length: 41
                  pos: 7567
                  length: 325
                pos: 7526
                length: 454
              pos: 7254
              length: 732
          children: []
          pos: 7166
          length: 820
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: addWrapField
              children: []
              pos: 8443
              length: 12
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: long instant
                children: []
                pos: 8456
                length: 12
              pos: 8431
              length: 148
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return set(instant, FieldUtils.getWrappedValue(get(instant),
                    months, MIN, iMax));
                children: []
                pos: 8492
                length: 81
              pos: 8482
              length: 97
          children: []
          pos: 8431
          length: 148
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getDifferenceAsLong
              children: []
              pos: 8675
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: long minuendInstant
                children: []
                pos: 8695
                length: 19
              pos: 8663
              length: 1915
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: less_than
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: minuendInstant
                            children: []
                            pos: 8754
                            length: 14
                          right:
                            type: identifier
                            fields:
                              text: subtrahendInstant
                            children: []
                            pos: 8771
                            length: 17
                        children: []
                        pos: 8754
                        length: 34
                    children: []
                    pos: 8753
                    length: 36
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return -getDifference(subtrahendInstant, minuendInstant);
                    children: []
                    pos: 8804
                    length: 57
                  pos: 8790
                  length: 81
                pos: 8750
                length: 121
              - type: local_variable_declaration
                fields:
                  text: int minuendYear = iChronology.getYear(minuendInstant);
                children: []
                pos: 8881
                length: 54
              - type: local_variable_declaration
                fields:
                  text: int minuendMonth = iChronology.getMonthOfYear(minuendInstant,
                    minuendYear);
                children: []
                pos: 8944
                length: 75
              - type: local_variable_declaration
                fields:
                  text: int subtrahendYear = iChronology.getYear(subtrahendInstant);
                children: []
                pos: 9028
                length: 60
              - type: local_variable_declaration
                fields:
                  text: int subtrahendMonth = iChronology.getMonthOfYear(subtrahendInstant,
                    subtrahendYear);
                children: []
                pos: 9097
                length: 84
              - type: local_variable_declaration
                fields:
                  text: long difference = (minuendYear - subtrahendYear) * ((long)
                    iMax) + minuendMonth - subtrahendMonth;
                children: []
                pos: 9191
                length: 98
              - type: local_variable_declaration
                fields:
                  text: |-
                    int minuendDom = iChronology.getDayOfMonth
                                (minuendInstant, minuendYear, minuendMonth);
                children: []
                pos: 9445
                length: 99
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: minuendDom
                            children: []
                            pos: 9557
                            length: 10
                          right:
                            type: method_invocation
                            fields:
                              text: iChronology.getDaysInYearMonth(minuendYear, minuendMonth)
                            children: []
                            pos: 9571
                            length: 57
                        children: []
                        pos: 9557
                        length: 71
                    children: []
                    pos: 9556
                    length: 73
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: |-
                        int subtrahendDom = iChronology.getDayOfMonth
                                        (subtrahendInstant, subtrahendYear, subtrahendMonth);
                    children: []
                    pos: 9692
                    length: 115
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: greater_than
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: subtrahendDom
                                children: []
                                pos: 9824
                                length: 13
                              right:
                                type: identifier
                                fields:
                                  text: minuendDom
                                children: []
                                pos: 9840
                                length: 10
                            children: []
                            pos: 9824
                            length: 26
                        children: []
                        pos: 9823
                        length: 28
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: subtrahendInstant = iChronology.dayOfMonth().set(subtrahendInstant,
                            minuendDom);
                        children: []
                        pos: 10058
                        length: 80
                      pos: 9852
                      length: 300
                    pos: 9820
                    length: 332
                  pos: 9630
                  length: 532
                pos: 9553
                length: 609
              - type: local_variable_declaration
                fields:
                  text: |-
                    long minuendRem = minuendInstant
                                - iChronology.getYearMonthMillis(minuendYear, minuendMonth);
                children: []
                pos: 10234
                length: 105
              - type: local_variable_declaration
                fields:
                  text: |-
                    long subtrahendRem = subtrahendInstant
                                - iChronology.getYearMonthMillis(subtrahendYear, subtrahendMonth);
                children: []
                pos: 10348
                length: 117
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: less_than
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: minuendRem
                            children: []
                            pos: 10479
                            length: 10
                          right:
                            type: identifier
                            fields:
                              text: subtrahendRem
                            children: []
                            pos: 10492
                            length: 13
                        children: []
                        pos: 10479
                        length: 26
                    children: []
                    pos: 10478
                    length: 28
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: difference--;
                    children: []
                    pos: 10521
                    length: 13
                  pos: 10507
                  length: 37
                pos: 10475
                length: 69
              - type: return_statement
                fields:
                  text: return difference;
                children: []
                pos: 10554
                length: 18
              pos: 8740
              length: 1838
          children: []
          pos: 8663
          length: 1915
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: set
              children: []
              pos: 11228
              length: 3
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: long instant
                children: []
                pos: 11232
                length: 12
              pos: 11216
              length: 625
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: FieldUtils.verifyValueBounds(this, month, MIN, iMax);
                children: []
                pos: 11267
                length: 53
              - type: local_variable_declaration
                fields:
                  text: int thisYear = iChronology.getYear(instant);
                children: []
                pos: 11340
                length: 44
              - type: local_variable_declaration
                fields:
                  text: int thisDom = iChronology.getDayOfMonth(instant, thisYear);
                children: []
                pos: 11404
                length: 59
              - type: local_variable_declaration
                fields:
                  text: int maxDom = iChronology.getDaysInYearMonth(thisYear, month);
                children: []
                pos: 11472
                length: 61
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: greater_than
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: thisDom
                            children: []
                            pos: 11546
                            length: 7
                          right:
                            type: identifier
                            fields:
                              text: maxDom
                            children: []
                            pos: 11556
                            length: 6
                        children: []
                        pos: 11546
                        length: 16
                    children: []
                    pos: 11545
                    length: 18
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: thisDom = maxDom;
                    children: []
                    pos: 11634
                    length: 17
                  pos: 11564
                  length: 97
                pos: 11542
                length: 119
              - type: return_statement
                fields:
                  text: |-
                    return iChronology.getYearMonthDayMillis(thisYear, month, thisDom) +
                                iChronology.getMillisOfDay(instant);
                children: []
                pos: 11718
                length: 117
              pos: 11257
              length: 584
          children: []
          pos: 11216
          length: 625
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getRangeDurationField
              children: []
              pos: 11946
              length: 21
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 11925
              length: 88
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return iChronology.years();
                children: []
                pos: 11980
                length: 27
              pos: 11970
              length: 43
          children: []
          pos: 11925
          length: 88
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isLeap
              children: []
              pos: 12112
              length: 6
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: long instant
                children: []
                pos: 12119
                length: 12
              pos: 12097
              length: 258
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: int thisYear = iChronology.getYear(instant);
                children: []
                pos: 12143
                length: 44
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: iChronology.isLeapYear(thisYear)
                        children: []
                        pos: 12200
                        length: 32
                    children: []
                    pos: 12199
                    length: 34
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return (iChronology.getMonthOfYear(instant, thisYear)
                        == iLeapMonth);
                    children: []
                    pos: 12248
                    length: 69
                  pos: 12234
                  length: 93
                pos: 12196
                length: 131
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 12336
                length: 13
              pos: 12133
              length: 222
          children: []
          pos: 12097
          length: 258
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getLeapAmount
              children: []
              pos: 12450
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: long instant
                children: []
                pos: 12464
                length: 12
              pos: 12439
              length: 86
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: 'return isLeap(instant) ? 1 : 0;'
                children: []
                pos: 12488
                length: 31
              pos: 12478
              length: 47
          children: []
          pos: 12439
          length: 86
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getLeapDurationField
              children: []
              pos: 12630
              length: 20
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 12609
              length: 86
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return iChronology.days();
                children: []
                pos: 12663
                length: 26
              pos: 12653
              length: 42
          children: []
          pos: 12609
          length: 86
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getMinimumValue
              children: []
              pos: 12790
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 12779
              length: 56
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return MIN;
                children: []
                pos: 12818
                length: 11
              pos: 12808
              length: 27
          children: []
          pos: 12779
          length: 56
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getMaximumValue
              children: []
              pos: 12930
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 12919
              length: 57
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return iMax;
                children: []
                pos: 12958
                length: 12
              pos: 12948
              length: 28
          children: []
          pos: 12919
          length: 57
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: roundFloor
              children: []
              pos: 13072
              length: 10
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: long instant
                children: []
                pos: 13083
                length: 12
              pos: 13060
              length: 216
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: int year = iChronology.getYear(instant);
                children: []
                pos: 13107
                length: 40
              - type: local_variable_declaration
                fields:
                  text: int month = iChronology.getMonthOfYear(instant, year);
                children: []
                pos: 13156
                length: 54
              - type: return_statement
                fields:
                  text: return iChronology.getYearMonthMillis(year, month);
                children: []
                pos: 13219
                length: 51
              pos: 13097
              length: 179
          children: []
          pos: 13060
          length: 216
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: remainder
              children: []
              pos: 13372
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: long instant
                children: []
                pos: 13382
                length: 12
              pos: 13360
              length: 89
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return instant - roundFloor(instant);
                children: []
                pos: 13406
                length: 37
              pos: 13396
              length: 53
          children: []
          pos: 13360
          length: 89
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: readResolve
              children: []
              pos: 13595
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 13580
              length: 78
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return iChronology.monthOfYear();
                children: []
                pos: 13619
                length: 33
              pos: 13609
              length: 49
          children: []
          pos: 13580
          length: 78
        pos: 1152
        length: 12508
    children: []
    pos: 1152
    length: 12508
  pos: 0
  length: 13661
text_diff: |
  --- before
  +++ after
  @@ -206,12 +206,7 @@
           if (valueToAdd == 0) {
               return values;
           }
  -        if (partial.size() > 0 && partial.getFieldType(0).equals(DateTimeFieldType.monthOfYear()) && fieldIndex == 0) {
               // month is largest field and being added to, such as month-day
  -            int curMonth0 = partial.getValue(0) - 1;
  -            int newMonth = ((curMonth0 + (valueToAdd % 12) + 12) % 12) + 1;
  -            return set(partial, 0, values, newMonth);
  -        }
           if (DateTimeUtils.isContiguous(partial)) {
               long instant = 0L;
               for (int i = 0, isize = partial.size(); i < isize; i++) {
tree_diff: |+
  New cluster:
  Unknown cluster type
  ------------
  ===
  delete-tree
  ---
  if_statement [7450,7830]
      parenthesized_expression [7453,7559]
          and [7454,7558]
              and [7454,7539]
                  greater_than [7454,7472]
                      method_invocation: partial.size() [7454,7468]
                      decimal_integer_literal: 0 [7471,7472]
                  method_invocation: partial.getFieldType(0).equals(DateTimeFieldType.monthOfYear()) [7476,7539]
              equals [7543,7558]
                  identifier: fieldIndex [7543,7553]
                  decimal_integer_literal: 0 [7557,7558]
      block [7560,7830]
          local_variable_declaration: int curMonth0 = partial.getValue(0) - 1; [7650,7690]
          local_variable_declaration: int newMonth = ((curMonth0 + (valueToAdd % 12) + 12) % 12) + 1; [7703,7766]
          return_statement: return set(partial, 0, values, newMonth); [7779,7820]

...
