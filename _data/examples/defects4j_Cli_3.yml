---
language: java
before_tree:
  type: program
  fields: {}
  children:
  - type: class_declaration
    fields:
      name:
        type: identifier
        fields:
          text: TypeHandler
        children: []
        pos: 1111
        length: 11
      body:
        type: class_body
        fields: {}
        children:
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: createValue
              children: []
              pos: 1471
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String str
                children: []
                pos: 1483
                length: 10
              pos: 1450
              length: 114
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return createValue(str, (Class) obj);
                children: []
                pos: 1521
                length: 37
              pos: 1511
              length: 53
          children: []
          pos: 1450
          length: 114
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: createValue
              children: []
              pos: 1917
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String str
                children: []
                pos: 1929
                length: 10
              pos: 1896
              length: 1166
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: field_access
                            fields:
                              text: PatternOptionBuilder.STRING_VALUE
                            children: []
                            pos: 1972
                            length: 33
                          right:
                            type: identifier
                            fields:
                              text: clazz
                            children: []
                            pos: 2009
                            length: 5
                        children: []
                        pos: 1972
                        length: 42
                    children: []
                    pos: 1971
                    length: 44
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return str;
                    children: []
                    pos: 2038
                    length: 11
                  pos: 2024
                  length: 35
                pos: 1968
                length: 1088
              pos: 1958
              length: 1104
          children: []
          pos: 1896
          length: 1166
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: createObject
              children: []
              pos: 3317
              length: 12
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String str
                children: []
                pos: 3330
                length: 10
              pos: 3296
              length: 843
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: Class cl = null;
                children: []
                pos: 3356
                length: 16
              - type: try_statement
                fields:
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: expression_statement
                      fields:
                        text: cl = Class.forName(str);
                      children: []
                      pos: 3408
                      length: 24
                    pos: 3394
                    length: 48
                  excepts:
                    type: excepts
                    fields: {}
                    children:
                    - type: catch_clause
                      fields:
                        text: |-
                          catch (ClassNotFoundException cnfe)
                                  {
                                      System.err.println("Unable to find: " + str);

                                      return null;
                                  }
                      children: []
                      pos: 3451
                      length: 139
                    pos: 3382
                    length: 208
                children: []
                pos: 3382
                length: 208
              - type: local_variable_declaration
                fields:
                  text: Object instance = null;
                children: []
                pos: 3600
                length: 23
              - type: try_statement
                fields:
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: expression_statement
                      fields:
                        text: instance = cl.newInstance();
                      children: []
                      pos: 3659
                      length: 28
                    pos: 3645
                    length: 52
                  excepts:
                    type: excepts
                    fields: {}
                    children:
                    - type: catch_clause
                      fields:
                        text: |-
                          catch (InstantiationException cnfe)
                                  {
                                      System.err.println("InstantiationException; Unable to create: "
                                                         + str);

                                      return null;
                                  }
                      children: []
                      pos: 3706
                      length: 196
                    - type: catch_clause
                      fields:
                        text: |-
                          catch (IllegalAccessException cnfe)
                                  {
                                      System.err.println("IllegalAccessException; Unable to create: "
                                                         + str);

                                      return null;
                                  }
                      children: []
                      pos: 3911
                      length: 196
                    pos: 3633
                    length: 474
                children: []
                pos: 3633
                length: 474
              - type: return_statement
                fields:
                  text: return instance;
                children: []
                pos: 4117
                length: 16
              pos: 3346
              length: 793
          children: []
          pos: 3296
          length: 843
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: createNumber
              children: []
              pos: 4453
              length: 12
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String str
                children: []
                pos: 4466
                length: 10
              pos: 4432
              length: 513
            body:
              type: block
              fields: {}
              children:
              - type: try_statement
                fields:
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: if_statement
                      fields:
                        condition:
                          type: parenthesized_expression
                          fields:
                            expression:
                              type: not_equals
                              fields:
                                left:
                                  type: identifier
                                  fields:
                                    text: str
                                  children: []
                                  pos: 4522
                                  length: 3
                                right:
                                  type: null_literal
                                  fields: {}
                                  children: []
                                  pos: 4529
                                  length: 4
                              children: []
                              pos: 4522
                              length: 11
                          children: []
                          pos: 4520
                          length: 15
                      children:
                      - type: block
                        fields: {}
                        children:
                        - type: if_statement
                          fields:
                            condition:
                              type: parenthesized_expression
                              fields:
                                expression:
                                  type: not_equals
                                  fields:
                                    left:
                                      type: method_invocation
                                      fields:
                                        text: str.indexOf('.')
                                      children: []
                                      pos: 4570
                                      length: 16
                                    right:
                                      type: unary_expression
                                      fields:
                                        text: "-1"
                                      children: []
                                      pos: 4590
                                      length: 2
                                  children: []
                                  pos: 4570
                                  length: 22
                              children: []
                              pos: 4568
                              length: 26
                          children:
                          - type: block
                            fields: {}
                            children:
                            - type: return_statement
                              fields:
                                text: return Double.valueOf(str);
                              children: []
                              pos: 4633
                              length: 27
                            pos: 4611
                            length: 67
                          pos: 4566
                          length: 215
                        pos: 4548
                        length: 247
                      pos: 4518
                      length: 277
                    pos: 4504
                    length: 301
                  excepts:
                    type: excepts
                    fields: {}
                    children:
                    - type: catch_clause
                      fields:
                        text: |-
                          catch (NumberFormatException nfe)
                                  {
                                      System.err.println(nfe.getMessage());
                                  }
                      children: []
                      pos: 4814
                      length: 103
                    pos: 4492
                    length: 425
                children: []
                pos: 4492
                length: 425
              - type: return_statement
                fields:
                  text: return null;
                children: []
                pos: 4927
                length: 12
              pos: 4482
              length: 463
          children: []
          pos: 4432
          length: 513
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: createClass
              children: []
              pos: 5154
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String str
                children: []
                pos: 5166
                length: 10
              pos: 5134
              length: 274
            body:
              type: block
              fields: {}
              children:
              - type: try_statement
                fields:
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: return_statement
                      fields:
                        text: return Class.forName(str);
                      children: []
                      pos: 5218
                      length: 26
                    pos: 5204
                    length: 50
                  excepts:
                    type: excepts
                    fields: {}
                    children:
                    - type: catch_clause
                      fields:
                        text: |-
                          catch (ClassNotFoundException cnfe)
                                  {
                                      System.err.println("Unable to find: " + str);

                                      return null;
                                  }
                      children: []
                      pos: 5263
                      length: 139
                    pos: 5192
                    length: 210
                children: []
                pos: 5192
                length: 210
              pos: 5182
              length: 226
          children: []
          pos: 5134
          length: 274
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: createDate
              children: []
              pos: 5652
              length: 10
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String str
                children: []
                pos: 5663
                length: 10
              pos: 5633
              length: 207
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: Date date = null;
                children: []
                pos: 5689
                length: 17
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: date
                            children: []
                            pos: 5720
                            length: 4
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 5728
                            length: 4
                        children: []
                        pos: 5720
                        length: 12
                    children: []
                    pos: 5719
                    length: 14
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: 'System.err.println("Unable to parse: " + str);'
                    children: []
                    pos: 5756
                    length: 46
                  pos: 5742
                  length: 70
                pos: 5716
                length: 96
              - type: return_statement
                fields:
                  text: return date;
                children: []
                pos: 5822
                length: 12
              pos: 5679
              length: 161
          children: []
          pos: 5633
          length: 207
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: createURL
              children: []
              pos: 6072
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String str
                children: []
                pos: 6082
                length: 10
              pos: 6054
              length: 263
            body:
              type: block
              fields: {}
              children:
              - type: try_statement
                fields:
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: return_statement
                      fields:
                        text: return new URL(str);
                      children: []
                      pos: 6134
                      length: 20
                    pos: 6120
                    length: 44
                  excepts:
                    type: excepts
                    fields: {}
                    children:
                    - type: catch_clause
                      fields:
                        text: |-
                          catch (MalformedURLException mue)
                                  {
                                      System.err.println("Unable to parse: " + str);

                                      return null;
                                  }
                      children: []
                      pos: 6173
                      length: 138
                    pos: 6108
                    length: 203
                children: []
                pos: 6108
                length: 203
              pos: 6098
              length: 219
          children: []
          pos: 6054
          length: 263
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: createFile
              children: []
              pos: 6522
              length: 10
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String str
                children: []
                pos: 6533
                length: 10
              pos: 6503
              length: 83
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return new File(str);
                children: []
                pos: 6559
                length: 21
              pos: 6549
              length: 37
          children: []
          pos: 6503
          length: 83
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: createFiles
              children: []
              pos: 6802
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String str
                children: []
                pos: 6814
                length: 10
              pos: 6781
              length: 154
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return null;
                children: []
                pos: 6917
                length: 12
              pos: 6830
              length: 105
          children: []
          pos: 6781
          length: 154
        pos: 1098
        length: 5839
    children: []
    pos: 1098
    length: 5839
  pos: 0
  length: 6938
after_tree:
  type: program
  fields: {}
  children:
  - type: class_declaration
    fields:
      name:
        type: identifier
        fields:
          text: TypeHandler
        children: []
        pos: 1111
        length: 11
      body:
        type: class_body
        fields: {}
        children:
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: createValue
              children: []
              pos: 1471
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String str
                children: []
                pos: 1483
                length: 10
              pos: 1450
              length: 114
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return createValue(str, (Class) obj);
                children: []
                pos: 1521
                length: 37
              pos: 1511
              length: 53
          children: []
          pos: 1450
          length: 114
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: createValue
              children: []
              pos: 1917
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String str
                children: []
                pos: 1929
                length: 10
              pos: 1896
              length: 1166
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: field_access
                            fields:
                              text: PatternOptionBuilder.STRING_VALUE
                            children: []
                            pos: 1972
                            length: 33
                          right:
                            type: identifier
                            fields:
                              text: clazz
                            children: []
                            pos: 2009
                            length: 5
                        children: []
                        pos: 1972
                        length: 42
                    children: []
                    pos: 1971
                    length: 44
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return str;
                    children: []
                    pos: 2038
                    length: 11
                  pos: 2024
                  length: 35
                pos: 1968
                length: 1088
              pos: 1958
              length: 1104
          children: []
          pos: 1896
          length: 1166
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: createObject
              children: []
              pos: 3317
              length: 12
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String str
                children: []
                pos: 3330
                length: 10
              pos: 3296
              length: 843
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: Class cl = null;
                children: []
                pos: 3356
                length: 16
              - type: try_statement
                fields:
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: expression_statement
                      fields:
                        text: cl = Class.forName(str);
                      children: []
                      pos: 3408
                      length: 24
                    pos: 3394
                    length: 48
                  excepts:
                    type: excepts
                    fields: {}
                    children:
                    - type: catch_clause
                      fields:
                        text: |-
                          catch (ClassNotFoundException cnfe)
                                  {
                                      System.err.println("Unable to find: " + str);

                                      return null;
                                  }
                      children: []
                      pos: 3451
                      length: 139
                    pos: 3382
                    length: 208
                children: []
                pos: 3382
                length: 208
              - type: local_variable_declaration
                fields:
                  text: Object instance = null;
                children: []
                pos: 3600
                length: 23
              - type: try_statement
                fields:
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: expression_statement
                      fields:
                        text: instance = cl.newInstance();
                      children: []
                      pos: 3659
                      length: 28
                    pos: 3645
                    length: 52
                  excepts:
                    type: excepts
                    fields: {}
                    children:
                    - type: catch_clause
                      fields:
                        text: |-
                          catch (InstantiationException cnfe)
                                  {
                                      System.err.println("InstantiationException; Unable to create: "
                                                         + str);

                                      return null;
                                  }
                      children: []
                      pos: 3706
                      length: 196
                    - type: catch_clause
                      fields:
                        text: |-
                          catch (IllegalAccessException cnfe)
                                  {
                                      System.err.println("IllegalAccessException; Unable to create: "
                                                         + str);

                                      return null;
                                  }
                      children: []
                      pos: 3911
                      length: 196
                    pos: 3633
                    length: 474
                children: []
                pos: 3633
                length: 474
              - type: return_statement
                fields:
                  text: return instance;
                children: []
                pos: 4117
                length: 16
              pos: 3346
              length: 793
          children: []
          pos: 3296
          length: 843
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: createNumber
              children: []
              pos: 4453
              length: 12
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String str
                children: []
                pos: 4466
                length: 10
              pos: 4432
              length: 302
            body:
              type: block
              fields: {}
              children:
              - type: try_statement
                fields:
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: return_statement
                      fields:
                        text: return org.apache.commons.lang.math.NumberUtils.createNumber(str);
                      children: []
                      pos: 4518
                      length: 66
                    pos: 4504
                    length: 90
                  excepts:
                    type: excepts
                    fields: {}
                    children:
                    - type: catch_clause
                      fields:
                        text: |-
                          catch (NumberFormatException nfe)
                                  {
                                      System.err.println(nfe.getMessage());
                                  }
                      children: []
                      pos: 4603
                      length: 103
                    pos: 4492
                    length: 214
                children: []
                pos: 4492
                length: 214
              - type: return_statement
                fields:
                  text: return null;
                children: []
                pos: 4716
                length: 12
              pos: 4482
              length: 252
          children: []
          pos: 4432
          length: 302
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: createClass
              children: []
              pos: 4943
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String str
                children: []
                pos: 4955
                length: 10
              pos: 4923
              length: 274
            body:
              type: block
              fields: {}
              children:
              - type: try_statement
                fields:
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: return_statement
                      fields:
                        text: return Class.forName(str);
                      children: []
                      pos: 5007
                      length: 26
                    pos: 4993
                    length: 50
                  excepts:
                    type: excepts
                    fields: {}
                    children:
                    - type: catch_clause
                      fields:
                        text: |-
                          catch (ClassNotFoundException cnfe)
                                  {
                                      System.err.println("Unable to find: " + str);

                                      return null;
                                  }
                      children: []
                      pos: 5052
                      length: 139
                    pos: 4981
                    length: 210
                children: []
                pos: 4981
                length: 210
              pos: 4971
              length: 226
          children: []
          pos: 4923
          length: 274
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: createDate
              children: []
              pos: 5441
              length: 10
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String str
                children: []
                pos: 5452
                length: 10
              pos: 5422
              length: 207
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: Date date = null;
                children: []
                pos: 5478
                length: 17
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: date
                            children: []
                            pos: 5509
                            length: 4
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 5517
                            length: 4
                        children: []
                        pos: 5509
                        length: 12
                    children: []
                    pos: 5508
                    length: 14
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: 'System.err.println("Unable to parse: " + str);'
                    children: []
                    pos: 5545
                    length: 46
                  pos: 5531
                  length: 70
                pos: 5505
                length: 96
              - type: return_statement
                fields:
                  text: return date;
                children: []
                pos: 5611
                length: 12
              pos: 5468
              length: 161
          children: []
          pos: 5422
          length: 207
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: createURL
              children: []
              pos: 5861
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String str
                children: []
                pos: 5871
                length: 10
              pos: 5843
              length: 263
            body:
              type: block
              fields: {}
              children:
              - type: try_statement
                fields:
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: return_statement
                      fields:
                        text: return new URL(str);
                      children: []
                      pos: 5923
                      length: 20
                    pos: 5909
                    length: 44
                  excepts:
                    type: excepts
                    fields: {}
                    children:
                    - type: catch_clause
                      fields:
                        text: |-
                          catch (MalformedURLException mue)
                                  {
                                      System.err.println("Unable to parse: " + str);

                                      return null;
                                  }
                      children: []
                      pos: 5962
                      length: 138
                    pos: 5897
                    length: 203
                children: []
                pos: 5897
                length: 203
              pos: 5887
              length: 219
          children: []
          pos: 5843
          length: 263
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: createFile
              children: []
              pos: 6311
              length: 10
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String str
                children: []
                pos: 6322
                length: 10
              pos: 6292
              length: 83
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return new File(str);
                children: []
                pos: 6348
                length: 21
              pos: 6338
              length: 37
          children: []
          pos: 6292
          length: 83
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: createFiles
              children: []
              pos: 6591
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String str
                children: []
                pos: 6603
                length: 10
              pos: 6570
              length: 154
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return null;
                children: []
                pos: 6706
                length: 12
              pos: 6619
              length: 105
          children: []
          pos: 6570
          length: 154
        pos: 1098
        length: 5628
    children: []
    pos: 1098
    length: 5628
  pos: 0
  length: 6727
text_diff: |
  --- before
  +++ after
  @@ -158,17 +158,7 @@
       {
           try
           {
  -            if( str != null )
  -            {
  -                if( str.indexOf('.') != -1 )
  -                {
  -                    return Double.valueOf(str);
  -                }
  -                else
  -                {
  -                    return Long.valueOf(str);
  -                }
  -            }
  +            return org.apache.commons.lang.math.NumberUtils.createNumber(str);
           }
           catch (NumberFormatException nfe)
           {
tree_diff: |+
  New cluster:
  ===
  insert-node
  ---
  return_statement: return org.apache.commons.lang.math.NumberUtils.createNumber(str); [4518,4584]
  to
  block [4504,4805]
  at 0
  ------------
  ===
  insert-node
  ---
  return_statement: return org.apache.commons.lang.math.NumberUtils.createNumber(str); [4518,4584]
  to
  block [4504,4805]
  at 0

  New cluster:
  Unknown cluster type
  ------------
  ===
  delete-tree
  ---
  if_statement [4518,4795]
      parenthesized_expression [4520,4535]
          not_equals [4522,4533]
              identifier: str [4522,4525]
              null_literal [4529,4533]
      block [4548,4795]
          if_statement [4566,4781]
              parenthesized_expression [4568,4594]
                  not_equals [4570,4592]
                      method_invocation: str.indexOf('.') [4570,4586]
                      unary_expression: -1 [4590,4592]
              block [4611,4678]
                  return_statement: return Double.valueOf(str); [4633,4660]

...
