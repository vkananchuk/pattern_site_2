---
language: java
before_tree:
  type: program
  fields: {}
  children:
  - type: class_declaration
    fields:
      name:
        type: identifier
        fields:
          text: Compiler
        children: []
        pos: 2663
        length: 8
      body:
        type: class_body
        fields: {}
        children:
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType MODULE_DEPENDENCY_ERROR =
                    DiagnosticType.error("JSC_MODULE_DEPENDENCY_ERROR",
                        "Bad dependency: {0} -> {1}. "
                            + "Modules must be listed in dependency order.");
          children: []
          pos: 2702
          length: 216
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType MISSING_ENTRY_ERROR = DiagnosticType.error(
                    "JSC_MISSING_ENTRY_ERROR",
                    "required entry point \"{0}\" never provided");
          children: []
          pos: 2922
          length: 158
        - type: field_declaration
          fields:
            text: CompilerOptions options = null;
          children: []
          pos: 3084
          length: 31
        - type: field_declaration
          fields:
            text: private PassConfig passes = null;
          children: []
          pos: 3119
          length: 33
        - type: field_declaration
          fields:
            text: private List<CompilerInput> externs;
          children: []
          pos: 3180
          length: 36
        - type: field_declaration
          fields:
            text: private List<JSModule> modules;
          children: []
          pos: 3247
          length: 31
        - type: field_declaration
          fields:
            text: private JSModuleGraph moduleGraph;
          children: []
          pos: 3432
          length: 34
        - type: field_declaration
          fields:
            text: private List<CompilerInput> inputs;
          children: []
          pos: 3496
          length: 35
        - type: field_declaration
          fields:
            text: private ErrorManager errorManager;
          children: []
          pos: 3593
          length: 34
        - type: field_declaration
          fields:
            text: private WarningsGuard warningsGuard;
          children: []
          pos: 3675
          length: 36
        - type: field_declaration
          fields:
            text: Node externsRoot;
          children: []
          pos: 3742
          length: 17
        - type: field_declaration
          fields:
            text: Node jsRoot;
          children: []
          pos: 3762
          length: 12
        - type: field_declaration
          fields:
            text: Node externAndJsRoot;
          children: []
          pos: 3777
          length: 21
        - type: field_declaration
          fields:
            text: private Map<String, CompilerInput> inputsByName;
          children: []
          pos: 3802
          length: 48
        - type: field_declaration
          fields:
            text: private SourceMap sourceMap;
          children: []
          pos: 3883
          length: 28
        - type: field_declaration
          fields:
            text: private String externExports = null;
          children: []
          pos: 3963
          length: 36
        - type: field_declaration
          fields:
            text: private int uniqueNameId = 0;
          children: []
          pos: 4094
          length: 29
        - type: field_declaration
          fields:
            text: private boolean useThreads = true;
          children: []
          pos: 4160
          length: 34
        - type: field_declaration
          fields:
            text: private boolean hasRegExpGlobalReferences = true;
          children: []
          pos: 4299
          length: 49
        - type: field_declaration
          fields:
            text: private FunctionInformationMap functionInformationMap;
          children: []
          pos: 4390
          length: 54
        - type: field_declaration
          fields:
            text: private final StringBuilder debugLog = new StringBuilder();
          children: []
          pos: 4479
          length: 59
        - type: field_declaration
          fields:
            text: CodingConvention defaultCodingConvention = new ClosureCodingConvention();
          children: []
          pos: 4595
          length: 73
        - type: field_declaration
          fields:
            text: private JSTypeRegistry typeRegistry;
          children: []
          pos: 4672
          length: 36
        - type: field_declaration
          fields:
            text: private Config parserConfig = null;
          children: []
          pos: 4711
          length: 35
        - type: field_declaration
          fields:
            text: private ReverseAbstractInterpreter abstractInterpreter;
          children: []
          pos: 4750
          length: 55
        - type: field_declaration
          fields:
            text: private TypeValidator typeValidator;
          children: []
          pos: 4808
          length: 36
        - type: field_declaration
          fields:
            text: public PerformanceTracker tracker;
          children: []
          pos: 4848
          length: 34
        - type: field_declaration
          fields:
            text: |-
              private final com.google.javascript.rhino.ErrorReporter oldErrorReporter =
                    RhinoErrorReporter.forOldRhino(this);
          children: []
          pos: 4965
          length: 118
        - type: field_declaration
          fields:
            text: |-
              private final ErrorReporter defaultErrorReporter =
                    RhinoErrorReporter.forNewRhino(this);
          children: []
          pos: 5161
          length: 94
        - type: field_declaration
          fields:
            text: |-
              public static final DiagnosticType OPTIMIZE_LOOP_ERROR = DiagnosticType.error(
                    "JSC_OPTIMIZE_LOOP_ERROR",
                    "Exceeded max number of optimization iterations: {0}");
          children: []
          pos: 5310
          length: 173
        - type: field_declaration
          fields:
            text: |-
              public static final DiagnosticType MOTION_ITERATIONS_ERROR =
                    DiagnosticType.error("JSC_OPTIMIZE_LOOP_ERROR",
                        "Exceeded max number of code motion iterations: {0}");
          children: []
          pos: 5486
          length: 179
        - type: field_declaration
          fields:
            text: private static final long COMPILER_STACK_SIZE = 1048576L;
          children: []
          pos: 5669
          length: 57
        - type: field_declaration
          fields:
            text: |-
              private static final Logger logger =
                    Logger.getLogger("com.google.javascript.jscomp");
          children: []
          pos: 5914
          length: 92
        - type: field_declaration
          fields:
            text: private final PrintStream outStream;
          children: []
          pos: 6010
          length: 36
        - type: field_declaration
          fields:
            text: private GlobalVarReferenceMap globalRefMap = null;
          children: []
          pos: 6050
          length: 50
        - type: constructor_declaration
          fields:
            text: |-
              public Compiler() {
                  this((PrintStream) null);
                }
          children: []
          pos: 6188
          length: 53
        - type: constructor_declaration
          fields:
            text: |-
              public Compiler(PrintStream stream) {
                  addChangeHandler(recentChange);
                  outStream = stream;
                }
          children: []
          pos: 6340
          length: 101
        - type: constructor_declaration
          fields:
            text: |-
              public Compiler(ErrorManager errorManager) {
                  this();
                  setErrorManager(errorManager);
                }
          children: []
          pos: 6515
          length: 95
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setErrorManager
              children: []
              pos: 6742
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: ErrorManager errorManager
                children: []
                pos: 6758
                length: 25
              pos: 6730
              length: 189
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: |-
                    Preconditions.checkNotNull(
                            errorManager, "the error manager cannot be null");
                children: []
                pos: 6791
                length: 86
              - type: expression_statement
                fields:
                  text: this.errorManager = errorManager;
                children: []
                pos: 6882
                length: 33
              pos: 6785
              length: 134
          children: []
          pos: 6730
          length: 189
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: createMessageFormatter
              children: []
              pos: 7062
              length: 22
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 7037
              length: 175
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: boolean colorize = options.shouldColorizeErrorOutput();
                children: []
                pos: 7093
                length: 55
              - type: return_statement
                fields:
                  text: return options.errorFormat.toFormatter(this, colorize);
                children: []
                pos: 7153
                length: 55
              pos: 7087
              length: 125
          children: []
          pos: 7037
          length: 175
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: initOptions
              children: []
              pos: 7342
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: CompilerOptions options
                children: []
                pos: 7354
                length: 23
              pos: 7330
              length: 2149
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: this.options = options;
                children: []
                pos: 7385
                length: 23
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: errorManager
                            children: []
                            pos: 7417
                            length: 12
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 7433
                            length: 4
                        children: []
                        pos: 7417
                        length: 20
                    children: []
                    pos: 7416
                    length: 22
                children:
                - type: block
                  fields: {}
                  children:
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: outStream
                                children: []
                                pos: 7451
                                length: 9
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 7464
                                length: 4
                            children: []
                            pos: 7451
                            length: 17
                        children: []
                        pos: 7450
                        length: 19
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: |-
                            setErrorManager(
                                        new LoggerErrorManager(createMessageFormatter(), logger));
                        children: []
                        pos: 7480
                        length: 87
                      pos: 7470
                      length: 105
                    pos: 7447
                    length: 364
                  pos: 7439
                  length: 378
                pos: 7413
                length: 404
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: options.enables(DiagnosticGroups.CHECK_TYPES)
                        children: []
                        pos: 7889
                        length: 45
                    children: []
                    pos: 7888
                    length: 47
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: options.checkTypes = true;
                    children: []
                    pos: 7944
                    length: 26
                  pos: 7936
                  length: 40
                pos: 7885
                length: 533
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: options.checkGlobalThisLevel.isOn()
                        children: []
                        pos: 8428
                        length: 35
                    children: []
                    pos: 8427
                    length: 37
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: |-
                        options.setWarningLevel(
                                  DiagnosticGroups.GLOBAL_THIS,
                                  options.checkGlobalThisLevel);
                    children: []
                    pos: 8473
                    length: 105
                  pos: 8465
                  length: 119
                pos: 8424
                length: 160
              - type: local_variable_declaration
                fields:
                  text: List<WarningsGuard> guards = Lists.newArrayList();
                children: []
                pos: 8628
                length: 50
              - type: expression_statement
                fields:
                  text: |-
                    guards.add(
                            new SuppressDocWarningsGuard(
                                getDiagnosticGroups().getRegisteredGroups()));
                children: []
                pos: 8683
                length: 108
              - type: expression_statement
                fields:
                  text: guards.add(options.getWarningsGuard());
                children: []
                pos: 8796
                length: 39
              - type: local_variable_declaration
                fields:
                  text: ComposeWarningsGuard composedGuards = new ComposeWarningsGuard(guards);
                children: []
                pos: 8841
                length: 71
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: and
                        fields:
                          left:
                            type: unary_expression
                            fields:
                              text: "!options.checkSymbols"
                            children: []
                            pos: 9208
                            length: 21
                          right:
                            type: unary_expression
                            fields:
                              text: "!composedGuards.enables(DiagnosticGroups.CHECK_VARIABLES)"
                            children: []
                            pos: 9241
                            length: 57
                        children: []
                        pos: 9208
                        length: 90
                    children: []
                    pos: 9207
                    length: 92
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: |-
                        composedGuards.addGuard(new DiagnosticGroupWarningsGuard(
                                  DiagnosticGroups.CHECK_VARIABLES, CheckLevel.OFF));
                    children: []
                    pos: 9308
                    length: 119
                  pos: 9300
                  length: 133
                pos: 9204
                length: 229
              - type: expression_statement
                fields:
                  text: this.warningsGuard = composedGuards;
                children: []
                pos: 9439
                length: 36
              pos: 7379
              length: 2100
          children: []
          pos: 7330
          length: 2149
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: init
              children: []
              pos: 9569
              length: 4
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSSourceFile[] externs
                children: []
                pos: 9574
                length: 22
              pos: 9557
              length: 212
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: |-
                    init(Lists.<JSSourceFile>newArrayList(externs),
                            Lists.<JSSourceFile>newArrayList(inputs), options);
                children: []
                pos: 9658
                length: 107
              pos: 9652
              length: 117
          children: []
          pos: 9557
          length: 212
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: init
              children: []
              pos: 9859
              length: 4
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: List<JSSourceFile> externs
                children: []
                pos: 9864
                length: 26
              pos: 9847
              length: 294
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: JSModule module = new JSModule("[singleton]");
                children: []
                pos: 9956
                length: 46
              - type: enhanced_for_statement
                fields:
                  text: |-
                    for (JSSourceFile input : inputs) {
                          module.add(input);
                        }
                children: []
                pos: 10007
                length: 66
              - type: expression_statement
                fields:
                  text: initModules(externs, Lists.newArrayList(module), options);
                children: []
                pos: 10079
                length: 58
              pos: 9950
              length: 191
          children: []
          pos: 9847
          length: 294
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: init
              children: []
              pos: 10266
              length: 4
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSSourceFile[] externs
                children: []
                pos: 10271
                length: 22
              pos: 10254
              length: 214
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: |-
                    initModules(Lists.<JSSourceFile>newArrayList(externs),
                             Lists.<JSModule>newArrayList(modules), options);
                children: []
                pos: 10352
                length: 112
              pos: 10346
              length: 122
          children: []
          pos: 10254
          length: 214
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: initModules
              children: []
              pos: 10593
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: List<JSSourceFile> externs
                children: []
                pos: 10612
                length: 26
              pos: 10581
              length: 969
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: initOptions(options);
                children: []
                pos: 10701
                length: 21
              - type: expression_statement
                fields:
                  text: checkFirstModule(modules);
                children: []
                pos: 10728
                length: 26
              - type: expression_statement
                fields:
                  text: fillEmptyModules(modules);
                children: []
                pos: 10759
                length: 26
              - type: expression_statement
                fields:
                  text: this.externs = makeCompilerInput(externs, true);
                children: []
                pos: 10791
                length: 48
              - type: expression_statement
                fields:
                  text: this.modules = modules;
                children: []
                pos: 10947
                length: 23
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: greater_than
                        fields:
                          left:
                            type: method_invocation
                            fields:
                              text: modules.size()
                            children: []
                            pos: 10979
                            length: 14
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '1'
                            children: []
                            pos: 10996
                            length: 1
                        children: []
                        pos: 10979
                        length: 18
                    children: []
                    pos: 10978
                    length: 20
                children:
                - type: block
                  fields: {}
                  children:
                  - type: try_statement
                    fields:
                      body:
                        type: block
                        fields: {}
                        children:
                        - type: expression_statement
                          fields:
                            text: this.moduleGraph = new JSModuleGraph(modules);
                          children: []
                          pos: 11021
                          length: 46
                        pos: 11011
                        length: 64
                      excepts:
                        type: excepts
                        fields: {}
                        children:
                        - type: catch_clause
                          fields:
                            text: |-
                              catch (JSModuleGraph.ModuleDependenceException e) {
                                      // problems with the module format.  Report as an error.  The
                                      // message gives all details.
                                      report(JSError.make(MODULE_DEPENDENCY_ERROR,
                                              e.getModule().getName(), e.getDependentModule().getName()));
                                      return;
                                    }
                          children: []
                          pos: 11076
                          length: 313
                        pos: 11007
                        length: 382
                    children: []
                    pos: 11007
                    length: 382
                  pos: 10999
                  length: 396
                pos: 10975
                length: 464
              - type: expression_statement
                fields:
                  text: this.inputs = getAllInputsFromModules(modules);
                children: []
                pos: 11445
                length: 47
              - type: expression_statement
                fields:
                  text: initBasedOnOptions();
                children: []
                pos: 11497
                length: 21
              - type: expression_statement
                fields:
                  text: initInputsByNameMap();
                children: []
                pos: 11524
                length: 22
              pos: 10695
              length: 855
          children: []
          pos: 10581
          length: 969
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: initBasedOnOptions
              children: []
              pos: 11649
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 11636
              length: 192
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: field_access
                            fields:
                              text: options.sourceMapOutputPath
                            children: []
                            pos: 11723
                            length: 27
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 11754
                            length: 4
                        children: []
                        pos: 11723
                        length: 35
                    children: []
                    pos: 11722
                    length: 37
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: sourceMap = options.sourceMapFormat.getInstance();
                    children: []
                    pos: 11768
                    length: 50
                  pos: 11760
                  length: 64
                pos: 11719
                length: 105
              pos: 11670
              length: 158
          children: []
          pos: 11636
          length: 192
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: makeCompilerInput
              children: []
              pos: 11860
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: List<JSSourceFile> files
                children: []
                pos: 11885
                length: 24
              pos: 11832
              length: 273
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: List<CompilerInput> inputs = Lists.newArrayList();
                children: []
                pos: 11935
                length: 50
              - type: enhanced_for_statement
                fields:
                  text: |-
                    for (JSSourceFile file : files) {
                          inputs.add(new CompilerInput(file, isExtern));
                        }
                children: []
                pos: 11990
                length: 92
              - type: return_statement
                fields:
                  text: return inputs;
                children: []
                pos: 12087
                length: 14
              pos: 11929
              length: 176
          children: []
          pos: 11832
          length: 273
        - type: field_declaration
          fields:
            text: |-
              private static final DiagnosticType EMPTY_MODULE_LIST_ERROR =
                    DiagnosticType.error("JSC_EMPTY_MODULE_LIST_ERROR",
                        "At least one module must be provided");
          children: []
          pos: 12109
          length: 170
        - type: field_declaration
          fields:
            text: |-
              private static final DiagnosticType EMPTY_ROOT_MODULE_ERROR =
                    DiagnosticType.error("JSC_EMPTY_ROOT_MODULE_ERROR",
                        "Root module '{0}' must contain at least one source code input");
          children: []
          pos: 12283
          length: 195
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: checkFirstModule
              children: []
              pos: 12628
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: List<JSModule> modules
                children: []
                pos: 12645
                length: 22
              pos: 12615
              length: 386
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: modules.isEmpty()
                        children: []
                        pos: 12679
                        length: 17
                    children: []
                    pos: 12678
                    length: 19
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: report(JSError.make(EMPTY_MODULE_LIST_ERROR));
                    children: []
                    pos: 12706
                    length: 46
                  pos: 12698
                  length: 60
                pos: 12675
                length: 322
              pos: 12669
              length: 332
          children: []
          pos: 12615
          length: 386
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: fillEmptyModules
              children: []
              pos: 13137
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: List<JSModule> modules
                children: []
                pos: 13154
                length: 22
              pos: 13117
              length: 237
            body:
              type: block
              fields: {}
              children:
              - type: enhanced_for_statement
                fields:
                  text: |-
                    for (JSModule module : modules) {
                          if (module.getInputs().isEmpty()) {
                            module.add(JSSourceFile.fromCode("[" + module.getName() + "]", ""));
                          }
                        }
                children: []
                pos: 13184
                length: 166
              pos: 13178
              length: 176
          children: []
          pos: 13117
          length: 237
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: rebuildInputsFromModules
              children: []
              pos: 13612
              length: 24
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 13600
              length: 118
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: inputs = getAllInputsFromModules(modules);
                children: []
                pos: 13645
                length: 42
              - type: expression_statement
                fields:
                  text: initInputsByNameMap();
                children: []
                pos: 13692
                length: 22
              pos: 13639
              length: 79
          children: []
          pos: 13600
          length: 118
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getAllInputsFromModules
              children: []
              pos: 13863
              length: 23
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: List<JSModule> modules
                children: []
                pos: 13894
                length: 22
              pos: 13828
              length: 623
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: List<CompilerInput> inputs = Lists.newArrayList();
                children: []
                pos: 13924
                length: 50
              - type: local_variable_declaration
                fields:
                  text: Map<String, JSModule> inputMap = Maps.newHashMap();
                children: []
                pos: 13979
                length: 51
              - type: enhanced_for_statement
                fields:
                  text: |-
                    for (JSModule module : modules) {
                          for (CompilerInput input : module.getInputs()) {
                            String inputName = input.getName();

                            // NOTE(nicksantos): If an input is in more than one module,
                            // it will show up twice in the inputs list, and then we
                            // will get an error down the line.
                            inputs.add(input);
                            inputMap.put(inputName, module);
                          }
                        }
                children: []
                pos: 14035
                length: 393
              - type: return_statement
                fields:
                  text: return inputs;
                children: []
                pos: 14433
                length: 14
              pos: 13918
              length: 533
          children: []
          pos: 13828
          length: 623
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType DUPLICATE_INPUT =
                    DiagnosticType.error("JSC_DUPLICATE_INPUT", "Duplicate input: {0}");
          children: []
          pos: 14455
          length: 120
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType DUPLICATE_EXTERN_INPUT =
                    DiagnosticType.error("JSC_DUPLICATE_EXTERN_INPUT",
                        "Duplicate extern input: {0}");
          children: []
          pos: 14578
          length: 151
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: initInputsByNameMap
              children: []
              pos: 14850
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 14845
              length: 585
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: inputsByName = new HashMap<String, CompilerInput>();
                children: []
                pos: 14878
                length: 52
              - type: enhanced_for_statement
                fields:
                  text: |-
                    for (CompilerInput input : externs) {
                          String name = input.getName();
                          if (!inputsByName.containsKey(name)) {
                            inputsByName.put(name, input);
                          } else {
                            report(JSError.make(DUPLICATE_EXTERN_INPUT, name));
                          }
                        }
                children: []
                pos: 14935
                length: 247
              - type: enhanced_for_statement
                fields:
                  text: |-
                    for (CompilerInput input : inputs) {
                          String name = input.getName();
                          if (!inputsByName.containsKey(name)) {
                            inputsByName.put(name, input);
                          } else {
                            report(JSError.make(DUPLICATE_INPUT, name));
                          }
                        }
                children: []
                pos: 15187
                length: 239
              pos: 14872
              length: 558
          children: []
          pos: 14845
          length: 585
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: compile
              children: []
              pos: 15448
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSSourceFile extern
                children: []
                pos: 15463
                length: 19
              pos: 15434
              length: 168
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return compile(extern, new JSSourceFile[] { input }, options);
                children: []
                pos: 15536
                length: 62
              pos: 15529
              length: 73
          children: []
          pos: 15434
          length: 168
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: compile
              children: []
              pos: 15620
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSSourceFile extern
                children: []
                pos: 15635
                length: 19
              pos: 15606
              length: 170
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return compile(new JSSourceFile[] { extern }, input, options);
                children: []
                pos: 15710
                length: 62
              pos: 15703
              length: 73
          children: []
          pos: 15606
          length: 170
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: compile
              children: []
              pos: 15794
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSSourceFile extern
                children: []
                pos: 15809
                length: 19
              pos: 15780
              length: 170
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return compile(new JSSourceFile[] { extern }, modules, options);
                children: []
                pos: 15882
                length: 64
              pos: 15875
              length: 75
          children: []
          pos: 15780
          length: 170
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: compile
              children: []
              pos: 16012
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSSourceFile[] externs
                children: []
                pos: 16020
                length: 22
              pos: 15998
              length: 277
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return compile(Lists.<JSSourceFile>newArrayList(externs),
                            Lists.<JSSourceFile>newArrayList(inputs),
                            options);
                children: []
                pos: 16146
                length: 125
              pos: 16140
              length: 135
          children: []
          pos: 15998
          length: 277
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: compile
              children: []
              pos: 16337
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: List<JSSourceFile> externs
                children: []
                pos: 16345
                length: 26
              pos: 16323
              length: 491
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: Preconditions.checkState(jsRoot == null);
                children: []
                pos: 16491
                length: 41
              - type: try_statement
                fields:
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: expression_statement
                      fields:
                        text: init(externs, inputs, options);
                      children: []
                      pos: 16550
                      length: 31
                    - type: if_statement
                      fields:
                        condition:
                          type: parenthesized_expression
                          fields:
                            expression:
                              type: method_invocation
                              fields:
                                text: hasErrors()
                              children: []
                              pos: 16592
                              length: 11
                          children: []
                          pos: 16591
                          length: 13
                      children:
                      - type: block
                        fields: {}
                        children:
                        - type: return_statement
                          fields:
                            text: return getResult();
                          children: []
                          pos: 16615
                          length: 19
                        pos: 16605
                        length: 37
                      pos: 16588
                      length: 54
                    - type: return_statement
                      fields:
                        text: return compile();
                      children: []
                      pos: 16649
                      length: 17
                    pos: 16542
                    length: 130
                  excepts:
                    type: excepts
                    fields: {}
                    children: []
                    pos: 16538
                    length: 272
                children: []
                pos: 16538
                length: 272
              pos: 16431
              length: 383
          children: []
          pos: 16323
          length: 491
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: compile
              children: []
              pos: 16877
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSSourceFile[] externs
                children: []
                pos: 16885
                length: 22
              pos: 16863
              length: 278
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return compileModules(Lists.<JSSourceFile>newArrayList(externs),
                            Lists.<JSModule>newArrayList(modules),
                            options);
                children: []
                pos: 17008
                length: 129
              pos: 17002
              length: 139
          children: []
          pos: 16863
          length: 278
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: compileModules
              children: []
              pos: 17204
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: List<JSSourceFile> externs
                children: []
                pos: 17219
                length: 26
              pos: 17190
              length: 503
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: Preconditions.checkState(jsRoot == null);
                children: []
                pos: 17362
                length: 41
              - type: try_statement
                fields:
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: expression_statement
                      fields:
                        text: initModules(externs, modules, options);
                      children: []
                      pos: 17421
                      length: 39
                    - type: if_statement
                      fields:
                        condition:
                          type: parenthesized_expression
                          fields:
                            expression:
                              type: method_invocation
                              fields:
                                text: hasErrors()
                              children: []
                              pos: 17471
                              length: 11
                          children: []
                          pos: 17470
                          length: 13
                      children:
                      - type: block
                        fields: {}
                        children:
                        - type: return_statement
                          fields:
                            text: return getResult();
                          children: []
                          pos: 17494
                          length: 19
                        pos: 17484
                        length: 37
                      pos: 17467
                      length: 54
                    - type: return_statement
                      fields:
                        text: return compile();
                      children: []
                      pos: 17528
                      length: 17
                    pos: 17413
                    length: 138
                  excepts:
                    type: excepts
                    fields: {}
                    children: []
                    pos: 17409
                    length: 280
                children: []
                pos: 17409
                length: 280
              pos: 17302
              length: 391
          children: []
          pos: 17190
          length: 503
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: compile
              children: []
              pos: 17712
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 17697
              length: 203
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return runInCompilerThread(new Callable<Result>() {
                          public Result call() throws Exception {
                            compileInternal();
                            return getResult();
                          }
                        });
                children: []
                pos: 17728
                length: 168
              pos: 17722
              length: 178
          children: []
          pos: 17697
          length: 203
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: disableThreads
              children: []
              pos: 18021
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 18009
              length: 58
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: useThreads = false;
                children: []
                pos: 18044
                length: 19
              pos: 18038
              length: 29
          children: []
          pos: 18009
          length: 58
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: runInCompilerThread
              children: []
              pos: 18085
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final Callable<T> callable
                children: []
                pos: 18105
                length: 26
              pos: 18071
              length: 136
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return runCallable(callable, useThreads, options.tracer.isOn());
                children: []
                pos: 18139
                length: 64
              pos: 18133
              length: 74
          children: []
          pos: 18071
          length: 136
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: runCallableWithLargeStack
              children: []
              pos: 18224
              length: 25
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final Callable<T> callable
                children: []
                pos: 18250
                length: 26
              pos: 18211
              length: 119
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return runCallable(callable, true, false);
                children: []
                pos: 18284
                length: 42
              pos: 18278
              length: 52
          children: []
          pos: 18211
          length: 119
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: runCallable
              children: []
              pos: 18380
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final Callable<T> callable
                children: []
                pos: 18399
                length: 26
              pos: 18334
              length: 1579
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: final boolean dumpTraceReport = trace;
                children: []
                pos: 18859
                length: 38
              - type: local_variable_declaration
                fields:
                  text: final Object[] result = new Object[1];
                children: []
                pos: 18902
                length: 38
              - type: local_variable_declaration
                fields:
                  text: final Throwable[] exception = new Throwable[1];
                children: []
                pos: 18945
                length: 47
              - type: local_variable_declaration
                fields:
                  text: |-
                    Runnable runnable = new Runnable() {
                          public void run() {
                            try {
                              if (dumpTraceReport) {
                                Tracer.initCurrentThreadTrace();
                              }
                              result[0] = callable.call();
                            } catch (Throwable e) {
                              exception[0] = e;
                            } finally {
                              if (dumpTraceReport) {
                                Tracer.logAndClearCurrentThreadTrace();
                              }
                            }
                          }
                        };
                children: []
                pos: 18997
                length: 407
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: identifier
                        fields:
                          text: useLargeStackThread
                        children: []
                        pos: 19414
                        length: 19
                    children: []
                    pos: 19413
                    length: 21
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: Thread th = new Thread(null, runnable, "jscompiler", COMPILER_STACK_SIZE);
                    children: []
                    pos: 19443
                    length: 74
                  - type: expression_statement
                    fields:
                      text: th.start();
                    children: []
                    pos: 19524
                    length: 11
                  - type: while_statement
                    fields:
                      text: |-
                        while (true) {
                                try {
                                  th.join();
                                  break;
                                } catch (InterruptedException ignore) {
                                  // ignore
                                }
                              }
                    children: []
                    pos: 19542
                    length: 152
                  pos: 19435
                  length: 265
                pos: 19410
                length: 325
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: array_access
                            fields:
                              array:
                                type: identifier
                                fields:
                                  text: exception
                                children: []
                                pos: 19805
                                length: 9
                              index:
                                type: decimal_integer_literal
                                fields:
                                  text: '0'
                                children: []
                                pos: 19815
                                length: 1
                            children: []
                            pos: 19805
                            length: 12
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 19821
                            length: 4
                        children: []
                        pos: 19805
                        length: 20
                    children: []
                    pos: 19804
                    length: 22
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: throw new RuntimeException(exception[0]);
                    children: []
                    pos: 19835
                    length: 41
                  pos: 19827
                  length: 55
                pos: 19801
                length: 81
              - type: return_statement
                fields:
                  text: return (T) result[0];
                children: []
                pos: 19888
                length: 21
              pos: 18471
              length: 1442
          children: []
          pos: 18334
          length: 1579
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: compileInternal
              children: []
              pos: 19930
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 19917
              length: 828
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: parse();
                children: []
                pos: 19954
                length: 8
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: hasErrors()
                        children: []
                        pos: 19971
                        length: 11
                    children: []
                    pos: 19970
                    length: 13
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return;
                    children: []
                    pos: 19992
                    length: 7
                  pos: 19984
                  length: 21
                pos: 19967
                length: 38
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: unary_expression
                        fields:
                          text: "!precheck()"
                        children: []
                        pos: 20015
                        length: 11
                    children: []
                    pos: 20014
                    length: 13
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return;
                    children: []
                    pos: 20036
                    length: 7
                  pos: 20028
                  length: 21
                pos: 20011
                length: 38
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: field_access
                        fields:
                          text: options.nameAnonymousFunctionsOnly
                        children: []
                        pos: 20059
                        length: 34
                    children: []
                    pos: 20058
                    length: 36
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: check();
                    children: []
                    pos: 20174
                    length: 8
                  - type: return_statement
                    fields:
                      text: return;
                    children: []
                    pos: 20189
                    length: 7
                  pos: 20095
                  length: 107
                pos: 20055
                length: 147
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: unary_expression
                        fields:
                          text: "!options.skipAllPasses"
                        children: []
                        pos: 20212
                        length: 22
                    children: []
                    pos: 20211
                    length: 24
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: check();
                    children: []
                    pos: 20244
                    length: 8
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: method_invocation
                            fields:
                              text: hasErrors()
                            children: []
                            pos: 20263
                            length: 11
                        children: []
                        pos: 20262
                        length: 13
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: return_statement
                        fields:
                          text: return;
                        children: []
                        pos: 20286
                        length: 7
                      pos: 20276
                      length: 25
                    pos: 20259
                    length: 42
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: or
                            fields:
                              left:
                                type: method_invocation
                                fields:
                                  text: options.isExternExportsEnabled()
                                children: []
                                pos: 20313
                                length: 32
                              right:
                                type: not_equals
                                fields:
                                  left:
                                    type: field_access
                                    fields:
                                      text: options.externExportsPath
                                    children: []
                                    pos: 20359
                                    length: 25
                                  right:
                                    type: null_literal
                                    fields: {}
                                    children: []
                                    pos: 20388
                                    length: 4
                                children: []
                                pos: 20359
                                length: 33
                            children: []
                            pos: 20313
                            length: 79
                        children: []
                        pos: 20312
                        length: 81
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: externExports();
                        children: []
                        pos: 20404
                        length: 16
                      pos: 20394
                      length: 34
                    pos: 20309
                    length: 119
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: unary_expression
                            fields:
                              text: "!options.ideMode"
                            children: []
                            pos: 20518
                            length: 16
                        children: []
                        pos: 20517
                        length: 18
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: optimize();
                        children: []
                        pos: 20546
                        length: 11
                      pos: 20536
                      length: 29
                    pos: 20514
                    length: 51
                  pos: 20236
                  length: 335
                pos: 20208
                length: 363
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: field_access
                        fields:
                          text: options.recordFunctionInformation
                        children: []
                        pos: 20581
                        length: 33
                    children: []
                    pos: 20580
                    length: 35
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: recordFunctionInformation();
                    children: []
                    pos: 20624
                    length: 28
                  pos: 20616
                  length: 42
                pos: 20577
                length: 81
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: field_access
                            fields:
                              text: options.devMode
                            children: []
                            pos: 20668
                            length: 15
                          right:
                            type: field_access
                            fields:
                              text: DevMode.START_AND_END
                            children: []
                            pos: 20687
                            length: 21
                        children: []
                        pos: 20668
                        length: 40
                    children: []
                    pos: 20667
                    length: 42
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: runSanityCheck();
                    children: []
                    pos: 20718
                    length: 17
                  pos: 20710
                  length: 31
                pos: 20664
                length: 77
              pos: 19948
              length: 797
          children: []
          pos: 19917
          length: 828
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: parse
              children: []
              pos: 20761
              length: 5
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 20749
              length: 44
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: parseInputs();
                children: []
                pos: 20775
                length: 14
              pos: 20769
              length: 24
          children: []
          pos: 20749
          length: 44
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getPassConfig
              children: []
              pos: 20808
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 20797
              length: 126
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: passes
                            children: []
                            pos: 20834
                            length: 6
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 20844
                            length: 4
                        children: []
                        pos: 20834
                        length: 14
                    children: []
                    pos: 20833
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: passes = createPassConfigInternal();
                    children: []
                    pos: 20858
                    length: 36
                  pos: 20850
                  length: 50
                pos: 20830
                length: 70
              - type: return_statement
                fields:
                  text: return passes;
                children: []
                pos: 20905
                length: 14
              pos: 20824
              length: 99
          children: []
          pos: 20797
          length: 126
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: createPassConfigInternal
              children: []
              pos: 21047
              length: 24
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 21036
              length: 86
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return new DefaultPassConfig(options);
                children: []
                pos: 21080
                length: 38
              pos: 21074
              length: 48
          children: []
          pos: 21036
          length: 86
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setPassConfig
              children: []
              pos: 21339
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: PassConfig passes
                children: []
                pos: 21353
                length: 17
              pos: 21327
              length: 543
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: Preconditions.checkNotNull(passes);
                children: []
                pos: 21687
                length: 35
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: field_access
                            fields:
                              text: this.passes
                            children: []
                            pos: 21732
                            length: 11
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 21747
                            length: 4
                        children: []
                        pos: 21732
                        length: 19
                    children: []
                    pos: 21731
                    length: 21
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: throw new IllegalStateException("this.passes has already
                        been assigned");
                    children: []
                    pos: 21761
                    length: 73
                  pos: 21753
                  length: 87
                pos: 21728
                length: 112
              - type: expression_statement
                fields:
                  text: this.passes = passes;
                children: []
                pos: 21845
                length: 21
              pos: 21372
              length: 498
          children: []
          pos: 21327
          length: 543
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: precheck
              children: []
              pos: 22077
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 22069
              length: 41
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return true;
                children: []
                pos: 22094
                length: 12
              pos: 22088
              length: 22
          children: []
          pos: 22069
          length: 41
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: check
              children: []
              pos: 22126
              length: 5
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 22114
              length: 1076
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: runCustomPasses(CustomPassExecutionTime.BEFORE_CHECKS);
                children: []
                pos: 22140
                length: 55
              - type: local_variable_declaration
                fields:
                  text: PhaseOptimizer phaseOptimizer = new PhaseOptimizer(this, tracker);
                children: []
                pos: 22201
                length: 66
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: field_access
                            fields:
                              text: options.devMode
                            children: []
                            pos: 22276
                            length: 15
                          right:
                            type: field_access
                            fields:
                              text: DevMode.EVERY_PASS
                            children: []
                            pos: 22295
                            length: 18
                        children: []
                        pos: 22276
                        length: 37
                    children: []
                    pos: 22275
                    length: 39
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: phaseOptimizer.setSanityCheck(sanityCheck);
                    children: []
                    pos: 22323
                    length: 43
                  pos: 22315
                  length: 57
                pos: 22272
                length: 100
              - type: expression_statement
                fields:
                  text: phaseOptimizer.consume(getPassConfig().getChecks());
                children: []
                pos: 22377
                length: 52
              - type: expression_statement
                fields:
                  text: phaseOptimizer.process(externsRoot, jsRoot);
                children: []
                pos: 22434
                length: 44
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: hasErrors()
                        children: []
                        pos: 22487
                        length: 11
                    children: []
                    pos: 22486
                    length: 13
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return;
                    children: []
                    pos: 22508
                    length: 7
                  pos: 22500
                  length: 21
                pos: 22483
                length: 38
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: field_access
                        fields:
                          text: options.nameAnonymousFunctionsOnly
                        children: []
                        pos: 22608
                        length: 34
                    children: []
                    pos: 22607
                    length: 36
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return;
                    children: []
                    pos: 22652
                    length: 7
                  pos: 22644
                  length: 21
                pos: 22604
                length: 61
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: field_access
                        fields:
                          text: options.removeTryCatchFinally
                        children: []
                        pos: 22675
                        length: 29
                    children: []
                    pos: 22674
                    length: 31
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: removeTryCatchFinally();
                    children: []
                    pos: 22714
                    length: 24
                  pos: 22706
                  length: 38
                pos: 22671
                length: 73
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: or
                            fields:
                              left:
                                type: or
                                fields:
                                  left:
                                    type: or
                                    fields:
                                      left:
                                        type: method_invocation
                                        fields:
                                          text: options.getTweakProcessing().shouldStrip()
                                        children: []
                                        pos: 22754
                                        length: 42
                                      right:
                                        type: unary_expression
                                        fields:
                                          text: "!options.stripTypes.isEmpty()"
                                        children: []
                                        pos: 22808
                                        length: 29
                                    children: []
                                    pos: 22754
                                    length: 83
                                  right:
                                    type: unary_expression
                                    fields:
                                      text: "!options.stripNameSuffixes.isEmpty()"
                                    children: []
                                    pos: 22849
                                    length: 36
                                children: []
                                pos: 22754
                                length: 131
                              right:
                                type: unary_expression
                                fields:
                                  text: "!options.stripTypePrefixes.isEmpty()"
                                children: []
                                pos: 22897
                                length: 36
                            children: []
                            pos: 22754
                            length: 179
                          right:
                            type: unary_expression
                            fields:
                              text: "!options.stripNamePrefixes.isEmpty()"
                            children: []
                            pos: 22945
                            length: 36
                        children: []
                        pos: 22754
                        length: 227
                    children: []
                    pos: 22753
                    length: 229
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: |-
                        stripCode(options.stripTypes, options.stripNameSuffixes,
                                  options.stripTypePrefixes, options.stripNamePrefixes);
                    children: []
                    pos: 22991
                    length: 121
                  pos: 22983
                  length: 135
                pos: 22750
                length: 368
              - type: expression_statement
                fields:
                  text: runCustomPasses(CustomPassExecutionTime.BEFORE_OPTIMIZATIONS);
                children: []
                pos: 23124
                length: 62
              pos: 22134
              length: 1056
          children: []
          pos: 22114
          length: 1076
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: externExports
              children: []
              pos: 23207
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 23194
              length: 262
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: logger.info("Creating extern file for exports");
                children: []
                pos: 23229
                length: 48
              - type: expression_statement
                fields:
                  text: startPass("externExports");
                children: []
                pos: 23282
                length: 27
              - type: local_variable_declaration
                fields:
                  text: ExternExportsPass pass = new ExternExportsPass(this);
                children: []
                pos: 23315
                length: 53
              - type: expression_statement
                fields:
                  text: process(pass);
                children: []
                pos: 23373
                length: 14
              - type: expression_statement
                fields:
                  text: externExports = pass.getGeneratedExterns();
                children: []
                pos: 23393
                length: 43
              - type: expression_statement
                fields:
                  text: endPass();
                children: []
                pos: 23442
                length: 10
              pos: 23223
              length: 233
          children: []
          pos: 23194
          length: 262
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: process
              children: []
              pos: 23477
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: CompilerPass p
                children: []
                pos: 23485
                length: 14
              pos: 23460
              length: 82
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: p.process(externsRoot, jsRoot);
                children: []
                pos: 23507
                length: 31
              pos: 23501
              length: 41
          children: []
          pos: 23460
          length: 82
        - type: field_declaration
          fields:
            text: |-
              private final PassFactory sanityCheck =
                    new PassFactory("sanityCheck", false) {
                  @Override
                  protected CompilerPass createInternal(AbstractCompiler compiler) {
                    return new SanityCheck(compiler);
                  }
                };
          children: []
          pos: 23546
          length: 221
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: maybeSanityCheck
              children: []
              pos: 23784
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 23771
              length: 116
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: field_access
                            fields:
                              text: options.devMode
                            children: []
                            pos: 23813
                            length: 15
                          right:
                            type: field_access
                            fields:
                              text: DevMode.EVERY_PASS
                            children: []
                            pos: 23832
                            length: 18
                        children: []
                        pos: 23813
                        length: 37
                    children: []
                    pos: 23812
                    length: 39
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: runSanityCheck();
                    children: []
                    pos: 23860
                    length: 17
                  pos: 23852
                  length: 31
                pos: 23809
                length: 74
              pos: 23803
              length: 84
          children: []
          pos: 23771
          length: 116
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: runSanityCheck
              children: []
              pos: 23904
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 23891
              length: 94
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: sanityCheck.create(this).process(externsRoot, jsRoot);
                children: []
                pos: 23927
                length: 54
              pos: 23921
              length: 64
          children: []
          pos: 23891
          length: 94
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: removeTryCatchFinally
              children: []
              pos: 24070
              length: 21
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 24065
              length: 199
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: logger.info("Remove try/catch/finally");
                children: []
                pos: 24100
                length: 40
              - type: expression_statement
                fields:
                  text: startPass("removeTryCatchFinally");
                children: []
                pos: 24145
                length: 35
              - type: local_variable_declaration
                fields:
                  text: RemoveTryCatch r = new RemoveTryCatch(this);
                children: []
                pos: 24185
                length: 44
              - type: expression_statement
                fields:
                  text: process(r);
                children: []
                pos: 24234
                length: 11
              - type: expression_statement
                fields:
                  text: endPass();
                children: []
                pos: 24250
                length: 10
              pos: 24094
              length: 170
          children: []
          pos: 24065
          length: 199
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: stripCode
              children: []
              pos: 24413
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Set<String> stripTypes
                children: []
                pos: 24423
                length: 22
              pos: 24408
              length: 441
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: logger.info("Strip code");
                children: []
                pos: 24552
                length: 26
              - type: expression_statement
                fields:
                  text: startPass("stripCode");
                children: []
                pos: 24583
                length: 23
              - type: local_variable_declaration
                fields:
                  text: |-
                    StripCode r = new StripCode(this, stripTypes, stripNameSuffixes,
                            stripTypePrefixes, stripNamePrefixes);
                children: []
                pos: 24611
                length: 111
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: options.getTweakProcessing().shouldStrip()
                        children: []
                        pos: 24731
                        length: 42
                    children: []
                    pos: 24730
                    length: 44
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: r.enableTweakStripping();
                    children: []
                    pos: 24783
                    length: 25
                  pos: 24775
                  length: 39
                pos: 24727
                length: 87
              - type: expression_statement
                fields:
                  text: process(r);
                children: []
                pos: 24819
                length: 11
              - type: expression_statement
                fields:
                  text: endPass();
                children: []
                pos: 24835
                length: 10
              pos: 24546
              length: 303
          children: []
          pos: 24408
          length: 441
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: runCustomPasses
              children: []
              pos: 24951
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: CustomPassExecutionTime executionTime
                children: []
                pos: 24967
                length: 37
              pos: 24938
              length: 351
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: field_access
                            fields:
                              text: options.customPasses
                            children: []
                            pos: 25016
                            length: 20
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 25040
                            length: 4
                        children: []
                        pos: 25016
                        length: 28
                    children: []
                    pos: 25015
                    length: 30
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: Tracer t = newTracer("runCustomPasses");
                    children: []
                    pos: 25054
                    length: 40
                  - type: try_statement
                    fields:
                      body:
                        type: block
                        fields: {}
                        children:
                        - type: enhanced_for_statement
                          fields:
                            text: |-
                              for (CompilerPass p : options.customPasses.get(executionTime)) {
                                        process(p);
                                      }
                          children: []
                          pos: 25115
                          length: 96
                        pos: 25105
                        length: 114
                      excepts:
                        type: excepts
                        fields: {}
                        children: []
                        pos: 25101
                        length: 178
                    children: []
                    pos: 25101
                    length: 178
                  pos: 25046
                  length: 239
                pos: 25012
                length: 273
              pos: 25006
              length: 283
          children: []
          pos: 24938
          length: 351
        - type: field_declaration
          fields:
            text: private Tracer currentTracer = null;
          children: []
          pos: 25293
          length: 36
        - type: field_declaration
          fields:
            text: private String currentPassName = null;
          children: []
          pos: 25332
          length: 38
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: startPass
              children: []
              pos: 25427
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String passName
                children: []
                pos: 25437
                length: 15
              pos: 25422
              length: 163
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: Preconditions.checkState(currentTracer == null);
                children: []
                pos: 25460
                length: 48
              - type: expression_statement
                fields:
                  text: currentPassName = passName;
                children: []
                pos: 25513
                length: 27
              - type: expression_statement
                fields:
                  text: currentTracer = newTracer(passName);
                children: []
                pos: 25545
                length: 36
              pos: 25454
              length: 131
          children: []
          pos: 25422
          length: 163
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: endPass
              children: []
              pos: 25636
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 25631
              length: 301
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: |-
                    Preconditions.checkState(currentTracer != null,
                            "Tracer should not be null at the end of a pass.");
                children: []
                pos: 25652
                length: 107
              - type: expression_statement
                fields:
                  text: stopTracer(currentTracer, currentPassName);
                children: []
                pos: 25764
                length: 43
              - type: local_variable_declaration
                fields:
                  text: String passToCheck = currentPassName;
                children: []
                pos: 25812
                length: 37
              - type: expression_statement
                fields:
                  text: currentPassName = null;
                children: []
                pos: 25854
                length: 23
              - type: expression_statement
                fields:
                  text: currentTracer = null;
                children: []
                pos: 25882
                length: 21
              - type: expression_statement
                fields:
                  text: maybeSanityCheck();
                children: []
                pos: 25909
                length: 19
              pos: 25646
              length: 286
          children: []
          pos: 25631
          length: 301
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: newTracer
              children: []
              pos: 26006
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String passName
                children: []
                pos: 26016
                length: 15
              pos: 25999
              length: 270
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: |-
                    String comment = passName
                            + (recentChange.hasCodeChanged() ? " on recently changed AST" : "");
                children: []
                pos: 26039
                length: 102
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: options.tracer.isOn()
                        children: []
                        pos: 26150
                        length: 21
                    children: []
                    pos: 26149
                    length: 23
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: tracker.recordPassStart(passName);
                    children: []
                    pos: 26181
                    length: 34
                  pos: 26173
                  length: 48
                pos: 26146
                length: 75
              - type: return_statement
                fields:
                  text: return new Tracer("Compiler", comment);
                children: []
                pos: 26226
                length: 39
              pos: 26033
              length: 236
          children: []
          pos: 25999
          length: 270
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: stopTracer
              children: []
              pos: 26278
              length: 10
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Tracer t
                children: []
                pos: 26289
                length: 8
              pos: 26273
              length: 163
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: long result = t.stop();
                children: []
                pos: 26322
                length: 23
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: options.tracer.isOn()
                        children: []
                        pos: 26354
                        length: 21
                    children: []
                    pos: 26353
                    length: 23
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: tracker.recordPassStop(passName, result);
                    children: []
                    pos: 26385
                    length: 41
                  pos: 26377
                  length: 55
                pos: 26350
                length: 82
              pos: 26316
              length: 120
          children: []
          pos: 26273
          length: 163
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getResult
              children: []
              pos: 26510
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 26496
              length: 371
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: PassConfig.State state = getPassConfig().getIntermediateState();
                children: []
                pos: 26528
                length: 64
              - type: return_statement
                fields:
                  text: |-
                    return new Result(getErrors(), getWarnings(), debugLog.toString(),
                            state.variableMap, state.propertyMap,
                            state.anonymousFunctionNameMap, state.stringMap, functionInformationMap,
                            sourceMap, externExports, state.cssNames, state.idGeneratorMap);
                children: []
                pos: 26597
                length: 266
              pos: 26522
              length: 345
          children: []
          pos: 26496
          length: 371
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getMessages
              children: []
              pos: 26968
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 26951
              length: 60
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getErrors();
                children: []
                pos: 26988
                length: 19
              pos: 26982
              length: 29
          children: []
          pos: 26951
          length: 60
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getErrors
              children: []
              pos: 27091
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 27074
              length: 71
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return errorManager.getErrors();
                children: []
                pos: 27109
                length: 32
              pos: 27103
              length: 42
          children: []
          pos: 27074
          length: 71
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getWarnings
              children: []
              pos: 27227
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 27210
              length: 75
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return errorManager.getWarnings();
                children: []
                pos: 27247
                length: 34
              pos: 27241
              length: 44
          children: []
          pos: 27210
          length: 75
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getRoot
              children: []
              pos: 27313
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 27289
              length: 67
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return externAndJsRoot;
                children: []
                pos: 27329
                length: 23
              pos: 27323
              length: 33
          children: []
          pos: 27289
          length: 67
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: nextUniqueNameId
              children: []
              pos: 27431
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 27419
              length: 63
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return uniqueNameId++;
                children: []
                pos: 27456
                length: 22
              pos: 27450
              length: 32
          children: []
          pos: 27419
          length: 63
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: resetUniqueNameId
              children: []
              pos: 27563
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 27537
              length: 73
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: uniqueNameId = 0;
                children: []
                pos: 27589
                length: 17
              pos: 27583
              length: 27
          children: []
          pos: 27537
          length: 73
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getUniqueNameIdSupplier
              children: []
              pos: 27643
              length: 23
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 27614
              length: 227
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: final Compiler self = this;
                children: []
                pos: 27675
                length: 27
              - type: return_statement
                fields:
                  text: |-
                    return new Supplier<String>() {
                          public String get() {
                            return String.valueOf(self.nextUniqueNameId());
                          }
                        };
                children: []
                pos: 27707
                length: 130
              pos: 27669
              length: 172
          children: []
          pos: 27614
          length: 227
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: areNodesEqualForInlining
              children: []
              pos: 27865
              length: 24
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Node n1
                children: []
                pos: 27890
                length: 7
              pos: 27845
              length: 363
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: field_access
                            fields:
                              text: options.ambiguateProperties
                            children: []
                            pos: 27918
                            length: 27
                          right:
                            type: field_access
                            fields:
                              text: options.disambiguateProperties
                            children: []
                            pos: 27957
                            length: 30
                        children: []
                        pos: 27918
                        length: 69
                    children: []
                    pos: 27917
                    length: 71
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return n1.isEquivalentToTyped(n2);
                    children: []
                    pos: 28115
                    length: 34
                  pos: 27989
                  length: 166
                pos: 27914
                length: 290
              pos: 27908
              length: 300
          children: []
          pos: 27845
          length: 363
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getInput
              children: []
              pos: 28552
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String name
                children: []
                pos: 28561
                length: 11
              pos: 28519
              length: 95
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return inputsByName.get(name);
                children: []
                pos: 28580
                length: 30
              pos: 28574
              length: 40
          children: []
          pos: 28519
          length: 95
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: removeInput
              children: []
              pos: 28735
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String name
                children: []
                pos: 28747
                length: 11
              pos: 28720
              length: 264
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: CompilerInput input = getInput(name);
                children: []
                pos: 28766
                length: 37
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: input
                            children: []
                            pos: 28812
                            length: 5
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 28821
                            length: 4
                        children: []
                        pos: 28812
                        length: 13
                    children: []
                    pos: 28811
                    length: 15
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return;
                    children: []
                    pos: 28835
                    length: 7
                  pos: 28827
                  length: 21
                pos: 28808
                length: 40
              - type: expression_statement
                fields:
                  text: inputsByName.remove(name);
                children: []
                pos: 28853
                length: 26
              - type: local_variable_declaration
                fields:
                  text: Node root = input.getAstRoot(this);
                children: []
                pos: 28884
                length: 35
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: root
                            children: []
                            pos: 28928
                            length: 4
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 28936
                            length: 4
                        children: []
                        pos: 28928
                        length: 12
                    children: []
                    pos: 28927
                    length: 14
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: root.detachFromParent();
                    children: []
                    pos: 28950
                    length: 24
                  pos: 28942
                  length: 38
                pos: 28924
                length: 56
              pos: 28760
              length: 224
          children: []
          pos: 28720
          length: 264
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: newExternInput
              children: []
              pos: 29021
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String name
                children: []
                pos: 29036
                length: 11
              pos: 28988
              length: 407
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: inputsByName.containsKey(name)
                        children: []
                        pos: 29059
                        length: 30
                    children: []
                    pos: 29058
                    length: 32
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: 'throw new IllegalArgumentException("Conflicting externs
                        name: " + name);'
                    children: []
                    pos: 29099
                    length: 72
                  pos: 29091
                  length: 86
                pos: 29055
                length: 122
              - type: local_variable_declaration
                fields:
                  text: SourceAst ast = new SyntheticAst(name);
                children: []
                pos: 29182
                length: 39
              - type: local_variable_declaration
                fields:
                  text: CompilerInput input = new CompilerInput(ast, name, true);
                children: []
                pos: 29226
                length: 57
              - type: expression_statement
                fields:
                  text: inputsByName.put(name, input);
                children: []
                pos: 29288
                length: 30
              - type: expression_statement
                fields:
                  text: externsRoot.addChildToFront(ast.getAstRoot(this));
                children: []
                pos: 29323
                length: 50
              - type: return_statement
                fields:
                  text: return input;
                children: []
                pos: 29378
                length: 13
              pos: 29049
              length: 346
          children: []
          pos: 28988
          length: 407
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: addIncrementalSourceAst
              children: []
              pos: 29483
              length: 23
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JsAst ast
                children: []
                pos: 29507
                length: 9
              pos: 29478
              length: 276
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: String sourceName = ast.getSourceFile().getName();
                children: []
                pos: 29524
                length: 50
              - type: expression_statement
                fields:
                  text: |-
                    Preconditions.checkState(
                            getInput(sourceName) == null,
                            "Duplicate input of name " + sourceName);
                children: []
                pos: 29579
                length: 113
              - type: expression_statement
                fields:
                  text: inputsByName.put(sourceName, new CompilerInput(ast));
                children: []
                pos: 29697
                length: 53
              pos: 29518
              length: 236
          children: []
          pos: 29478
          length: 276
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: replaceIncrementalSourceAst
              children: []
              pos: 30037
              length: 27
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JsAst ast
                children: []
                pos: 30065
                length: 9
              pos: 30029
              length: 824
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: String sourceName = ast.getSourceFile().getName();
                children: []
                pos: 30082
                length: 50
              - type: local_variable_declaration
                fields:
                  text: |-
                    CompilerInput oldInput =
                            Preconditions.checkNotNull(
                                getInput(sourceName),
                                "No input to replace: " + sourceName);
                children: []
                pos: 30137
                length: 145
              - type: local_variable_declaration
                fields:
                  text: Node newRoot = ast.getAstRoot(this);
                children: []
                pos: 30287
                length: 36
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: newRoot
                            children: []
                            pos: 30332
                            length: 7
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 30343
                            length: 4
                        children: []
                        pos: 30332
                        length: 15
                    children: []
                    pos: 30331
                    length: 17
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return false;
                    children: []
                    pos: 30357
                    length: 13
                  pos: 30349
                  length: 27
                pos: 30328
                length: 48
              - type: local_variable_declaration
                fields:
                  text: Node oldRoot = oldInput.getAstRoot(this);
                children: []
                pos: 30382
                length: 41
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: oldRoot
                            children: []
                            pos: 30432
                            length: 7
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 30443
                            length: 4
                        children: []
                        pos: 30432
                        length: 15
                    children: []
                    pos: 30431
                    length: 17
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: oldRoot.getParent().replaceChild(oldRoot, newRoot);
                    children: []
                    pos: 30457
                    length: 51
                  pos: 30449
                  length: 65
                pos: 30428
                length: 155
              - type: local_variable_declaration
                fields:
                  text: CompilerInput newInput = new CompilerInput(ast);
                children: []
                pos: 30589
                length: 48
              - type: expression_statement
                fields:
                  text: inputsByName.put(sourceName, newInput);
                children: []
                pos: 30642
                length: 39
              - type: local_variable_declaration
                fields:
                  text: JSModule module = oldInput.getModule();
                children: []
                pos: 30687
                length: 39
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: module
                            children: []
                            pos: 30735
                            length: 6
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 30745
                            length: 4
                        children: []
                        pos: 30735
                        length: 14
                    children: []
                    pos: 30734
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: module.addAfter(newInput, oldInput);
                    children: []
                    pos: 30759
                    length: 36
                  - type: expression_statement
                    fields:
                      text: module.remove(oldInput);
                    children: []
                    pos: 30802
                    length: 24
                  pos: 30751
                  length: 81
                pos: 30731
                length: 101
              - type: return_statement
                fields:
                  text: return true;
                children: []
                pos: 30837
                length: 12
              pos: 30076
              length: 777
          children: []
          pos: 30029
          length: 824
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getModuleGraph
              children: []
              pos: 30883
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 30857
              length: 72
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return moduleGraph;
                children: []
                pos: 30906
                length: 19
              pos: 30900
              length: 29
          children: []
          pos: 30857
          length: 72
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getTypeRegistry
              children: []
              pos: 30967
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 30933
              length: 199
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: typeRegistry
                            children: []
                            pos: 30995
                            length: 12
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 31011
                            length: 4
                        children: []
                        pos: 30995
                        length: 20
                    children: []
                    pos: 30994
                    length: 22
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: typeRegistry = new JSTypeRegistry(oldErrorReporter, options.looseTypes);
                    children: []
                    pos: 31025
                    length: 72
                  pos: 31017
                  length: 86
                pos: 30991
                length: 112
              - type: return_statement
                fields:
                  text: return typeRegistry;
                children: []
                pos: 31108
                length: 20
              pos: 30985
              length: 147
          children: []
          pos: 30933
          length: 199
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getTypedScopeCreator
              children: []
              pos: 31161
              length: 20
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 31136
              length: 104
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getPassConfig().getTypedScopeCreator();
                children: []
                pos: 31190
                length: 46
              pos: 31184
              length: 56
          children: []
          pos: 31136
          length: 104
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getTopScope
              children: []
              pos: 31269
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 31244
              length: 86
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getPassConfig().getTopScope();
                children: []
                pos: 31289
                length: 37
              pos: 31283
              length: 47
          children: []
          pos: 31244
          length: 86
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getReverseAbstractInterpreter
              children: []
              pos: 31380
              length: 29
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 31334
              length: 565
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: abstractInterpreter
                            children: []
                            pos: 31422
                            length: 19
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 31445
                            length: 4
                        children: []
                        pos: 31422
                        length: 27
                    children: []
                    pos: 31421
                    length: 29
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: |-
                        ChainableReverseAbstractInterpreter interpreter =
                                  new SemanticReverseAbstractInterpreter(
                                      getCodingConvention(), getTypeRegistry());
                    children: []
                    pos: 31459
                    length: 156
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: field_access
                            fields:
                              text: options.closurePass
                            children: []
                            pos: 31626
                            length: 19
                        children: []
                        pos: 31625
                        length: 21
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: |-
                            interpreter = new ClosureReverseAbstractInterpreter(
                                        getCodingConvention(), getTypeRegistry())
                                        .append(interpreter).getFirst();
                        children: []
                        pos: 31657
                        length: 151
                      pos: 31647
                      length: 169
                    pos: 31622
                    length: 194
                  - type: expression_statement
                    fields:
                      text: abstractInterpreter = interpreter;
                    children: []
                    pos: 31823
                    length: 34
                  pos: 31451
                  length: 412
                pos: 31418
                length: 445
              - type: return_statement
                fields:
                  text: return abstractInterpreter;
                children: []
                pos: 31868
                length: 27
              pos: 31412
              length: 487
          children: []
          pos: 31334
          length: 565
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getTypeValidator
              children: []
              pos: 31929
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 31903
              length: 162
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: typeValidator
                            children: []
                            pos: 31958
                            length: 13
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 31975
                            length: 4
                        children: []
                        pos: 31958
                        length: 21
                    children: []
                    pos: 31957
                    length: 23
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: typeValidator = new TypeValidator(this);
                    children: []
                    pos: 31989
                    length: 40
                  pos: 31981
                  length: 54
                pos: 31954
                length: 81
              - type: return_statement
                fields:
                  text: return typeValidator;
                children: []
                pos: 32040
                length: 21
              pos: 31948
              length: 117
          children: []
          pos: 31903
          length: 162
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: parseInputs
              children: []
              pos: 32402
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 32397
              length: 4126
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: boolean devMode = options.devMode != DevMode.OFF;
                children: []
                pos: 32422
                length: 49
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: externsRoot
                            children: []
                            pos: 32594
                            length: 11
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 32609
                            length: 4
                        children: []
                        pos: 32594
                        length: 19
                    children: []
                    pos: 32593
                    length: 21
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: externsRoot.detachChildren();
                    children: []
                    pos: 32623
                    length: 29
                  pos: 32615
                  length: 43
                pos: 32590
                length: 68
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: jsRoot
                            children: []
                            pos: 32667
                            length: 6
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 32677
                            length: 4
                        children: []
                        pos: 32667
                        length: 14
                    children: []
                    pos: 32666
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: jsRoot.detachChildren();
                    children: []
                    pos: 32691
                    length: 24
                  pos: 32683
                  length: 38
                pos: 32663
                length: 58
              - type: expression_statement
                fields:
                  text: jsRoot = new Node(Token.BLOCK);
                children: []
                pos: 32757
                length: 31
              - type: expression_statement
                fields:
                  text: jsRoot.setIsSyntheticBlock(true);
                children: []
                pos: 32793
                length: 33
              - type: expression_statement
                fields:
                  text: externsRoot = new Node(Token.BLOCK);
                children: []
                pos: 32832
                length: 36
              - type: expression_statement
                fields:
                  text: externsRoot.setIsSyntheticBlock(true);
                children: []
                pos: 32873
                length: 38
              - type: expression_statement
                fields:
                  text: externAndJsRoot = new Node(Token.BLOCK, externsRoot, jsRoot);
                children: []
                pos: 32917
                length: 61
              - type: expression_statement
                fields:
                  text: externAndJsRoot.setIsSyntheticBlock(true);
                children: []
                pos: 32983
                length: 42
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: options.tracer.isOn()
                        children: []
                        pos: 33035
                        length: 21
                    children: []
                    pos: 33034
                    length: 23
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: |-
                        tracker = new PerformanceTracker(jsRoot,
                                  options.tracer == TracerMode.ALL);
                    children: []
                    pos: 33066
                    length: 85
                  - type: expression_statement
                    fields:
                      text: addChangeHandler(tracker.getCodeChangeHandler());
                    children: []
                    pos: 33158
                    length: 49
                  pos: 33058
                  length: 155
                pos: 33031
                length: 182
              - type: local_variable_declaration
                fields:
                  text: Tracer tracer = newTracer("parseInputs");
                children: []
                pos: 33219
                length: 41
              - type: try_statement
                fields:
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: enhanced_for_statement
                      fields:
                        text: |-
                          for (CompilerInput input : externs) {
                                  Node n = input.getAstRoot(this);
                                  if (hasErrors()) {
                                    return null;
                                  }
                                  externsRoot.addChildToBack(n);
                                }
                      children: []
                      pos: 33310
                      length: 185
                    - type: if_statement
                      fields:
                        condition:
                          type: parenthesized_expression
                          fields:
                            expression:
                              type: field_access
                              fields:
                                text: options.manageClosureDependencies
                              children: []
                              pos: 33560
                              length: 33
                          children: []
                          pos: 33559
                          length: 35
                      children:
                      - type: block
                        fields: {}
                        children:
                        - type: enhanced_for_statement
                          fields:
                            text: |-
                              for (CompilerInput input : inputs) {
                                        input.setCompiler(this);

                                        // Forward-declare all the provided types, so that they
                                        // are not flagged even if they are dropped from the process.
                                        for (String provide : input.getProvides()) {
                                          getTypeRegistry().forwardDeclareType(provide);
                                        }
                                      }
                          children: []
                          pos: 33605
                          length: 346
                        - type: try_statement
                          fields:
                            body:
                              type: block
                              fields: {}
                              children:
                              - type: expression_statement
                                fields:
                                  text: |-
                                    inputs =
                                                  (moduleGraph == null ? new JSModuleGraph(modules) : moduleGraph)
                                                  .manageDependencies(
                                                      options.manageClosureDependenciesEntryPoints, inputs);
                                children: []
                                pos: 33977
                                length: 195
                              pos: 33965
                              length: 217
                            excepts:
                              type: excepts
                              fields: {}
                              children:
                              - type: catch_clause
                                fields:
                                  text: |-
                                    catch (CircularDependencyException e) {
                                              report(JSError.make(
                                                  JSModule.CIRCULAR_DEPENDENCY_ERROR, e.getMessage()));
                                              return null;
                                            }
                                children: []
                                pos: 34183
                                length: 171
                              - type: catch_clause
                                fields:
                                  text: |-
                                    catch (MissingProvideException e) {
                                              report(JSError.make(
                                                  MISSING_ENTRY_ERROR, e.getMessage()));
                                              return null;
                                            }
                                children: []
                                pos: 34355
                                length: 152
                              pos: 33961
                              length: 546
                          children: []
                          pos: 33961
                          length: 546
                        pos: 33595
                        length: 920
                      pos: 33556
                      length: 959
                    - type: local_variable_declaration
                      fields:
                        text: boolean staleInputs = false;
                      children: []
                      pos: 34581
                      length: 28
                    - type: enhanced_for_statement
                      fields:
                        text: |-
                          for (CompilerInput input : inputs) {
                                  Node n = input.getAstRoot(this);

                                  // Inputs can have a null AST during initial parse.
                                  if (n == null) {
                                    continue;
                                  }

                                  if (n.getJSDocInfo() != null) {
                                    JSDocInfo info = n.getJSDocInfo();
                                    if (info.isExterns()) {
                                      // If the input file is explicitly marked as an externs file, then
                                      // assume the programmer made a mistake and throw it into
                                      // the externs pile anyways.
                                      externsRoot.addChildToBack(n);
                                      input.setIsExtern(true);

                                      input.getModule().remove(input);

                                      externs.add(input);
                                      staleInputs = true;
                                    } else if (info.isNoCompile()) {
                                      input.getModule().remove(input);
                                      staleInputs = true;
                                    }
                                  }
                                }
                      children: []
                      pos: 34616
                      length: 844
                    - type: if_statement
                      fields:
                        condition:
                          type: parenthesized_expression
                          fields:
                            expression:
                              type: identifier
                              fields:
                                text: staleInputs
                              children: []
                              pos: 35472
                              length: 11
                          children: []
                          pos: 35471
                          length: 13
                      children:
                      - type: block
                        fields: {}
                        children:
                        - type: expression_statement
                          fields:
                            text: fillEmptyModules(modules);
                          children: []
                          pos: 35495
                          length: 26
                        - type: expression_statement
                          fields:
                            text: rebuildInputsFromModules();
                          children: []
                          pos: 35530
                          length: 27
                        pos: 35485
                        length: 80
                      pos: 35468
                      length: 97
                    - type: enhanced_for_statement
                      fields:
                        text: |-
                          for (CompilerInput input : inputs) {
                                  Node n = input.getAstRoot(this);
                                  if (n == null) {
                                    continue;
                                  }

                                  if (devMode) {
                                    runSanityCheck();
                                    if (hasErrors()) {
                                      return null;
                                    }
                                  }

                                  if (options.sourceMapOutputPath != null ||
                                      options.nameReferenceReportPath != null) {

                                    // Annotate the nodes in the tree with information from the
                                    // input file. This information is used to construct the SourceMap.
                                    SourceInformationAnnotator sia =
                                        new SourceInformationAnnotator(
                                            input.getName(), options.devMode != DevMode.OFF);
                                    NodeTraversal.traverse(this, n, sia);
                                  }

                                  jsRoot.addChildToBack(n);
                                }
                      children: []
                      pos: 35597
                      length: 774
                    - type: if_statement
                      fields:
                        condition:
                          type: parenthesized_expression
                          fields:
                            expression:
                              type: method_invocation
                              fields:
                                text: hasErrors()
                              children: []
                              pos: 36383
                              length: 11
                          children: []
                          pos: 36382
                          length: 13
                      children:
                      - type: block
                        fields: {}
                        children:
                        - type: return_statement
                          fields:
                            text: return null;
                          children: []
                          pos: 36406
                          length: 12
                        pos: 36396
                        length: 30
                      pos: 36379
                      length: 47
                    - type: return_statement
                      fields:
                        text: return externAndJsRoot;
                      children: []
                      pos: 36433
                      length: 23
                    pos: 33270
                    length: 3192
                  excepts:
                    type: excepts
                    fields: {}
                    children: []
                    pos: 33266
                    length: 3253
                children: []
                pos: 33266
                length: 3253
              pos: 32416
              length: 4107
          children: []
          pos: 32397
          length: 4126
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: parse
              children: []
              pos: 36539
              length: 5
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSSourceFile file
                children: []
                pos: 36545
                length: 17
              pos: 36527
              length: 172
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: initCompilerOptionsIfTesting();
                children: []
                pos: 36570
                length: 31
              - type: expression_statement
                fields:
                  text: 'addToDebugLog("Parsing: " + file.getName());'
                children: []
                pos: 36606
                length: 44
              - type: return_statement
                fields:
                  text: return new JsAst(file).getAstRoot(this);
                children: []
                pos: 36655
                length: 40
              pos: 36564
              length: 135
          children: []
          pos: 36527
          length: 172
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: parseSyntheticCode
              children: []
              pos: 36720
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String js
                children: []
                pos: 36739
                length: 9
              pos: 36703
              length: 231
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: |-
                    CompilerInput input = new CompilerInput(
                            JSSourceFile.fromCode(" [synthetic] ", js));
                children: []
                pos: 36756
                length: 93
              - type: expression_statement
                fields:
                  text: inputsByName.put(input.getName(), input);
                children: []
                pos: 36854
                length: 41
              - type: return_statement
                fields:
                  text: return input.getAstRoot(this);
                children: []
                pos: 36900
                length: 30
              pos: 36750
              length: 184
          children: []
          pos: 36703
          length: 231
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: initCompilerOptionsIfTesting
              children: []
              pos: 36943
              length: 28
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 36938
              length: 220
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: options
                            children: []
                            pos: 36984
                            length: 7
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 36995
                            length: 4
                        children: []
                        pos: 36984
                        length: 15
                    children: []
                    pos: 36983
                    length: 17
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: initOptions(new CompilerOptions());
                    children: []
                    pos: 37113
                    length: 35
                  pos: 37001
                  length: 153
                pos: 36980
                length: 174
              pos: 36974
              length: 184
          children: []
          pos: 36938
          length: 220
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: parseSyntheticCode
              children: []
              pos: 37179
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String fileName
                children: []
                pos: 37198
                length: 15
              pos: 37162
              length: 160
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: initCompilerOptionsIfTesting();
                children: []
                pos: 37232
                length: 31
              - type: return_statement
                fields:
                  text: return parse(JSSourceFile.fromCode(fileName, js));
                children: []
                pos: 37268
                length: 50
              pos: 37226
              length: 96
          children: []
          pos: 37162
          length: 160
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: parseTestCode
              children: []
              pos: 37343
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String js
                children: []
                pos: 37357
                length: 9
              pos: 37326
              length: 339
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: initCompilerOptionsIfTesting();
                children: []
                pos: 37374
                length: 31
              - type: local_variable_declaration
                fields:
                  text: |-
                    CompilerInput input = new CompilerInput(
                            JSSourceFile.fromCode(" [testcode] ", js));
                children: []
                pos: 37410
                length: 92
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: inputsByName
                            children: []
                            pos: 37511
                            length: 12
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 37527
                            length: 4
                        children: []
                        pos: 37511
                        length: 20
                    children: []
                    pos: 37510
                    length: 22
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: inputsByName = Maps.newHashMap();
                    children: []
                    pos: 37541
                    length: 33
                  pos: 37533
                  length: 47
                pos: 37507
                length: 73
              - type: expression_statement
                fields:
                  text: inputsByName.put(input.getName(), input);
                children: []
                pos: 37585
                length: 41
              - type: return_statement
                fields:
                  text: return input.getAstRoot(this);
                children: []
                pos: 37631
                length: 30
              pos: 37368
              length: 297
          children: []
          pos: 37326
          length: 339
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getDefaultErrorReporter
              children: []
              pos: 37695
              length: 23
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 37669
              length: 90
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return defaultErrorReporter;
                children: []
                pos: 37727
                length: 28
              pos: 37721
              length: 38
          children: []
          pos: 37669
          length: 90
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: toSource
              children: []
              pos: 38028
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 38014
              length: 635
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return runInCompilerThread(new Callable<String>() {
                          public String call() throws Exception {
                            Tracer tracer = newTracer("toSource");
                            try {
                              CodeBuilder cb = new CodeBuilder();
                              if (jsRoot != null) {
                                int i = 0;
                                for (Node scriptNode = jsRoot.getFirstChild();
                                     scriptNode != null;
                                     scriptNode = scriptNode.getNext()) {
                                  toSource(cb, i++, scriptNode);
                                }
                              }
                              return cb.toString();
                            } finally {
                              stopTracer(tracer, "toSource");
                            }
                          }
                        });
                children: []
                pos: 38045
                length: 600
              pos: 38039
              length: 610
          children: []
          pos: 38014
          length: 635
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: toSourceArray
              children: []
              pos: 38742
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 38726
              length: 703
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return runInCompilerThread(new Callable<String[]>() {
                          public String[] call() throws Exception {
                            Tracer tracer = newTracer("toSourceArray");
                            try {
                              int numInputs = inputs.size();
                              String[] sources = new String[numInputs];
                              CodeBuilder cb = new CodeBuilder();
                              for (int i = 0; i < numInputs; i++) {
                                Node scriptNode = inputs.get(i).getAstRoot(Compiler.this);
                                cb.reset();
                                toSource(cb, i, scriptNode);
                                sources[i] = cb.toString();
                              }
                              return sources;
                            } finally {
                              stopTracer(tracer, "toSourceArray");
                            }
                          }
                        });
                children: []
                pos: 38764
                length: 661
              pos: 38758
              length: 671
          children: []
          pos: 38726
          length: 703
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: toSource
              children: []
              pos: 39518
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final JSModule module
                children: []
                pos: 39527
                length: 21
              pos: 39504
              length: 712
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return runInCompilerThread(new Callable<String>() {
                          public String call() throws Exception {
                            List<CompilerInput> inputs = module.getInputs();
                            int numInputs = inputs.size();
                            if (numInputs == 0) {
                              return "";
                            }
                            CodeBuilder cb = new CodeBuilder();
                            for (int i = 0; i < numInputs; i++) {
                              Node scriptNode = inputs.get(i).getAstRoot(Compiler.this);
                              if (scriptNode == null) {
                                throw new IllegalArgumentException(
                                    "Bad module: " + module.getName());
                              }
                              toSource(cb, i, scriptNode);
                            }
                            return cb.toString();
                          }
                        });
                children: []
                pos: 39556
                length: 656
              pos: 39550
              length: 666
          children: []
          pos: 39504
          length: 712
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: toSourceArray
              children: []
              pos: 40322
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final JSModule module
                children: []
                pos: 40336
                length: 21
              pos: 40306
              length: 853
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return runInCompilerThread(new Callable<String[]>() {
                          public String[] call() throws Exception {
                            List<CompilerInput> inputs = module.getInputs();
                            int numInputs = inputs.size();
                            if (numInputs == 0) {
                              return new String[0];
                            }

                            String[] sources = new String[numInputs];
                            CodeBuilder cb = new CodeBuilder();
                            for (int i = 0; i < numInputs; i++) {
                              Node scriptNode = inputs.get(i).getAstRoot(Compiler.this);
                              if (scriptNode == null) {
                                throw new IllegalArgumentException(
                                    "Bad module input: " + inputs.get(i).getName());
                              }

                              cb.reset();
                              toSource(cb, i, scriptNode);
                              sources[i] = cb.toString();
                            }
                            return sources;
                          }
                        });
                children: []
                pos: 40365
                length: 790
              pos: 40359
              length: 800
          children: []
          pos: 40306
          length: 853
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: toSource
              children: []
              pos: 41528
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final CodeBuilder cb
                children: []
                pos: 41537
                length: 20
              pos: 41516
              length: 2337
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: |-
                    runInCompilerThread(new Callable<Void>() {
                          public Void call() throws Exception {
                            if (options.printInputDelimiter) {
                              if ((cb.getLength() > 0) && !cb.endsWith("\n")) {
                                cb.append("\n");  // Make sure that the label starts on a new line
                              }
                              Preconditions.checkState(root.getType() == Token.SCRIPT);

                              String delimiter = options.inputDelimiter;

                              String sourceName = (String)root.getProp(Node.SOURCENAME_PROP);
                              Preconditions.checkState(sourceName != null);
                              Preconditions.checkState(!sourceName.isEmpty());

                              delimiter = delimiter.replaceAll("%name%", sourceName)
                                .replaceAll("%num%", String.valueOf(inputSeqNum));

                              cb.append(delimiter)
                                .append("\n");
                            }
                            if (root.getJSDocInfo() != null &&
                                root.getJSDocInfo().getLicense() != null) {
                              cb.append("/*\n")
                                .append(root.getJSDocInfo().getLicense())
                                .append("*/\n");
                            }

                            // If there is a valid source map, then indicate to it that the current
                            // root node's mappings are offset by the given string builder buffer.
                            if (options.sourceMapOutputPath != null) {
                              sourceMap.setStartingPosition(
                                  cb.getLineIndex(), cb.getColumnIndex());
                            }

                            // if LanguageMode is ECMASCRIPT5_STRICT, only print 'use strict'
                            // for the first input file
                            String code = toSource(root, sourceMap, inputSeqNum == 0);
                            if (!code.isEmpty()) {
                              cb.append(code);

                              // In order to avoid parse ambiguity when files are concatenated
                              // together, all files should end in a semi-colon. Do a quick
                              // heuristic check if there's an obvious semi-colon already there.
                              int length = code.length();
                              char lastChar = code.charAt(length - 1);
                              char secondLastChar = length >= 2 ?
                                  code.charAt(length - 2) : '\0';
                              boolean hasSemiColon = lastChar == ';' ||
                                  (lastChar == '\n' && secondLastChar == ';');
                              if (!hasSemiColon) {
                                cb.append(";");
                              }
                            }
                            return null;
                          }
                        });
                children: []
                pos: 41651
                length: 2198
              pos: 41645
              length: 2208
          children: []
          pos: 41516
          length: 2337
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: toSource
              children: []
              pos: 43977
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Node n
                children: []
                pos: 43986
                length: 6
              pos: 43958
              length: 113
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: initCompilerOptionsIfTesting();
                children: []
                pos: 44000
                length: 31
              - type: return_statement
                fields:
                  text: return toSource(n, null, true);
                children: []
                pos: 44036
                length: 31
              pos: 43994
              length: 77
          children: []
          pos: 43958
          length: 113
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: toSource
              children: []
              pos: 44152
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Node n
                children: []
                pos: 44161
                length: 6
              pos: 44137
              length: 694
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: CodePrinter.Builder builder = new CodePrinter.Builder(n);
                children: []
                pos: 44217
                length: 57
              - type: expression_statement
                fields:
                  text: builder.setPrettyPrint(options.prettyPrint);
                children: []
                pos: 44279
                length: 44
              - type: expression_statement
                fields:
                  text: builder.setLineBreak(options.lineBreak);
                children: []
                pos: 44328
                length: 40
              - type: expression_statement
                fields:
                  text: builder.setSourceMap(sourceMap);
                children: []
                pos: 44373
                length: 32
              - type: expression_statement
                fields:
                  text: builder.setSourceMapDetailLevel(options.sourceMapDetailLevel);
                children: []
                pos: 44410
                length: 62
              - type: expression_statement
                fields:
                  text: |-
                    builder.setTagAsStrict(firstOutput &&
                            options.getLanguageOut() == LanguageMode.ECMASCRIPT5_STRICT);
                children: []
                pos: 44477
                length: 107
              - type: expression_statement
                fields:
                  text: builder.setLineLengthThreshold(options.lineLengthThreshold);
                children: []
                pos: 44589
                length: 60
              - type: local_variable_declaration
                fields:
                  text: |-
                    Charset charset = options.outputCharset != null ?
                            Charset.forName(options.outputCharset) : null;
                children: []
                pos: 44655
                length: 104
              - type: expression_statement
                fields:
                  text: builder.setOutputCharset(charset);
                children: []
                pos: 44764
                length: 34
              - type: return_statement
                fields:
                  text: return builder.build();
                children: []
                pos: 44804
                length: 23
              pos: 44211
              length: 620
          children: []
          pos: 44137
          length: 694
        - type: class_declaration
          fields:
            name:
              type: identifier
              fields:
                text: CodeBuilder
              children: []
              pos: 45014
              length: 11
            body:
              type: class_body
              fields: {}
              children:
              - type: field_declaration
                fields:
                  text: private final StringBuilder sb = new StringBuilder();
                children: []
                pos: 45032
                length: 53
              - type: field_declaration
                fields:
                  text: private int lineCount = 0;
                children: []
                pos: 45090
                length: 26
              - type: field_declaration
                fields:
                  text: private int colCount = 0;
                children: []
                pos: 45121
                length: 25
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: reset
                    children: []
                    pos: 45223
                    length: 5
                  parameters:
                    type: method_parameters
                    fields: {}
                    children: []
                    pos: 45218
                    length: 43
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: expression_statement
                      fields:
                        text: sb.setLength(0);
                      children: []
                      pos: 45239
                      length: 16
                    pos: 45231
                    length: 30
                children: []
                pos: 45218
                length: 43
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: append
                    children: []
                    pos: 45335
                    length: 6
                  parameters:
                    type: method_parameters
                    fields: {}
                    children:
                    - type: formal_parameter
                      fields:
                        text: String str
                      children: []
                      pos: 45342
                      length: 10
                    pos: 45323
                    length: 510
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: expression_statement
                      fields:
                        text: sb.append(str);
                      children: []
                      pos: 45362
                      length: 15
                    - type: local_variable_declaration
                      fields:
                        text: int index = -1;
                      children: []
                      pos: 45451
                      length: 15
                    - type: local_variable_declaration
                      fields:
                        text: int lastIndex = index;
                      children: []
                      pos: 45473
                      length: 22
                    - type: while_statement
                      fields:
                        text: |-
                          while ((index = str.indexOf('\n', index + 1)) >= 0) {
                                  ++lineCount;
                                  lastIndex = index;
                                }
                      children: []
                      pos: 45502
                      length: 109
                    - type: if_statement
                      fields:
                        condition:
                          type: parenthesized_expression
                          fields:
                            expression:
                              type: equals
                              fields:
                                left:
                                  type: identifier
                                  fields:
                                    text: lastIndex
                                  children: []
                                  pos: 45623
                                  length: 9
                                right:
                                  type: unary_expression
                                  fields:
                                    text: "-1"
                                  children: []
                                  pos: 45636
                                  length: 2
                              children: []
                              pos: 45623
                              length: 15
                          children: []
                          pos: 45622
                          length: 17
                      children:
                      - type: block
                        fields: {}
                        children:
                        - type: expression_statement
                          fields:
                            text: colCount += str.length();
                          children: []
                          pos: 45708
                          length: 25
                        pos: 45640
                        length: 101
                      pos: 45619
                      length: 188
                    - type: return_statement
                      fields:
                        text: return this;
                      children: []
                      pos: 45815
                      length: 12
                    pos: 45354
                    length: 479
                children: []
                pos: 45323
                length: 510
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: toString
                    children: []
                    pos: 45915
                    length: 8
                  parameters:
                    type: method_parameters
                    fields: {}
                    children: []
                    pos: 45887
                    length: 74
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: return_statement
                      fields:
                        text: return sb.toString();
                      children: []
                      pos: 45934
                      length: 21
                    pos: 45926
                    length: 35
                children: []
                pos: 45887
                length: 74
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: getLength
                    children: []
                    pos: 46028
                    length: 9
                  parameters:
                    type: method_parameters
                    fields: {}
                    children: []
                    pos: 46017
                    length: 56
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: return_statement
                      fields:
                        text: return sb.length();
                      children: []
                      pos: 46048
                      length: 19
                    pos: 46040
                    length: 33
                children: []
                pos: 46017
                length: 56
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: getLineIndex
                    children: []
                    pos: 46162
                    length: 12
                  parameters:
                    type: method_parameters
                    fields: {}
                    children: []
                    pos: 46158
                    length: 50
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: return_statement
                      fields:
                        text: return lineCount;
                      children: []
                      pos: 46185
                      length: 17
                    pos: 46177
                    length: 31
                children: []
                pos: 46158
                length: 50
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: getColumnIndex
                    children: []
                    pos: 46299
                    length: 14
                  parameters:
                    type: method_parameters
                    fields: {}
                    children: []
                    pos: 46295
                    length: 51
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: return_statement
                      fields:
                        text: return colCount;
                      children: []
                      pos: 46324
                      length: 16
                    pos: 46316
                    length: 30
                children: []
                pos: 46295
                length: 51
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: endsWith
                    children: []
                    pos: 46427
                    length: 8
                  parameters:
                    type: method_parameters
                    fields: {}
                    children:
                    - type: formal_parameter
                      fields:
                        text: String suffix
                      children: []
                      pos: 46436
                      length: 13
                    pos: 46419
                    length: 157
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: return_statement
                      fields:
                        text: |-
                          return (sb.length() > suffix.length())
                                    && suffix.equals(sb.substring(sb.length() - suffix.length()));
                      children: []
                      pos: 46459
                      length: 111
                    pos: 46451
                    length: 125
                children: []
                pos: 46419
                length: 157
              pos: 44994
              length: 1586
          children: []
          pos: 44994
          length: 1586
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: optimize
              children: []
              pos: 46770
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 46758
              length: 646
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: normalize();
                children: []
                pos: 47055
                length: 12
              - type: local_variable_declaration
                fields:
                  text: PhaseOptimizer phaseOptimizer = new PhaseOptimizer(this, tracker);
                children: []
                pos: 47073
                length: 66
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: field_access
                            fields:
                              text: options.devMode
                            children: []
                            pos: 47148
                            length: 15
                          right:
                            type: field_access
                            fields:
                              text: DevMode.EVERY_PASS
                            children: []
                            pos: 47167
                            length: 18
                        children: []
                        pos: 47148
                        length: 37
                    children: []
                    pos: 47147
                    length: 39
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: phaseOptimizer.setSanityCheck(sanityCheck);
                    children: []
                    pos: 47195
                    length: 43
                  pos: 47187
                  length: 57
                pos: 47144
                length: 100
              - type: expression_statement
                fields:
                  text: phaseOptimizer.consume(getPassConfig().getOptimizations());
                children: []
                pos: 47249
                length: 59
              - type: expression_statement
                fields:
                  text: phaseOptimizer.process(externsRoot, jsRoot);
                children: []
                pos: 47313
                length: 44
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: hasErrors()
                        children: []
                        pos: 47366
                        length: 11
                    children: []
                    pos: 47365
                    length: 13
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return;
                    children: []
                    pos: 47387
                    length: 7
                  pos: 47379
                  length: 21
                pos: 47362
                length: 38
              pos: 46781
              length: 623
          children: []
          pos: 46758
          length: 646
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setCssRenamingMap
              children: []
              pos: 47425
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: CssRenamingMap map
                children: []
                pos: 47443
                length: 18
              pos: 47408
              length: 94
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: options.cssRenamingMap = map;
                children: []
                pos: 47469
                length: 29
              pos: 47463
              length: 39
          children: []
          pos: 47408
          length: 94
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getCssRenamingMap
              children: []
              pos: 47533
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 47506
              length: 87
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return options.cssRenamingMap;
                children: []
                pos: 47559
                length: 30
              pos: 47553
              length: 40
          children: []
          pos: 47506
          length: 87
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: processDefines
              children: []
              pos: 47958
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 47946
              length: 138
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: |-
                    (new DefaultPassConfig(options)).processDefines.create(this)
                            .process(externsRoot, jsRoot);
                children: []
                pos: 47981
                length: 99
              pos: 47975
              length: 109
          children: []
          pos: 47946
          length: 138
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isInliningForbidden
              children: []
              pos: 48096
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 48088
              length: 203
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return options.propertyRenaming == PropertyRenamingPolicy.HEURISTIC ||
                            options.propertyRenaming ==
                                PropertyRenamingPolicy.AGGRESSIVE_HEURISTIC;
                children: []
                pos: 48124
                length: 163
              pos: 48118
              length: 173
          children: []
          pos: 48088
          length: 203
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: computeCFG
              children: []
              pos: 48350
              length: 10
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 48327
              length: 290
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: logger.info("Computing Control Flow Graph");
                children: []
                pos: 48369
                length: 44
              - type: local_variable_declaration
                fields:
                  text: Tracer tracer = newTracer("computeCFG");
                children: []
                pos: 48418
                length: 40
              - type: local_variable_declaration
                fields:
                  text: ControlFlowAnalysis cfa = new ControlFlowAnalysis(this, true,
                    false);
                children: []
                pos: 48463
                length: 69
              - type: expression_statement
                fields:
                  text: process(cfa);
                children: []
                pos: 48537
                length: 13
              - type: expression_statement
                fields:
                  text: stopTracer(tracer, "computeCFG");
                children: []
                pos: 48555
                length: 33
              - type: return_statement
                fields:
                  text: return cfa.getCfg();
                children: []
                pos: 48593
                length: 20
              pos: 48363
              length: 254
          children: []
          pos: 48327
          length: 290
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: normalize
              children: []
              pos: 48633
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 48621
              length: 145
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: logger.info("Normalizing");
                children: []
                pos: 48651
                length: 27
              - type: expression_statement
                fields:
                  text: startPass("normalize");
                children: []
                pos: 48683
                length: 23
              - type: expression_statement
                fields:
                  text: process(new Normalize(this, false));
                children: []
                pos: 48711
                length: 36
              - type: expression_statement
                fields:
                  text: endPass();
                children: []
                pos: 48752
                length: 10
              pos: 48645
              length: 121
          children: []
          pos: 48621
          length: 145
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: prepareAst
              children: []
              pos: 48787
              length: 10
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Node root
                children: []
                pos: 48798
                length: 9
              pos: 48770
              length: 203
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: Tracer tracer = newTracer("prepareAst");
                children: []
                pos: 48815
                length: 40
              - type: local_variable_declaration
                fields:
                  text: CompilerPass pass = new PrepareAst(this);
                children: []
                pos: 48860
                length: 41
              - type: expression_statement
                fields:
                  text: pass.process(null, root);
                children: []
                pos: 48906
                length: 25
              - type: expression_statement
                fields:
                  text: stopTracer(tracer, "prepareAst");
                children: []
                pos: 48936
                length: 33
              pos: 48809
              length: 164
          children: []
          pos: 48770
          length: 203
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: recordFunctionInformation
              children: []
              pos: 48982
              length: 25
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 48977
              length: 414
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: logger.info("Recording function information");
                children: []
                pos: 49016
                length: 46
              - type: expression_statement
                fields:
                  text: startPass("recordFunctionInformation");
                children: []
                pos: 49067
                length: 39
              - type: local_variable_declaration
                fields:
                  text: |-
                    RecordFunctionInformation recordFunctionInfoPass =
                            new RecordFunctionInformation(
                                this, getPassConfig().getIntermediateState().functionNames);
                children: []
                pos: 49111
                length: 162
              - type: expression_statement
                fields:
                  text: process(recordFunctionInfoPass);
                children: []
                pos: 49278
                length: 32
              - type: expression_statement
                fields:
                  text: functionInformationMap = recordFunctionInfoPass.getMap();
                children: []
                pos: 49315
                length: 57
              - type: expression_statement
                fields:
                  text: endPass();
                children: []
                pos: 49377
                length: 10
              pos: 49010
              length: 381
          children: []
          pos: 48977
          length: 414
        - type: field_declaration
          fields:
            text: |-
              protected final CodeChangeHandler.RecentChange recentChange =
                    new CodeChangeHandler.RecentChange();
          children: []
          pos: 49395
          length: 105
        - type: field_declaration
          fields:
            text: |-
              private final List<CodeChangeHandler> codeChangeHandlers =
                    Lists.<CodeChangeHandler>newArrayList();
          children: []
          pos: 49503
          length: 105
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: addChangeHandler
              children: []
              pos: 49629
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: CodeChangeHandler handler
                children: []
                pos: 49646
                length: 25
              pos: 49612
              length: 103
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: codeChangeHandlers.add(handler);
                children: []
                pos: 49679
                length: 32
              pos: 49673
              length: 42
          children: []
          pos: 49612
          length: 103
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: removeChangeHandler
              children: []
              pos: 49736
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: CodeChangeHandler handler
                children: []
                pos: 49756
                length: 25
              pos: 49719
              length: 109
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: codeChangeHandlers.remove(handler);
                children: []
                pos: 49789
                length: 35
              pos: 49783
              length: 45
          children: []
          pos: 49719
          length: 109
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: reportCodeChange
              children: []
              pos: 50047
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 50023
              length: 143
            body:
              type: block
              fields: {}
              children:
              - type: enhanced_for_statement
                fields:
                  text: |-
                    for (CodeChangeHandler handler : codeChangeHandlers) {
                          handler.reportChange();
                        }
                children: []
                pos: 50072
                length: 90
              pos: 50066
              length: 100
          children: []
          pos: 50023
          length: 143
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getCodingConvention
              children: []
              pos: 50206
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 50170
              length: 227
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: CodingConvention convention = options.getCodingConvention();
                children: []
                pos: 50234
                length: 60
              - type: expression_statement
                fields:
                  text: 'convention = convention != null ? convention : defaultCodingConvention;'
                children: []
                pos: 50299
                length: 71
              - type: return_statement
                fields:
                  text: return convention;
                children: []
                pos: 50375
                length: 18
              pos: 50228
              length: 169
          children: []
          pos: 50170
          length: 227
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isIdeMode
              children: []
              pos: 50428
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 50401
              length: 72
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return options.ideMode;
                children: []
                pos: 50446
                length: 23
              pos: 50440
              length: 33
          children: []
          pos: 50401
          length: 72
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: acceptEcmaScript5
              children: []
              pos: 50504
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 50477
              length: 191
            body:
              type: block
              fields: {}
              children:
              - type: switch_expression
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: options.getLanguageIn()
                        children: []
                        pos: 50538
                        length: 23
                    children: []
                    pos: 50537
                    length: 25
                  body:
                    type: switch_block
                    fields:
                      text: |-
                        {
                              case ECMASCRIPT5:
                              case ECMASCRIPT5_STRICT:
                                return true;
                            }
                    children: []
                    pos: 50563
                    length: 83
                children: []
                pos: 50530
                length: 116
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 50651
                length: 13
              pos: 50524
              length: 144
          children: []
          pos: 50477
          length: 191
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: languageMode
              children: []
              pos: 50692
              length: 12
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 50672
              length: 76
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return options.getLanguageIn();
                children: []
                pos: 50713
                length: 31
              pos: 50707
              length: 41
          children: []
          pos: 50672
          length: 76
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: acceptConstKeyword
              children: []
              pos: 50779
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 50752
              length: 92
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return options.acceptConstKeyword;
                children: []
                pos: 50806
                length: 34
              pos: 50800
              length: 44
          children: []
          pos: 50752
          length: 92
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getParserConfig
              children: []
              pos: 50867
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 50848
              length: 682
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: parserConfig
                            children: []
                            pos: 50895
                            length: 12
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 50911
                            length: 4
                        children: []
                        pos: 50895
                        length: 20
                    children: []
                    pos: 50894
                    length: 22
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: Config.LanguageMode mode;
                    children: []
                    pos: 50925
                    length: 25
                  - type: switch_expression
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: method_invocation
                            fields:
                              text: options.getLanguageIn()
                            children: []
                            pos: 50965
                            length: 23
                        children: []
                        pos: 50964
                        length: 25
                      body:
                        type: switch_block
                        fields:
                          text: |-
                            {
                                    case ECMASCRIPT3:
                                      mode = Config.LanguageMode.ECMASCRIPT3;
                                      break;
                                    case ECMASCRIPT5:
                                      mode = Config.LanguageMode.ECMASCRIPT5;
                                      break;
                                    case ECMASCRIPT5_STRICT:
                                      mode = Config.LanguageMode.ECMASCRIPT5_STRICT;
                                      break;
                                    default:
                                      throw new IllegalStateException("unexpected language mode");
                                  }
                        children: []
                        pos: 50990
                        length: 390
                    children: []
                    pos: 50957
                    length: 423
                  - type: expression_statement
                    fields:
                      text: |-
                        parserConfig = ParserRunner.createConfig(
                                isIdeMode(),
                                mode,
                                acceptConstKeyword());
                    children: []
                    pos: 51388
                    length: 107
                  pos: 50917
                  length: 584
                pos: 50891
                length: 610
              - type: return_statement
                fields:
                  text: return parserConfig;
                children: []
                pos: 51506
                length: 20
              pos: 50885
              length: 645
          children: []
          pos: 50848
          length: 682
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isTypeCheckingEnabled
              children: []
              pos: 51561
              length: 21
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 51534
              length: 87
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return options.checkTypes;
                children: []
                pos: 51591
                length: 26
              pos: 51585
              length: 36
          children: []
          pos: 51534
          length: 87
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getDiagnosticGroups
              children: []
              pos: 51971
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 51944
              length: 89
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return new DiagnosticGroups();
                children: []
                pos: 51999
                length: 30
              pos: 51993
              length: 40
          children: []
          pos: 51944
          length: 89
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: report
              children: []
              pos: 52061
              length: 6
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSError error
                children: []
                pos: 52068
                length: 13
              pos: 52037
              length: 318
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: CheckLevel level = error.level;
                children: []
                pos: 52089
                length: 31
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: warningsGuard
                            children: []
                            pos: 52129
                            length: 13
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 52146
                            length: 4
                        children: []
                        pos: 52129
                        length: 21
                    children: []
                    pos: 52128
                    length: 23
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: CheckLevel newLevel = warningsGuard.level(error);
                    children: []
                    pos: 52160
                    length: 49
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: not_equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: newLevel
                                children: []
                                pos: 52220
                                length: 8
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 52232
                                length: 4
                            children: []
                            pos: 52220
                            length: 16
                        children: []
                        pos: 52219
                        length: 18
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: level = newLevel;
                        children: []
                        pos: 52248
                        length: 17
                      pos: 52238
                      length: 35
                    pos: 52216
                    length: 57
                  pos: 52152
                  length: 127
                pos: 52125
                length: 154
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: level.isOn()
                        children: []
                        pos: 52289
                        length: 12
                    children: []
                    pos: 52288
                    length: 14
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: errorManager.report(level, error);
                    children: []
                    pos: 52311
                    length: 34
                  pos: 52303
                  length: 48
                pos: 52285
                length: 66
              pos: 52083
              length: 272
          children: []
          pos: 52037
          length: 318
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getErrorLevel
              children: []
              pos: 52389
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSError error
                children: []
                pos: 52403
                length: 13
              pos: 52359
              length: 144
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: Preconditions.checkNotNull(options);
                children: []
                pos: 52424
                length: 36
              - type: return_statement
                fields:
                  text: return warningsGuard.level(error);
                children: []
                pos: 52465
                length: 34
              pos: 52418
              length: 85
          children: []
          pos: 52359
          length: 144
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: throwInternalError
              children: []
              pos: 52567
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String message
                children: []
                pos: 52586
                length: 14
              pos: 52550
              length: 345
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: |-
                    String finalMessage =
                          "INTERNAL COMPILER ERROR.\n" +
                          "Please report this problem.\n" + message;
                children: []
                pos: 52625
                length: 107
              - type: local_variable_declaration
                fields:
                  text: RuntimeException e = new RuntimeException(finalMessage, cause);
                children: []
                pos: 52738
                length: 63
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: cause
                            children: []
                            pos: 52810
                            length: 5
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 52819
                            length: 4
                        children: []
                        pos: 52810
                        length: 13
                    children: []
                    pos: 52809
                    length: 15
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: e.setStackTrace(cause.getStackTrace());
                    children: []
                    pos: 52833
                    length: 39
                  pos: 52825
                  length: 53
                pos: 52806
                length: 72
              - type: throw_statement
                fields:
                  text: throw e;
                children: []
                pos: 52883
                length: 8
              pos: 52619
              length: 276
          children: []
          pos: 52550
          length: 345
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getErrorCount
              children: []
              pos: 52955
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 52944
              length: 73
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return errorManager.getErrorCount();
                children: []
                pos: 52977
                length: 36
              pos: 52971
              length: 46
          children: []
          pos: 52944
          length: 73
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getWarningCount
              children: []
              pos: 53078
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 53067
              length: 77
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return errorManager.getWarningCount();
                children: []
                pos: 53102
                length: 38
              pos: 53096
              length: 48
          children: []
          pos: 53067
          length: 77
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: hasHaltingErrors
              children: []
              pos: 53168
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 53148
              length: 92
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return !isIdeMode() && getErrorCount() > 0;
                children: []
                pos: 53193
                length: 43
              pos: 53187
              length: 53
          children: []
          pos: 53148
          length: 92
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: hasErrors
              children: []
              pos: 53677
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 53662
              length: 63
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return hasHaltingErrors();
                children: []
                pos: 53695
                length: 26
              pos: 53689
              length: 36
          children: []
          pos: 53662
          length: 63
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: addToDebugLog
              children: []
              pos: 53804
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String str
                children: []
                pos: 53818
                length: 10
              pos: 53787
              length: 123
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: debugLog.append(str);
                children: []
                pos: 53836
                length: 21
              - type: expression_statement
                fields:
                  text: debugLog.append('\n');
                children: []
                pos: 53862
                length: 22
              - type: expression_statement
                fields:
                  text: logger.fine(str);
                children: []
                pos: 53889
                length: 17
              pos: 53830
              length: 80
          children: []
          pos: 53787
          length: 123
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getSourceFileByName
              children: []
              pos: 53933
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String sourceName
                children: []
                pos: 53953
                length: 17
              pos: 53914
              length: 193
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: inputsByName.containsKey(sourceName)
                        children: []
                        pos: 53982
                        length: 36
                    children: []
                    pos: 53981
                    length: 38
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return inputsByName.get(sourceName).getSourceFile();
                    children: []
                    pos: 54028
                    length: 52
                  pos: 54020
                  length: 66
                pos: 53978
                length: 108
              - type: return_statement
                fields:
                  text: return null;
                children: []
                pos: 54091
                length: 12
              pos: 53972
              length: 135
          children: []
          pos: 53914
          length: 193
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getSourceLine
              children: []
              pos: 54125
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String sourceName
                children: []
                pos: 54139
                length: 17
              pos: 54111
              length: 263
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: less_than
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: lineNumber
                            children: []
                            pos: 54184
                            length: 10
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '1'
                            children: []
                            pos: 54197
                            length: 1
                        children: []
                        pos: 54184
                        length: 14
                    children: []
                    pos: 54183
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return null;
                    children: []
                    pos: 54208
                    length: 12
                  pos: 54200
                  length: 26
                pos: 54180
                length: 46
              - type: local_variable_declaration
                fields:
                  text: SourceFile input = getSourceFileByName(sourceName);
                children: []
                pos: 54231
                length: 51
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: input
                            children: []
                            pos: 54291
                            length: 5
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 54300
                            length: 4
                        children: []
                        pos: 54291
                        length: 13
                    children: []
                    pos: 54290
                    length: 15
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return input.getLine(lineNumber);
                    children: []
                    pos: 54314
                    length: 33
                  pos: 54306
                  length: 47
                pos: 54287
                length: 66
              - type: return_statement
                fields:
                  text: return null;
                children: []
                pos: 54358
                length: 12
              pos: 54174
              length: 200
          children: []
          pos: 54111
          length: 263
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getSourceRegion
              children: []
              pos: 54392
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String sourceName
                children: []
                pos: 54408
                length: 17
              pos: 54378
              length: 267
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: less_than
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: lineNumber
                            children: []
                            pos: 54453
                            length: 10
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '1'
                            children: []
                            pos: 54466
                            length: 1
                        children: []
                        pos: 54453
                        length: 14
                    children: []
                    pos: 54452
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return null;
                    children: []
                    pos: 54477
                    length: 12
                  pos: 54469
                  length: 26
                pos: 54449
                length: 46
              - type: local_variable_declaration
                fields:
                  text: SourceFile input = getSourceFileByName(sourceName);
                children: []
                pos: 54500
                length: 51
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: input
                            children: []
                            pos: 54560
                            length: 5
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 54569
                            length: 4
                        children: []
                        pos: 54560
                        length: 13
                    children: []
                    pos: 54559
                    length: 15
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return input.getRegion(lineNumber);
                    children: []
                    pos: 54583
                    length: 35
                  pos: 54575
                  length: 49
                pos: 54556
                length: 68
              - type: return_statement
                fields:
                  text: return null;
                children: []
                pos: 54629
                length: 12
              pos: 54443
              length: 202
          children: []
          pos: 54378
          length: 267
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getNodeForCodeInsertion
              children: []
              pos: 54850
              length: 23
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSModule module
                children: []
                pos: 54874
                length: 15
              pos: 54833
              length: 451
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: module
                            children: []
                            pos: 54901
                            length: 6
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 54911
                            length: 4
                        children: []
                        pos: 54901
                        length: 14
                    children: []
                    pos: 54900
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: method_invocation
                            fields:
                              text: inputs.isEmpty()
                            children: []
                            pos: 54929
                            length: 16
                        children: []
                        pos: 54928
                        length: 18
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: throw_statement
                        fields:
                          text: throw new IllegalStateException("No inputs");
                        children: []
                        pos: 54957
                        length: 45
                      pos: 54947
                      length: 63
                    pos: 54925
                    length: 85
                  - type: return_statement
                    fields:
                      text: return inputs.get(0).getAstRoot(this);
                    children: []
                    pos: 55018
                    length: 38
                  pos: 54917
                  length: 145
                pos: 54897
                length: 165
              - type: local_variable_declaration
                fields:
                  text: List<CompilerInput> moduleInputs = module.getInputs();
                children: []
                pos: 55068
                length: 54
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: greater_than
                        fields:
                          left:
                            type: method_invocation
                            fields:
                              text: moduleInputs.size()
                            children: []
                            pos: 55131
                            length: 19
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '0'
                            children: []
                            pos: 55153
                            length: 1
                        children: []
                        pos: 55131
                        length: 23
                    children: []
                    pos: 55130
                    length: 25
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return moduleInputs.get(0).getAstRoot(this);
                    children: []
                    pos: 55164
                    length: 44
                  pos: 55156
                  length: 58
                pos: 55127
                length: 87
              - type: throw_statement
                fields:
                  text: throw new IllegalStateException("Root module has no inputs");
                children: []
                pos: 55219
                length: 61
              pos: 54891
              length: 393
          children: []
          pos: 54833
          length: 451
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getSourceMap
              children: []
              pos: 55305
              length: 12
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 55288
              length: 59
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return sourceMap;
                children: []
                pos: 55326
                length: 17
              pos: 55320
              length: 27
          children: []
          pos: 55288
          length: 59
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getVariableMap
              children: []
              pos: 55363
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 55351
              length: 97
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getPassConfig().getIntermediateState().variableMap;
                children: []
                pos: 55386
                length: 58
              pos: 55380
              length: 68
          children: []
          pos: 55351
          length: 97
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getPropertyMap
              children: []
              pos: 55464
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 55452
              length: 97
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getPassConfig().getIntermediateState().propertyMap;
                children: []
                pos: 55487
                length: 58
              pos: 55481
              length: 68
          children: []
          pos: 55452
          length: 97
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getOptions
              children: []
              pos: 55569
              length: 10
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 55553
              length: 54
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return options;
                children: []
                pos: 55588
                length: 15
              pos: 55582
              length: 25
          children: []
          pos: 55553
          length: 54
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getFunctionalInformationMap
              children: []
              pos: 55634
              length: 27
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 55611
              length: 93
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return functionInformationMap;
                children: []
                pos: 55670
                length: 30
              pos: 55664
              length: 40
          children: []
          pos: 55611
          length: 93
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setLoggingLevel
              children: []
              pos: 55813
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Level level
                children: []
                pos: 55829
                length: 11
              pos: 55794
              length: 81
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: logger.setLevel(level);
                children: []
                pos: 55848
                length: 23
              pos: 55842
              length: 33
          children: []
          pos: 55794
          length: 81
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getAstDotGraph
              children: []
              pos: 55969
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 55955
              length: 281
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: jsRoot
                            children: []
                            pos: 56015
                            length: 6
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 56025
                            length: 4
                        children: []
                        pos: 56015
                        length: 14
                    children: []
                    pos: 56014
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: ControlFlowAnalysis cfa = new ControlFlowAnalysis(this,
                        true, false);
                    children: []
                    pos: 56039
                    length: 69
                  - type: expression_statement
                    fields:
                      text: cfa.process(null, jsRoot);
                    children: []
                    pos: 56115
                    length: 26
                  - type: return_statement
                    fields:
                      text: return DotFormatter.toDot(jsRoot, cfa.getCfg());
                    children: []
                    pos: 56148
                    length: 48
                  pos: 56031
                  length: 171
                pos: 56011
                length: 221
              pos: 56005
              length: 231
          children: []
          pos: 55955
          length: 281
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getErrorManager
              children: []
              pos: 56272
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 56240
              length: 155
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: options
                            children: []
                            pos: 56300
                            length: 7
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 56311
                            length: 4
                        children: []
                        pos: 56300
                        length: 15
                    children: []
                    pos: 56299
                    length: 17
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: initOptions(new CompilerOptions());
                    children: []
                    pos: 56325
                    length: 35
                  pos: 56317
                  length: 49
                pos: 56296
                length: 70
              - type: return_statement
                fields:
                  text: return errorManager;
                children: []
                pos: 56371
                length: 20
              pos: 56290
              length: 105
          children: []
          pos: 56240
          length: 155
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getInputsInOrder
              children: []
              pos: 56431
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 56399
              length: 120
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return Collections.<CompilerInput>unmodifiableList(inputs);
                children: []
                pos: 56456
                length: 59
              pos: 56450
              length: 69
          children: []
          pos: 56399
          length: 120
        - type: class_declaration
          fields:
            name:
              type: identifier
              fields:
                text: IntermediateState
              children: []
              pos: 57141
              length: 17
            body:
              type: class_body
              fields: {}
              children:
              - type: field_declaration
                fields:
                  text: private static final long serialVersionUID = 1L;
                children: []
                pos: 57189
                length: 48
              - type: field_declaration
                fields:
                  text: Node externsRoot;
                children: []
                pos: 57243
                length: 17
              - type: field_declaration
                fields:
                  text: private Node jsRoot;
                children: []
                pos: 57265
                length: 20
              - type: field_declaration
                fields:
                  text: private List<CompilerInput> externs;
                children: []
                pos: 57290
                length: 36
              - type: field_declaration
                fields:
                  text: private List<CompilerInput> inputs;
                children: []
                pos: 57331
                length: 35
              - type: field_declaration
                fields:
                  text: private List<JSModule> modules;
                children: []
                pos: 57371
                length: 31
              - type: field_declaration
                fields:
                  text: private PassConfig.State passConfigState;
                children: []
                pos: 57407
                length: 41
              - type: field_declaration
                fields:
                  text: private JSTypeRegistry typeRegistry;
                children: []
                pos: 57453
                length: 36
              - type: field_declaration
                fields:
                  text: private AbstractCompiler.LifeCycleStage lifeCycleStage;
                children: []
                pos: 57494
                length: 55
              - type: constructor_declaration
                fields:
                  text: private IntermediateState() {}
                children: []
                pos: 57555
                length: 30
              pos: 57121
              length: 468
          children: []
          pos: 57121
          length: 468
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getState
              children: []
              pos: 57710
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 57685
              length: 419
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: IntermediateState state = new IntermediateState();
                children: []
                pos: 57727
                length: 50
              - type: expression_statement
                fields:
                  text: state.externsRoot = externsRoot;
                children: []
                pos: 57782
                length: 32
              - type: expression_statement
                fields:
                  text: state.jsRoot = jsRoot;
                children: []
                pos: 57819
                length: 22
              - type: expression_statement
                fields:
                  text: state.externs = externs;
                children: []
                pos: 57846
                length: 24
              - type: expression_statement
                fields:
                  text: state.inputs = inputs;
                children: []
                pos: 57875
                length: 22
              - type: expression_statement
                fields:
                  text: state.modules = modules;
                children: []
                pos: 57902
                length: 24
              - type: expression_statement
                fields:
                  text: state.passConfigState = getPassConfig().getIntermediateState();
                children: []
                pos: 57931
                length: 63
              - type: expression_statement
                fields:
                  text: state.typeRegistry = typeRegistry;
                children: []
                pos: 57999
                length: 34
              - type: expression_statement
                fields:
                  text: state.lifeCycleStage = getLifeCycleStage();
                children: []
                pos: 58038
                length: 43
              - type: return_statement
                fields:
                  text: return state;
                children: []
                pos: 58087
                length: 13
              pos: 57721
              length: 383
          children: []
          pos: 57685
          length: 419
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setState
              children: []
              pos: 58253
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: IntermediateState state
                children: []
                pos: 58262
                length: 23
              pos: 58241
              length: 390
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: externsRoot = state.externsRoot;
                children: []
                pos: 58293
                length: 32
              - type: expression_statement
                fields:
                  text: jsRoot = state.jsRoot;
                children: []
                pos: 58330
                length: 22
              - type: expression_statement
                fields:
                  text: externs = state.externs;
                children: []
                pos: 58357
                length: 24
              - type: expression_statement
                fields:
                  text: inputs = state.inputs;
                children: []
                pos: 58386
                length: 22
              - type: expression_statement
                fields:
                  text: modules = state.modules;
                children: []
                pos: 58413
                length: 24
              - type: expression_statement
                fields:
                  text: passes = createPassConfigInternal();
                children: []
                pos: 58442
                length: 36
              - type: expression_statement
                fields:
                  text: getPassConfig().setIntermediateState(state.passConfigState);
                children: []
                pos: 58483
                length: 60
              - type: expression_statement
                fields:
                  text: typeRegistry = state.typeRegistry;
                children: []
                pos: 58548
                length: 34
              - type: expression_statement
                fields:
                  text: setLifeCycleStage(state.lifeCycleStage);
                children: []
                pos: 58587
                length: 40
              pos: 58287
              length: 344
          children: []
          pos: 58241
          length: 390
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getInputsForTesting
              children: []
              pos: 58676
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 58635
              length: 87
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return inputs;
                children: []
                pos: 58704
                length: 14
              pos: 58698
              length: 24
          children: []
          pos: 58635
          length: 87
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getExternsForTesting
              children: []
              pos: 58767
              length: 20
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 58726
              length: 89
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return externs;
                children: []
                pos: 58796
                length: 15
              pos: 58790
              length: 25
          children: []
          pos: 58726
          length: 89
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: hasRegExpGlobalReferences
              children: []
              pos: 58839
              length: 25
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 58819
              length: 91
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return hasRegExpGlobalReferences;
                children: []
                pos: 58873
                length: 33
              pos: 58867
              length: 43
          children: []
          pos: 58819
          length: 91
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setHasRegExpGlobalReferences
              children: []
              pos: 58931
              length: 28
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: boolean references
                children: []
                pos: 58960
                length: 18
              pos: 58914
              length: 115
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: hasRegExpGlobalReferences = references;
                children: []
                pos: 58986
                length: 39
              pos: 58980
              length: 49
          children: []
          pos: 58914
          length: 115
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: updateGlobalVarReferences
              children: []
              pos: 59050
              length: 25
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Map<Var, ReferenceCollection> refMapPatch
                children: []
                pos: 59076
                length: 41
              pos: 59033
              length: 420
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: |-
                    Preconditions.checkState(collectionRoot.getType() == Token.SCRIPT
                            || collectionRoot.getType() == Token.BLOCK);
                children: []
                pos: 59152
                length: 118
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: globalRefMap
                            children: []
                            pos: 59279
                            length: 12
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 59295
                            length: 4
                        children: []
                        pos: 59279
                        length: 20
                    children: []
                    pos: 59278
                    length: 22
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: globalRefMap = new GlobalVarReferenceMap(getInputsInOrder());
                    children: []
                    pos: 59309
                    length: 61
                  pos: 59301
                  length: 75
                pos: 59275
                length: 101
              - type: expression_statement
                fields:
                  text: globalRefMap.updateGlobalVarReferences(refMapPatch, collectionRoot);
                children: []
                pos: 59381
                length: 68
              pos: 59146
              length: 307
          children: []
          pos: 59033
          length: 420
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getGlobalVarReferences
              children: []
              pos: 59482
              length: 22
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 59457
              length: 80
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return globalRefMap;
                children: []
                pos: 59513
                length: 20
              pos: 59507
              length: 30
          children: []
          pos: 59457
          length: 80
        pos: 2650
        length: 56890
    children: []
    pos: 2650
    length: 56890
  pos: 0
  length: 59541
after_tree:
  type: program
  fields: {}
  children:
  - type: class_declaration
    fields:
      name:
        type: identifier
        fields:
          text: Compiler
        children: []
        pos: 2663
        length: 8
      body:
        type: class_body
        fields: {}
        children:
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType MODULE_DEPENDENCY_ERROR =
                    DiagnosticType.error("JSC_MODULE_DEPENDENCY_ERROR",
                        "Bad dependency: {0} -> {1}. "
                            + "Modules must be listed in dependency order.");
          children: []
          pos: 2702
          length: 216
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType MISSING_ENTRY_ERROR = DiagnosticType.error(
                    "JSC_MISSING_ENTRY_ERROR",
                    "required entry point \"{0}\" never provided");
          children: []
          pos: 2922
          length: 158
        - type: field_declaration
          fields:
            text: CompilerOptions options = null;
          children: []
          pos: 3084
          length: 31
        - type: field_declaration
          fields:
            text: private PassConfig passes = null;
          children: []
          pos: 3119
          length: 33
        - type: field_declaration
          fields:
            text: private List<CompilerInput> externs;
          children: []
          pos: 3180
          length: 36
        - type: field_declaration
          fields:
            text: private List<JSModule> modules;
          children: []
          pos: 3247
          length: 31
        - type: field_declaration
          fields:
            text: private JSModuleGraph moduleGraph;
          children: []
          pos: 3432
          length: 34
        - type: field_declaration
          fields:
            text: private List<CompilerInput> inputs;
          children: []
          pos: 3496
          length: 35
        - type: field_declaration
          fields:
            text: private ErrorManager errorManager;
          children: []
          pos: 3593
          length: 34
        - type: field_declaration
          fields:
            text: private WarningsGuard warningsGuard;
          children: []
          pos: 3675
          length: 36
        - type: field_declaration
          fields:
            text: Node externsRoot;
          children: []
          pos: 3742
          length: 17
        - type: field_declaration
          fields:
            text: Node jsRoot;
          children: []
          pos: 3762
          length: 12
        - type: field_declaration
          fields:
            text: Node externAndJsRoot;
          children: []
          pos: 3777
          length: 21
        - type: field_declaration
          fields:
            text: private Map<String, CompilerInput> inputsByName;
          children: []
          pos: 3802
          length: 48
        - type: field_declaration
          fields:
            text: private SourceMap sourceMap;
          children: []
          pos: 3883
          length: 28
        - type: field_declaration
          fields:
            text: private String externExports = null;
          children: []
          pos: 3963
          length: 36
        - type: field_declaration
          fields:
            text: private int uniqueNameId = 0;
          children: []
          pos: 4094
          length: 29
        - type: field_declaration
          fields:
            text: private boolean useThreads = true;
          children: []
          pos: 4160
          length: 34
        - type: field_declaration
          fields:
            text: private boolean hasRegExpGlobalReferences = true;
          children: []
          pos: 4299
          length: 49
        - type: field_declaration
          fields:
            text: private FunctionInformationMap functionInformationMap;
          children: []
          pos: 4390
          length: 54
        - type: field_declaration
          fields:
            text: private final StringBuilder debugLog = new StringBuilder();
          children: []
          pos: 4479
          length: 59
        - type: field_declaration
          fields:
            text: CodingConvention defaultCodingConvention = new ClosureCodingConvention();
          children: []
          pos: 4595
          length: 73
        - type: field_declaration
          fields:
            text: private JSTypeRegistry typeRegistry;
          children: []
          pos: 4672
          length: 36
        - type: field_declaration
          fields:
            text: private Config parserConfig = null;
          children: []
          pos: 4711
          length: 35
        - type: field_declaration
          fields:
            text: private ReverseAbstractInterpreter abstractInterpreter;
          children: []
          pos: 4750
          length: 55
        - type: field_declaration
          fields:
            text: private TypeValidator typeValidator;
          children: []
          pos: 4808
          length: 36
        - type: field_declaration
          fields:
            text: public PerformanceTracker tracker;
          children: []
          pos: 4848
          length: 34
        - type: field_declaration
          fields:
            text: |-
              private final com.google.javascript.rhino.ErrorReporter oldErrorReporter =
                    RhinoErrorReporter.forOldRhino(this);
          children: []
          pos: 4965
          length: 118
        - type: field_declaration
          fields:
            text: |-
              private final ErrorReporter defaultErrorReporter =
                    RhinoErrorReporter.forNewRhino(this);
          children: []
          pos: 5161
          length: 94
        - type: field_declaration
          fields:
            text: |-
              public static final DiagnosticType OPTIMIZE_LOOP_ERROR = DiagnosticType.error(
                    "JSC_OPTIMIZE_LOOP_ERROR",
                    "Exceeded max number of optimization iterations: {0}");
          children: []
          pos: 5310
          length: 173
        - type: field_declaration
          fields:
            text: |-
              public static final DiagnosticType MOTION_ITERATIONS_ERROR =
                    DiagnosticType.error("JSC_OPTIMIZE_LOOP_ERROR",
                        "Exceeded max number of code motion iterations: {0}");
          children: []
          pos: 5486
          length: 179
        - type: field_declaration
          fields:
            text: private static final long COMPILER_STACK_SIZE = 1048576L;
          children: []
          pos: 5669
          length: 57
        - type: field_declaration
          fields:
            text: |-
              private static final Logger logger =
                    Logger.getLogger("com.google.javascript.jscomp");
          children: []
          pos: 5914
          length: 92
        - type: field_declaration
          fields:
            text: private final PrintStream outStream;
          children: []
          pos: 6010
          length: 36
        - type: field_declaration
          fields:
            text: private GlobalVarReferenceMap globalRefMap = null;
          children: []
          pos: 6050
          length: 50
        - type: constructor_declaration
          fields:
            text: |-
              public Compiler() {
                  this((PrintStream) null);
                }
          children: []
          pos: 6188
          length: 53
        - type: constructor_declaration
          fields:
            text: |-
              public Compiler(PrintStream stream) {
                  addChangeHandler(recentChange);
                  outStream = stream;
                }
          children: []
          pos: 6340
          length: 101
        - type: constructor_declaration
          fields:
            text: |-
              public Compiler(ErrorManager errorManager) {
                  this();
                  setErrorManager(errorManager);
                }
          children: []
          pos: 6515
          length: 95
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setErrorManager
              children: []
              pos: 6742
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: ErrorManager errorManager
                children: []
                pos: 6758
                length: 25
              pos: 6730
              length: 189
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: |-
                    Preconditions.checkNotNull(
                            errorManager, "the error manager cannot be null");
                children: []
                pos: 6791
                length: 86
              - type: expression_statement
                fields:
                  text: this.errorManager = errorManager;
                children: []
                pos: 6882
                length: 33
              pos: 6785
              length: 134
          children: []
          pos: 6730
          length: 189
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: createMessageFormatter
              children: []
              pos: 7062
              length: 22
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 7037
              length: 175
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: boolean colorize = options.shouldColorizeErrorOutput();
                children: []
                pos: 7093
                length: 55
              - type: return_statement
                fields:
                  text: return options.errorFormat.toFormatter(this, colorize);
                children: []
                pos: 7153
                length: 55
              pos: 7087
              length: 125
          children: []
          pos: 7037
          length: 175
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: initOptions
              children: []
              pos: 7342
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: CompilerOptions options
                children: []
                pos: 7354
                length: 23
              pos: 7330
              length: 2149
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: this.options = options;
                children: []
                pos: 7385
                length: 23
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: errorManager
                            children: []
                            pos: 7417
                            length: 12
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 7433
                            length: 4
                        children: []
                        pos: 7417
                        length: 20
                    children: []
                    pos: 7416
                    length: 22
                children:
                - type: block
                  fields: {}
                  children:
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: outStream
                                children: []
                                pos: 7451
                                length: 9
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 7464
                                length: 4
                            children: []
                            pos: 7451
                            length: 17
                        children: []
                        pos: 7450
                        length: 19
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: |-
                            setErrorManager(
                                        new LoggerErrorManager(createMessageFormatter(), logger));
                        children: []
                        pos: 7480
                        length: 87
                      pos: 7470
                      length: 105
                    pos: 7447
                    length: 364
                  pos: 7439
                  length: 378
                pos: 7413
                length: 404
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: options.enables(DiagnosticGroups.CHECK_TYPES)
                        children: []
                        pos: 7889
                        length: 45
                    children: []
                    pos: 7888
                    length: 47
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: options.checkTypes = true;
                    children: []
                    pos: 7944
                    length: 26
                  pos: 7936
                  length: 40
                pos: 7885
                length: 533
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: options.checkGlobalThisLevel.isOn()
                        children: []
                        pos: 8428
                        length: 35
                    children: []
                    pos: 8427
                    length: 37
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: |-
                        options.setWarningLevel(
                                  DiagnosticGroups.GLOBAL_THIS,
                                  options.checkGlobalThisLevel);
                    children: []
                    pos: 8473
                    length: 105
                  pos: 8465
                  length: 119
                pos: 8424
                length: 160
              - type: local_variable_declaration
                fields:
                  text: List<WarningsGuard> guards = Lists.newArrayList();
                children: []
                pos: 8628
                length: 50
              - type: expression_statement
                fields:
                  text: |-
                    guards.add(
                            new SuppressDocWarningsGuard(
                                getDiagnosticGroups().getRegisteredGroups()));
                children: []
                pos: 8683
                length: 108
              - type: expression_statement
                fields:
                  text: guards.add(options.getWarningsGuard());
                children: []
                pos: 8796
                length: 39
              - type: local_variable_declaration
                fields:
                  text: ComposeWarningsGuard composedGuards = new ComposeWarningsGuard(guards);
                children: []
                pos: 8841
                length: 71
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: and
                        fields:
                          left:
                            type: unary_expression
                            fields:
                              text: "!options.checkSymbols"
                            children: []
                            pos: 9208
                            length: 21
                          right:
                            type: unary_expression
                            fields:
                              text: "!composedGuards.enables(DiagnosticGroups.CHECK_VARIABLES)"
                            children: []
                            pos: 9241
                            length: 57
                        children: []
                        pos: 9208
                        length: 90
                    children: []
                    pos: 9207
                    length: 92
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: |-
                        composedGuards.addGuard(new DiagnosticGroupWarningsGuard(
                                  DiagnosticGroups.CHECK_VARIABLES, CheckLevel.OFF));
                    children: []
                    pos: 9308
                    length: 119
                  pos: 9300
                  length: 133
                pos: 9204
                length: 229
              - type: expression_statement
                fields:
                  text: this.warningsGuard = composedGuards;
                children: []
                pos: 9439
                length: 36
              pos: 7379
              length: 2100
          children: []
          pos: 7330
          length: 2149
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: init
              children: []
              pos: 9569
              length: 4
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSSourceFile[] externs
                children: []
                pos: 9574
                length: 22
              pos: 9557
              length: 212
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: |-
                    init(Lists.<JSSourceFile>newArrayList(externs),
                            Lists.<JSSourceFile>newArrayList(inputs), options);
                children: []
                pos: 9658
                length: 107
              pos: 9652
              length: 117
          children: []
          pos: 9557
          length: 212
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: init
              children: []
              pos: 9859
              length: 4
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: List<JSSourceFile> externs
                children: []
                pos: 9864
                length: 26
              pos: 9847
              length: 294
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: JSModule module = new JSModule("[singleton]");
                children: []
                pos: 9956
                length: 46
              - type: enhanced_for_statement
                fields:
                  text: |-
                    for (JSSourceFile input : inputs) {
                          module.add(input);
                        }
                children: []
                pos: 10007
                length: 66
              - type: expression_statement
                fields:
                  text: initModules(externs, Lists.newArrayList(module), options);
                children: []
                pos: 10079
                length: 58
              pos: 9950
              length: 191
          children: []
          pos: 9847
          length: 294
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: init
              children: []
              pos: 10266
              length: 4
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSSourceFile[] externs
                children: []
                pos: 10271
                length: 22
              pos: 10254
              length: 214
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: |-
                    initModules(Lists.<JSSourceFile>newArrayList(externs),
                             Lists.<JSModule>newArrayList(modules), options);
                children: []
                pos: 10352
                length: 112
              pos: 10346
              length: 122
          children: []
          pos: 10254
          length: 214
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: initModules
              children: []
              pos: 10593
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: List<JSSourceFile> externs
                children: []
                pos: 10612
                length: 26
              pos: 10581
              length: 969
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: initOptions(options);
                children: []
                pos: 10701
                length: 21
              - type: expression_statement
                fields:
                  text: checkFirstModule(modules);
                children: []
                pos: 10728
                length: 26
              - type: expression_statement
                fields:
                  text: fillEmptyModules(modules);
                children: []
                pos: 10759
                length: 26
              - type: expression_statement
                fields:
                  text: this.externs = makeCompilerInput(externs, true);
                children: []
                pos: 10791
                length: 48
              - type: expression_statement
                fields:
                  text: this.modules = modules;
                children: []
                pos: 10947
                length: 23
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: greater_than
                        fields:
                          left:
                            type: method_invocation
                            fields:
                              text: modules.size()
                            children: []
                            pos: 10979
                            length: 14
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '1'
                            children: []
                            pos: 10996
                            length: 1
                        children: []
                        pos: 10979
                        length: 18
                    children: []
                    pos: 10978
                    length: 20
                children:
                - type: block
                  fields: {}
                  children:
                  - type: try_statement
                    fields:
                      body:
                        type: block
                        fields: {}
                        children:
                        - type: expression_statement
                          fields:
                            text: this.moduleGraph = new JSModuleGraph(modules);
                          children: []
                          pos: 11021
                          length: 46
                        pos: 11011
                        length: 64
                      excepts:
                        type: excepts
                        fields: {}
                        children:
                        - type: catch_clause
                          fields:
                            text: |-
                              catch (JSModuleGraph.ModuleDependenceException e) {
                                      // problems with the module format.  Report as an error.  The
                                      // message gives all details.
                                      report(JSError.make(MODULE_DEPENDENCY_ERROR,
                                              e.getModule().getName(), e.getDependentModule().getName()));
                                      return;
                                    }
                          children: []
                          pos: 11076
                          length: 313
                        pos: 11007
                        length: 382
                    children: []
                    pos: 11007
                    length: 382
                  pos: 10999
                  length: 396
                pos: 10975
                length: 464
              - type: expression_statement
                fields:
                  text: this.inputs = getAllInputsFromModules(modules);
                children: []
                pos: 11445
                length: 47
              - type: expression_statement
                fields:
                  text: initBasedOnOptions();
                children: []
                pos: 11497
                length: 21
              - type: expression_statement
                fields:
                  text: initInputsByNameMap();
                children: []
                pos: 11524
                length: 22
              pos: 10695
              length: 855
          children: []
          pos: 10581
          length: 969
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: initBasedOnOptions
              children: []
              pos: 11649
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 11636
              length: 192
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: field_access
                            fields:
                              text: options.sourceMapOutputPath
                            children: []
                            pos: 11723
                            length: 27
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 11754
                            length: 4
                        children: []
                        pos: 11723
                        length: 35
                    children: []
                    pos: 11722
                    length: 37
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: sourceMap = options.sourceMapFormat.getInstance();
                    children: []
                    pos: 11768
                    length: 50
                  pos: 11760
                  length: 64
                pos: 11719
                length: 105
              pos: 11670
              length: 158
          children: []
          pos: 11636
          length: 192
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: makeCompilerInput
              children: []
              pos: 11860
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: List<JSSourceFile> files
                children: []
                pos: 11885
                length: 24
              pos: 11832
              length: 273
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: List<CompilerInput> inputs = Lists.newArrayList();
                children: []
                pos: 11935
                length: 50
              - type: enhanced_for_statement
                fields:
                  text: |-
                    for (JSSourceFile file : files) {
                          inputs.add(new CompilerInput(file, isExtern));
                        }
                children: []
                pos: 11990
                length: 92
              - type: return_statement
                fields:
                  text: return inputs;
                children: []
                pos: 12087
                length: 14
              pos: 11929
              length: 176
          children: []
          pos: 11832
          length: 273
        - type: field_declaration
          fields:
            text: |-
              private static final DiagnosticType EMPTY_MODULE_LIST_ERROR =
                    DiagnosticType.error("JSC_EMPTY_MODULE_LIST_ERROR",
                        "At least one module must be provided");
          children: []
          pos: 12109
          length: 170
        - type: field_declaration
          fields:
            text: |-
              private static final DiagnosticType EMPTY_ROOT_MODULE_ERROR =
                    DiagnosticType.error("JSC_EMPTY_ROOT_MODULE_ERROR",
                        "Root module '{0}' must contain at least one source code input");
          children: []
          pos: 12283
          length: 195
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: checkFirstModule
              children: []
              pos: 12628
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: List<JSModule> modules
                children: []
                pos: 12645
                length: 22
              pos: 12615
              length: 386
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: modules.isEmpty()
                        children: []
                        pos: 12679
                        length: 17
                    children: []
                    pos: 12678
                    length: 19
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: report(JSError.make(EMPTY_MODULE_LIST_ERROR));
                    children: []
                    pos: 12706
                    length: 46
                  pos: 12698
                  length: 60
                pos: 12675
                length: 322
              pos: 12669
              length: 332
          children: []
          pos: 12615
          length: 386
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: fillEmptyModules
              children: []
              pos: 13137
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: List<JSModule> modules
                children: []
                pos: 13154
                length: 22
              pos: 13117
              length: 237
            body:
              type: block
              fields: {}
              children:
              - type: enhanced_for_statement
                fields:
                  text: |-
                    for (JSModule module : modules) {
                          if (module.getInputs().isEmpty()) {
                            module.add(JSSourceFile.fromCode("[" + module.getName() + "]", ""));
                          }
                        }
                children: []
                pos: 13184
                length: 166
              pos: 13178
              length: 176
          children: []
          pos: 13117
          length: 237
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: rebuildInputsFromModules
              children: []
              pos: 13612
              length: 24
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 13600
              length: 118
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: inputs = getAllInputsFromModules(modules);
                children: []
                pos: 13645
                length: 42
              - type: expression_statement
                fields:
                  text: initInputsByNameMap();
                children: []
                pos: 13692
                length: 22
              pos: 13639
              length: 79
          children: []
          pos: 13600
          length: 118
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getAllInputsFromModules
              children: []
              pos: 13863
              length: 23
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: List<JSModule> modules
                children: []
                pos: 13894
                length: 22
              pos: 13828
              length: 623
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: List<CompilerInput> inputs = Lists.newArrayList();
                children: []
                pos: 13924
                length: 50
              - type: local_variable_declaration
                fields:
                  text: Map<String, JSModule> inputMap = Maps.newHashMap();
                children: []
                pos: 13979
                length: 51
              - type: enhanced_for_statement
                fields:
                  text: |-
                    for (JSModule module : modules) {
                          for (CompilerInput input : module.getInputs()) {
                            String inputName = input.getName();

                            // NOTE(nicksantos): If an input is in more than one module,
                            // it will show up twice in the inputs list, and then we
                            // will get an error down the line.
                            inputs.add(input);
                            inputMap.put(inputName, module);
                          }
                        }
                children: []
                pos: 14035
                length: 393
              - type: return_statement
                fields:
                  text: return inputs;
                children: []
                pos: 14433
                length: 14
              pos: 13918
              length: 533
          children: []
          pos: 13828
          length: 623
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType DUPLICATE_INPUT =
                    DiagnosticType.error("JSC_DUPLICATE_INPUT", "Duplicate input: {0}");
          children: []
          pos: 14455
          length: 120
        - type: field_declaration
          fields:
            text: |-
              static final DiagnosticType DUPLICATE_EXTERN_INPUT =
                    DiagnosticType.error("JSC_DUPLICATE_EXTERN_INPUT",
                        "Duplicate extern input: {0}");
          children: []
          pos: 14578
          length: 151
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: initInputsByNameMap
              children: []
              pos: 14850
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 14845
              length: 585
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: inputsByName = new HashMap<String, CompilerInput>();
                children: []
                pos: 14878
                length: 52
              - type: enhanced_for_statement
                fields:
                  text: |-
                    for (CompilerInput input : externs) {
                          String name = input.getName();
                          if (!inputsByName.containsKey(name)) {
                            inputsByName.put(name, input);
                          } else {
                            report(JSError.make(DUPLICATE_EXTERN_INPUT, name));
                          }
                        }
                children: []
                pos: 14935
                length: 247
              - type: enhanced_for_statement
                fields:
                  text: |-
                    for (CompilerInput input : inputs) {
                          String name = input.getName();
                          if (!inputsByName.containsKey(name)) {
                            inputsByName.put(name, input);
                          } else {
                            report(JSError.make(DUPLICATE_INPUT, name));
                          }
                        }
                children: []
                pos: 15187
                length: 239
              pos: 14872
              length: 558
          children: []
          pos: 14845
          length: 585
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: compile
              children: []
              pos: 15448
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSSourceFile extern
                children: []
                pos: 15463
                length: 19
              pos: 15434
              length: 168
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return compile(extern, new JSSourceFile[] { input }, options);
                children: []
                pos: 15536
                length: 62
              pos: 15529
              length: 73
          children: []
          pos: 15434
          length: 168
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: compile
              children: []
              pos: 15620
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSSourceFile extern
                children: []
                pos: 15635
                length: 19
              pos: 15606
              length: 170
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return compile(new JSSourceFile[] { extern }, input, options);
                children: []
                pos: 15710
                length: 62
              pos: 15703
              length: 73
          children: []
          pos: 15606
          length: 170
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: compile
              children: []
              pos: 15794
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSSourceFile extern
                children: []
                pos: 15809
                length: 19
              pos: 15780
              length: 170
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return compile(new JSSourceFile[] { extern }, modules, options);
                children: []
                pos: 15882
                length: 64
              pos: 15875
              length: 75
          children: []
          pos: 15780
          length: 170
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: compile
              children: []
              pos: 16012
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSSourceFile[] externs
                children: []
                pos: 16020
                length: 22
              pos: 15998
              length: 277
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return compile(Lists.<JSSourceFile>newArrayList(externs),
                            Lists.<JSSourceFile>newArrayList(inputs),
                            options);
                children: []
                pos: 16146
                length: 125
              pos: 16140
              length: 135
          children: []
          pos: 15998
          length: 277
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: compile
              children: []
              pos: 16337
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: List<JSSourceFile> externs
                children: []
                pos: 16345
                length: 26
              pos: 16323
              length: 491
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: Preconditions.checkState(jsRoot == null);
                children: []
                pos: 16491
                length: 41
              - type: try_statement
                fields:
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: expression_statement
                      fields:
                        text: init(externs, inputs, options);
                      children: []
                      pos: 16550
                      length: 31
                    - type: if_statement
                      fields:
                        condition:
                          type: parenthesized_expression
                          fields:
                            expression:
                              type: method_invocation
                              fields:
                                text: hasErrors()
                              children: []
                              pos: 16592
                              length: 11
                          children: []
                          pos: 16591
                          length: 13
                      children:
                      - type: block
                        fields: {}
                        children:
                        - type: return_statement
                          fields:
                            text: return getResult();
                          children: []
                          pos: 16615
                          length: 19
                        pos: 16605
                        length: 37
                      pos: 16588
                      length: 54
                    - type: return_statement
                      fields:
                        text: return compile();
                      children: []
                      pos: 16649
                      length: 17
                    pos: 16542
                    length: 130
                  excepts:
                    type: excepts
                    fields: {}
                    children: []
                    pos: 16538
                    length: 272
                children: []
                pos: 16538
                length: 272
              pos: 16431
              length: 383
          children: []
          pos: 16323
          length: 491
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: compile
              children: []
              pos: 16877
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSSourceFile[] externs
                children: []
                pos: 16885
                length: 22
              pos: 16863
              length: 278
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return compileModules(Lists.<JSSourceFile>newArrayList(externs),
                            Lists.<JSModule>newArrayList(modules),
                            options);
                children: []
                pos: 17008
                length: 129
              pos: 17002
              length: 139
          children: []
          pos: 16863
          length: 278
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: compileModules
              children: []
              pos: 17204
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: List<JSSourceFile> externs
                children: []
                pos: 17219
                length: 26
              pos: 17190
              length: 503
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: Preconditions.checkState(jsRoot == null);
                children: []
                pos: 17362
                length: 41
              - type: try_statement
                fields:
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: expression_statement
                      fields:
                        text: initModules(externs, modules, options);
                      children: []
                      pos: 17421
                      length: 39
                    - type: if_statement
                      fields:
                        condition:
                          type: parenthesized_expression
                          fields:
                            expression:
                              type: method_invocation
                              fields:
                                text: hasErrors()
                              children: []
                              pos: 17471
                              length: 11
                          children: []
                          pos: 17470
                          length: 13
                      children:
                      - type: block
                        fields: {}
                        children:
                        - type: return_statement
                          fields:
                            text: return getResult();
                          children: []
                          pos: 17494
                          length: 19
                        pos: 17484
                        length: 37
                      pos: 17467
                      length: 54
                    - type: return_statement
                      fields:
                        text: return compile();
                      children: []
                      pos: 17528
                      length: 17
                    pos: 17413
                    length: 138
                  excepts:
                    type: excepts
                    fields: {}
                    children: []
                    pos: 17409
                    length: 280
                children: []
                pos: 17409
                length: 280
              pos: 17302
              length: 391
          children: []
          pos: 17190
          length: 503
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: compile
              children: []
              pos: 17712
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 17697
              length: 203
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return runInCompilerThread(new Callable<Result>() {
                          public Result call() throws Exception {
                            compileInternal();
                            return getResult();
                          }
                        });
                children: []
                pos: 17728
                length: 168
              pos: 17722
              length: 178
          children: []
          pos: 17697
          length: 203
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: disableThreads
              children: []
              pos: 18021
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 18009
              length: 58
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: useThreads = false;
                children: []
                pos: 18044
                length: 19
              pos: 18038
              length: 29
          children: []
          pos: 18009
          length: 58
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: runInCompilerThread
              children: []
              pos: 18085
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final Callable<T> callable
                children: []
                pos: 18105
                length: 26
              pos: 18071
              length: 136
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return runCallable(callable, useThreads, options.tracer.isOn());
                children: []
                pos: 18139
                length: 64
              pos: 18133
              length: 74
          children: []
          pos: 18071
          length: 136
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: runCallableWithLargeStack
              children: []
              pos: 18224
              length: 25
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final Callable<T> callable
                children: []
                pos: 18250
                length: 26
              pos: 18211
              length: 119
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return runCallable(callable, true, false);
                children: []
                pos: 18284
                length: 42
              pos: 18278
              length: 52
          children: []
          pos: 18211
          length: 119
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: runCallable
              children: []
              pos: 18380
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final Callable<T> callable
                children: []
                pos: 18399
                length: 26
              pos: 18334
              length: 1579
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: final boolean dumpTraceReport = trace;
                children: []
                pos: 18859
                length: 38
              - type: local_variable_declaration
                fields:
                  text: final Object[] result = new Object[1];
                children: []
                pos: 18902
                length: 38
              - type: local_variable_declaration
                fields:
                  text: final Throwable[] exception = new Throwable[1];
                children: []
                pos: 18945
                length: 47
              - type: local_variable_declaration
                fields:
                  text: |-
                    Runnable runnable = new Runnable() {
                          public void run() {
                            try {
                              if (dumpTraceReport) {
                                Tracer.initCurrentThreadTrace();
                              }
                              result[0] = callable.call();
                            } catch (Throwable e) {
                              exception[0] = e;
                            } finally {
                              if (dumpTraceReport) {
                                Tracer.logAndClearCurrentThreadTrace();
                              }
                            }
                          }
                        };
                children: []
                pos: 18997
                length: 407
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: identifier
                        fields:
                          text: useLargeStackThread
                        children: []
                        pos: 19414
                        length: 19
                    children: []
                    pos: 19413
                    length: 21
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: Thread th = new Thread(null, runnable, "jscompiler", COMPILER_STACK_SIZE);
                    children: []
                    pos: 19443
                    length: 74
                  - type: expression_statement
                    fields:
                      text: th.start();
                    children: []
                    pos: 19524
                    length: 11
                  - type: while_statement
                    fields:
                      text: |-
                        while (true) {
                                try {
                                  th.join();
                                  break;
                                } catch (InterruptedException ignore) {
                                  // ignore
                                }
                              }
                    children: []
                    pos: 19542
                    length: 152
                  pos: 19435
                  length: 265
                pos: 19410
                length: 325
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: array_access
                            fields:
                              array:
                                type: identifier
                                fields:
                                  text: exception
                                children: []
                                pos: 19805
                                length: 9
                              index:
                                type: decimal_integer_literal
                                fields:
                                  text: '0'
                                children: []
                                pos: 19815
                                length: 1
                            children: []
                            pos: 19805
                            length: 12
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 19821
                            length: 4
                        children: []
                        pos: 19805
                        length: 20
                    children: []
                    pos: 19804
                    length: 22
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: throw new RuntimeException(exception[0]);
                    children: []
                    pos: 19835
                    length: 41
                  pos: 19827
                  length: 55
                pos: 19801
                length: 81
              - type: return_statement
                fields:
                  text: return (T) result[0];
                children: []
                pos: 19888
                length: 21
              pos: 18471
              length: 1442
          children: []
          pos: 18334
          length: 1579
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: compileInternal
              children: []
              pos: 19930
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 19917
              length: 828
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: parse();
                children: []
                pos: 19954
                length: 8
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: hasErrors()
                        children: []
                        pos: 19971
                        length: 11
                    children: []
                    pos: 19970
                    length: 13
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return;
                    children: []
                    pos: 19992
                    length: 7
                  pos: 19984
                  length: 21
                pos: 19967
                length: 38
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: unary_expression
                        fields:
                          text: "!precheck()"
                        children: []
                        pos: 20015
                        length: 11
                    children: []
                    pos: 20014
                    length: 13
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return;
                    children: []
                    pos: 20036
                    length: 7
                  pos: 20028
                  length: 21
                pos: 20011
                length: 38
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: field_access
                        fields:
                          text: options.nameAnonymousFunctionsOnly
                        children: []
                        pos: 20059
                        length: 34
                    children: []
                    pos: 20058
                    length: 36
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: check();
                    children: []
                    pos: 20174
                    length: 8
                  - type: return_statement
                    fields:
                      text: return;
                    children: []
                    pos: 20189
                    length: 7
                  pos: 20095
                  length: 107
                pos: 20055
                length: 147
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: unary_expression
                        fields:
                          text: "!options.skipAllPasses"
                        children: []
                        pos: 20212
                        length: 22
                    children: []
                    pos: 20211
                    length: 24
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: check();
                    children: []
                    pos: 20244
                    length: 8
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: method_invocation
                            fields:
                              text: hasErrors()
                            children: []
                            pos: 20263
                            length: 11
                        children: []
                        pos: 20262
                        length: 13
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: return_statement
                        fields:
                          text: return;
                        children: []
                        pos: 20286
                        length: 7
                      pos: 20276
                      length: 25
                    pos: 20259
                    length: 42
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: or
                            fields:
                              left:
                                type: method_invocation
                                fields:
                                  text: options.isExternExportsEnabled()
                                children: []
                                pos: 20313
                                length: 32
                              right:
                                type: not_equals
                                fields:
                                  left:
                                    type: field_access
                                    fields:
                                      text: options.externExportsPath
                                    children: []
                                    pos: 20359
                                    length: 25
                                  right:
                                    type: null_literal
                                    fields: {}
                                    children: []
                                    pos: 20388
                                    length: 4
                                children: []
                                pos: 20359
                                length: 33
                            children: []
                            pos: 20313
                            length: 79
                        children: []
                        pos: 20312
                        length: 81
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: externExports();
                        children: []
                        pos: 20404
                        length: 16
                      pos: 20394
                      length: 34
                    pos: 20309
                    length: 119
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: unary_expression
                            fields:
                              text: "!options.ideMode"
                            children: []
                            pos: 20518
                            length: 16
                        children: []
                        pos: 20517
                        length: 18
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: optimize();
                        children: []
                        pos: 20546
                        length: 11
                      pos: 20536
                      length: 29
                    pos: 20514
                    length: 51
                  pos: 20236
                  length: 335
                pos: 20208
                length: 363
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: field_access
                        fields:
                          text: options.recordFunctionInformation
                        children: []
                        pos: 20581
                        length: 33
                    children: []
                    pos: 20580
                    length: 35
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: recordFunctionInformation();
                    children: []
                    pos: 20624
                    length: 28
                  pos: 20616
                  length: 42
                pos: 20577
                length: 81
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: field_access
                            fields:
                              text: options.devMode
                            children: []
                            pos: 20668
                            length: 15
                          right:
                            type: field_access
                            fields:
                              text: DevMode.START_AND_END
                            children: []
                            pos: 20687
                            length: 21
                        children: []
                        pos: 20668
                        length: 40
                    children: []
                    pos: 20667
                    length: 42
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: runSanityCheck();
                    children: []
                    pos: 20718
                    length: 17
                  pos: 20710
                  length: 31
                pos: 20664
                length: 77
              pos: 19948
              length: 797
          children: []
          pos: 19917
          length: 828
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: parse
              children: []
              pos: 20761
              length: 5
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 20749
              length: 44
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: parseInputs();
                children: []
                pos: 20775
                length: 14
              pos: 20769
              length: 24
          children: []
          pos: 20749
          length: 44
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getPassConfig
              children: []
              pos: 20808
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 20797
              length: 126
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: passes
                            children: []
                            pos: 20834
                            length: 6
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 20844
                            length: 4
                        children: []
                        pos: 20834
                        length: 14
                    children: []
                    pos: 20833
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: passes = createPassConfigInternal();
                    children: []
                    pos: 20858
                    length: 36
                  pos: 20850
                  length: 50
                pos: 20830
                length: 70
              - type: return_statement
                fields:
                  text: return passes;
                children: []
                pos: 20905
                length: 14
              pos: 20824
              length: 99
          children: []
          pos: 20797
          length: 126
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: createPassConfigInternal
              children: []
              pos: 21047
              length: 24
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 21036
              length: 86
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return new DefaultPassConfig(options);
                children: []
                pos: 21080
                length: 38
              pos: 21074
              length: 48
          children: []
          pos: 21036
          length: 86
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setPassConfig
              children: []
              pos: 21339
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: PassConfig passes
                children: []
                pos: 21353
                length: 17
              pos: 21327
              length: 543
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: Preconditions.checkNotNull(passes);
                children: []
                pos: 21687
                length: 35
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: field_access
                            fields:
                              text: this.passes
                            children: []
                            pos: 21732
                            length: 11
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 21747
                            length: 4
                        children: []
                        pos: 21732
                        length: 19
                    children: []
                    pos: 21731
                    length: 21
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: throw new IllegalStateException("this.passes has already
                        been assigned");
                    children: []
                    pos: 21761
                    length: 73
                  pos: 21753
                  length: 87
                pos: 21728
                length: 112
              - type: expression_statement
                fields:
                  text: this.passes = passes;
                children: []
                pos: 21845
                length: 21
              pos: 21372
              length: 498
          children: []
          pos: 21327
          length: 543
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: precheck
              children: []
              pos: 22077
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 22069
              length: 41
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return true;
                children: []
                pos: 22094
                length: 12
              pos: 22088
              length: 22
          children: []
          pos: 22069
          length: 41
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: check
              children: []
              pos: 22126
              length: 5
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 22114
              length: 1076
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: runCustomPasses(CustomPassExecutionTime.BEFORE_CHECKS);
                children: []
                pos: 22140
                length: 55
              - type: local_variable_declaration
                fields:
                  text: PhaseOptimizer phaseOptimizer = new PhaseOptimizer(this, tracker);
                children: []
                pos: 22201
                length: 66
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: field_access
                            fields:
                              text: options.devMode
                            children: []
                            pos: 22276
                            length: 15
                          right:
                            type: field_access
                            fields:
                              text: DevMode.EVERY_PASS
                            children: []
                            pos: 22295
                            length: 18
                        children: []
                        pos: 22276
                        length: 37
                    children: []
                    pos: 22275
                    length: 39
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: phaseOptimizer.setSanityCheck(sanityCheck);
                    children: []
                    pos: 22323
                    length: 43
                  pos: 22315
                  length: 57
                pos: 22272
                length: 100
              - type: expression_statement
                fields:
                  text: phaseOptimizer.consume(getPassConfig().getChecks());
                children: []
                pos: 22377
                length: 52
              - type: expression_statement
                fields:
                  text: phaseOptimizer.process(externsRoot, jsRoot);
                children: []
                pos: 22434
                length: 44
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: hasErrors()
                        children: []
                        pos: 22487
                        length: 11
                    children: []
                    pos: 22486
                    length: 13
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return;
                    children: []
                    pos: 22508
                    length: 7
                  pos: 22500
                  length: 21
                pos: 22483
                length: 38
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: field_access
                        fields:
                          text: options.nameAnonymousFunctionsOnly
                        children: []
                        pos: 22608
                        length: 34
                    children: []
                    pos: 22607
                    length: 36
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return;
                    children: []
                    pos: 22652
                    length: 7
                  pos: 22644
                  length: 21
                pos: 22604
                length: 61
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: field_access
                        fields:
                          text: options.removeTryCatchFinally
                        children: []
                        pos: 22675
                        length: 29
                    children: []
                    pos: 22674
                    length: 31
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: removeTryCatchFinally();
                    children: []
                    pos: 22714
                    length: 24
                  pos: 22706
                  length: 38
                pos: 22671
                length: 73
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: or
                            fields:
                              left:
                                type: or
                                fields:
                                  left:
                                    type: or
                                    fields:
                                      left:
                                        type: method_invocation
                                        fields:
                                          text: options.getTweakProcessing().shouldStrip()
                                        children: []
                                        pos: 22754
                                        length: 42
                                      right:
                                        type: unary_expression
                                        fields:
                                          text: "!options.stripTypes.isEmpty()"
                                        children: []
                                        pos: 22808
                                        length: 29
                                    children: []
                                    pos: 22754
                                    length: 83
                                  right:
                                    type: unary_expression
                                    fields:
                                      text: "!options.stripNameSuffixes.isEmpty()"
                                    children: []
                                    pos: 22849
                                    length: 36
                                children: []
                                pos: 22754
                                length: 131
                              right:
                                type: unary_expression
                                fields:
                                  text: "!options.stripTypePrefixes.isEmpty()"
                                children: []
                                pos: 22897
                                length: 36
                            children: []
                            pos: 22754
                            length: 179
                          right:
                            type: unary_expression
                            fields:
                              text: "!options.stripNamePrefixes.isEmpty()"
                            children: []
                            pos: 22945
                            length: 36
                        children: []
                        pos: 22754
                        length: 227
                    children: []
                    pos: 22753
                    length: 229
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: |-
                        stripCode(options.stripTypes, options.stripNameSuffixes,
                                  options.stripTypePrefixes, options.stripNamePrefixes);
                    children: []
                    pos: 22991
                    length: 121
                  pos: 22983
                  length: 135
                pos: 22750
                length: 368
              - type: expression_statement
                fields:
                  text: runCustomPasses(CustomPassExecutionTime.BEFORE_OPTIMIZATIONS);
                children: []
                pos: 23124
                length: 62
              pos: 22134
              length: 1056
          children: []
          pos: 22114
          length: 1076
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: externExports
              children: []
              pos: 23207
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 23194
              length: 262
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: logger.info("Creating extern file for exports");
                children: []
                pos: 23229
                length: 48
              - type: expression_statement
                fields:
                  text: startPass("externExports");
                children: []
                pos: 23282
                length: 27
              - type: local_variable_declaration
                fields:
                  text: ExternExportsPass pass = new ExternExportsPass(this);
                children: []
                pos: 23315
                length: 53
              - type: expression_statement
                fields:
                  text: process(pass);
                children: []
                pos: 23373
                length: 14
              - type: expression_statement
                fields:
                  text: externExports = pass.getGeneratedExterns();
                children: []
                pos: 23393
                length: 43
              - type: expression_statement
                fields:
                  text: endPass();
                children: []
                pos: 23442
                length: 10
              pos: 23223
              length: 233
          children: []
          pos: 23194
          length: 262
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: process
              children: []
              pos: 23477
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: CompilerPass p
                children: []
                pos: 23485
                length: 14
              pos: 23460
              length: 82
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: p.process(externsRoot, jsRoot);
                children: []
                pos: 23507
                length: 31
              pos: 23501
              length: 41
          children: []
          pos: 23460
          length: 82
        - type: field_declaration
          fields:
            text: |-
              private final PassFactory sanityCheck =
                    new PassFactory("sanityCheck", false) {
                  @Override
                  protected CompilerPass createInternal(AbstractCompiler compiler) {
                    return new SanityCheck(compiler);
                  }
                };
          children: []
          pos: 23546
          length: 221
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: maybeSanityCheck
              children: []
              pos: 23784
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 23771
              length: 116
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: field_access
                            fields:
                              text: options.devMode
                            children: []
                            pos: 23813
                            length: 15
                          right:
                            type: field_access
                            fields:
                              text: DevMode.EVERY_PASS
                            children: []
                            pos: 23832
                            length: 18
                        children: []
                        pos: 23813
                        length: 37
                    children: []
                    pos: 23812
                    length: 39
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: runSanityCheck();
                    children: []
                    pos: 23860
                    length: 17
                  pos: 23852
                  length: 31
                pos: 23809
                length: 74
              pos: 23803
              length: 84
          children: []
          pos: 23771
          length: 116
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: runSanityCheck
              children: []
              pos: 23904
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 23891
              length: 94
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: sanityCheck.create(this).process(externsRoot, jsRoot);
                children: []
                pos: 23927
                length: 54
              pos: 23921
              length: 64
          children: []
          pos: 23891
          length: 94
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: removeTryCatchFinally
              children: []
              pos: 24070
              length: 21
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 24065
              length: 199
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: logger.info("Remove try/catch/finally");
                children: []
                pos: 24100
                length: 40
              - type: expression_statement
                fields:
                  text: startPass("removeTryCatchFinally");
                children: []
                pos: 24145
                length: 35
              - type: local_variable_declaration
                fields:
                  text: RemoveTryCatch r = new RemoveTryCatch(this);
                children: []
                pos: 24185
                length: 44
              - type: expression_statement
                fields:
                  text: process(r);
                children: []
                pos: 24234
                length: 11
              - type: expression_statement
                fields:
                  text: endPass();
                children: []
                pos: 24250
                length: 10
              pos: 24094
              length: 170
          children: []
          pos: 24065
          length: 199
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: stripCode
              children: []
              pos: 24413
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Set<String> stripTypes
                children: []
                pos: 24423
                length: 22
              pos: 24408
              length: 441
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: logger.info("Strip code");
                children: []
                pos: 24552
                length: 26
              - type: expression_statement
                fields:
                  text: startPass("stripCode");
                children: []
                pos: 24583
                length: 23
              - type: local_variable_declaration
                fields:
                  text: |-
                    StripCode r = new StripCode(this, stripTypes, stripNameSuffixes,
                            stripTypePrefixes, stripNamePrefixes);
                children: []
                pos: 24611
                length: 111
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: options.getTweakProcessing().shouldStrip()
                        children: []
                        pos: 24731
                        length: 42
                    children: []
                    pos: 24730
                    length: 44
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: r.enableTweakStripping();
                    children: []
                    pos: 24783
                    length: 25
                  pos: 24775
                  length: 39
                pos: 24727
                length: 87
              - type: expression_statement
                fields:
                  text: process(r);
                children: []
                pos: 24819
                length: 11
              - type: expression_statement
                fields:
                  text: endPass();
                children: []
                pos: 24835
                length: 10
              pos: 24546
              length: 303
          children: []
          pos: 24408
          length: 441
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: runCustomPasses
              children: []
              pos: 24951
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: CustomPassExecutionTime executionTime
                children: []
                pos: 24967
                length: 37
              pos: 24938
              length: 351
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: field_access
                            fields:
                              text: options.customPasses
                            children: []
                            pos: 25016
                            length: 20
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 25040
                            length: 4
                        children: []
                        pos: 25016
                        length: 28
                    children: []
                    pos: 25015
                    length: 30
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: Tracer t = newTracer("runCustomPasses");
                    children: []
                    pos: 25054
                    length: 40
                  - type: try_statement
                    fields:
                      body:
                        type: block
                        fields: {}
                        children:
                        - type: enhanced_for_statement
                          fields:
                            text: |-
                              for (CompilerPass p : options.customPasses.get(executionTime)) {
                                        process(p);
                                      }
                          children: []
                          pos: 25115
                          length: 96
                        pos: 25105
                        length: 114
                      excepts:
                        type: excepts
                        fields: {}
                        children: []
                        pos: 25101
                        length: 178
                    children: []
                    pos: 25101
                    length: 178
                  pos: 25046
                  length: 239
                pos: 25012
                length: 273
              pos: 25006
              length: 283
          children: []
          pos: 24938
          length: 351
        - type: field_declaration
          fields:
            text: private Tracer currentTracer = null;
          children: []
          pos: 25293
          length: 36
        - type: field_declaration
          fields:
            text: private String currentPassName = null;
          children: []
          pos: 25332
          length: 38
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: startPass
              children: []
              pos: 25427
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String passName
                children: []
                pos: 25437
                length: 15
              pos: 25422
              length: 163
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: Preconditions.checkState(currentTracer == null);
                children: []
                pos: 25460
                length: 48
              - type: expression_statement
                fields:
                  text: currentPassName = passName;
                children: []
                pos: 25513
                length: 27
              - type: expression_statement
                fields:
                  text: currentTracer = newTracer(passName);
                children: []
                pos: 25545
                length: 36
              pos: 25454
              length: 131
          children: []
          pos: 25422
          length: 163
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: endPass
              children: []
              pos: 25636
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 25631
              length: 301
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: |-
                    Preconditions.checkState(currentTracer != null,
                            "Tracer should not be null at the end of a pass.");
                children: []
                pos: 25652
                length: 107
              - type: expression_statement
                fields:
                  text: stopTracer(currentTracer, currentPassName);
                children: []
                pos: 25764
                length: 43
              - type: local_variable_declaration
                fields:
                  text: String passToCheck = currentPassName;
                children: []
                pos: 25812
                length: 37
              - type: expression_statement
                fields:
                  text: currentPassName = null;
                children: []
                pos: 25854
                length: 23
              - type: expression_statement
                fields:
                  text: currentTracer = null;
                children: []
                pos: 25882
                length: 21
              - type: expression_statement
                fields:
                  text: maybeSanityCheck();
                children: []
                pos: 25909
                length: 19
              pos: 25646
              length: 286
          children: []
          pos: 25631
          length: 301
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: newTracer
              children: []
              pos: 26006
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String passName
                children: []
                pos: 26016
                length: 15
              pos: 25999
              length: 270
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: |-
                    String comment = passName
                            + (recentChange.hasCodeChanged() ? " on recently changed AST" : "");
                children: []
                pos: 26039
                length: 102
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: options.tracer.isOn()
                        children: []
                        pos: 26150
                        length: 21
                    children: []
                    pos: 26149
                    length: 23
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: tracker.recordPassStart(passName);
                    children: []
                    pos: 26181
                    length: 34
                  pos: 26173
                  length: 48
                pos: 26146
                length: 75
              - type: return_statement
                fields:
                  text: return new Tracer("Compiler", comment);
                children: []
                pos: 26226
                length: 39
              pos: 26033
              length: 236
          children: []
          pos: 25999
          length: 270
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: stopTracer
              children: []
              pos: 26278
              length: 10
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Tracer t
                children: []
                pos: 26289
                length: 8
              pos: 26273
              length: 163
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: long result = t.stop();
                children: []
                pos: 26322
                length: 23
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: options.tracer.isOn()
                        children: []
                        pos: 26354
                        length: 21
                    children: []
                    pos: 26353
                    length: 23
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: tracker.recordPassStop(passName, result);
                    children: []
                    pos: 26385
                    length: 41
                  pos: 26377
                  length: 55
                pos: 26350
                length: 82
              pos: 26316
              length: 120
          children: []
          pos: 26273
          length: 163
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getResult
              children: []
              pos: 26510
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 26496
              length: 371
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: PassConfig.State state = getPassConfig().getIntermediateState();
                children: []
                pos: 26528
                length: 64
              - type: return_statement
                fields:
                  text: |-
                    return new Result(getErrors(), getWarnings(), debugLog.toString(),
                            state.variableMap, state.propertyMap,
                            state.anonymousFunctionNameMap, state.stringMap, functionInformationMap,
                            sourceMap, externExports, state.cssNames, state.idGeneratorMap);
                children: []
                pos: 26597
                length: 266
              pos: 26522
              length: 345
          children: []
          pos: 26496
          length: 371
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getMessages
              children: []
              pos: 26968
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 26951
              length: 60
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getErrors();
                children: []
                pos: 26988
                length: 19
              pos: 26982
              length: 29
          children: []
          pos: 26951
          length: 60
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getErrors
              children: []
              pos: 27091
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 27074
              length: 71
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return errorManager.getErrors();
                children: []
                pos: 27109
                length: 32
              pos: 27103
              length: 42
          children: []
          pos: 27074
          length: 71
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getWarnings
              children: []
              pos: 27227
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 27210
              length: 75
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return errorManager.getWarnings();
                children: []
                pos: 27247
                length: 34
              pos: 27241
              length: 44
          children: []
          pos: 27210
          length: 75
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getRoot
              children: []
              pos: 27313
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 27289
              length: 67
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return externAndJsRoot;
                children: []
                pos: 27329
                length: 23
              pos: 27323
              length: 33
          children: []
          pos: 27289
          length: 67
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: nextUniqueNameId
              children: []
              pos: 27431
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 27419
              length: 63
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return uniqueNameId++;
                children: []
                pos: 27456
                length: 22
              pos: 27450
              length: 32
          children: []
          pos: 27419
          length: 63
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: resetUniqueNameId
              children: []
              pos: 27563
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 27537
              length: 73
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: uniqueNameId = 0;
                children: []
                pos: 27589
                length: 17
              pos: 27583
              length: 27
          children: []
          pos: 27537
          length: 73
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getUniqueNameIdSupplier
              children: []
              pos: 27643
              length: 23
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 27614
              length: 227
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: final Compiler self = this;
                children: []
                pos: 27675
                length: 27
              - type: return_statement
                fields:
                  text: |-
                    return new Supplier<String>() {
                          public String get() {
                            return String.valueOf(self.nextUniqueNameId());
                          }
                        };
                children: []
                pos: 27707
                length: 130
              pos: 27669
              length: 172
          children: []
          pos: 27614
          length: 227
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: areNodesEqualForInlining
              children: []
              pos: 27865
              length: 24
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Node n1
                children: []
                pos: 27890
                length: 7
              pos: 27845
              length: 363
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: field_access
                            fields:
                              text: options.ambiguateProperties
                            children: []
                            pos: 27918
                            length: 27
                          right:
                            type: field_access
                            fields:
                              text: options.disambiguateProperties
                            children: []
                            pos: 27957
                            length: 30
                        children: []
                        pos: 27918
                        length: 69
                    children: []
                    pos: 27917
                    length: 71
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return n1.isEquivalentToTyped(n2);
                    children: []
                    pos: 28115
                    length: 34
                  pos: 27989
                  length: 166
                pos: 27914
                length: 290
              pos: 27908
              length: 300
          children: []
          pos: 27845
          length: 363
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getInput
              children: []
              pos: 28552
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String name
                children: []
                pos: 28561
                length: 11
              pos: 28519
              length: 95
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return inputsByName.get(name);
                children: []
                pos: 28580
                length: 30
              pos: 28574
              length: 40
          children: []
          pos: 28519
          length: 95
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: removeInput
              children: []
              pos: 28735
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String name
                children: []
                pos: 28747
                length: 11
              pos: 28720
              length: 264
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: CompilerInput input = getInput(name);
                children: []
                pos: 28766
                length: 37
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: input
                            children: []
                            pos: 28812
                            length: 5
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 28821
                            length: 4
                        children: []
                        pos: 28812
                        length: 13
                    children: []
                    pos: 28811
                    length: 15
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return;
                    children: []
                    pos: 28835
                    length: 7
                  pos: 28827
                  length: 21
                pos: 28808
                length: 40
              - type: expression_statement
                fields:
                  text: inputsByName.remove(name);
                children: []
                pos: 28853
                length: 26
              - type: local_variable_declaration
                fields:
                  text: Node root = input.getAstRoot(this);
                children: []
                pos: 28884
                length: 35
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: root
                            children: []
                            pos: 28928
                            length: 4
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 28936
                            length: 4
                        children: []
                        pos: 28928
                        length: 12
                    children: []
                    pos: 28927
                    length: 14
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: root.detachFromParent();
                    children: []
                    pos: 28950
                    length: 24
                  pos: 28942
                  length: 38
                pos: 28924
                length: 56
              pos: 28760
              length: 224
          children: []
          pos: 28720
          length: 264
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: newExternInput
              children: []
              pos: 29021
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String name
                children: []
                pos: 29036
                length: 11
              pos: 28988
              length: 407
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: inputsByName.containsKey(name)
                        children: []
                        pos: 29059
                        length: 30
                    children: []
                    pos: 29058
                    length: 32
                children:
                - type: block
                  fields: {}
                  children:
                  - type: throw_statement
                    fields:
                      text: 'throw new IllegalArgumentException("Conflicting externs
                        name: " + name);'
                    children: []
                    pos: 29099
                    length: 72
                  pos: 29091
                  length: 86
                pos: 29055
                length: 122
              - type: local_variable_declaration
                fields:
                  text: SourceAst ast = new SyntheticAst(name);
                children: []
                pos: 29182
                length: 39
              - type: local_variable_declaration
                fields:
                  text: CompilerInput input = new CompilerInput(ast, name, true);
                children: []
                pos: 29226
                length: 57
              - type: expression_statement
                fields:
                  text: inputsByName.put(name, input);
                children: []
                pos: 29288
                length: 30
              - type: expression_statement
                fields:
                  text: externsRoot.addChildToFront(ast.getAstRoot(this));
                children: []
                pos: 29323
                length: 50
              - type: return_statement
                fields:
                  text: return input;
                children: []
                pos: 29378
                length: 13
              pos: 29049
              length: 346
          children: []
          pos: 28988
          length: 407
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: addIncrementalSourceAst
              children: []
              pos: 29483
              length: 23
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JsAst ast
                children: []
                pos: 29507
                length: 9
              pos: 29478
              length: 276
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: String sourceName = ast.getSourceFile().getName();
                children: []
                pos: 29524
                length: 50
              - type: expression_statement
                fields:
                  text: |-
                    Preconditions.checkState(
                            getInput(sourceName) == null,
                            "Duplicate input of name " + sourceName);
                children: []
                pos: 29579
                length: 113
              - type: expression_statement
                fields:
                  text: inputsByName.put(sourceName, new CompilerInput(ast));
                children: []
                pos: 29697
                length: 53
              pos: 29518
              length: 236
          children: []
          pos: 29478
          length: 276
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: replaceIncrementalSourceAst
              children: []
              pos: 30037
              length: 27
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JsAst ast
                children: []
                pos: 30065
                length: 9
              pos: 30029
              length: 824
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: String sourceName = ast.getSourceFile().getName();
                children: []
                pos: 30082
                length: 50
              - type: local_variable_declaration
                fields:
                  text: |-
                    CompilerInput oldInput =
                            Preconditions.checkNotNull(
                                getInput(sourceName),
                                "No input to replace: " + sourceName);
                children: []
                pos: 30137
                length: 145
              - type: local_variable_declaration
                fields:
                  text: Node newRoot = ast.getAstRoot(this);
                children: []
                pos: 30287
                length: 36
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: newRoot
                            children: []
                            pos: 30332
                            length: 7
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 30343
                            length: 4
                        children: []
                        pos: 30332
                        length: 15
                    children: []
                    pos: 30331
                    length: 17
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return false;
                    children: []
                    pos: 30357
                    length: 13
                  pos: 30349
                  length: 27
                pos: 30328
                length: 48
              - type: local_variable_declaration
                fields:
                  text: Node oldRoot = oldInput.getAstRoot(this);
                children: []
                pos: 30382
                length: 41
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: oldRoot
                            children: []
                            pos: 30432
                            length: 7
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 30443
                            length: 4
                        children: []
                        pos: 30432
                        length: 15
                    children: []
                    pos: 30431
                    length: 17
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: oldRoot.getParent().replaceChild(oldRoot, newRoot);
                    children: []
                    pos: 30457
                    length: 51
                  pos: 30449
                  length: 65
                pos: 30428
                length: 155
              - type: local_variable_declaration
                fields:
                  text: CompilerInput newInput = new CompilerInput(ast);
                children: []
                pos: 30589
                length: 48
              - type: expression_statement
                fields:
                  text: inputsByName.put(sourceName, newInput);
                children: []
                pos: 30642
                length: 39
              - type: local_variable_declaration
                fields:
                  text: JSModule module = oldInput.getModule();
                children: []
                pos: 30687
                length: 39
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: module
                            children: []
                            pos: 30735
                            length: 6
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 30745
                            length: 4
                        children: []
                        pos: 30735
                        length: 14
                    children: []
                    pos: 30734
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: module.addAfter(newInput, oldInput);
                    children: []
                    pos: 30759
                    length: 36
                  - type: expression_statement
                    fields:
                      text: module.remove(oldInput);
                    children: []
                    pos: 30802
                    length: 24
                  pos: 30751
                  length: 81
                pos: 30731
                length: 101
              - type: return_statement
                fields:
                  text: return true;
                children: []
                pos: 30837
                length: 12
              pos: 30076
              length: 777
          children: []
          pos: 30029
          length: 824
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getModuleGraph
              children: []
              pos: 30883
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 30857
              length: 72
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return moduleGraph;
                children: []
                pos: 30906
                length: 19
              pos: 30900
              length: 29
          children: []
          pos: 30857
          length: 72
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getTypeRegistry
              children: []
              pos: 30967
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 30933
              length: 199
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: typeRegistry
                            children: []
                            pos: 30995
                            length: 12
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 31011
                            length: 4
                        children: []
                        pos: 30995
                        length: 20
                    children: []
                    pos: 30994
                    length: 22
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: typeRegistry = new JSTypeRegistry(oldErrorReporter, options.looseTypes);
                    children: []
                    pos: 31025
                    length: 72
                  pos: 31017
                  length: 86
                pos: 30991
                length: 112
              - type: return_statement
                fields:
                  text: return typeRegistry;
                children: []
                pos: 31108
                length: 20
              pos: 30985
              length: 147
          children: []
          pos: 30933
          length: 199
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getTypedScopeCreator
              children: []
              pos: 31161
              length: 20
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 31136
              length: 104
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getPassConfig().getTypedScopeCreator();
                children: []
                pos: 31190
                length: 46
              pos: 31184
              length: 56
          children: []
          pos: 31136
          length: 104
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getTopScope
              children: []
              pos: 31269
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 31244
              length: 86
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getPassConfig().getTopScope();
                children: []
                pos: 31289
                length: 37
              pos: 31283
              length: 47
          children: []
          pos: 31244
          length: 86
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getReverseAbstractInterpreter
              children: []
              pos: 31380
              length: 29
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 31334
              length: 565
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: abstractInterpreter
                            children: []
                            pos: 31422
                            length: 19
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 31445
                            length: 4
                        children: []
                        pos: 31422
                        length: 27
                    children: []
                    pos: 31421
                    length: 29
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: |-
                        ChainableReverseAbstractInterpreter interpreter =
                                  new SemanticReverseAbstractInterpreter(
                                      getCodingConvention(), getTypeRegistry());
                    children: []
                    pos: 31459
                    length: 156
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: field_access
                            fields:
                              text: options.closurePass
                            children: []
                            pos: 31626
                            length: 19
                        children: []
                        pos: 31625
                        length: 21
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: |-
                            interpreter = new ClosureReverseAbstractInterpreter(
                                        getCodingConvention(), getTypeRegistry())
                                        .append(interpreter).getFirst();
                        children: []
                        pos: 31657
                        length: 151
                      pos: 31647
                      length: 169
                    pos: 31622
                    length: 194
                  - type: expression_statement
                    fields:
                      text: abstractInterpreter = interpreter;
                    children: []
                    pos: 31823
                    length: 34
                  pos: 31451
                  length: 412
                pos: 31418
                length: 445
              - type: return_statement
                fields:
                  text: return abstractInterpreter;
                children: []
                pos: 31868
                length: 27
              pos: 31412
              length: 487
          children: []
          pos: 31334
          length: 565
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getTypeValidator
              children: []
              pos: 31929
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 31903
              length: 162
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: typeValidator
                            children: []
                            pos: 31958
                            length: 13
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 31975
                            length: 4
                        children: []
                        pos: 31958
                        length: 21
                    children: []
                    pos: 31957
                    length: 23
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: typeValidator = new TypeValidator(this);
                    children: []
                    pos: 31989
                    length: 40
                  pos: 31981
                  length: 54
                pos: 31954
                length: 81
              - type: return_statement
                fields:
                  text: return typeValidator;
                children: []
                pos: 32040
                length: 21
              pos: 31948
              length: 117
          children: []
          pos: 31903
          length: 162
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: parseInputs
              children: []
              pos: 32402
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 32397
              length: 4126
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: boolean devMode = options.devMode != DevMode.OFF;
                children: []
                pos: 32422
                length: 49
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: externsRoot
                            children: []
                            pos: 32594
                            length: 11
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 32609
                            length: 4
                        children: []
                        pos: 32594
                        length: 19
                    children: []
                    pos: 32593
                    length: 21
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: externsRoot.detachChildren();
                    children: []
                    pos: 32623
                    length: 29
                  pos: 32615
                  length: 43
                pos: 32590
                length: 68
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: jsRoot
                            children: []
                            pos: 32667
                            length: 6
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 32677
                            length: 4
                        children: []
                        pos: 32667
                        length: 14
                    children: []
                    pos: 32666
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: jsRoot.detachChildren();
                    children: []
                    pos: 32691
                    length: 24
                  pos: 32683
                  length: 38
                pos: 32663
                length: 58
              - type: expression_statement
                fields:
                  text: jsRoot = new Node(Token.BLOCK);
                children: []
                pos: 32757
                length: 31
              - type: expression_statement
                fields:
                  text: jsRoot.setIsSyntheticBlock(true);
                children: []
                pos: 32793
                length: 33
              - type: expression_statement
                fields:
                  text: externsRoot = new Node(Token.BLOCK);
                children: []
                pos: 32832
                length: 36
              - type: expression_statement
                fields:
                  text: externsRoot.setIsSyntheticBlock(true);
                children: []
                pos: 32873
                length: 38
              - type: expression_statement
                fields:
                  text: externAndJsRoot = new Node(Token.BLOCK, externsRoot, jsRoot);
                children: []
                pos: 32917
                length: 61
              - type: expression_statement
                fields:
                  text: externAndJsRoot.setIsSyntheticBlock(true);
                children: []
                pos: 32983
                length: 42
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: options.tracer.isOn()
                        children: []
                        pos: 33035
                        length: 21
                    children: []
                    pos: 33034
                    length: 23
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: |-
                        tracker = new PerformanceTracker(jsRoot,
                                  options.tracer == TracerMode.ALL);
                    children: []
                    pos: 33066
                    length: 85
                  - type: expression_statement
                    fields:
                      text: addChangeHandler(tracker.getCodeChangeHandler());
                    children: []
                    pos: 33158
                    length: 49
                  pos: 33058
                  length: 155
                pos: 33031
                length: 182
              - type: local_variable_declaration
                fields:
                  text: Tracer tracer = newTracer("parseInputs");
                children: []
                pos: 33219
                length: 41
              - type: try_statement
                fields:
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: enhanced_for_statement
                      fields:
                        text: |-
                          for (CompilerInput input : externs) {
                                  Node n = input.getAstRoot(this);
                                  if (hasErrors()) {
                                    return null;
                                  }
                                  externsRoot.addChildToBack(n);
                                }
                      children: []
                      pos: 33310
                      length: 185
                    - type: if_statement
                      fields:
                        condition:
                          type: parenthesized_expression
                          fields:
                            expression:
                              type: field_access
                              fields:
                                text: options.manageClosureDependencies
                              children: []
                              pos: 33560
                              length: 33
                          children: []
                          pos: 33559
                          length: 35
                      children:
                      - type: block
                        fields: {}
                        children:
                        - type: enhanced_for_statement
                          fields:
                            text: |-
                              for (CompilerInput input : inputs) {
                                        input.setCompiler(this);

                                        // Forward-declare all the provided types, so that they
                                        // are not flagged even if they are dropped from the process.
                                        for (String provide : input.getProvides()) {
                                          getTypeRegistry().forwardDeclareType(provide);
                                        }
                                      }
                          children: []
                          pos: 33605
                          length: 346
                        - type: try_statement
                          fields:
                            body:
                              type: block
                              fields: {}
                              children:
                              - type: expression_statement
                                fields:
                                  text: |-
                                    inputs =
                                                  (moduleGraph == null ? new JSModuleGraph(modules) : moduleGraph)
                                                  .manageDependencies(
                                                      options.manageClosureDependenciesEntryPoints, inputs);
                                children: []
                                pos: 33977
                                length: 195
                              pos: 33965
                              length: 217
                            excepts:
                              type: excepts
                              fields: {}
                              children:
                              - type: catch_clause
                                fields:
                                  text: |-
                                    catch (CircularDependencyException e) {
                                              report(JSError.make(
                                                  JSModule.CIRCULAR_DEPENDENCY_ERROR, e.getMessage()));
                                              return null;
                                            }
                                children: []
                                pos: 34183
                                length: 171
                              - type: catch_clause
                                fields:
                                  text: |-
                                    catch (MissingProvideException e) {
                                              report(JSError.make(
                                                  MISSING_ENTRY_ERROR, e.getMessage()));
                                              return null;
                                            }
                                children: []
                                pos: 34355
                                length: 152
                              pos: 33961
                              length: 546
                          children: []
                          pos: 33961
                          length: 546
                        pos: 33595
                        length: 920
                      pos: 33556
                      length: 959
                    - type: local_variable_declaration
                      fields:
                        text: boolean staleInputs = false;
                      children: []
                      pos: 34581
                      length: 28
                    - type: enhanced_for_statement
                      fields:
                        text: |-
                          for (CompilerInput input : inputs) {
                                  Node n = input.getAstRoot(this);

                                  // Inputs can have a null AST during initial parse.
                                  if (n == null) {
                                    continue;
                                  }

                                  if (n.getJSDocInfo() != null) {
                                    JSDocInfo info = n.getJSDocInfo();
                                    if (info.isExterns()) {
                                      // If the input file is explicitly marked as an externs file, then
                                      // assume the programmer made a mistake and throw it into
                                      // the externs pile anyways.
                                      externsRoot.addChildToBack(n);
                                      input.setIsExtern(true);

                                      input.getModule().remove(input);

                                      externs.add(input);
                                      staleInputs = true;
                                    } else if (info.isNoCompile()) {
                                      input.getModule().remove(input);
                                      staleInputs = true;
                                    }
                                  }
                                }
                      children: []
                      pos: 34616
                      length: 844
                    - type: if_statement
                      fields:
                        condition:
                          type: parenthesized_expression
                          fields:
                            expression:
                              type: identifier
                              fields:
                                text: staleInputs
                              children: []
                              pos: 35472
                              length: 11
                          children: []
                          pos: 35471
                          length: 13
                      children:
                      - type: block
                        fields: {}
                        children:
                        - type: expression_statement
                          fields:
                            text: fillEmptyModules(modules);
                          children: []
                          pos: 35495
                          length: 26
                        - type: expression_statement
                          fields:
                            text: rebuildInputsFromModules();
                          children: []
                          pos: 35530
                          length: 27
                        pos: 35485
                        length: 80
                      pos: 35468
                      length: 97
                    - type: enhanced_for_statement
                      fields:
                        text: |-
                          for (CompilerInput input : inputs) {
                                  Node n = input.getAstRoot(this);
                                  if (n == null) {
                                    continue;
                                  }

                                  if (devMode) {
                                    runSanityCheck();
                                    if (hasErrors()) {
                                      return null;
                                    }
                                  }

                                  if (options.sourceMapOutputPath != null ||
                                      options.nameReferenceReportPath != null) {

                                    // Annotate the nodes in the tree with information from the
                                    // input file. This information is used to construct the SourceMap.
                                    SourceInformationAnnotator sia =
                                        new SourceInformationAnnotator(
                                            input.getName(), options.devMode != DevMode.OFF);
                                    NodeTraversal.traverse(this, n, sia);
                                  }

                                  jsRoot.addChildToBack(n);
                                }
                      children: []
                      pos: 35597
                      length: 774
                    - type: if_statement
                      fields:
                        condition:
                          type: parenthesized_expression
                          fields:
                            expression:
                              type: method_invocation
                              fields:
                                text: hasErrors()
                              children: []
                              pos: 36383
                              length: 11
                          children: []
                          pos: 36382
                          length: 13
                      children:
                      - type: block
                        fields: {}
                        children:
                        - type: return_statement
                          fields:
                            text: return null;
                          children: []
                          pos: 36406
                          length: 12
                        pos: 36396
                        length: 30
                      pos: 36379
                      length: 47
                    - type: return_statement
                      fields:
                        text: return externAndJsRoot;
                      children: []
                      pos: 36433
                      length: 23
                    pos: 33270
                    length: 3192
                  excepts:
                    type: excepts
                    fields: {}
                    children: []
                    pos: 33266
                    length: 3253
                children: []
                pos: 33266
                length: 3253
              pos: 32416
              length: 4107
          children: []
          pos: 32397
          length: 4126
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: parse
              children: []
              pos: 36539
              length: 5
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSSourceFile file
                children: []
                pos: 36545
                length: 17
              pos: 36527
              length: 172
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: initCompilerOptionsIfTesting();
                children: []
                pos: 36570
                length: 31
              - type: expression_statement
                fields:
                  text: 'addToDebugLog("Parsing: " + file.getName());'
                children: []
                pos: 36606
                length: 44
              - type: return_statement
                fields:
                  text: return new JsAst(file).getAstRoot(this);
                children: []
                pos: 36655
                length: 40
              pos: 36564
              length: 135
          children: []
          pos: 36527
          length: 172
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: parseSyntheticCode
              children: []
              pos: 36720
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String js
                children: []
                pos: 36739
                length: 9
              pos: 36703
              length: 231
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: |-
                    CompilerInput input = new CompilerInput(
                            JSSourceFile.fromCode(" [synthetic] ", js));
                children: []
                pos: 36756
                length: 93
              - type: expression_statement
                fields:
                  text: inputsByName.put(input.getName(), input);
                children: []
                pos: 36854
                length: 41
              - type: return_statement
                fields:
                  text: return input.getAstRoot(this);
                children: []
                pos: 36900
                length: 30
              pos: 36750
              length: 184
          children: []
          pos: 36703
          length: 231
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: initCompilerOptionsIfTesting
              children: []
              pos: 36943
              length: 28
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 36938
              length: 220
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: options
                            children: []
                            pos: 36984
                            length: 7
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 36995
                            length: 4
                        children: []
                        pos: 36984
                        length: 15
                    children: []
                    pos: 36983
                    length: 17
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: initOptions(new CompilerOptions());
                    children: []
                    pos: 37113
                    length: 35
                  pos: 37001
                  length: 153
                pos: 36980
                length: 174
              pos: 36974
              length: 184
          children: []
          pos: 36938
          length: 220
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: parseSyntheticCode
              children: []
              pos: 37179
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String fileName
                children: []
                pos: 37198
                length: 15
              pos: 37162
              length: 160
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: initCompilerOptionsIfTesting();
                children: []
                pos: 37232
                length: 31
              - type: return_statement
                fields:
                  text: return parse(JSSourceFile.fromCode(fileName, js));
                children: []
                pos: 37268
                length: 50
              pos: 37226
              length: 96
          children: []
          pos: 37162
          length: 160
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: parseTestCode
              children: []
              pos: 37343
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String js
                children: []
                pos: 37357
                length: 9
              pos: 37326
              length: 339
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: initCompilerOptionsIfTesting();
                children: []
                pos: 37374
                length: 31
              - type: local_variable_declaration
                fields:
                  text: |-
                    CompilerInput input = new CompilerInput(
                            JSSourceFile.fromCode(" [testcode] ", js));
                children: []
                pos: 37410
                length: 92
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: inputsByName
                            children: []
                            pos: 37511
                            length: 12
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 37527
                            length: 4
                        children: []
                        pos: 37511
                        length: 20
                    children: []
                    pos: 37510
                    length: 22
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: inputsByName = Maps.newHashMap();
                    children: []
                    pos: 37541
                    length: 33
                  pos: 37533
                  length: 47
                pos: 37507
                length: 73
              - type: expression_statement
                fields:
                  text: inputsByName.put(input.getName(), input);
                children: []
                pos: 37585
                length: 41
              - type: return_statement
                fields:
                  text: return input.getAstRoot(this);
                children: []
                pos: 37631
                length: 30
              pos: 37368
              length: 297
          children: []
          pos: 37326
          length: 339
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getDefaultErrorReporter
              children: []
              pos: 37695
              length: 23
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 37669
              length: 90
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return defaultErrorReporter;
                children: []
                pos: 37727
                length: 28
              pos: 37721
              length: 38
          children: []
          pos: 37669
          length: 90
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: toSource
              children: []
              pos: 38028
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 38014
              length: 635
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return runInCompilerThread(new Callable<String>() {
                          public String call() throws Exception {
                            Tracer tracer = newTracer("toSource");
                            try {
                              CodeBuilder cb = new CodeBuilder();
                              if (jsRoot != null) {
                                int i = 0;
                                for (Node scriptNode = jsRoot.getFirstChild();
                                     scriptNode != null;
                                     scriptNode = scriptNode.getNext()) {
                                  toSource(cb, i++, scriptNode);
                                }
                              }
                              return cb.toString();
                            } finally {
                              stopTracer(tracer, "toSource");
                            }
                          }
                        });
                children: []
                pos: 38045
                length: 600
              pos: 38039
              length: 610
          children: []
          pos: 38014
          length: 635
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: toSourceArray
              children: []
              pos: 38742
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 38726
              length: 703
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return runInCompilerThread(new Callable<String[]>() {
                          public String[] call() throws Exception {
                            Tracer tracer = newTracer("toSourceArray");
                            try {
                              int numInputs = inputs.size();
                              String[] sources = new String[numInputs];
                              CodeBuilder cb = new CodeBuilder();
                              for (int i = 0; i < numInputs; i++) {
                                Node scriptNode = inputs.get(i).getAstRoot(Compiler.this);
                                cb.reset();
                                toSource(cb, i, scriptNode);
                                sources[i] = cb.toString();
                              }
                              return sources;
                            } finally {
                              stopTracer(tracer, "toSourceArray");
                            }
                          }
                        });
                children: []
                pos: 38764
                length: 661
              pos: 38758
              length: 671
          children: []
          pos: 38726
          length: 703
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: toSource
              children: []
              pos: 39518
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final JSModule module
                children: []
                pos: 39527
                length: 21
              pos: 39504
              length: 712
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return runInCompilerThread(new Callable<String>() {
                          public String call() throws Exception {
                            List<CompilerInput> inputs = module.getInputs();
                            int numInputs = inputs.size();
                            if (numInputs == 0) {
                              return "";
                            }
                            CodeBuilder cb = new CodeBuilder();
                            for (int i = 0; i < numInputs; i++) {
                              Node scriptNode = inputs.get(i).getAstRoot(Compiler.this);
                              if (scriptNode == null) {
                                throw new IllegalArgumentException(
                                    "Bad module: " + module.getName());
                              }
                              toSource(cb, i, scriptNode);
                            }
                            return cb.toString();
                          }
                        });
                children: []
                pos: 39556
                length: 656
              pos: 39550
              length: 666
          children: []
          pos: 39504
          length: 712
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: toSourceArray
              children: []
              pos: 40322
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final JSModule module
                children: []
                pos: 40336
                length: 21
              pos: 40306
              length: 853
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return runInCompilerThread(new Callable<String[]>() {
                          public String[] call() throws Exception {
                            List<CompilerInput> inputs = module.getInputs();
                            int numInputs = inputs.size();
                            if (numInputs == 0) {
                              return new String[0];
                            }

                            String[] sources = new String[numInputs];
                            CodeBuilder cb = new CodeBuilder();
                            for (int i = 0; i < numInputs; i++) {
                              Node scriptNode = inputs.get(i).getAstRoot(Compiler.this);
                              if (scriptNode == null) {
                                throw new IllegalArgumentException(
                                    "Bad module input: " + inputs.get(i).getName());
                              }

                              cb.reset();
                              toSource(cb, i, scriptNode);
                              sources[i] = cb.toString();
                            }
                            return sources;
                          }
                        });
                children: []
                pos: 40365
                length: 790
              pos: 40359
              length: 800
          children: []
          pos: 40306
          length: 853
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: toSource
              children: []
              pos: 41528
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final CodeBuilder cb
                children: []
                pos: 41537
                length: 20
              pos: 41516
              length: 2319
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: |-
                    runInCompilerThread(new Callable<Void>() {
                          public Void call() throws Exception {
                            if (options.printInputDelimiter) {
                              if ((cb.getLength() > 0) && !cb.endsWith("\n")) {
                                cb.append("\n");  // Make sure that the label starts on a new line
                              }
                              Preconditions.checkState(root.getType() == Token.SCRIPT);

                              String delimiter = options.inputDelimiter;

                              String sourceName = (String)root.getProp(Node.SOURCENAME_PROP);
                              Preconditions.checkState(sourceName != null);
                              Preconditions.checkState(!sourceName.isEmpty());

                              delimiter = delimiter.replaceAll("%name%", sourceName)
                                .replaceAll("%num%", String.valueOf(inputSeqNum));

                              cb.append(delimiter)
                                .append("\n");
                            }
                            if (root.getJSDocInfo() != null &&
                                root.getJSDocInfo().getLicense() != null) {
                              cb.append("/*\n")
                                .append(root.getJSDocInfo().getLicense())
                                .append("*/\n");
                            }

                            // If there is a valid source map, then indicate to it that the current
                            // root node's mappings are offset by the given string builder buffer.
                            if (options.sourceMapOutputPath != null) {
                              sourceMap.setStartingPosition(
                                  cb.getLineIndex(), cb.getColumnIndex());
                            }

                            // if LanguageMode is ECMASCRIPT5_STRICT, only print 'use strict'
                            // for the first input file
                            String code = toSource(root, sourceMap);
                            if (!code.isEmpty()) {
                              cb.append(code);

                              // In order to avoid parse ambiguity when files are concatenated
                              // together, all files should end in a semi-colon. Do a quick
                              // heuristic check if there's an obvious semi-colon already there.
                              int length = code.length();
                              char lastChar = code.charAt(length - 1);
                              char secondLastChar = length >= 2 ?
                                  code.charAt(length - 2) : '\0';
                              boolean hasSemiColon = lastChar == ';' ||
                                  (lastChar == '\n' && secondLastChar == ';');
                              if (!hasSemiColon) {
                                cb.append(";");
                              }
                            }
                            return null;
                          }
                        });
                children: []
                pos: 41651
                length: 2180
              pos: 41645
              length: 2190
          children: []
          pos: 41516
          length: 2319
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: toSource
              children: []
              pos: 43959
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Node n
                children: []
                pos: 43968
                length: 6
              pos: 43940
              length: 107
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: initCompilerOptionsIfTesting();
                children: []
                pos: 43982
                length: 31
              - type: return_statement
                fields:
                  text: return toSource(n, null);
                children: []
                pos: 44018
                length: 25
              pos: 43976
              length: 71
          children: []
          pos: 43940
          length: 107
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: toSource
              children: []
              pos: 44128
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Node n
                children: []
                pos: 44137
                length: 6
              pos: 44113
              length: 659
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: CodePrinter.Builder builder = new CodePrinter.Builder(n);
                children: []
                pos: 44172
                length: 57
              - type: expression_statement
                fields:
                  text: builder.setPrettyPrint(options.prettyPrint);
                children: []
                pos: 44234
                length: 44
              - type: expression_statement
                fields:
                  text: builder.setLineBreak(options.lineBreak);
                children: []
                pos: 44283
                length: 40
              - type: expression_statement
                fields:
                  text: builder.setSourceMap(sourceMap);
                children: []
                pos: 44328
                length: 32
              - type: expression_statement
                fields:
                  text: builder.setSourceMapDetailLevel(options.sourceMapDetailLevel);
                children: []
                pos: 44365
                length: 62
              - type: expression_statement
                fields:
                  text: |-
                    builder.setTagAsStrict(
                            options.getLanguageOut() == LanguageMode.ECMASCRIPT5_STRICT);
                children: []
                pos: 44432
                length: 93
              - type: expression_statement
                fields:
                  text: builder.setLineLengthThreshold(options.lineLengthThreshold);
                children: []
                pos: 44530
                length: 60
              - type: local_variable_declaration
                fields:
                  text: |-
                    Charset charset = options.outputCharset != null ?
                            Charset.forName(options.outputCharset) : null;
                children: []
                pos: 44596
                length: 104
              - type: expression_statement
                fields:
                  text: builder.setOutputCharset(charset);
                children: []
                pos: 44705
                length: 34
              - type: return_statement
                fields:
                  text: return builder.build();
                children: []
                pos: 44745
                length: 23
              pos: 44166
              length: 606
          children: []
          pos: 44113
          length: 659
        - type: class_declaration
          fields:
            name:
              type: identifier
              fields:
                text: CodeBuilder
              children: []
              pos: 44955
              length: 11
            body:
              type: class_body
              fields: {}
              children:
              - type: field_declaration
                fields:
                  text: private final StringBuilder sb = new StringBuilder();
                children: []
                pos: 44973
                length: 53
              - type: field_declaration
                fields:
                  text: private int lineCount = 0;
                children: []
                pos: 45031
                length: 26
              - type: field_declaration
                fields:
                  text: private int colCount = 0;
                children: []
                pos: 45062
                length: 25
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: reset
                    children: []
                    pos: 45164
                    length: 5
                  parameters:
                    type: method_parameters
                    fields: {}
                    children: []
                    pos: 45159
                    length: 43
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: expression_statement
                      fields:
                        text: sb.setLength(0);
                      children: []
                      pos: 45180
                      length: 16
                    pos: 45172
                    length: 30
                children: []
                pos: 45159
                length: 43
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: append
                    children: []
                    pos: 45276
                    length: 6
                  parameters:
                    type: method_parameters
                    fields: {}
                    children:
                    - type: formal_parameter
                      fields:
                        text: String str
                      children: []
                      pos: 45283
                      length: 10
                    pos: 45264
                    length: 510
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: expression_statement
                      fields:
                        text: sb.append(str);
                      children: []
                      pos: 45303
                      length: 15
                    - type: local_variable_declaration
                      fields:
                        text: int index = -1;
                      children: []
                      pos: 45392
                      length: 15
                    - type: local_variable_declaration
                      fields:
                        text: int lastIndex = index;
                      children: []
                      pos: 45414
                      length: 22
                    - type: while_statement
                      fields:
                        text: |-
                          while ((index = str.indexOf('\n', index + 1)) >= 0) {
                                  ++lineCount;
                                  lastIndex = index;
                                }
                      children: []
                      pos: 45443
                      length: 109
                    - type: if_statement
                      fields:
                        condition:
                          type: parenthesized_expression
                          fields:
                            expression:
                              type: equals
                              fields:
                                left:
                                  type: identifier
                                  fields:
                                    text: lastIndex
                                  children: []
                                  pos: 45564
                                  length: 9
                                right:
                                  type: unary_expression
                                  fields:
                                    text: "-1"
                                  children: []
                                  pos: 45577
                                  length: 2
                              children: []
                              pos: 45564
                              length: 15
                          children: []
                          pos: 45563
                          length: 17
                      children:
                      - type: block
                        fields: {}
                        children:
                        - type: expression_statement
                          fields:
                            text: colCount += str.length();
                          children: []
                          pos: 45649
                          length: 25
                        pos: 45581
                        length: 101
                      pos: 45560
                      length: 188
                    - type: return_statement
                      fields:
                        text: return this;
                      children: []
                      pos: 45756
                      length: 12
                    pos: 45295
                    length: 479
                children: []
                pos: 45264
                length: 510
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: toString
                    children: []
                    pos: 45856
                    length: 8
                  parameters:
                    type: method_parameters
                    fields: {}
                    children: []
                    pos: 45828
                    length: 74
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: return_statement
                      fields:
                        text: return sb.toString();
                      children: []
                      pos: 45875
                      length: 21
                    pos: 45867
                    length: 35
                children: []
                pos: 45828
                length: 74
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: getLength
                    children: []
                    pos: 45969
                    length: 9
                  parameters:
                    type: method_parameters
                    fields: {}
                    children: []
                    pos: 45958
                    length: 56
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: return_statement
                      fields:
                        text: return sb.length();
                      children: []
                      pos: 45989
                      length: 19
                    pos: 45981
                    length: 33
                children: []
                pos: 45958
                length: 56
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: getLineIndex
                    children: []
                    pos: 46103
                    length: 12
                  parameters:
                    type: method_parameters
                    fields: {}
                    children: []
                    pos: 46099
                    length: 50
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: return_statement
                      fields:
                        text: return lineCount;
                      children: []
                      pos: 46126
                      length: 17
                    pos: 46118
                    length: 31
                children: []
                pos: 46099
                length: 50
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: getColumnIndex
                    children: []
                    pos: 46240
                    length: 14
                  parameters:
                    type: method_parameters
                    fields: {}
                    children: []
                    pos: 46236
                    length: 51
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: return_statement
                      fields:
                        text: return colCount;
                      children: []
                      pos: 46265
                      length: 16
                    pos: 46257
                    length: 30
                children: []
                pos: 46236
                length: 51
              - type: method_declaration
                fields:
                  name:
                    type: identifier
                    fields:
                      text: endsWith
                    children: []
                    pos: 46368
                    length: 8
                  parameters:
                    type: method_parameters
                    fields: {}
                    children:
                    - type: formal_parameter
                      fields:
                        text: String suffix
                      children: []
                      pos: 46377
                      length: 13
                    pos: 46360
                    length: 157
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: return_statement
                      fields:
                        text: |-
                          return (sb.length() > suffix.length())
                                    && suffix.equals(sb.substring(sb.length() - suffix.length()));
                      children: []
                      pos: 46400
                      length: 111
                    pos: 46392
                    length: 125
                children: []
                pos: 46360
                length: 157
              pos: 44935
              length: 1586
          children: []
          pos: 44935
          length: 1586
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: optimize
              children: []
              pos: 46711
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 46699
              length: 646
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: normalize();
                children: []
                pos: 46996
                length: 12
              - type: local_variable_declaration
                fields:
                  text: PhaseOptimizer phaseOptimizer = new PhaseOptimizer(this, tracker);
                children: []
                pos: 47014
                length: 66
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: field_access
                            fields:
                              text: options.devMode
                            children: []
                            pos: 47089
                            length: 15
                          right:
                            type: field_access
                            fields:
                              text: DevMode.EVERY_PASS
                            children: []
                            pos: 47108
                            length: 18
                        children: []
                        pos: 47089
                        length: 37
                    children: []
                    pos: 47088
                    length: 39
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: phaseOptimizer.setSanityCheck(sanityCheck);
                    children: []
                    pos: 47136
                    length: 43
                  pos: 47128
                  length: 57
                pos: 47085
                length: 100
              - type: expression_statement
                fields:
                  text: phaseOptimizer.consume(getPassConfig().getOptimizations());
                children: []
                pos: 47190
                length: 59
              - type: expression_statement
                fields:
                  text: phaseOptimizer.process(externsRoot, jsRoot);
                children: []
                pos: 47254
                length: 44
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: hasErrors()
                        children: []
                        pos: 47307
                        length: 11
                    children: []
                    pos: 47306
                    length: 13
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return;
                    children: []
                    pos: 47328
                    length: 7
                  pos: 47320
                  length: 21
                pos: 47303
                length: 38
              pos: 46722
              length: 623
          children: []
          pos: 46699
          length: 646
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setCssRenamingMap
              children: []
              pos: 47366
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: CssRenamingMap map
                children: []
                pos: 47384
                length: 18
              pos: 47349
              length: 94
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: options.cssRenamingMap = map;
                children: []
                pos: 47410
                length: 29
              pos: 47404
              length: 39
          children: []
          pos: 47349
          length: 94
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getCssRenamingMap
              children: []
              pos: 47474
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 47447
              length: 87
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return options.cssRenamingMap;
                children: []
                pos: 47500
                length: 30
              pos: 47494
              length: 40
          children: []
          pos: 47447
          length: 87
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: processDefines
              children: []
              pos: 47899
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 47887
              length: 138
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: |-
                    (new DefaultPassConfig(options)).processDefines.create(this)
                            .process(externsRoot, jsRoot);
                children: []
                pos: 47922
                length: 99
              pos: 47916
              length: 109
          children: []
          pos: 47887
          length: 138
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isInliningForbidden
              children: []
              pos: 48037
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 48029
              length: 203
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return options.propertyRenaming == PropertyRenamingPolicy.HEURISTIC ||
                            options.propertyRenaming ==
                                PropertyRenamingPolicy.AGGRESSIVE_HEURISTIC;
                children: []
                pos: 48065
                length: 163
              pos: 48059
              length: 173
          children: []
          pos: 48029
          length: 203
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: computeCFG
              children: []
              pos: 48291
              length: 10
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 48268
              length: 290
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: logger.info("Computing Control Flow Graph");
                children: []
                pos: 48310
                length: 44
              - type: local_variable_declaration
                fields:
                  text: Tracer tracer = newTracer("computeCFG");
                children: []
                pos: 48359
                length: 40
              - type: local_variable_declaration
                fields:
                  text: ControlFlowAnalysis cfa = new ControlFlowAnalysis(this, true,
                    false);
                children: []
                pos: 48404
                length: 69
              - type: expression_statement
                fields:
                  text: process(cfa);
                children: []
                pos: 48478
                length: 13
              - type: expression_statement
                fields:
                  text: stopTracer(tracer, "computeCFG");
                children: []
                pos: 48496
                length: 33
              - type: return_statement
                fields:
                  text: return cfa.getCfg();
                children: []
                pos: 48534
                length: 20
              pos: 48304
              length: 254
          children: []
          pos: 48268
          length: 290
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: normalize
              children: []
              pos: 48574
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 48562
              length: 145
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: logger.info("Normalizing");
                children: []
                pos: 48592
                length: 27
              - type: expression_statement
                fields:
                  text: startPass("normalize");
                children: []
                pos: 48624
                length: 23
              - type: expression_statement
                fields:
                  text: process(new Normalize(this, false));
                children: []
                pos: 48652
                length: 36
              - type: expression_statement
                fields:
                  text: endPass();
                children: []
                pos: 48693
                length: 10
              pos: 48586
              length: 121
          children: []
          pos: 48562
          length: 145
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: prepareAst
              children: []
              pos: 48728
              length: 10
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Node root
                children: []
                pos: 48739
                length: 9
              pos: 48711
              length: 203
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: Tracer tracer = newTracer("prepareAst");
                children: []
                pos: 48756
                length: 40
              - type: local_variable_declaration
                fields:
                  text: CompilerPass pass = new PrepareAst(this);
                children: []
                pos: 48801
                length: 41
              - type: expression_statement
                fields:
                  text: pass.process(null, root);
                children: []
                pos: 48847
                length: 25
              - type: expression_statement
                fields:
                  text: stopTracer(tracer, "prepareAst");
                children: []
                pos: 48877
                length: 33
              pos: 48750
              length: 164
          children: []
          pos: 48711
          length: 203
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: recordFunctionInformation
              children: []
              pos: 48923
              length: 25
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 48918
              length: 414
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: logger.info("Recording function information");
                children: []
                pos: 48957
                length: 46
              - type: expression_statement
                fields:
                  text: startPass("recordFunctionInformation");
                children: []
                pos: 49008
                length: 39
              - type: local_variable_declaration
                fields:
                  text: |-
                    RecordFunctionInformation recordFunctionInfoPass =
                            new RecordFunctionInformation(
                                this, getPassConfig().getIntermediateState().functionNames);
                children: []
                pos: 49052
                length: 162
              - type: expression_statement
                fields:
                  text: process(recordFunctionInfoPass);
                children: []
                pos: 49219
                length: 32
              - type: expression_statement
                fields:
                  text: functionInformationMap = recordFunctionInfoPass.getMap();
                children: []
                pos: 49256
                length: 57
              - type: expression_statement
                fields:
                  text: endPass();
                children: []
                pos: 49318
                length: 10
              pos: 48951
              length: 381
          children: []
          pos: 48918
          length: 414
        - type: field_declaration
          fields:
            text: |-
              protected final CodeChangeHandler.RecentChange recentChange =
                    new CodeChangeHandler.RecentChange();
          children: []
          pos: 49336
          length: 105
        - type: field_declaration
          fields:
            text: |-
              private final List<CodeChangeHandler> codeChangeHandlers =
                    Lists.<CodeChangeHandler>newArrayList();
          children: []
          pos: 49444
          length: 105
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: addChangeHandler
              children: []
              pos: 49570
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: CodeChangeHandler handler
                children: []
                pos: 49587
                length: 25
              pos: 49553
              length: 103
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: codeChangeHandlers.add(handler);
                children: []
                pos: 49620
                length: 32
              pos: 49614
              length: 42
          children: []
          pos: 49553
          length: 103
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: removeChangeHandler
              children: []
              pos: 49677
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: CodeChangeHandler handler
                children: []
                pos: 49697
                length: 25
              pos: 49660
              length: 109
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: codeChangeHandlers.remove(handler);
                children: []
                pos: 49730
                length: 35
              pos: 49724
              length: 45
          children: []
          pos: 49660
          length: 109
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: reportCodeChange
              children: []
              pos: 49988
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 49964
              length: 143
            body:
              type: block
              fields: {}
              children:
              - type: enhanced_for_statement
                fields:
                  text: |-
                    for (CodeChangeHandler handler : codeChangeHandlers) {
                          handler.reportChange();
                        }
                children: []
                pos: 50013
                length: 90
              pos: 50007
              length: 100
          children: []
          pos: 49964
          length: 143
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getCodingConvention
              children: []
              pos: 50147
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 50111
              length: 227
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: CodingConvention convention = options.getCodingConvention();
                children: []
                pos: 50175
                length: 60
              - type: expression_statement
                fields:
                  text: 'convention = convention != null ? convention : defaultCodingConvention;'
                children: []
                pos: 50240
                length: 71
              - type: return_statement
                fields:
                  text: return convention;
                children: []
                pos: 50316
                length: 18
              pos: 50169
              length: 169
          children: []
          pos: 50111
          length: 227
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isIdeMode
              children: []
              pos: 50369
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 50342
              length: 72
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return options.ideMode;
                children: []
                pos: 50387
                length: 23
              pos: 50381
              length: 33
          children: []
          pos: 50342
          length: 72
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: acceptEcmaScript5
              children: []
              pos: 50445
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 50418
              length: 191
            body:
              type: block
              fields: {}
              children:
              - type: switch_expression
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: options.getLanguageIn()
                        children: []
                        pos: 50479
                        length: 23
                    children: []
                    pos: 50478
                    length: 25
                  body:
                    type: switch_block
                    fields:
                      text: |-
                        {
                              case ECMASCRIPT5:
                              case ECMASCRIPT5_STRICT:
                                return true;
                            }
                    children: []
                    pos: 50504
                    length: 83
                children: []
                pos: 50471
                length: 116
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 50592
                length: 13
              pos: 50465
              length: 144
          children: []
          pos: 50418
          length: 191
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: languageMode
              children: []
              pos: 50633
              length: 12
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 50613
              length: 76
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return options.getLanguageIn();
                children: []
                pos: 50654
                length: 31
              pos: 50648
              length: 41
          children: []
          pos: 50613
          length: 76
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: acceptConstKeyword
              children: []
              pos: 50720
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 50693
              length: 92
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return options.acceptConstKeyword;
                children: []
                pos: 50747
                length: 34
              pos: 50741
              length: 44
          children: []
          pos: 50693
          length: 92
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getParserConfig
              children: []
              pos: 50808
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 50789
              length: 682
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: parserConfig
                            children: []
                            pos: 50836
                            length: 12
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 50852
                            length: 4
                        children: []
                        pos: 50836
                        length: 20
                    children: []
                    pos: 50835
                    length: 22
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: Config.LanguageMode mode;
                    children: []
                    pos: 50866
                    length: 25
                  - type: switch_expression
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: method_invocation
                            fields:
                              text: options.getLanguageIn()
                            children: []
                            pos: 50906
                            length: 23
                        children: []
                        pos: 50905
                        length: 25
                      body:
                        type: switch_block
                        fields:
                          text: |-
                            {
                                    case ECMASCRIPT3:
                                      mode = Config.LanguageMode.ECMASCRIPT3;
                                      break;
                                    case ECMASCRIPT5:
                                      mode = Config.LanguageMode.ECMASCRIPT5;
                                      break;
                                    case ECMASCRIPT5_STRICT:
                                      mode = Config.LanguageMode.ECMASCRIPT5_STRICT;
                                      break;
                                    default:
                                      throw new IllegalStateException("unexpected language mode");
                                  }
                        children: []
                        pos: 50931
                        length: 390
                    children: []
                    pos: 50898
                    length: 423
                  - type: expression_statement
                    fields:
                      text: |-
                        parserConfig = ParserRunner.createConfig(
                                isIdeMode(),
                                mode,
                                acceptConstKeyword());
                    children: []
                    pos: 51329
                    length: 107
                  pos: 50858
                  length: 584
                pos: 50832
                length: 610
              - type: return_statement
                fields:
                  text: return parserConfig;
                children: []
                pos: 51447
                length: 20
              pos: 50826
              length: 645
          children: []
          pos: 50789
          length: 682
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isTypeCheckingEnabled
              children: []
              pos: 51502
              length: 21
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 51475
              length: 87
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return options.checkTypes;
                children: []
                pos: 51532
                length: 26
              pos: 51526
              length: 36
          children: []
          pos: 51475
          length: 87
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getDiagnosticGroups
              children: []
              pos: 51912
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 51885
              length: 89
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return new DiagnosticGroups();
                children: []
                pos: 51940
                length: 30
              pos: 51934
              length: 40
          children: []
          pos: 51885
          length: 89
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: report
              children: []
              pos: 52002
              length: 6
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSError error
                children: []
                pos: 52009
                length: 13
              pos: 51978
              length: 318
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: CheckLevel level = error.level;
                children: []
                pos: 52030
                length: 31
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: warningsGuard
                            children: []
                            pos: 52070
                            length: 13
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 52087
                            length: 4
                        children: []
                        pos: 52070
                        length: 21
                    children: []
                    pos: 52069
                    length: 23
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: CheckLevel newLevel = warningsGuard.level(error);
                    children: []
                    pos: 52101
                    length: 49
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: not_equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: newLevel
                                children: []
                                pos: 52161
                                length: 8
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 52173
                                length: 4
                            children: []
                            pos: 52161
                            length: 16
                        children: []
                        pos: 52160
                        length: 18
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: level = newLevel;
                        children: []
                        pos: 52189
                        length: 17
                      pos: 52179
                      length: 35
                    pos: 52157
                    length: 57
                  pos: 52093
                  length: 127
                pos: 52066
                length: 154
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: level.isOn()
                        children: []
                        pos: 52230
                        length: 12
                    children: []
                    pos: 52229
                    length: 14
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: errorManager.report(level, error);
                    children: []
                    pos: 52252
                    length: 34
                  pos: 52244
                  length: 48
                pos: 52226
                length: 66
              pos: 52024
              length: 272
          children: []
          pos: 51978
          length: 318
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getErrorLevel
              children: []
              pos: 52330
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSError error
                children: []
                pos: 52344
                length: 13
              pos: 52300
              length: 144
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: Preconditions.checkNotNull(options);
                children: []
                pos: 52365
                length: 36
              - type: return_statement
                fields:
                  text: return warningsGuard.level(error);
                children: []
                pos: 52406
                length: 34
              pos: 52359
              length: 85
          children: []
          pos: 52300
          length: 144
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: throwInternalError
              children: []
              pos: 52508
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String message
                children: []
                pos: 52527
                length: 14
              pos: 52491
              length: 345
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: |-
                    String finalMessage =
                          "INTERNAL COMPILER ERROR.\n" +
                          "Please report this problem.\n" + message;
                children: []
                pos: 52566
                length: 107
              - type: local_variable_declaration
                fields:
                  text: RuntimeException e = new RuntimeException(finalMessage, cause);
                children: []
                pos: 52679
                length: 63
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: cause
                            children: []
                            pos: 52751
                            length: 5
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 52760
                            length: 4
                        children: []
                        pos: 52751
                        length: 13
                    children: []
                    pos: 52750
                    length: 15
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: e.setStackTrace(cause.getStackTrace());
                    children: []
                    pos: 52774
                    length: 39
                  pos: 52766
                  length: 53
                pos: 52747
                length: 72
              - type: throw_statement
                fields:
                  text: throw e;
                children: []
                pos: 52824
                length: 8
              pos: 52560
              length: 276
          children: []
          pos: 52491
          length: 345
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getErrorCount
              children: []
              pos: 52896
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 52885
              length: 73
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return errorManager.getErrorCount();
                children: []
                pos: 52918
                length: 36
              pos: 52912
              length: 46
          children: []
          pos: 52885
          length: 73
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getWarningCount
              children: []
              pos: 53019
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 53008
              length: 77
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return errorManager.getWarningCount();
                children: []
                pos: 53043
                length: 38
              pos: 53037
              length: 48
          children: []
          pos: 53008
          length: 77
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: hasHaltingErrors
              children: []
              pos: 53109
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 53089
              length: 92
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return !isIdeMode() && getErrorCount() > 0;
                children: []
                pos: 53134
                length: 43
              pos: 53128
              length: 53
          children: []
          pos: 53089
          length: 92
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: hasErrors
              children: []
              pos: 53618
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 53603
              length: 63
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return hasHaltingErrors();
                children: []
                pos: 53636
                length: 26
              pos: 53630
              length: 36
          children: []
          pos: 53603
          length: 63
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: addToDebugLog
              children: []
              pos: 53745
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String str
                children: []
                pos: 53759
                length: 10
              pos: 53728
              length: 123
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: debugLog.append(str);
                children: []
                pos: 53777
                length: 21
              - type: expression_statement
                fields:
                  text: debugLog.append('\n');
                children: []
                pos: 53803
                length: 22
              - type: expression_statement
                fields:
                  text: logger.fine(str);
                children: []
                pos: 53830
                length: 17
              pos: 53771
              length: 80
          children: []
          pos: 53728
          length: 123
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getSourceFileByName
              children: []
              pos: 53874
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String sourceName
                children: []
                pos: 53894
                length: 17
              pos: 53855
              length: 193
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: inputsByName.containsKey(sourceName)
                        children: []
                        pos: 53923
                        length: 36
                    children: []
                    pos: 53922
                    length: 38
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return inputsByName.get(sourceName).getSourceFile();
                    children: []
                    pos: 53969
                    length: 52
                  pos: 53961
                  length: 66
                pos: 53919
                length: 108
              - type: return_statement
                fields:
                  text: return null;
                children: []
                pos: 54032
                length: 12
              pos: 53913
              length: 135
          children: []
          pos: 53855
          length: 193
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getSourceLine
              children: []
              pos: 54066
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String sourceName
                children: []
                pos: 54080
                length: 17
              pos: 54052
              length: 263
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: less_than
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: lineNumber
                            children: []
                            pos: 54125
                            length: 10
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '1'
                            children: []
                            pos: 54138
                            length: 1
                        children: []
                        pos: 54125
                        length: 14
                    children: []
                    pos: 54124
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return null;
                    children: []
                    pos: 54149
                    length: 12
                  pos: 54141
                  length: 26
                pos: 54121
                length: 46
              - type: local_variable_declaration
                fields:
                  text: SourceFile input = getSourceFileByName(sourceName);
                children: []
                pos: 54172
                length: 51
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: input
                            children: []
                            pos: 54232
                            length: 5
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 54241
                            length: 4
                        children: []
                        pos: 54232
                        length: 13
                    children: []
                    pos: 54231
                    length: 15
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return input.getLine(lineNumber);
                    children: []
                    pos: 54255
                    length: 33
                  pos: 54247
                  length: 47
                pos: 54228
                length: 66
              - type: return_statement
                fields:
                  text: return null;
                children: []
                pos: 54299
                length: 12
              pos: 54115
              length: 200
          children: []
          pos: 54052
          length: 263
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getSourceRegion
              children: []
              pos: 54333
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String sourceName
                children: []
                pos: 54349
                length: 17
              pos: 54319
              length: 267
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: less_than
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: lineNumber
                            children: []
                            pos: 54394
                            length: 10
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '1'
                            children: []
                            pos: 54407
                            length: 1
                        children: []
                        pos: 54394
                        length: 14
                    children: []
                    pos: 54393
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return null;
                    children: []
                    pos: 54418
                    length: 12
                  pos: 54410
                  length: 26
                pos: 54390
                length: 46
              - type: local_variable_declaration
                fields:
                  text: SourceFile input = getSourceFileByName(sourceName);
                children: []
                pos: 54441
                length: 51
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: input
                            children: []
                            pos: 54501
                            length: 5
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 54510
                            length: 4
                        children: []
                        pos: 54501
                        length: 13
                    children: []
                    pos: 54500
                    length: 15
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return input.getRegion(lineNumber);
                    children: []
                    pos: 54524
                    length: 35
                  pos: 54516
                  length: 49
                pos: 54497
                length: 68
              - type: return_statement
                fields:
                  text: return null;
                children: []
                pos: 54570
                length: 12
              pos: 54384
              length: 202
          children: []
          pos: 54319
          length: 267
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getNodeForCodeInsertion
              children: []
              pos: 54791
              length: 23
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSModule module
                children: []
                pos: 54815
                length: 15
              pos: 54774
              length: 451
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: module
                            children: []
                            pos: 54842
                            length: 6
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 54852
                            length: 4
                        children: []
                        pos: 54842
                        length: 14
                    children: []
                    pos: 54841
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: method_invocation
                            fields:
                              text: inputs.isEmpty()
                            children: []
                            pos: 54870
                            length: 16
                        children: []
                        pos: 54869
                        length: 18
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: throw_statement
                        fields:
                          text: throw new IllegalStateException("No inputs");
                        children: []
                        pos: 54898
                        length: 45
                      pos: 54888
                      length: 63
                    pos: 54866
                    length: 85
                  - type: return_statement
                    fields:
                      text: return inputs.get(0).getAstRoot(this);
                    children: []
                    pos: 54959
                    length: 38
                  pos: 54858
                  length: 145
                pos: 54838
                length: 165
              - type: local_variable_declaration
                fields:
                  text: List<CompilerInput> moduleInputs = module.getInputs();
                children: []
                pos: 55009
                length: 54
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: greater_than
                        fields:
                          left:
                            type: method_invocation
                            fields:
                              text: moduleInputs.size()
                            children: []
                            pos: 55072
                            length: 19
                          right:
                            type: decimal_integer_literal
                            fields:
                              text: '0'
                            children: []
                            pos: 55094
                            length: 1
                        children: []
                        pos: 55072
                        length: 23
                    children: []
                    pos: 55071
                    length: 25
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return moduleInputs.get(0).getAstRoot(this);
                    children: []
                    pos: 55105
                    length: 44
                  pos: 55097
                  length: 58
                pos: 55068
                length: 87
              - type: throw_statement
                fields:
                  text: throw new IllegalStateException("Root module has no inputs");
                children: []
                pos: 55160
                length: 61
              pos: 54832
              length: 393
          children: []
          pos: 54774
          length: 451
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getSourceMap
              children: []
              pos: 55246
              length: 12
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 55229
              length: 59
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return sourceMap;
                children: []
                pos: 55267
                length: 17
              pos: 55261
              length: 27
          children: []
          pos: 55229
          length: 59
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getVariableMap
              children: []
              pos: 55304
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 55292
              length: 97
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getPassConfig().getIntermediateState().variableMap;
                children: []
                pos: 55327
                length: 58
              pos: 55321
              length: 68
          children: []
          pos: 55292
          length: 97
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getPropertyMap
              children: []
              pos: 55405
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 55393
              length: 97
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getPassConfig().getIntermediateState().propertyMap;
                children: []
                pos: 55428
                length: 58
              pos: 55422
              length: 68
          children: []
          pos: 55393
          length: 97
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getOptions
              children: []
              pos: 55510
              length: 10
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 55494
              length: 54
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return options;
                children: []
                pos: 55529
                length: 15
              pos: 55523
              length: 25
          children: []
          pos: 55494
          length: 54
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getFunctionalInformationMap
              children: []
              pos: 55575
              length: 27
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 55552
              length: 93
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return functionInformationMap;
                children: []
                pos: 55611
                length: 30
              pos: 55605
              length: 40
          children: []
          pos: 55552
          length: 93
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setLoggingLevel
              children: []
              pos: 55754
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Level level
                children: []
                pos: 55770
                length: 11
              pos: 55735
              length: 81
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: logger.setLevel(level);
                children: []
                pos: 55789
                length: 23
              pos: 55783
              length: 33
          children: []
          pos: 55735
          length: 81
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getAstDotGraph
              children: []
              pos: 55910
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 55896
              length: 281
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: jsRoot
                            children: []
                            pos: 55956
                            length: 6
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 55966
                            length: 4
                        children: []
                        pos: 55956
                        length: 14
                    children: []
                    pos: 55955
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: ControlFlowAnalysis cfa = new ControlFlowAnalysis(this,
                        true, false);
                    children: []
                    pos: 55980
                    length: 69
                  - type: expression_statement
                    fields:
                      text: cfa.process(null, jsRoot);
                    children: []
                    pos: 56056
                    length: 26
                  - type: return_statement
                    fields:
                      text: return DotFormatter.toDot(jsRoot, cfa.getCfg());
                    children: []
                    pos: 56089
                    length: 48
                  pos: 55972
                  length: 171
                pos: 55952
                length: 221
              pos: 55946
              length: 231
          children: []
          pos: 55896
          length: 281
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getErrorManager
              children: []
              pos: 56213
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 56181
              length: 155
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: options
                            children: []
                            pos: 56241
                            length: 7
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 56252
                            length: 4
                        children: []
                        pos: 56241
                        length: 15
                    children: []
                    pos: 56240
                    length: 17
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: initOptions(new CompilerOptions());
                    children: []
                    pos: 56266
                    length: 35
                  pos: 56258
                  length: 49
                pos: 56237
                length: 70
              - type: return_statement
                fields:
                  text: return errorManager;
                children: []
                pos: 56312
                length: 20
              pos: 56231
              length: 105
          children: []
          pos: 56181
          length: 155
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getInputsInOrder
              children: []
              pos: 56372
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 56340
              length: 120
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return Collections.<CompilerInput>unmodifiableList(inputs);
                children: []
                pos: 56397
                length: 59
              pos: 56391
              length: 69
          children: []
          pos: 56340
          length: 120
        - type: class_declaration
          fields:
            name:
              type: identifier
              fields:
                text: IntermediateState
              children: []
              pos: 57082
              length: 17
            body:
              type: class_body
              fields: {}
              children:
              - type: field_declaration
                fields:
                  text: private static final long serialVersionUID = 1L;
                children: []
                pos: 57130
                length: 48
              - type: field_declaration
                fields:
                  text: Node externsRoot;
                children: []
                pos: 57184
                length: 17
              - type: field_declaration
                fields:
                  text: private Node jsRoot;
                children: []
                pos: 57206
                length: 20
              - type: field_declaration
                fields:
                  text: private List<CompilerInput> externs;
                children: []
                pos: 57231
                length: 36
              - type: field_declaration
                fields:
                  text: private List<CompilerInput> inputs;
                children: []
                pos: 57272
                length: 35
              - type: field_declaration
                fields:
                  text: private List<JSModule> modules;
                children: []
                pos: 57312
                length: 31
              - type: field_declaration
                fields:
                  text: private PassConfig.State passConfigState;
                children: []
                pos: 57348
                length: 41
              - type: field_declaration
                fields:
                  text: private JSTypeRegistry typeRegistry;
                children: []
                pos: 57394
                length: 36
              - type: field_declaration
                fields:
                  text: private AbstractCompiler.LifeCycleStage lifeCycleStage;
                children: []
                pos: 57435
                length: 55
              - type: constructor_declaration
                fields:
                  text: private IntermediateState() {}
                children: []
                pos: 57496
                length: 30
              pos: 57062
              length: 468
          children: []
          pos: 57062
          length: 468
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getState
              children: []
              pos: 57651
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 57626
              length: 419
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: IntermediateState state = new IntermediateState();
                children: []
                pos: 57668
                length: 50
              - type: expression_statement
                fields:
                  text: state.externsRoot = externsRoot;
                children: []
                pos: 57723
                length: 32
              - type: expression_statement
                fields:
                  text: state.jsRoot = jsRoot;
                children: []
                pos: 57760
                length: 22
              - type: expression_statement
                fields:
                  text: state.externs = externs;
                children: []
                pos: 57787
                length: 24
              - type: expression_statement
                fields:
                  text: state.inputs = inputs;
                children: []
                pos: 57816
                length: 22
              - type: expression_statement
                fields:
                  text: state.modules = modules;
                children: []
                pos: 57843
                length: 24
              - type: expression_statement
                fields:
                  text: state.passConfigState = getPassConfig().getIntermediateState();
                children: []
                pos: 57872
                length: 63
              - type: expression_statement
                fields:
                  text: state.typeRegistry = typeRegistry;
                children: []
                pos: 57940
                length: 34
              - type: expression_statement
                fields:
                  text: state.lifeCycleStage = getLifeCycleStage();
                children: []
                pos: 57979
                length: 43
              - type: return_statement
                fields:
                  text: return state;
                children: []
                pos: 58028
                length: 13
              pos: 57662
              length: 383
          children: []
          pos: 57626
          length: 419
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setState
              children: []
              pos: 58194
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: IntermediateState state
                children: []
                pos: 58203
                length: 23
              pos: 58182
              length: 390
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: externsRoot = state.externsRoot;
                children: []
                pos: 58234
                length: 32
              - type: expression_statement
                fields:
                  text: jsRoot = state.jsRoot;
                children: []
                pos: 58271
                length: 22
              - type: expression_statement
                fields:
                  text: externs = state.externs;
                children: []
                pos: 58298
                length: 24
              - type: expression_statement
                fields:
                  text: inputs = state.inputs;
                children: []
                pos: 58327
                length: 22
              - type: expression_statement
                fields:
                  text: modules = state.modules;
                children: []
                pos: 58354
                length: 24
              - type: expression_statement
                fields:
                  text: passes = createPassConfigInternal();
                children: []
                pos: 58383
                length: 36
              - type: expression_statement
                fields:
                  text: getPassConfig().setIntermediateState(state.passConfigState);
                children: []
                pos: 58424
                length: 60
              - type: expression_statement
                fields:
                  text: typeRegistry = state.typeRegistry;
                children: []
                pos: 58489
                length: 34
              - type: expression_statement
                fields:
                  text: setLifeCycleStage(state.lifeCycleStage);
                children: []
                pos: 58528
                length: 40
              pos: 58228
              length: 344
          children: []
          pos: 58182
          length: 390
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getInputsForTesting
              children: []
              pos: 58617
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 58576
              length: 87
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return inputs;
                children: []
                pos: 58645
                length: 14
              pos: 58639
              length: 24
          children: []
          pos: 58576
          length: 87
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getExternsForTesting
              children: []
              pos: 58708
              length: 20
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 58667
              length: 89
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return externs;
                children: []
                pos: 58737
                length: 15
              pos: 58731
              length: 25
          children: []
          pos: 58667
          length: 89
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: hasRegExpGlobalReferences
              children: []
              pos: 58780
              length: 25
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 58760
              length: 91
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return hasRegExpGlobalReferences;
                children: []
                pos: 58814
                length: 33
              pos: 58808
              length: 43
          children: []
          pos: 58760
          length: 91
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setHasRegExpGlobalReferences
              children: []
              pos: 58872
              length: 28
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: boolean references
                children: []
                pos: 58901
                length: 18
              pos: 58855
              length: 115
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: hasRegExpGlobalReferences = references;
                children: []
                pos: 58927
                length: 39
              pos: 58921
              length: 49
          children: []
          pos: 58855
          length: 115
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: updateGlobalVarReferences
              children: []
              pos: 58991
              length: 25
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Map<Var, ReferenceCollection> refMapPatch
                children: []
                pos: 59017
                length: 41
              pos: 58974
              length: 420
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: |-
                    Preconditions.checkState(collectionRoot.getType() == Token.SCRIPT
                            || collectionRoot.getType() == Token.BLOCK);
                children: []
                pos: 59093
                length: 118
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: globalRefMap
                            children: []
                            pos: 59220
                            length: 12
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 59236
                            length: 4
                        children: []
                        pos: 59220
                        length: 20
                    children: []
                    pos: 59219
                    length: 22
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: globalRefMap = new GlobalVarReferenceMap(getInputsInOrder());
                    children: []
                    pos: 59250
                    length: 61
                  pos: 59242
                  length: 75
                pos: 59216
                length: 101
              - type: expression_statement
                fields:
                  text: globalRefMap.updateGlobalVarReferences(refMapPatch, collectionRoot);
                children: []
                pos: 59322
                length: 68
              pos: 59087
              length: 307
          children: []
          pos: 58974
          length: 420
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getGlobalVarReferences
              children: []
              pos: 59423
              length: 22
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 59398
              length: 80
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return globalRefMap;
                children: []
                pos: 59454
                length: 20
              pos: 59448
              length: 30
          children: []
          pos: 59398
          length: 80
        pos: 2650
        length: 56831
    children: []
    pos: 2650
    length: 56831
  pos: 0
  length: 59482
text_diff: "--- before\n+++ after\n@@ -1429,7 +1429,7 @@\n \n         // if LanguageMode
  is ECMASCRIPT5_STRICT, only print 'use strict'\n         // for the first input
  file\n-        String code = toSource(root, sourceMap, inputSeqNum == 0);\n+        String
  code = toSource(root, sourceMap);\n         if (!code.isEmpty()) {\n           cb.append(code);\n
  \n@@ -1458,19 +1458,19 @@\n   @Override\n   String toSource(Node n) {\n     initCompilerOptionsIfTesting();\n-
  \   return toSource(n, null, true);\n+    return toSource(n, null);\n   }\n \n   /**\n
  \   * Generates JavaScript source code for an AST.\n    */\n-  private String toSource(Node
  n, SourceMap sourceMap, boolean firstOutput) {\n+  private String toSource(Node
  n, SourceMap sourceMap) {\n     CodePrinter.Builder builder = new CodePrinter.Builder(n);\n
  \    builder.setPrettyPrint(options.prettyPrint);\n     builder.setLineBreak(options.lineBreak);\n
  \    builder.setSourceMap(sourceMap);\n     builder.setSourceMapDetailLevel(options.sourceMapDetailLevel);\n-
  \   builder.setTagAsStrict(firstOutput &&\n+    builder.setTagAsStrict(\n         options.getLanguageOut()
  == LanguageMode.ECMASCRIPT5_STRICT);\n     builder.setLineLengthThreshold(options.lineLengthThreshold);\n
  \n"
tree_diff: |+
  New cluster:
  UPDATE from runInCompilerThread(new Callable<Void>() {
        public Void call() throws Exception {
          if (options.printInputDelimiter) {
            if ((cb.getLength() > 0) && !cb.endsWith("\n")) {
              cb.append("\n");  // Make sure that the label starts on a new line
            }
            Preconditions.checkState(root.getType() == Token.SCRIPT);

            String delimiter = options.inputDelimiter;

            String sourceName = (String)root.getProp(Node.SOURCENAME_PROP);
            Preconditions.checkState(sourceName != null);
            Preconditions.checkState(!sourceName.isEmpty());

            delimiter = delimiter.replaceAll("%name%", sourceName)
              .replaceAll("%num%", String.valueOf(inputSeqNum));

            cb.append(delimiter)
              .append("\n");
          }
          if (root.getJSDocInfo() != null &&
              root.getJSDocInfo().getLicense() != null) {
            cb.append("/*\n")
              .append(root.getJSDocInfo().getLicense())
              .append("*/\n");
          }

          // If there is a valid source map, then indicate to it that the current
          // root node's mappings are offset by the given string builder buffer.
          if (options.sourceMapOutputPath != null) {
            sourceMap.setStartingPosition(
                cb.getLineIndex(), cb.getColumnIndex());
          }

          // if LanguageMode is ECMASCRIPT5_STRICT, only print 'use strict'
          // for the first input file
          String code = toSource(root, sourceMap, inputSeqNum == 0);
          if (!code.isEmpty()) {
            cb.append(code);

            // In order to avoid parse ambiguity when files are concatenated
            // together, all files should end in a semi-colon. Do a quick
            // heuristic check if there's an obvious semi-colon already there.
            int length = code.length();
            char lastChar = code.charAt(length - 1);
            char secondLastChar = length >= 2 ?
                code.charAt(length - 2) : '\0';
            boolean hasSemiColon = lastChar == ';' ||
                (lastChar == '\n' && secondLastChar == ';');
            if (!hasSemiColon) {
              cb.append(";");
            }
          }
          return null;
        }
      }); to runInCompilerThread(new Callable<Void>() {
        public Void call() throws Exception {
          if (options.printInputDelimiter) {
            if ((cb.getLength() > 0) && !cb.endsWith("\n")) {
              cb.append("\n");  // Make sure that the label starts on a new line
            }
            Preconditions.checkState(root.getType() == Token.SCRIPT);

            String delimiter = options.inputDelimiter;

            String sourceName = (String)root.getProp(Node.SOURCENAME_PROP);
            Preconditions.checkState(sourceName != null);
            Preconditions.checkState(!sourceName.isEmpty());

            delimiter = delimiter.replaceAll("%name%", sourceName)
              .replaceAll("%num%", String.valueOf(inputSeqNum));

            cb.append(delimiter)
              .append("\n");
          }
          if (root.getJSDocInfo() != null &&
              root.getJSDocInfo().getLicense() != null) {
            cb.append("/*\n")
              .append(root.getJSDocInfo().getLicense())
              .append("*/\n");
          }

          // If there is a valid source map, then indicate to it that the current
          // root node's mappings are offset by the given string builder buffer.
          if (options.sourceMapOutputPath != null) {
            sourceMap.setStartingPosition(
                cb.getLineIndex(), cb.getColumnIndex());
          }

          // if LanguageMode is ECMASCRIPT5_STRICT, only print 'use strict'
          // for the first input file
          String code = toSource(root, sourceMap);
          if (!code.isEmpty()) {
            cb.append(code);

            // In order to avoid parse ambiguity when files are concatenated
            // together, all files should end in a semi-colon. Do a quick
            // heuristic check if there's an obvious semi-colon already there.
            int length = code.length();
            char lastChar = code.charAt(length - 1);
            char secondLastChar = length >= 2 ?
                code.charAt(length - 2) : '\0';
            boolean hasSemiColon = lastChar == ';' ||
                (lastChar == '\n' && secondLastChar == ';');
            if (!hasSemiColon) {
              cb.append(";");
            }
          }
          return null;
        }
      });
  ------------
  ===
  update-node
  ---
  expression_statement: runInCompilerThread(new Callable<Void>() {
        public Void call() throws Exception {
          if (options.printInputDelimiter) {
            if ((cb.getLength() > 0) && !cb.endsWith("\n")) {
              cb.append("\n");  // Make sure that the label starts on a new line
            }
            Preconditions.checkState(root.getType() == Token.SCRIPT);

            String delimiter = options.inputDelimiter;

            String sourceName = (String)root.getProp(Node.SOURCENAME_PROP);
            Preconditions.checkState(sourceName != null);
            Preconditions.checkState(!sourceName.isEmpty());

            delimiter = delimiter.replaceAll("%name%", sourceName)
              .replaceAll("%num%", String.valueOf(inputSeqNum));

            cb.append(delimiter)
              .append("\n");
          }
          if (root.getJSDocInfo() != null &&
              root.getJSDocInfo().getLicense() != null) {
            cb.append("/*\n")
              .append(root.getJSDocInfo().getLicense())
              .append("*/\n");
          }

          // If there is a valid source map, then indicate to it that the current
          // root node's mappings are offset by the given string builder buffer.
          if (options.sourceMapOutputPath != null) {
            sourceMap.setStartingPosition(
                cb.getLineIndex(), cb.getColumnIndex());
          }

          // if LanguageMode is ECMASCRIPT5_STRICT, only print 'use strict'
          // for the first input file
          String code = toSource(root, sourceMap, inputSeqNum == 0);
          if (!code.isEmpty()) {
            cb.append(code);

            // In order to avoid parse ambiguity when files are concatenated
            // together, all files should end in a semi-colon. Do a quick
            // heuristic check if there's an obvious semi-colon already there.
            int length = code.length();
            char lastChar = code.charAt(length - 1);
            char secondLastChar = length >= 2 ?
                code.charAt(length - 2) : '\0';
            boolean hasSemiColon = lastChar == ';' ||
                (lastChar == '\n' && secondLastChar == ';');
            if (!hasSemiColon) {
              cb.append(";");
            }
          }
          return null;
        }
      }); [41651,43849]
  replace runInCompilerThread(new Callable<Void>() {
        public Void call() throws Exception {
          if (options.printInputDelimiter) {
            if ((cb.getLength() > 0) && !cb.endsWith("\n")) {
              cb.append("\n");  // Make sure that the label starts on a new line
            }
            Preconditions.checkState(root.getType() == Token.SCRIPT);

            String delimiter = options.inputDelimiter;

            String sourceName = (String)root.getProp(Node.SOURCENAME_PROP);
            Preconditions.checkState(sourceName != null);
            Preconditions.checkState(!sourceName.isEmpty());

            delimiter = delimiter.replaceAll("%name%", sourceName)
              .replaceAll("%num%", String.valueOf(inputSeqNum));

            cb.append(delimiter)
              .append("\n");
          }
          if (root.getJSDocInfo() != null &&
              root.getJSDocInfo().getLicense() != null) {
            cb.append("/*\n")
              .append(root.getJSDocInfo().getLicense())
              .append("*/\n");
          }

          // If there is a valid source map, then indicate to it that the current
          // root node's mappings are offset by the given string builder buffer.
          if (options.sourceMapOutputPath != null) {
            sourceMap.setStartingPosition(
                cb.getLineIndex(), cb.getColumnIndex());
          }

          // if LanguageMode is ECMASCRIPT5_STRICT, only print 'use strict'
          // for the first input file
          String code = toSource(root, sourceMap, inputSeqNum == 0);
          if (!code.isEmpty()) {
            cb.append(code);

            // In order to avoid parse ambiguity when files are concatenated
            // together, all files should end in a semi-colon. Do a quick
            // heuristic check if there's an obvious semi-colon already there.
            int length = code.length();
            char lastChar = code.charAt(length - 1);
            char secondLastChar = length >= 2 ?
                code.charAt(length - 2) : '\0';
            boolean hasSemiColon = lastChar == ';' ||
                (lastChar == '\n' && secondLastChar == ';');
            if (!hasSemiColon) {
              cb.append(";");
            }
          }
          return null;
        }
      }); by runInCompilerThread(new Callable<Void>() {
        public Void call() throws Exception {
          if (options.printInputDelimiter) {
            if ((cb.getLength() > 0) && !cb.endsWith("\n")) {
              cb.append("\n");  // Make sure that the label starts on a new line
            }
            Preconditions.checkState(root.getType() == Token.SCRIPT);

            String delimiter = options.inputDelimiter;

            String sourceName = (String)root.getProp(Node.SOURCENAME_PROP);
            Preconditions.checkState(sourceName != null);
            Preconditions.checkState(!sourceName.isEmpty());

            delimiter = delimiter.replaceAll("%name%", sourceName)
              .replaceAll("%num%", String.valueOf(inputSeqNum));

            cb.append(delimiter)
              .append("\n");
          }
          if (root.getJSDocInfo() != null &&
              root.getJSDocInfo().getLicense() != null) {
            cb.append("/*\n")
              .append(root.getJSDocInfo().getLicense())
              .append("*/\n");
          }

          // If there is a valid source map, then indicate to it that the current
          // root node's mappings are offset by the given string builder buffer.
          if (options.sourceMapOutputPath != null) {
            sourceMap.setStartingPosition(
                cb.getLineIndex(), cb.getColumnIndex());
          }

          // if LanguageMode is ECMASCRIPT5_STRICT, only print 'use strict'
          // for the first input file
          String code = toSource(root, sourceMap);
          if (!code.isEmpty()) {
            cb.append(code);

            // In order to avoid parse ambiguity when files are concatenated
            // together, all files should end in a semi-colon. Do a quick
            // heuristic check if there's an obvious semi-colon already there.
            int length = code.length();
            char lastChar = code.charAt(length - 1);
            char secondLastChar = length >= 2 ?
                code.charAt(length - 2) : '\0';
            boolean hasSemiColon = lastChar == ';' ||
                (lastChar == '\n' && secondLastChar == ';');
            if (!hasSemiColon) {
              cb.append(";");
            }
          }
          return null;
        }
      });

  New cluster:
  UPDATE from return toSource(n, null, true); to return toSource(n, null);
  ------------
  ===
  update-node
  ---
  return_statement: return toSource(n, null, true); [44036,44067]
  replace return toSource(n, null, true); by return toSource(n, null);

  New cluster:
  UPDATE from builder.setTagAsStrict(firstOutput &&
          options.getLanguageOut() == LanguageMode.ECMASCRIPT5_STRICT); to builder.setTagAsStrict(
          options.getLanguageOut() == LanguageMode.ECMASCRIPT5_STRICT);
  ------------
  ===
  update-node
  ---
  expression_statement: builder.setTagAsStrict(firstOutput &&
          options.getLanguageOut() == LanguageMode.ECMASCRIPT5_STRICT); [44477,44584]
  replace builder.setTagAsStrict(firstOutput &&
          options.getLanguageOut() == LanguageMode.ECMASCRIPT5_STRICT); by builder.setTagAsStrict(
          options.getLanguageOut() == LanguageMode.ECMASCRIPT5_STRICT);

...
