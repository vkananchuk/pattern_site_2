---
language: java
before_tree:
  type: program
  fields: {}
  children:
  - type: class_declaration
    fields:
      name:
        type: identifier
        fields:
          text: PrototypeObjectType
        children: []
        pos: 2757
        length: 19
      body:
        type: class_body
        fields: {}
        children:
        - type: field_declaration
          fields:
            text: private static final long serialVersionUID = 1L;
          children: []
          pos: 2800
          length: 48
        - type: field_declaration
          fields:
            text: private final String className;
          children: []
          pos: 2852
          length: 31
        - type: field_declaration
          fields:
            text: private final Map<String, Property> properties;
          children: []
          pos: 2886
          length: 47
        - type: field_declaration
          fields:
            text: private final boolean nativeType;
          children: []
          pos: 2936
          length: 33
        - type: field_declaration
          fields:
            text: private ObjectType implicitPrototypeFallback;
          children: []
          pos: 3185
          length: 45
        - type: field_declaration
          fields:
            text: private FunctionType ownerFunction = null;
          children: []
          pos: 3453
          length: 42
        - type: field_declaration
          fields:
            text: private boolean prettyPrint = false;
          children: []
          pos: 3607
          length: 36
        - type: field_declaration
          fields:
            text: private static final int MAX_PRETTY_PRINTED_PROPERTIES = 4;
          children: []
          pos: 3647
          length: 59
        - type: constructor_declaration
          fields:
            text: |-
              PrototypeObjectType(JSTypeRegistry registry, String className,
                    ObjectType implicitPrototype) {
                  this(registry, className, implicitPrototype, false);
                }
          children: []
          pos: 4131
          length: 161
        - type: constructor_declaration
          fields:
            text: |-
              PrototypeObjectType(JSTypeRegistry registry, String className,
                    ObjectType implicitPrototype, boolean nativeType) {
                  super(registry);
                  this.properties = Maps.newTreeMap();
                  this.className = className;
                  this.nativeType = nativeType;
                  if (nativeType || implicitPrototype != null) {
                    setImplicitPrototype(implicitPrototype);
                  } else {
                    setImplicitPrototype(
                        registry.getNativeObjectType(JSTypeNative.OBJECT_TYPE));
                  }
                }
          children: []
          pos: 4421
          length: 464
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getSlot
              children: []
              pos: 4917
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String name
                children: []
                pos: 4925
                length: 11
              pos: 4889
              length: 543
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: properties.containsKey(name)
                        children: []
                        pos: 4948
                        length: 28
                    children: []
                    pos: 4947
                    length: 30
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return properties.get(name);
                    children: []
                    pos: 4986
                    length: 28
                  pos: 4978
                  length: 42
                pos: 4944
                length: 76
              - type: local_variable_declaration
                fields:
                  text: ObjectType implicitPrototype = getImplicitPrototype();
                children: []
                pos: 5025
                length: 54
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: implicitPrototype
                            children: []
                            pos: 5088
                            length: 17
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 5109
                            length: 4
                        children: []
                        pos: 5088
                        length: 25
                    children: []
                    pos: 5087
                    length: 27
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: Property prop = implicitPrototype.getSlot(name);
                    children: []
                    pos: 5123
                    length: 48
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: not_equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: prop
                                children: []
                                pos: 5182
                                length: 4
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 5190
                                length: 4
                            children: []
                            pos: 5182
                            length: 12
                        children: []
                        pos: 5181
                        length: 14
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: return_statement
                        fields:
                          text: return prop;
                        children: []
                        pos: 5206
                        length: 12
                      pos: 5196
                      length: 30
                    pos: 5178
                    length: 48
                  pos: 5115
                  length: 117
                pos: 5084
                length: 148
              - type: enhanced_for_statement
                fields:
                  text: |-
                    for (ObjectType interfaceType : getCtorExtendedInterfaces()) {
                          Property prop = interfaceType.getSlot(name);
                          if (prop != null) {
                            return prop;
                          }
                        }
                children: []
                pos: 5237
                length: 174
              - type: return_statement
                fields:
                  text: return null;
                children: []
                pos: 5416
                length: 12
              pos: 4938
              length: 494
          children: []
          pos: 4889
          length: 543
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getPropertiesCount
              children: []
              pos: 5522
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 5499
              length: 416
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: ObjectType implicitPrototype = getImplicitPrototype();
                children: []
                pos: 5549
                length: 54
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: implicitPrototype
                            children: []
                            pos: 5612
                            length: 17
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 5633
                            length: 4
                        children: []
                        pos: 5612
                        length: 25
                    children: []
                    pos: 5611
                    length: 27
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return this.properties.size();
                    children: []
                    pos: 5647
                    length: 30
                  pos: 5639
                  length: 44
                pos: 5608
                length: 75
              - type: local_variable_declaration
                fields:
                  text: int localCount = 0;
                children: []
                pos: 5688
                length: 19
              - type: enhanced_for_statement
                fields:
                  text: |-
                    for (String property : properties.keySet()) {
                          if (!implicitPrototype.hasProperty(property)) {
                            localCount++;
                          }
                        }
                children: []
                pos: 5712
                length: 135
              - type: return_statement
                fields:
                  text: return implicitPrototype.getPropertiesCount() + localCount;
                children: []
                pos: 5852
                length: 59
              pos: 5543
              length: 372
          children: []
          pos: 5499
          length: 416
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: hasProperty
              children: []
              pos: 5946
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String propertyName
                children: []
                pos: 5958
                length: 19
              pos: 5919
              length: 168
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return isUnknownType() || getSlot(propertyName) != null;
                children: []
                pos: 6027
                length: 56
              pos: 5979
              length: 108
          children: []
          pos: 5919
          length: 168
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: hasOwnProperty
              children: []
              pos: 6118
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String propertyName
                children: []
                pos: 6133
                length: 19
              pos: 6091
              length: 117
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return properties.get(propertyName) != null;
                children: []
                pos: 6160
                length: 44
              pos: 6154
              length: 54
          children: []
          pos: 6091
          length: 117
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getOwnPropertyNames
              children: []
              pos: 6243
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 6212
              length: 90
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return properties.keySet();
                children: []
                pos: 6271
                length: 27
              pos: 6265
              length: 37
          children: []
          pos: 6212
          length: 90
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isPropertyTypeDeclared
              children: []
              pos: 6333
              length: 22
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String property
                children: []
                pos: 6356
                length: 15
              pos: 6306
              length: 206
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: StaticSlot<JSType> slot = getSlot(property);
                children: []
                pos: 6379
                length: 44
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: slot
                            children: []
                            pos: 6432
                            length: 4
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 6440
                            length: 4
                        children: []
                        pos: 6432
                        length: 12
                    children: []
                    pos: 6431
                    length: 14
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return false;
                    children: []
                    pos: 6454
                    length: 13
                  pos: 6446
                  length: 27
                pos: 6428
                length: 45
              - type: return_statement
                fields:
                  text: return !slot.isTypeInferred();
                children: []
                pos: 6478
                length: 30
              pos: 6373
              length: 139
          children: []
          pos: 6306
          length: 206
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: collectPropertyNames
              children: []
              pos: 6533
              length: 20
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Set<String> props
                children: []
                pos: 6554
                length: 17
              pos: 6516
              length: 292
            body:
              type: block
              fields: {}
              children:
              - type: enhanced_for_statement
                fields:
                  text: |-
                    for (String prop : properties.keySet()) {
                          props.add(prop);
                        }
                children: []
                pos: 6579
                length: 70
              - type: local_variable_declaration
                fields:
                  text: ObjectType implicitPrototype = getImplicitPrototype();
                children: []
                pos: 6654
                length: 54
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: implicitPrototype
                            children: []
                            pos: 6717
                            length: 17
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 6738
                            length: 4
                        children: []
                        pos: 6717
                        length: 25
                    children: []
                    pos: 6716
                    length: 27
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: implicitPrototype.collectPropertyNames(props);
                    children: []
                    pos: 6752
                    length: 46
                  pos: 6744
                  length: 60
                pos: 6713
                length: 91
              pos: 6573
              length: 235
          children: []
          pos: 6516
          length: 292
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isPropertyTypeInferred
              children: []
              pos: 6839
              length: 22
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String property
                children: []
                pos: 6862
                length: 15
              pos: 6812
              length: 205
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: StaticSlot<JSType> slot = getSlot(property);
                children: []
                pos: 6885
                length: 44
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: slot
                            children: []
                            pos: 6938
                            length: 4
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 6946
                            length: 4
                        children: []
                        pos: 6938
                        length: 12
                    children: []
                    pos: 6937
                    length: 14
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return false;
                    children: []
                    pos: 6960
                    length: 13
                  pos: 6952
                  length: 27
                pos: 6934
                length: 45
              - type: return_statement
                fields:
                  text: return slot.isTypeInferred();
                children: []
                pos: 6984
                length: 29
              pos: 6879
              length: 138
          children: []
          pos: 6812
          length: 205
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getPropertyType
              children: []
              pos: 7047
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String property
                children: []
                pos: 7063
                length: 15
              pos: 7021
              length: 225
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: StaticSlot<JSType> slot = getSlot(property);
                children: []
                pos: 7086
                length: 44
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: slot
                            children: []
                            pos: 7139
                            length: 4
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 7147
                            length: 4
                        children: []
                        pos: 7139
                        length: 12
                    children: []
                    pos: 7138
                    length: 14
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return getNativeType(JSTypeNative.UNKNOWN_TYPE);
                    children: []
                    pos: 7161
                    length: 48
                  pos: 7153
                  length: 62
                pos: 7135
                length: 80
              - type: return_statement
                fields:
                  text: return slot.getType();
                children: []
                pos: 7220
                length: 22
              pos: 7080
              length: 166
          children: []
          pos: 7021
          length: 225
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isPropertyInExterns
              children: []
              pos: 7277
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String propertyName
                children: []
                pos: 7297
                length: 19
              pos: 7250
              length: 365
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: Property p = properties.get(propertyName);
                children: []
                pos: 7324
                length: 42
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: p
                            children: []
                            pos: 7375
                            length: 1
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 7380
                            length: 4
                        children: []
                        pos: 7375
                        length: 9
                    children: []
                    pos: 7374
                    length: 11
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return p.isFromExterns();
                    children: []
                    pos: 7394
                    length: 25
                  pos: 7386
                  length: 39
                pos: 7371
                length: 54
              - type: local_variable_declaration
                fields:
                  text: ObjectType implicitPrototype = getImplicitPrototype();
                children: []
                pos: 7430
                length: 54
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: implicitPrototype
                            children: []
                            pos: 7493
                            length: 17
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 7514
                            length: 4
                        children: []
                        pos: 7493
                        length: 25
                    children: []
                    pos: 7492
                    length: 27
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return implicitPrototype.isPropertyInExterns(propertyName);
                    children: []
                    pos: 7528
                    length: 59
                  pos: 7520
                  length: 73
                pos: 7489
                length: 104
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 7598
                length: 13
              pos: 7318
              length: 297
          children: []
          pos: 7250
          length: 365
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: defineProperty
              children: []
              pos: 7639
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String name
                children: []
                pos: 7654
                length: 11
              pos: 7619
              length: 540
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: hasOwnDeclaredProperty(name)
                        children: []
                        pos: 7733
                        length: 28
                    children: []
                    pos: 7732
                    length: 30
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return false;
                    children: []
                    pos: 7771
                    length: 13
                  pos: 7763
                  length: 27
                pos: 7729
                length: 61
              - type: local_variable_declaration
                fields:
                  text: |-
                    Property newProp = new Property(
                            name, type, inferred, propertyNode);
                children: []
                pos: 7795
                length: 77
              - type: local_variable_declaration
                fields:
                  text: Property oldProp = properties.get(name);
                children: []
                pos: 7877
                length: 40
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: oldProp
                            children: []
                            pos: 7926
                            length: 7
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 7937
                            length: 4
                        children: []
                        pos: 7926
                        length: 15
                    children: []
                    pos: 7925
                    length: 17
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: newProp.setJSDocInfo(oldProp.getJSDocInfo());
                    children: []
                    pos: 8052
                    length: 45
                  pos: 7943
                  length: 160
                pos: 7922
                length: 181
              - type: expression_statement
                fields:
                  text: properties.put(name, newProp);
                children: []
                pos: 8108
                length: 30
              - type: return_statement
                fields:
                  text: return true;
                children: []
                pos: 8143
                length: 12
              pos: 7723
              length: 436
          children: []
          pos: 7619
          length: 540
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: removeProperty
              children: []
              pos: 8190
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String name
                children: []
                pos: 8205
                length: 11
              pos: 8163
              length: 104
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return properties.remove(name) != null;
                children: []
                pos: 8224
                length: 39
              pos: 8218
              length: 49
          children: []
          pos: 8163
          length: 104
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getPropertyNode
              children: []
              pos: 8295
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String propertyName
                children: []
                pos: 8311
                length: 19
              pos: 8271
              length: 347
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: Property p = properties.get(propertyName);
                children: []
                pos: 8338
                length: 42
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: p
                            children: []
                            pos: 8389
                            length: 1
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 8394
                            length: 4
                        children: []
                        pos: 8389
                        length: 9
                    children: []
                    pos: 8388
                    length: 11
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return p.getNode();
                    children: []
                    pos: 8408
                    length: 19
                  pos: 8400
                  length: 33
                pos: 8385
                length: 48
              - type: local_variable_declaration
                fields:
                  text: ObjectType implicitPrototype = getImplicitPrototype();
                children: []
                pos: 8438
                length: 54
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: implicitPrototype
                            children: []
                            pos: 8501
                            length: 17
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 8522
                            length: 4
                        children: []
                        pos: 8501
                        length: 25
                    children: []
                    pos: 8500
                    length: 27
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return implicitPrototype.getPropertyNode(propertyName);
                    children: []
                    pos: 8536
                    length: 55
                  pos: 8528
                  length: 69
                pos: 8497
                length: 100
              - type: return_statement
                fields:
                  text: return null;
                children: []
                pos: 8602
                length: 12
              pos: 8332
              length: 286
          children: []
          pos: 8271
          length: 347
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getOwnPropertyJSDocInfo
              children: []
              pos: 8651
              length: 23
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String propertyName
                children: []
                pos: 8675
                length: 19
              pos: 8622
              length: 201
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: Property p = properties.get(propertyName);
                children: []
                pos: 8702
                length: 42
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: p
                            children: []
                            pos: 8753
                            length: 1
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 8758
                            length: 4
                        children: []
                        pos: 8753
                        length: 9
                    children: []
                    pos: 8752
                    length: 11
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return p.getJSDocInfo();
                    children: []
                    pos: 8772
                    length: 24
                  pos: 8764
                  length: 38
                pos: 8749
                length: 53
              - type: return_statement
                fields:
                  text: return null;
                children: []
                pos: 8807
                length: 12
              pos: 8696
              length: 127
          children: []
          pos: 8622
          length: 201
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setPropertyJSDocInfo
              children: []
              pos: 8851
              length: 20
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String propertyName
                children: []
                pos: 8872
                length: 19
              pos: 8827
              length: 718
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: info
                            children: []
                            pos: 8919
                            length: 4
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 8927
                            length: 4
                        children: []
                        pos: 8919
                        length: 12
                    children: []
                    pos: 8918
                    length: 14
                children:
                - type: block
                  fields: {}
                  children:
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: unary_expression
                            fields:
                              text: "!properties.containsKey(propertyName)"
                            children: []
                            pos: 8945
                            length: 37
                        children: []
                        pos: 8944
                        length: 39
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: |-
                            defineInferredProperty(propertyName, getPropertyType(propertyName),
                                        null);
                        children: []
                        pos: 9170
                        length: 86
                      pos: 8984
                      length: 280
                    pos: 8941
                    length: 323
                  - type: local_variable_declaration
                    fields:
                      text: Property property = properties.get(propertyName);
                    children: []
                    pos: 9411
                    length: 49
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: not_equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: property
                                children: []
                                pos: 9471
                                length: 8
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 9483
                                length: 4
                            children: []
                            pos: 9471
                            length: 16
                        children: []
                        pos: 9470
                        length: 18
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: property.setJSDocInfo(info);
                        children: []
                        pos: 9499
                        length: 28
                      pos: 9489
                      length: 46
                    pos: 9467
                    length: 68
                  pos: 8933
                  length: 608
                pos: 8915
                length: 626
              pos: 8909
              length: 636
          children: []
          pos: 8827
          length: 718
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: matchesNumberContext
              children: []
              pos: 9576
              length: 20
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 9549
              length: 202
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return isNumberObjectType() || isDateType() || isBooleanObjectType() ||
                            isStringObjectType() || hasOverridenNativeProperty("valueOf");
                children: []
                pos: 9605
                length: 142
              pos: 9599
              length: 152
          children: []
          pos: 9549
          length: 202
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: matchesStringContext
              children: []
              pos: 9782
              length: 20
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 9755
              length: 267
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return isTheObjectType() || isStringObjectType() || isDateType() ||
                            isRegexpType() || isArrayType() || isNumberObjectType() ||
                            isBooleanObjectType() || hasOverridenNativeProperty("toString");
                children: []
                pos: 9811
                length: 207
              pos: 9805
              length: 217
          children: []
          pos: 9755
          length: 267
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: hasOverridenNativeProperty
              children: []
              pos: 10196
              length: 26
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String propertyName
                children: []
                pos: 10223
                length: 19
              pos: 10180
              length: 507
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: isNativeObjectType()
                        children: []
                        pos: 10254
                        length: 20
                    children: []
                    pos: 10253
                    length: 22
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return false;
                    children: []
                    pos: 10284
                    length: 13
                  pos: 10276
                  length: 27
                pos: 10250
                length: 53
              - type: local_variable_declaration
                fields:
                  text: JSType propertyType = getPropertyType(propertyName);
                children: []
                pos: 10309
                length: 52
              - type: local_variable_declaration
                fields:
                  text: |-
                    ObjectType nativeType =
                            this.isFunctionType() ?
                            registry.getNativeObjectType(JSTypeNative.FUNCTION_PROTOTYPE) :
                            registry.getNativeObjectType(JSTypeNative.OBJECT_PROTOTYPE);
                children: []
                pos: 10366
                length: 196
              - type: local_variable_declaration
                fields:
                  text: JSType nativePropertyType = nativeType.getPropertyType(propertyName);
                children: []
                pos: 10567
                length: 69
              - type: return_statement
                fields:
                  text: return propertyType != nativePropertyType;
                children: []
                pos: 10641
                length: 42
              pos: 10244
              length: 443
          children: []
          pos: 10180
          length: 507
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: unboxesTo
              children: []
              pos: 10717
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 10691
              length: 368
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: isStringObjectType()
                        children: []
                        pos: 10739
                        length: 20
                    children: []
                    pos: 10738
                    length: 22
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return getNativeType(JSTypeNative.STRING_TYPE);
                    children: []
                    pos: 10769
                    length: 47
                  pos: 10761
                  length: 61
                pos: 10735
                length: 320
              pos: 10729
              length: 330
          children: []
          pos: 10691
          length: 368
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: matchesObjectContext
              children: []
              pos: 11090
              length: 20
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 11063
              length: 72
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return true;
                children: []
                pos: 11119
                length: 12
              pos: 11113
              length: 22
          children: []
          pos: 11063
          length: 72
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: canBeCalled
              children: []
              pos: 11166
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 11139
              length: 73
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return isRegexpType();
                children: []
                pos: 11186
                length: 22
              pos: 11180
              length: 32
          children: []
          pos: 11139
          length: 73
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: toStringHelper
              children: []
              pos: 11235
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: boolean forAnnotations
                children: []
                pos: 11250
                length: 22
              pos: 11216
              length: 1245
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: hasReferenceName()
                        children: []
                        pos: 11284
                        length: 18
                    children: []
                    pos: 11283
                    length: 20
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return getReferenceName();
                    children: []
                    pos: 11312
                    length: 26
                  pos: 11304
                  length: 40
                pos: 11280
                length: 1177
              pos: 11274
              length: 1187
          children: []
          pos: 11216
          length: 1245
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setPrettyPrint
              children: []
              pos: 12470
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: boolean prettyPrint
                children: []
                pos: 12485
                length: 19
              pos: 12465
              length: 82
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: this.prettyPrint = prettyPrint;
                children: []
                pos: 12512
                length: 31
              pos: 12506
              length: 41
          children: []
          pos: 12465
          length: 82
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isPrettyPrint
              children: []
              pos: 12559
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 12551
              length: 53
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return prettyPrint;
                children: []
                pos: 12581
                length: 19
              pos: 12575
              length: 29
          children: []
          pos: 12551
          length: 53
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getConstructor
              children: []
              pos: 12640
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 12608
              length: 71
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return null;
                children: []
                pos: 12663
                length: 12
              pos: 12657
              length: 22
          children: []
          pos: 12608
          length: 71
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getImplicitPrototype
              children: []
              pos: 12713
              length: 20
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 12683
              length: 96
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return implicitPrototypeFallback;
                children: []
                pos: 12742
                length: 33
              pos: 12736
              length: 43
          children: []
          pos: 12683
          length: 96
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setImplicitPrototype
              children: []
              pos: 13054
              length: 20
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: ObjectType implicitPrototype
                children: []
                pos: 13075
                length: 28
              pos: 13043
              length: 159
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: checkState(!hasCachedValues());
                children: []
                pos: 13111
                length: 31
              - type: expression_statement
                fields:
                  text: this.implicitPrototypeFallback = implicitPrototype;
                children: []
                pos: 13147
                length: 51
              pos: 13105
              length: 97
          children: []
          pos: 13043
          length: 159
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getReferenceName
              children: []
              pos: 13232
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 13206
              length: 243
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: className
                            children: []
                            pos: 13261
                            length: 9
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 13274
                            length: 4
                        children: []
                        pos: 13261
                        length: 17
                    children: []
                    pos: 13260
                    length: 19
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return className;
                    children: []
                    pos: 13288
                    length: 17
                  pos: 13280
                  length: 31
                pos: 13257
                length: 188
              pos: 13251
              length: 198
          children: []
          pos: 13206
          length: 243
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: hasReferenceName
              children: []
              pos: 13480
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 13453
              length: 106
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return className != null || ownerFunction != null;
                children: []
                pos: 13505
                length: 50
              pos: 13499
              length: 60
          children: []
          pos: 13453
          length: 106
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isSubtype
              children: []
              pos: 13590
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSType that
                children: []
                pos: 13600
                length: 11
              pos: 13563
              length: 1556
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: JSType.isSubtypeHelper(this, that)
                        children: []
                        pos: 13623
                        length: 34
                    children: []
                    pos: 13622
                    length: 36
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return true;
                    children: []
                    pos: 13667
                    length: 12
                  pos: 13659
                  length: 26
                pos: 13619
                length: 66
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: that.isUnionType()
                        children: []
                        pos: 13714
                        length: 18
                    children: []
                    pos: 13713
                    length: 20
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return false;
                    children: []
                    pos: 13873
                    length: 13
                  pos: 13734
                  length: 158
                pos: 13710
                length: 182
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: that.isRecordType()
                        children: []
                        pos: 13922
                        length: 19
                    children: []
                    pos: 13921
                    length: 21
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return RecordType.isSubtype(this, that.toMaybeRecordType());
                    children: []
                    pos: 13951
                    length: 60
                  pos: 13943
                  length: 74
                pos: 13918
                length: 99
              - type: local_variable_declaration
                fields:
                  text: ObjectType thatObj = that.toObjectType();
                children: []
                pos: 14153
                length: 41
              - type: local_variable_declaration
                fields:
                  text: 'ObjectType thatCtor = thatObj == null ? null : thatObj.getConstructor();'
                children: []
                pos: 14199
                length: 72
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: and
                        fields:
                          left:
                            type: not_equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: thatCtor
                                children: []
                                pos: 14280
                                length: 8
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 14292
                                length: 4
                            children: []
                            pos: 14280
                            length: 16
                          right:
                            type: method_invocation
                            fields:
                              text: thatCtor.isInterface()
                            children: []
                            pos: 14300
                            length: 22
                        children: []
                        pos: 14280
                        length: 42
                    children: []
                    pos: 14279
                    length: 44
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: Iterable<ObjectType> thisInterfaces = getCtorImplementedInterfaces();
                    children: []
                    pos: 14332
                    length: 69
                  - type: enhanced_for_statement
                    fields:
                      text: |-
                        for (ObjectType thisInterface : thisInterfaces) {
                                if (thisInterface.isSubtype(that)) {
                                  return true;
                                }
                              }
                    children: []
                    pos: 14408
                    length: 135
                  pos: 14324
                  length: 225
                pos: 14276
                length: 273
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: and
                        fields:
                          left:
                            type: not_equals
                            fields:
                              left:
                                type: method_invocation
                                fields:
                                  text: getConstructor()
                                children: []
                                pos: 14559
                                length: 16
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 14579
                                length: 4
                            children: []
                            pos: 14559
                            length: 24
                          right:
                            type: method_invocation
                            fields:
                              text: getConstructor().isInterface()
                            children: []
                            pos: 14587
                            length: 30
                        children: []
                        pos: 14559
                        length: 58
                    children: []
                    pos: 14558
                    length: 60
                children:
                - type: block
                  fields: {}
                  children:
                  - type: enhanced_for_statement
                    fields:
                      text: |-
                        for (ObjectType thisInterface : getCtorExtendedInterfaces()) {
                                if (thisInterface.isSubtype(that)) {
                                  return true;
                                }
                              }
                    children: []
                    pos: 14627
                    length: 148
                  pos: 14619
                  length: 162
                pos: 14555
                length: 226
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: method_invocation
                            fields:
                              text: isUnknownType()
                            children: []
                            pos: 14828
                            length: 15
                          right:
                            type: method_invocation
                            fields:
                              text: implicitPrototypeChainIsUnknown()
                            children: []
                            pos: 14847
                            length: 33
                        children: []
                        pos: 14828
                        length: 52
                    children: []
                    pos: 14827
                    length: 54
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return true;
                    children: []
                    pos: 15051
                    length: 12
                  pos: 14882
                  length: 187
                pos: 14824
                length: 245
              - type: return_statement
                fields:
                  text: return this.isImplicitPrototype(thatObj);
                children: []
                pos: 15074
                length: 41
              pos: 13613
              length: 1506
          children: []
          pos: 13563
          length: 1556
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: implicitPrototypeChainIsUnknown
              children: []
              pos: 15139
              length: 31
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 15123
              length: 242
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: ObjectType p = getImplicitPrototype();
                children: []
                pos: 15179
                length: 38
              - type: while_statement
                fields:
                  text: |-
                    while (p != null) {
                          if (p.isUnknownType()) {
                            return true;
                          }
                          p = p.getImplicitPrototype();
                        }
                children: []
                pos: 15222
                length: 121
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 15348
                length: 13
              pos: 15173
              length: 192
          children: []
          pos: 15123
          length: 242
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: hasCachedValues
              children: []
              pos: 15396
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 15369
              length: 86
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return super.hasCachedValues();
                children: []
                pos: 15420
                length: 31
              pos: 15414
              length: 41
          children: []
          pos: 15369
          length: 86
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isNativeObjectType
              children: []
              pos: 15530
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 15503
              length: 76
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return nativeType;
                children: []
                pos: 15557
                length: 18
              pos: 15551
              length: 28
          children: []
          pos: 15503
          length: 76
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setOwnerFunction
              children: []
              pos: 15600
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: FunctionType type
                children: []
                pos: 15617
                length: 17
              pos: 15583
              length: 153
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: Preconditions.checkState(ownerFunction == null || type ==
                    null);
                children: []
                pos: 15642
                length: 64
              - type: expression_statement
                fields:
                  text: ownerFunction = type;
                children: []
                pos: 15711
                length: 21
              pos: 15636
              length: 100
          children: []
          pos: 15583
          length: 153
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getOwnerFunction
              children: []
              pos: 15772
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 15740
              length: 82
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return ownerFunction;
                children: []
                pos: 15797
                length: 21
              pos: 15791
              length: 31
          children: []
          pos: 15740
          length: 82
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getCtorImplementedInterfaces
              children: []
              pos: 15866
              length: 28
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 15826
              length: 211
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return isFunctionPrototypeType()
                            ? getOwnerFunction().getImplementedInterfaces()
                            : ImmutableList.<ObjectType>of();
                children: []
                pos: 15903
                length: 130
              pos: 15897
              length: 140
          children: []
          pos: 15826
          length: 211
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getCtorExtendedInterfaces
              children: []
              pos: 16081
              length: 25
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 16041
              length: 205
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return isFunctionPrototypeType()
                            ? getOwnerFunction().getExtendedInterfaces()
                            : ImmutableList.<ObjectType>of();
                children: []
                pos: 16115
                length: 127
              pos: 16109
              length: 137
          children: []
          pos: 16041
          length: 205
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: resolveInternal
              children: []
              pos: 16269
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: ErrorReporter t
                children: []
                pos: 16285
                length: 15
              pos: 16250
              length: 446
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: setResolvedTypeInternal(this);
                children: []
                pos: 16335
                length: 30
              - type: local_variable_declaration
                fields:
                  text: ObjectType implicitPrototype = getImplicitPrototype();
                children: []
                pos: 16371
                length: 54
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: implicitPrototype
                            children: []
                            pos: 16434
                            length: 17
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 16455
                            length: 4
                        children: []
                        pos: 16434
                        length: 25
                    children: []
                    pos: 16433
                    length: 27
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: |-
                        implicitPrototypeFallback =
                                  (ObjectType) implicitPrototype.resolve(t, scope);
                    children: []
                    pos: 16469
                    length: 87
                  pos: 16461
                  length: 101
                pos: 16430
                length: 132
              - type: enhanced_for_statement
                fields:
                  text: |-
                    for (Property prop : properties.values()) {
                          prop.setType(safeResolve(prop.getType(), t, scope));
                        }
                children: []
                pos: 16567
                length: 108
              - type: return_statement
                fields:
                  text: return this;
                children: []
                pos: 16680
                length: 12
              pos: 16329
              length: 367
          children: []
          pos: 16250
          length: 446
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: matchConstraint
              children: []
              pos: 16724
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSType constraint
                children: []
                pos: 16740
                length: 17
              pos: 16700
              length: 859
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: hasReferenceName()
                        children: []
                        pos: 16830
                        length: 18
                    children: []
                    pos: 16829
                    length: 20
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return;
                    children: []
                    pos: 16858
                    length: 7
                  pos: 16850
                  length: 21
                pos: 16826
                length: 45
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: constraint.isRecordType()
                        children: []
                        pos: 17236
                        length: 25
                    children: []
                    pos: 17235
                    length: 27
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: matchRecordTypeConstraint(constraint.toObjectType());
                    children: []
                    pos: 17271
                    length: 53
                  pos: 17263
                  length: 67
                pos: 17232
                length: 323
              pos: 16759
              length: 800
          children: []
          pos: 16700
          length: 859
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: matchRecordTypeConstraint
              children: []
              pos: 17575
              length: 25
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: ObjectType constraintObj
                children: []
                pos: 17601
                length: 24
              pos: 17563
              length: 495
            body:
              type: block
              fields: {}
              children:
              - type: enhanced_for_statement
                fields:
                  text: |-
                    for (String prop : constraintObj.getOwnPropertyNames()) {
                          JSType propType = constraintObj.getPropertyType(prop);
                          if (!isPropertyTypeDeclared(prop)) {
                            JSType typeToInfer = propType;
                            if (!hasProperty(prop)) {
                              typeToInfer = getNativeType(JSTypeNative.VOID_TYPE)
                                  .getLeastSupertype(propType);
                            }
                            defineInferredProperty(prop, typeToInfer, null);
                          }
                        }
                children: []
                pos: 17633
                length: 421
              pos: 17627
              length: 431
          children: []
          pos: 17563
          length: 495
        pos: 2751
        length: 15310
    children: []
    pos: 2751
    length: 15310
  pos: 0
  length: 18062
after_tree:
  type: program
  fields: {}
  children:
  - type: class_declaration
    fields:
      name:
        type: identifier
        fields:
          text: PrototypeObjectType
        children: []
        pos: 2757
        length: 19
      body:
        type: class_body
        fields: {}
        children:
        - type: field_declaration
          fields:
            text: private static final long serialVersionUID = 1L;
          children: []
          pos: 2800
          length: 48
        - type: field_declaration
          fields:
            text: private final String className;
          children: []
          pos: 2852
          length: 31
        - type: field_declaration
          fields:
            text: private final Map<String, Property> properties;
          children: []
          pos: 2886
          length: 47
        - type: field_declaration
          fields:
            text: private final boolean nativeType;
          children: []
          pos: 2936
          length: 33
        - type: field_declaration
          fields:
            text: private ObjectType implicitPrototypeFallback;
          children: []
          pos: 3185
          length: 45
        - type: field_declaration
          fields:
            text: private FunctionType ownerFunction = null;
          children: []
          pos: 3453
          length: 42
        - type: field_declaration
          fields:
            text: private boolean prettyPrint = false;
          children: []
          pos: 3607
          length: 36
        - type: field_declaration
          fields:
            text: private static final int MAX_PRETTY_PRINTED_PROPERTIES = 4;
          children: []
          pos: 3647
          length: 59
        - type: constructor_declaration
          fields:
            text: |-
              PrototypeObjectType(JSTypeRegistry registry, String className,
                    ObjectType implicitPrototype) {
                  this(registry, className, implicitPrototype, false);
                }
          children: []
          pos: 4131
          length: 161
        - type: constructor_declaration
          fields:
            text: |-
              PrototypeObjectType(JSTypeRegistry registry, String className,
                    ObjectType implicitPrototype, boolean nativeType) {
                  super(registry);
                  this.properties = Maps.newTreeMap();
                  this.className = className;
                  this.nativeType = nativeType;
                  if (nativeType || implicitPrototype != null) {
                    setImplicitPrototype(implicitPrototype);
                  } else {
                    setImplicitPrototype(
                        registry.getNativeObjectType(JSTypeNative.OBJECT_TYPE));
                  }
                }
          children: []
          pos: 4421
          length: 464
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getSlot
              children: []
              pos: 4917
              length: 7
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String name
                children: []
                pos: 4925
                length: 11
              pos: 4889
              length: 543
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: properties.containsKey(name)
                        children: []
                        pos: 4948
                        length: 28
                    children: []
                    pos: 4947
                    length: 30
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return properties.get(name);
                    children: []
                    pos: 4986
                    length: 28
                  pos: 4978
                  length: 42
                pos: 4944
                length: 76
              - type: local_variable_declaration
                fields:
                  text: ObjectType implicitPrototype = getImplicitPrototype();
                children: []
                pos: 5025
                length: 54
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: implicitPrototype
                            children: []
                            pos: 5088
                            length: 17
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 5109
                            length: 4
                        children: []
                        pos: 5088
                        length: 25
                    children: []
                    pos: 5087
                    length: 27
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: Property prop = implicitPrototype.getSlot(name);
                    children: []
                    pos: 5123
                    length: 48
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: not_equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: prop
                                children: []
                                pos: 5182
                                length: 4
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 5190
                                length: 4
                            children: []
                            pos: 5182
                            length: 12
                        children: []
                        pos: 5181
                        length: 14
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: return_statement
                        fields:
                          text: return prop;
                        children: []
                        pos: 5206
                        length: 12
                      pos: 5196
                      length: 30
                    pos: 5178
                    length: 48
                  pos: 5115
                  length: 117
                pos: 5084
                length: 148
              - type: enhanced_for_statement
                fields:
                  text: |-
                    for (ObjectType interfaceType : getCtorExtendedInterfaces()) {
                          Property prop = interfaceType.getSlot(name);
                          if (prop != null) {
                            return prop;
                          }
                        }
                children: []
                pos: 5237
                length: 174
              - type: return_statement
                fields:
                  text: return null;
                children: []
                pos: 5416
                length: 12
              pos: 4938
              length: 494
          children: []
          pos: 4889
          length: 543
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getPropertiesCount
              children: []
              pos: 5522
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 5499
              length: 416
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: ObjectType implicitPrototype = getImplicitPrototype();
                children: []
                pos: 5549
                length: 54
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: implicitPrototype
                            children: []
                            pos: 5612
                            length: 17
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 5633
                            length: 4
                        children: []
                        pos: 5612
                        length: 25
                    children: []
                    pos: 5611
                    length: 27
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return this.properties.size();
                    children: []
                    pos: 5647
                    length: 30
                  pos: 5639
                  length: 44
                pos: 5608
                length: 75
              - type: local_variable_declaration
                fields:
                  text: int localCount = 0;
                children: []
                pos: 5688
                length: 19
              - type: enhanced_for_statement
                fields:
                  text: |-
                    for (String property : properties.keySet()) {
                          if (!implicitPrototype.hasProperty(property)) {
                            localCount++;
                          }
                        }
                children: []
                pos: 5712
                length: 135
              - type: return_statement
                fields:
                  text: return implicitPrototype.getPropertiesCount() + localCount;
                children: []
                pos: 5852
                length: 59
              pos: 5543
              length: 372
          children: []
          pos: 5499
          length: 416
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: hasProperty
              children: []
              pos: 5946
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String propertyName
                children: []
                pos: 5958
                length: 19
              pos: 5919
              length: 168
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return isUnknownType() || getSlot(propertyName) != null;
                children: []
                pos: 6027
                length: 56
              pos: 5979
              length: 108
          children: []
          pos: 5919
          length: 168
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: hasOwnProperty
              children: []
              pos: 6118
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String propertyName
                children: []
                pos: 6133
                length: 19
              pos: 6091
              length: 117
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return properties.get(propertyName) != null;
                children: []
                pos: 6160
                length: 44
              pos: 6154
              length: 54
          children: []
          pos: 6091
          length: 117
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getOwnPropertyNames
              children: []
              pos: 6243
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 6212
              length: 90
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return properties.keySet();
                children: []
                pos: 6271
                length: 27
              pos: 6265
              length: 37
          children: []
          pos: 6212
          length: 90
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isPropertyTypeDeclared
              children: []
              pos: 6333
              length: 22
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String property
                children: []
                pos: 6356
                length: 15
              pos: 6306
              length: 206
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: StaticSlot<JSType> slot = getSlot(property);
                children: []
                pos: 6379
                length: 44
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: slot
                            children: []
                            pos: 6432
                            length: 4
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 6440
                            length: 4
                        children: []
                        pos: 6432
                        length: 12
                    children: []
                    pos: 6431
                    length: 14
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return false;
                    children: []
                    pos: 6454
                    length: 13
                  pos: 6446
                  length: 27
                pos: 6428
                length: 45
              - type: return_statement
                fields:
                  text: return !slot.isTypeInferred();
                children: []
                pos: 6478
                length: 30
              pos: 6373
              length: 139
          children: []
          pos: 6306
          length: 206
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: collectPropertyNames
              children: []
              pos: 6533
              length: 20
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: Set<String> props
                children: []
                pos: 6554
                length: 17
              pos: 6516
              length: 292
            body:
              type: block
              fields: {}
              children:
              - type: enhanced_for_statement
                fields:
                  text: |-
                    for (String prop : properties.keySet()) {
                          props.add(prop);
                        }
                children: []
                pos: 6579
                length: 70
              - type: local_variable_declaration
                fields:
                  text: ObjectType implicitPrototype = getImplicitPrototype();
                children: []
                pos: 6654
                length: 54
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: implicitPrototype
                            children: []
                            pos: 6717
                            length: 17
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 6738
                            length: 4
                        children: []
                        pos: 6717
                        length: 25
                    children: []
                    pos: 6716
                    length: 27
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: implicitPrototype.collectPropertyNames(props);
                    children: []
                    pos: 6752
                    length: 46
                  pos: 6744
                  length: 60
                pos: 6713
                length: 91
              pos: 6573
              length: 235
          children: []
          pos: 6516
          length: 292
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isPropertyTypeInferred
              children: []
              pos: 6839
              length: 22
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String property
                children: []
                pos: 6862
                length: 15
              pos: 6812
              length: 205
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: StaticSlot<JSType> slot = getSlot(property);
                children: []
                pos: 6885
                length: 44
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: slot
                            children: []
                            pos: 6938
                            length: 4
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 6946
                            length: 4
                        children: []
                        pos: 6938
                        length: 12
                    children: []
                    pos: 6937
                    length: 14
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return false;
                    children: []
                    pos: 6960
                    length: 13
                  pos: 6952
                  length: 27
                pos: 6934
                length: 45
              - type: return_statement
                fields:
                  text: return slot.isTypeInferred();
                children: []
                pos: 6984
                length: 29
              pos: 6879
              length: 138
          children: []
          pos: 6812
          length: 205
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getPropertyType
              children: []
              pos: 7047
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String property
                children: []
                pos: 7063
                length: 15
              pos: 7021
              length: 225
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: StaticSlot<JSType> slot = getSlot(property);
                children: []
                pos: 7086
                length: 44
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: slot
                            children: []
                            pos: 7139
                            length: 4
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 7147
                            length: 4
                        children: []
                        pos: 7139
                        length: 12
                    children: []
                    pos: 7138
                    length: 14
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return getNativeType(JSTypeNative.UNKNOWN_TYPE);
                    children: []
                    pos: 7161
                    length: 48
                  pos: 7153
                  length: 62
                pos: 7135
                length: 80
              - type: return_statement
                fields:
                  text: return slot.getType();
                children: []
                pos: 7220
                length: 22
              pos: 7080
              length: 166
          children: []
          pos: 7021
          length: 225
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isPropertyInExterns
              children: []
              pos: 7277
              length: 19
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String propertyName
                children: []
                pos: 7297
                length: 19
              pos: 7250
              length: 365
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: Property p = properties.get(propertyName);
                children: []
                pos: 7324
                length: 42
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: p
                            children: []
                            pos: 7375
                            length: 1
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 7380
                            length: 4
                        children: []
                        pos: 7375
                        length: 9
                    children: []
                    pos: 7374
                    length: 11
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return p.isFromExterns();
                    children: []
                    pos: 7394
                    length: 25
                  pos: 7386
                  length: 39
                pos: 7371
                length: 54
              - type: local_variable_declaration
                fields:
                  text: ObjectType implicitPrototype = getImplicitPrototype();
                children: []
                pos: 7430
                length: 54
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: implicitPrototype
                            children: []
                            pos: 7493
                            length: 17
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 7514
                            length: 4
                        children: []
                        pos: 7493
                        length: 25
                    children: []
                    pos: 7492
                    length: 27
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return implicitPrototype.isPropertyInExterns(propertyName);
                    children: []
                    pos: 7528
                    length: 59
                  pos: 7520
                  length: 73
                pos: 7489
                length: 104
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 7598
                length: 13
              pos: 7318
              length: 297
          children: []
          pos: 7250
          length: 365
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: defineProperty
              children: []
              pos: 7639
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String name
                children: []
                pos: 7654
                length: 11
              pos: 7619
              length: 540
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: hasOwnDeclaredProperty(name)
                        children: []
                        pos: 7733
                        length: 28
                    children: []
                    pos: 7732
                    length: 30
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return false;
                    children: []
                    pos: 7771
                    length: 13
                  pos: 7763
                  length: 27
                pos: 7729
                length: 61
              - type: local_variable_declaration
                fields:
                  text: |-
                    Property newProp = new Property(
                            name, type, inferred, propertyNode);
                children: []
                pos: 7795
                length: 77
              - type: local_variable_declaration
                fields:
                  text: Property oldProp = properties.get(name);
                children: []
                pos: 7877
                length: 40
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: oldProp
                            children: []
                            pos: 7926
                            length: 7
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 7937
                            length: 4
                        children: []
                        pos: 7926
                        length: 15
                    children: []
                    pos: 7925
                    length: 17
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: newProp.setJSDocInfo(oldProp.getJSDocInfo());
                    children: []
                    pos: 8052
                    length: 45
                  pos: 7943
                  length: 160
                pos: 7922
                length: 181
              - type: expression_statement
                fields:
                  text: properties.put(name, newProp);
                children: []
                pos: 8108
                length: 30
              - type: return_statement
                fields:
                  text: return true;
                children: []
                pos: 8143
                length: 12
              pos: 7723
              length: 436
          children: []
          pos: 7619
          length: 540
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: removeProperty
              children: []
              pos: 8190
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String name
                children: []
                pos: 8205
                length: 11
              pos: 8163
              length: 104
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return properties.remove(name) != null;
                children: []
                pos: 8224
                length: 39
              pos: 8218
              length: 49
          children: []
          pos: 8163
          length: 104
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getPropertyNode
              children: []
              pos: 8295
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String propertyName
                children: []
                pos: 8311
                length: 19
              pos: 8271
              length: 347
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: Property p = properties.get(propertyName);
                children: []
                pos: 8338
                length: 42
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: p
                            children: []
                            pos: 8389
                            length: 1
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 8394
                            length: 4
                        children: []
                        pos: 8389
                        length: 9
                    children: []
                    pos: 8388
                    length: 11
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return p.getNode();
                    children: []
                    pos: 8408
                    length: 19
                  pos: 8400
                  length: 33
                pos: 8385
                length: 48
              - type: local_variable_declaration
                fields:
                  text: ObjectType implicitPrototype = getImplicitPrototype();
                children: []
                pos: 8438
                length: 54
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: implicitPrototype
                            children: []
                            pos: 8501
                            length: 17
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 8522
                            length: 4
                        children: []
                        pos: 8501
                        length: 25
                    children: []
                    pos: 8500
                    length: 27
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return implicitPrototype.getPropertyNode(propertyName);
                    children: []
                    pos: 8536
                    length: 55
                  pos: 8528
                  length: 69
                pos: 8497
                length: 100
              - type: return_statement
                fields:
                  text: return null;
                children: []
                pos: 8602
                length: 12
              pos: 8332
              length: 286
          children: []
          pos: 8271
          length: 347
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getOwnPropertyJSDocInfo
              children: []
              pos: 8651
              length: 23
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String propertyName
                children: []
                pos: 8675
                length: 19
              pos: 8622
              length: 201
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: Property p = properties.get(propertyName);
                children: []
                pos: 8702
                length: 42
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: p
                            children: []
                            pos: 8753
                            length: 1
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 8758
                            length: 4
                        children: []
                        pos: 8753
                        length: 9
                    children: []
                    pos: 8752
                    length: 11
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return p.getJSDocInfo();
                    children: []
                    pos: 8772
                    length: 24
                  pos: 8764
                  length: 38
                pos: 8749
                length: 53
              - type: return_statement
                fields:
                  text: return null;
                children: []
                pos: 8807
                length: 12
              pos: 8696
              length: 127
          children: []
          pos: 8622
          length: 201
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setPropertyJSDocInfo
              children: []
              pos: 8851
              length: 20
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String propertyName
                children: []
                pos: 8872
                length: 19
              pos: 8827
              length: 718
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: info
                            children: []
                            pos: 8919
                            length: 4
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 8927
                            length: 4
                        children: []
                        pos: 8919
                        length: 12
                    children: []
                    pos: 8918
                    length: 14
                children:
                - type: block
                  fields: {}
                  children:
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: unary_expression
                            fields:
                              text: "!properties.containsKey(propertyName)"
                            children: []
                            pos: 8945
                            length: 37
                        children: []
                        pos: 8944
                        length: 39
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: |-
                            defineInferredProperty(propertyName, getPropertyType(propertyName),
                                        null);
                        children: []
                        pos: 9170
                        length: 86
                      pos: 8984
                      length: 280
                    pos: 8941
                    length: 323
                  - type: local_variable_declaration
                    fields:
                      text: Property property = properties.get(propertyName);
                    children: []
                    pos: 9411
                    length: 49
                  - type: if_statement
                    fields:
                      condition:
                        type: parenthesized_expression
                        fields:
                          expression:
                            type: not_equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: property
                                children: []
                                pos: 9471
                                length: 8
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 9483
                                length: 4
                            children: []
                            pos: 9471
                            length: 16
                        children: []
                        pos: 9470
                        length: 18
                    children:
                    - type: block
                      fields: {}
                      children:
                      - type: expression_statement
                        fields:
                          text: property.setJSDocInfo(info);
                        children: []
                        pos: 9499
                        length: 28
                      pos: 9489
                      length: 46
                    pos: 9467
                    length: 68
                  pos: 8933
                  length: 608
                pos: 8915
                length: 626
              pos: 8909
              length: 636
          children: []
          pos: 8827
          length: 718
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: matchesNumberContext
              children: []
              pos: 9576
              length: 20
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 9549
              length: 202
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return isNumberObjectType() || isDateType() || isBooleanObjectType() ||
                            isStringObjectType() || hasOverridenNativeProperty("valueOf");
                children: []
                pos: 9605
                length: 142
              pos: 9599
              length: 152
          children: []
          pos: 9549
          length: 202
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: matchesStringContext
              children: []
              pos: 9782
              length: 20
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 9755
              length: 267
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return isTheObjectType() || isStringObjectType() || isDateType() ||
                            isRegexpType() || isArrayType() || isNumberObjectType() ||
                            isBooleanObjectType() || hasOverridenNativeProperty("toString");
                children: []
                pos: 9811
                length: 207
              pos: 9805
              length: 217
          children: []
          pos: 9755
          length: 267
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: hasOverridenNativeProperty
              children: []
              pos: 10196
              length: 26
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: String propertyName
                children: []
                pos: 10223
                length: 19
              pos: 10180
              length: 507
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: isNativeObjectType()
                        children: []
                        pos: 10254
                        length: 20
                    children: []
                    pos: 10253
                    length: 22
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return false;
                    children: []
                    pos: 10284
                    length: 13
                  pos: 10276
                  length: 27
                pos: 10250
                length: 53
              - type: local_variable_declaration
                fields:
                  text: JSType propertyType = getPropertyType(propertyName);
                children: []
                pos: 10309
                length: 52
              - type: local_variable_declaration
                fields:
                  text: |-
                    ObjectType nativeType =
                            this.isFunctionType() ?
                            registry.getNativeObjectType(JSTypeNative.FUNCTION_PROTOTYPE) :
                            registry.getNativeObjectType(JSTypeNative.OBJECT_PROTOTYPE);
                children: []
                pos: 10366
                length: 196
              - type: local_variable_declaration
                fields:
                  text: JSType nativePropertyType = nativeType.getPropertyType(propertyName);
                children: []
                pos: 10567
                length: 69
              - type: return_statement
                fields:
                  text: return propertyType != nativePropertyType;
                children: []
                pos: 10641
                length: 42
              pos: 10244
              length: 443
          children: []
          pos: 10180
          length: 507
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: unboxesTo
              children: []
              pos: 10717
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 10691
              length: 368
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: isStringObjectType()
                        children: []
                        pos: 10739
                        length: 20
                    children: []
                    pos: 10738
                    length: 22
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return getNativeType(JSTypeNative.STRING_TYPE);
                    children: []
                    pos: 10769
                    length: 47
                  pos: 10761
                  length: 61
                pos: 10735
                length: 320
              pos: 10729
              length: 330
          children: []
          pos: 10691
          length: 368
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: matchesObjectContext
              children: []
              pos: 11090
              length: 20
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 11063
              length: 72
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return true;
                children: []
                pos: 11119
                length: 12
              pos: 11113
              length: 22
          children: []
          pos: 11063
          length: 72
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: canBeCalled
              children: []
              pos: 11166
              length: 11
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 11139
              length: 73
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return isRegexpType();
                children: []
                pos: 11186
                length: 22
              pos: 11180
              length: 32
          children: []
          pos: 11139
          length: 73
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: toStringHelper
              children: []
              pos: 11235
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: boolean forAnnotations
                children: []
                pos: 11250
                length: 22
              pos: 11216
              length: 1245
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: hasReferenceName()
                        children: []
                        pos: 11284
                        length: 18
                    children: []
                    pos: 11283
                    length: 20
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return getReferenceName();
                    children: []
                    pos: 11312
                    length: 26
                  pos: 11304
                  length: 40
                pos: 11280
                length: 1177
              pos: 11274
              length: 1187
          children: []
          pos: 11216
          length: 1245
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setPrettyPrint
              children: []
              pos: 12470
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: boolean prettyPrint
                children: []
                pos: 12485
                length: 19
              pos: 12465
              length: 82
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: this.prettyPrint = prettyPrint;
                children: []
                pos: 12512
                length: 31
              pos: 12506
              length: 41
          children: []
          pos: 12465
          length: 82
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isPrettyPrint
              children: []
              pos: 12559
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 12551
              length: 53
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return prettyPrint;
                children: []
                pos: 12581
                length: 19
              pos: 12575
              length: 29
          children: []
          pos: 12551
          length: 53
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getConstructor
              children: []
              pos: 12640
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 12608
              length: 71
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return null;
                children: []
                pos: 12663
                length: 12
              pos: 12657
              length: 22
          children: []
          pos: 12608
          length: 71
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getImplicitPrototype
              children: []
              pos: 12713
              length: 20
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 12683
              length: 96
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return implicitPrototypeFallback;
                children: []
                pos: 12742
                length: 33
              pos: 12736
              length: 43
          children: []
          pos: 12683
          length: 96
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setImplicitPrototype
              children: []
              pos: 13054
              length: 20
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: ObjectType implicitPrototype
                children: []
                pos: 13075
                length: 28
              pos: 13043
              length: 159
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: checkState(!hasCachedValues());
                children: []
                pos: 13111
                length: 31
              - type: expression_statement
                fields:
                  text: this.implicitPrototypeFallback = implicitPrototype;
                children: []
                pos: 13147
                length: 51
              pos: 13105
              length: 97
          children: []
          pos: 13043
          length: 159
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getReferenceName
              children: []
              pos: 13232
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 13206
              length: 243
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: className
                            children: []
                            pos: 13261
                            length: 9
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 13274
                            length: 4
                        children: []
                        pos: 13261
                        length: 17
                    children: []
                    pos: 13260
                    length: 19
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return className;
                    children: []
                    pos: 13288
                    length: 17
                  pos: 13280
                  length: 31
                pos: 13257
                length: 188
              pos: 13251
              length: 198
          children: []
          pos: 13206
          length: 243
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: hasReferenceName
              children: []
              pos: 13480
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 13453
              length: 106
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return className != null || ownerFunction != null;
                children: []
                pos: 13505
                length: 50
              pos: 13499
              length: 60
          children: []
          pos: 13453
          length: 106
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isSubtype
              children: []
              pos: 13590
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSType that
                children: []
                pos: 13600
                length: 11
              pos: 13563
              length: 1556
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: JSType.isSubtypeHelper(this, that)
                        children: []
                        pos: 13623
                        length: 34
                    children: []
                    pos: 13622
                    length: 36
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return true;
                    children: []
                    pos: 13667
                    length: 12
                  pos: 13659
                  length: 26
                pos: 13619
                length: 66
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: that.isUnionType()
                        children: []
                        pos: 13714
                        length: 18
                    children: []
                    pos: 13713
                    length: 20
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return false;
                    children: []
                    pos: 13873
                    length: 13
                  pos: 13734
                  length: 158
                pos: 13710
                length: 182
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: that.isRecordType()
                        children: []
                        pos: 13922
                        length: 19
                    children: []
                    pos: 13921
                    length: 21
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return RecordType.isSubtype(this, that.toMaybeRecordType());
                    children: []
                    pos: 13951
                    length: 60
                  pos: 13943
                  length: 74
                pos: 13918
                length: 99
              - type: local_variable_declaration
                fields:
                  text: ObjectType thatObj = that.toObjectType();
                children: []
                pos: 14153
                length: 41
              - type: local_variable_declaration
                fields:
                  text: 'ObjectType thatCtor = thatObj == null ? null : thatObj.getConstructor();'
                children: []
                pos: 14199
                length: 72
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: and
                        fields:
                          left:
                            type: not_equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: thatCtor
                                children: []
                                pos: 14280
                                length: 8
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 14292
                                length: 4
                            children: []
                            pos: 14280
                            length: 16
                          right:
                            type: method_invocation
                            fields:
                              text: thatCtor.isInterface()
                            children: []
                            pos: 14300
                            length: 22
                        children: []
                        pos: 14280
                        length: 42
                    children: []
                    pos: 14279
                    length: 44
                children:
                - type: block
                  fields: {}
                  children:
                  - type: local_variable_declaration
                    fields:
                      text: Iterable<ObjectType> thisInterfaces = getCtorImplementedInterfaces();
                    children: []
                    pos: 14332
                    length: 69
                  - type: enhanced_for_statement
                    fields:
                      text: |-
                        for (ObjectType thisInterface : thisInterfaces) {
                                if (thisInterface.isSubtype(that)) {
                                  return true;
                                }
                              }
                    children: []
                    pos: 14408
                    length: 135
                  pos: 14324
                  length: 225
                pos: 14276
                length: 273
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: and
                        fields:
                          left:
                            type: not_equals
                            fields:
                              left:
                                type: method_invocation
                                fields:
                                  text: getConstructor()
                                children: []
                                pos: 14559
                                length: 16
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 14579
                                length: 4
                            children: []
                            pos: 14559
                            length: 24
                          right:
                            type: method_invocation
                            fields:
                              text: getConstructor().isInterface()
                            children: []
                            pos: 14587
                            length: 30
                        children: []
                        pos: 14559
                        length: 58
                    children: []
                    pos: 14558
                    length: 60
                children:
                - type: block
                  fields: {}
                  children:
                  - type: enhanced_for_statement
                    fields:
                      text: |-
                        for (ObjectType thisInterface : getCtorExtendedInterfaces()) {
                                if (thisInterface.isSubtype(that)) {
                                  return true;
                                }
                              }
                    children: []
                    pos: 14627
                    length: 148
                  pos: 14619
                  length: 162
                pos: 14555
                length: 226
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: method_invocation
                            fields:
                              text: isUnknownType()
                            children: []
                            pos: 14828
                            length: 15
                          right:
                            type: method_invocation
                            fields:
                              text: implicitPrototypeChainIsUnknown()
                            children: []
                            pos: 14847
                            length: 33
                        children: []
                        pos: 14828
                        length: 52
                    children: []
                    pos: 14827
                    length: 54
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return true;
                    children: []
                    pos: 15051
                    length: 12
                  pos: 14882
                  length: 187
                pos: 14824
                length: 245
              - type: return_statement
                fields:
                  text: return this.isImplicitPrototype(thatObj);
                children: []
                pos: 15074
                length: 41
              pos: 13613
              length: 1506
          children: []
          pos: 13563
          length: 1556
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: implicitPrototypeChainIsUnknown
              children: []
              pos: 15139
              length: 31
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 15123
              length: 242
            body:
              type: block
              fields: {}
              children:
              - type: local_variable_declaration
                fields:
                  text: ObjectType p = getImplicitPrototype();
                children: []
                pos: 15179
                length: 38
              - type: while_statement
                fields:
                  text: |-
                    while (p != null) {
                          if (p.isUnknownType()) {
                            return true;
                          }
                          p = p.getImplicitPrototype();
                        }
                children: []
                pos: 15222
                length: 121
              - type: return_statement
                fields:
                  text: return false;
                children: []
                pos: 15348
                length: 13
              pos: 15173
              length: 192
          children: []
          pos: 15123
          length: 242
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: hasCachedValues
              children: []
              pos: 15396
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 15369
              length: 86
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return super.hasCachedValues();
                children: []
                pos: 15420
                length: 31
              pos: 15414
              length: 41
          children: []
          pos: 15369
          length: 86
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: isNativeObjectType
              children: []
              pos: 15530
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 15503
              length: 76
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return nativeType;
                children: []
                pos: 15557
                length: 18
              pos: 15551
              length: 28
          children: []
          pos: 15503
          length: 76
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: setOwnerFunction
              children: []
              pos: 15600
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: FunctionType type
                children: []
                pos: 15617
                length: 17
              pos: 15583
              length: 153
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: Preconditions.checkState(ownerFunction == null || type ==
                    null);
                children: []
                pos: 15642
                length: 64
              - type: expression_statement
                fields:
                  text: ownerFunction = type;
                children: []
                pos: 15711
                length: 21
              pos: 15636
              length: 100
          children: []
          pos: 15583
          length: 153
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getOwnerFunction
              children: []
              pos: 15772
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 15740
              length: 82
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return ownerFunction;
                children: []
                pos: 15797
                length: 21
              pos: 15791
              length: 31
          children: []
          pos: 15740
          length: 82
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getCtorImplementedInterfaces
              children: []
              pos: 15866
              length: 28
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 15826
              length: 211
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return isFunctionPrototypeType()
                            ? getOwnerFunction().getImplementedInterfaces()
                            : ImmutableList.<ObjectType>of();
                children: []
                pos: 15903
                length: 130
              pos: 15897
              length: 140
          children: []
          pos: 15826
          length: 211
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getCtorExtendedInterfaces
              children: []
              pos: 16081
              length: 25
            parameters:
              type: method_parameters
              fields: {}
              children: []
              pos: 16041
              length: 205
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: |-
                    return isFunctionPrototypeType()
                            ? getOwnerFunction().getExtendedInterfaces()
                            : ImmutableList.<ObjectType>of();
                children: []
                pos: 16115
                length: 127
              pos: 16109
              length: 137
          children: []
          pos: 16041
          length: 205
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: resolveInternal
              children: []
              pos: 16269
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: ErrorReporter t
                children: []
                pos: 16285
                length: 15
              pos: 16250
              length: 446
            body:
              type: block
              fields: {}
              children:
              - type: expression_statement
                fields:
                  text: setResolvedTypeInternal(this);
                children: []
                pos: 16335
                length: 30
              - type: local_variable_declaration
                fields:
                  text: ObjectType implicitPrototype = getImplicitPrototype();
                children: []
                pos: 16371
                length: 54
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: not_equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: implicitPrototype
                            children: []
                            pos: 16434
                            length: 17
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 16455
                            length: 4
                        children: []
                        pos: 16434
                        length: 25
                    children: []
                    pos: 16433
                    length: 27
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: |-
                        implicitPrototypeFallback =
                                  (ObjectType) implicitPrototype.resolve(t, scope);
                    children: []
                    pos: 16469
                    length: 87
                  pos: 16461
                  length: 101
                pos: 16430
                length: 132
              - type: enhanced_for_statement
                fields:
                  text: |-
                    for (Property prop : properties.values()) {
                          prop.setType(safeResolve(prop.getType(), t, scope));
                        }
                children: []
                pos: 16567
                length: 108
              - type: return_statement
                fields:
                  text: return this;
                children: []
                pos: 16680
                length: 12
              pos: 16329
              length: 367
          children: []
          pos: 16250
          length: 446
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: matchConstraint
              children: []
              pos: 16724
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: JSType constraint
                children: []
                pos: 16740
                length: 17
              pos: 16700
              length: 634
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: hasReferenceName()
                        children: []
                        pos: 16830
                        length: 18
                    children: []
                    pos: 16829
                    length: 20
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return;
                    children: []
                    pos: 16858
                    length: 7
                  pos: 16850
                  length: 21
                pos: 16826
                length: 45
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: method_invocation
                        fields:
                          text: constraint.isRecordType()
                        children: []
                        pos: 17236
                        length: 25
                    children: []
                    pos: 17235
                    length: 27
                children:
                - type: block
                  fields: {}
                  children:
                  - type: expression_statement
                    fields:
                      text: matchRecordTypeConstraint(constraint.toObjectType());
                    children: []
                    pos: 17271
                    length: 53
                  pos: 17263
                  length: 67
                pos: 17232
                length: 98
              pos: 16759
              length: 575
          children: []
          pos: 16700
          length: 634
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: matchRecordTypeConstraint
              children: []
              pos: 17350
              length: 25
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: ObjectType constraintObj
                children: []
                pos: 17376
                length: 24
              pos: 17338
              length: 495
            body:
              type: block
              fields: {}
              children:
              - type: enhanced_for_statement
                fields:
                  text: |-
                    for (String prop : constraintObj.getOwnPropertyNames()) {
                          JSType propType = constraintObj.getPropertyType(prop);
                          if (!isPropertyTypeDeclared(prop)) {
                            JSType typeToInfer = propType;
                            if (!hasProperty(prop)) {
                              typeToInfer = getNativeType(JSTypeNative.VOID_TYPE)
                                  .getLeastSupertype(propType);
                            }
                            defineInferredProperty(prop, typeToInfer, null);
                          }
                        }
                children: []
                pos: 17408
                length: 421
              pos: 17402
              length: 431
          children: []
          pos: 17338
          length: 495
        pos: 2751
        length: 15085
    children: []
    pos: 2751
    length: 15085
  pos: 0
  length: 17837
text_diff: "--- before\n+++ after\n@@ -570,12 +570,6 @@\n     // properties on this
  object.\n     if (constraint.isRecordType()) {\n       matchRecordTypeConstraint(constraint.toObjectType());\n-
  \   } else if (constraint.isUnionType()) {\n-      for (JSType alt : constraint.toMaybeUnionType().getAlternates())
  {\n-        if (alt.isRecordType()) {\n-          matchRecordTypeConstraint(alt.toObjectType());\n-
  \       }\n-      }\n     }\n   }\n \n"
tree_diff: ''
