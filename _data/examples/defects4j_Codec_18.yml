---
language: java
before_tree:
  type: program
  fields: {}
  children:
  - type: class_declaration
    fields:
      name:
        type: identifier
        fields:
          text: StringUtils
        children: []
        pos: 1528
        length: 11
      body:
        type: class_body
        fields: {}
        children:
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: equals
              children: []
              pos: 2641
              length: 6
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final CharSequence cs1
                children: []
                pos: 2648
                length: 22
              pos: 2619
              length: 448
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: cs1
                            children: []
                            pos: 2710
                            length: 3
                          right:
                            type: identifier
                            fields:
                              text: cs2
                            children: []
                            pos: 2717
                            length: 3
                        children: []
                        pos: 2710
                        length: 10
                    children: []
                    pos: 2709
                    length: 12
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return true;
                    children: []
                    pos: 2736
                    length: 12
                  pos: 2722
                  length: 36
                pos: 2706
                length: 52
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: cs1
                                children: []
                                pos: 2771
                                length: 3
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 2778
                                length: 4
                            children: []
                            pos: 2771
                            length: 11
                          right:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: cs2
                                children: []
                                pos: 2786
                                length: 3
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 2793
                                length: 4
                            children: []
                            pos: 2786
                            length: 11
                        children: []
                        pos: 2771
                        length: 26
                    children: []
                    pos: 2770
                    length: 28
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return false;
                    children: []
                    pos: 2813
                    length: 13
                  pos: 2799
                  length: 37
                pos: 2767
                length: 69
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: and
                        fields:
                          left:
                            type: instanceof_expression
                            fields:
                              text: cs1 instanceof String
                            children: []
                            pos: 2849
                            length: 21
                          right:
                            type: instanceof_expression
                            fields:
                              text: cs2 instanceof String
                            children: []
                            pos: 2874
                            length: 21
                        children: []
                        pos: 2849
                        length: 46
                    children: []
                    pos: 2848
                    length: 48
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return cs1.equals(cs2);
                    children: []
                    pos: 2911
                    length: 23
                  pos: 2897
                  length: 47
                pos: 2845
                length: 99
              - type: return_statement
                fields:
                  text: return cs1.length() == cs2.length() && CharSequenceUtils.regionMatches(cs1,
                    false, 0, cs2, 0, cs1.length());
                children: []
                pos: 2953
                length: 108
              pos: 2696
              length: 371
          children: []
          pos: 2619
          length: 448
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getBytes
              children: []
              pos: 3375
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final String string
                children: []
                pos: 3384
                length: 19
              pos: 3353
              length: 188
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: string
                            children: []
                            pos: 3442
                            length: 6
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 3452
                            length: 4
                        children: []
                        pos: 3442
                        length: 14
                    children: []
                    pos: 3441
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return null;
                    children: []
                    pos: 3472
                    length: 12
                  pos: 3458
                  length: 36
                pos: 3438
                length: 56
              - type: return_statement
                fields:
                  text: return string.getBytes(charset);
                children: []
                pos: 3503
                length: 32
              pos: 3428
              length: 113
          children: []
          pos: 3353
          length: 188
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getByteBuffer
              children: []
              pos: 3872
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final String string
                children: []
                pos: 3886
                length: 19
              pos: 3846
              length: 214
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: string
                            children: []
                            pos: 3944
                            length: 6
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 3954
                            length: 4
                        children: []
                        pos: 3944
                        length: 14
                    children: []
                    pos: 3943
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return null;
                    children: []
                    pos: 3974
                    length: 12
                  pos: 3960
                  length: 36
                pos: 3940
                length: 56
              - type: return_statement
                fields:
                  text: return ByteBuffer.wrap(string.getBytes(charset));
                children: []
                pos: 4005
                length: 49
              pos: 3930
              length: 130
          children: []
          pos: 3846
          length: 214
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getByteBufferUtf8
              children: []
              pos: 4813
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final String string
                children: []
                pos: 4831
                length: 19
              pos: 4788
              length: 125
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getByteBuffer(string, Charsets.UTF_8);
                children: []
                pos: 4862
                length: 45
              pos: 4852
              length: 61
          children: []
          pos: 4788
          length: 125
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getBytesIso8859_1
              children: []
              pos: 5760
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final String string
                children: []
                pos: 5778
                length: 19
              pos: 5739
              length: 121
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getBytes(string, Charsets.ISO_8859_1);
                children: []
                pos: 5809
                length: 45
              pos: 5799
              length: 61
          children: []
          pos: 5739
          length: 121
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getBytesUnchecked
              children: []
              pos: 6837
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final String string
                children: []
                pos: 6855
                length: 19
              pos: 6816
              length: 360
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: string
                            children: []
                            pos: 6916
                            length: 6
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 6926
                            length: 4
                        children: []
                        pos: 6916
                        length: 14
                    children: []
                    pos: 6915
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return null;
                    children: []
                    pos: 6946
                    length: 12
                  pos: 6932
                  length: 36
                pos: 6912
                length: 56
              - type: try_statement
                fields:
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: return_statement
                      fields:
                        text: return string.getBytes(charsetName);
                      children: []
                      pos: 6995
                      length: 36
                    pos: 6981
                    length: 60
                  excepts:
                    type: excepts
                    fields: {}
                    children:
                    - type: catch_clause
                      fields:
                        text: |-
                          catch (final UnsupportedEncodingException e) {
                                      throw StringUtils.newIllegalStateException(charsetName, e);
                                  }
                      children: []
                      pos: 7042
                      length: 128
                    pos: 6977
                    length: 193
                children: []
                pos: 6977
                length: 193
              pos: 6902
              length: 274
          children: []
          pos: 6816
          length: 360
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getBytesUsAscii
              children: []
              pos: 8019
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final String string
                children: []
                pos: 8035
                length: 19
              pos: 7998
              length: 117
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getBytes(string, Charsets.US_ASCII);
                children: []
                pos: 8066
                length: 43
              pos: 8056
              length: 59
          children: []
          pos: 7998
          length: 117
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getBytesUtf16
              children: []
              pos: 8954
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final String string
                children: []
                pos: 8968
                length: 19
              pos: 8933
              length: 113
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getBytes(string, Charsets.UTF_16);
                children: []
                pos: 8999
                length: 41
              pos: 8989
              length: 57
          children: []
          pos: 8933
          length: 113
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getBytesUtf16Be
              children: []
              pos: 9889
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final String string
                children: []
                pos: 9905
                length: 19
              pos: 9868
              length: 117
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getBytes(string, Charsets.UTF_16BE);
                children: []
                pos: 9936
                length: 43
              pos: 9926
              length: 59
          children: []
          pos: 9868
          length: 117
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getBytesUtf16Le
              children: []
              pos: 10828
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final String string
                children: []
                pos: 10844
                length: 19
              pos: 10807
              length: 117
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getBytes(string, Charsets.UTF_16LE);
                children: []
                pos: 10875
                length: 43
              pos: 10865
              length: 59
          children: []
          pos: 10807
          length: 117
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getBytesUtf8
              children: []
              pos: 11761
              length: 12
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final String string
                children: []
                pos: 11774
                length: 19
              pos: 11740
              length: 111
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getBytes(string, Charsets.UTF_8);
                children: []
                pos: 11805
                length: 40
              pos: 11795
              length: 56
          children: []
          pos: 11740
          length: 111
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: newIllegalStateException
              children: []
              pos: 11894
              length: 24
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final String charsetName
                children: []
                pos: 11919
                length: 24
              pos: 11857
              length: 265
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: 'return new IllegalStateException(charsetName + ": " + e);'
                children: []
                pos: 12059
                length: 57
              pos: 12049
              length: 73
          children: []
          pos: 11857
          length: 265
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: newString
              children: []
              pos: 12753
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final byte[] bytes
                children: []
                pos: 12763
                length: 18
              pos: 12731
              length: 148
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: 'return bytes == null ? null : new String(bytes, charset);'
                children: []
                pos: 12816
                length: 57
              pos: 12806
              length: 73
          children: []
          pos: 12731
          length: 148
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: newString
              children: []
              pos: 13957
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final byte[] bytes
                children: []
                pos: 13967
                length: 18
              pos: 13936
              length: 352
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: bytes
                            children: []
                            pos: 14027
                            length: 5
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 14036
                            length: 4
                        children: []
                        pos: 14027
                        length: 13
                    children: []
                    pos: 14026
                    length: 15
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return null;
                    children: []
                    pos: 14056
                    length: 12
                  pos: 14042
                  length: 36
                pos: 14023
                length: 55
              - type: try_statement
                fields:
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: return_statement
                      fields:
                        text: return new String(bytes, charsetName);
                      children: []
                      pos: 14105
                      length: 38
                    pos: 14091
                    length: 62
                  excepts:
                    type: excepts
                    fields: {}
                    children:
                    - type: catch_clause
                      fields:
                        text: |-
                          catch (final UnsupportedEncodingException e) {
                                      throw StringUtils.newIllegalStateException(charsetName, e);
                                  }
                      children: []
                      pos: 14154
                      length: 128
                    pos: 14087
                    length: 195
                children: []
                pos: 14087
                length: 195
              pos: 14013
              length: 275
          children: []
          pos: 13936
          length: 352
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: newStringIso8859_1
              children: []
              pos: 15069
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final byte[] bytes
                children: []
                pos: 15088
                length: 18
              pos: 15048
              length: 121
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return newString(bytes, Charsets.ISO_8859_1);
                children: []
                pos: 15118
                length: 45
              pos: 15108
              length: 61
          children: []
          pos: 15048
          length: 121
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: newStringUsAscii
              children: []
              pos: 15918
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final byte[] bytes
                children: []
                pos: 15935
                length: 18
              pos: 15897
              length: 117
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return newString(bytes, Charsets.US_ASCII);
                children: []
                pos: 15965
                length: 43
              pos: 15955
              length: 59
          children: []
          pos: 15897
          length: 117
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: newStringUtf16
              children: []
              pos: 16756
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final byte[] bytes
                children: []
                pos: 16771
                length: 18
              pos: 16735
              length: 113
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return newString(bytes, Charsets.UTF_16);
                children: []
                pos: 16801
                length: 41
              pos: 16791
              length: 57
          children: []
          pos: 16735
          length: 113
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: newStringUtf16Be
              children: []
              pos: 17597
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final byte[] bytes
                children: []
                pos: 17614
                length: 18
              pos: 17576
              length: 117
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return newString(bytes, Charsets.UTF_16BE);
                children: []
                pos: 17644
                length: 43
              pos: 17634
              length: 59
          children: []
          pos: 17576
          length: 117
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: newStringUtf16Le
              children: []
              pos: 18442
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final byte[] bytes
                children: []
                pos: 18459
                length: 18
              pos: 18421
              length: 117
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return newString(bytes, Charsets.UTF_16LE);
                children: []
                pos: 18489
                length: 43
              pos: 18479
              length: 59
          children: []
          pos: 18421
          length: 117
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: newStringUtf8
              children: []
              pos: 19278
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final byte[] bytes
                children: []
                pos: 19292
                length: 18
              pos: 19257
              length: 111
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return newString(bytes, Charsets.UTF_8);
                children: []
                pos: 19322
                length: 40
              pos: 19312
              length: 56
          children: []
          pos: 19257
          length: 111
        pos: 1515
        length: 17856
    children: []
    pos: 1515
    length: 17856
  pos: 0
  length: 19372
after_tree:
  type: program
  fields: {}
  children:
  - type: class_declaration
    fields:
      name:
        type: identifier
        fields:
          text: StringUtils
        children: []
        pos: 1528
        length: 11
      body:
        type: class_body
        fields: {}
        children:
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: equals
              children: []
              pos: 2641
              length: 6
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final CharSequence cs1
                children: []
                pos: 2648
                length: 22
              pos: 2619
              length: 440
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: cs1
                            children: []
                            pos: 2710
                            length: 3
                          right:
                            type: identifier
                            fields:
                              text: cs2
                            children: []
                            pos: 2717
                            length: 3
                        children: []
                        pos: 2710
                        length: 10
                    children: []
                    pos: 2709
                    length: 12
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return true;
                    children: []
                    pos: 2736
                    length: 12
                  pos: 2722
                  length: 36
                pos: 2706
                length: 52
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: or
                        fields:
                          left:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: cs1
                                children: []
                                pos: 2771
                                length: 3
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 2778
                                length: 4
                            children: []
                            pos: 2771
                            length: 11
                          right:
                            type: equals
                            fields:
                              left:
                                type: identifier
                                fields:
                                  text: cs2
                                children: []
                                pos: 2786
                                length: 3
                              right:
                                type: null_literal
                                fields: {}
                                children: []
                                pos: 2793
                                length: 4
                            children: []
                            pos: 2786
                            length: 11
                        children: []
                        pos: 2771
                        length: 26
                    children: []
                    pos: 2770
                    length: 28
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return false;
                    children: []
                    pos: 2813
                    length: 13
                  pos: 2799
                  length: 37
                pos: 2767
                length: 69
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: and
                        fields:
                          left:
                            type: instanceof_expression
                            fields:
                              text: cs1 instanceof String
                            children: []
                            pos: 2849
                            length: 21
                          right:
                            type: instanceof_expression
                            fields:
                              text: cs2 instanceof String
                            children: []
                            pos: 2874
                            length: 21
                        children: []
                        pos: 2849
                        length: 46
                    children: []
                    pos: 2848
                    length: 48
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return cs1.equals(cs2);
                    children: []
                    pos: 2911
                    length: 23
                  pos: 2897
                  length: 47
                pos: 2845
                length: 99
              - type: return_statement
                fields:
                  text: return CharSequenceUtils.regionMatches(cs1, false, 0, cs2,
                    0, Math.max(cs1.length(), cs2.length()));
                children: []
                pos: 2953
                length: 100
              pos: 2696
              length: 363
          children: []
          pos: 2619
          length: 440
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getBytes
              children: []
              pos: 3367
              length: 8
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final String string
                children: []
                pos: 3376
                length: 19
              pos: 3345
              length: 188
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: string
                            children: []
                            pos: 3434
                            length: 6
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 3444
                            length: 4
                        children: []
                        pos: 3434
                        length: 14
                    children: []
                    pos: 3433
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return null;
                    children: []
                    pos: 3464
                    length: 12
                  pos: 3450
                  length: 36
                pos: 3430
                length: 56
              - type: return_statement
                fields:
                  text: return string.getBytes(charset);
                children: []
                pos: 3495
                length: 32
              pos: 3420
              length: 113
          children: []
          pos: 3345
          length: 188
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getByteBuffer
              children: []
              pos: 3864
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final String string
                children: []
                pos: 3878
                length: 19
              pos: 3838
              length: 214
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: string
                            children: []
                            pos: 3936
                            length: 6
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 3946
                            length: 4
                        children: []
                        pos: 3936
                        length: 14
                    children: []
                    pos: 3935
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return null;
                    children: []
                    pos: 3966
                    length: 12
                  pos: 3952
                  length: 36
                pos: 3932
                length: 56
              - type: return_statement
                fields:
                  text: return ByteBuffer.wrap(string.getBytes(charset));
                children: []
                pos: 3997
                length: 49
              pos: 3922
              length: 130
          children: []
          pos: 3838
          length: 214
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getByteBufferUtf8
              children: []
              pos: 4805
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final String string
                children: []
                pos: 4823
                length: 19
              pos: 4780
              length: 125
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getByteBuffer(string, Charsets.UTF_8);
                children: []
                pos: 4854
                length: 45
              pos: 4844
              length: 61
          children: []
          pos: 4780
          length: 125
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getBytesIso8859_1
              children: []
              pos: 5752
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final String string
                children: []
                pos: 5770
                length: 19
              pos: 5731
              length: 121
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getBytes(string, Charsets.ISO_8859_1);
                children: []
                pos: 5801
                length: 45
              pos: 5791
              length: 61
          children: []
          pos: 5731
          length: 121
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getBytesUnchecked
              children: []
              pos: 6829
              length: 17
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final String string
                children: []
                pos: 6847
                length: 19
              pos: 6808
              length: 360
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: string
                            children: []
                            pos: 6908
                            length: 6
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 6918
                            length: 4
                        children: []
                        pos: 6908
                        length: 14
                    children: []
                    pos: 6907
                    length: 16
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return null;
                    children: []
                    pos: 6938
                    length: 12
                  pos: 6924
                  length: 36
                pos: 6904
                length: 56
              - type: try_statement
                fields:
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: return_statement
                      fields:
                        text: return string.getBytes(charsetName);
                      children: []
                      pos: 6987
                      length: 36
                    pos: 6973
                    length: 60
                  excepts:
                    type: excepts
                    fields: {}
                    children:
                    - type: catch_clause
                      fields:
                        text: |-
                          catch (final UnsupportedEncodingException e) {
                                      throw StringUtils.newIllegalStateException(charsetName, e);
                                  }
                      children: []
                      pos: 7034
                      length: 128
                    pos: 6969
                    length: 193
                children: []
                pos: 6969
                length: 193
              pos: 6894
              length: 274
          children: []
          pos: 6808
          length: 360
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getBytesUsAscii
              children: []
              pos: 8011
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final String string
                children: []
                pos: 8027
                length: 19
              pos: 7990
              length: 117
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getBytes(string, Charsets.US_ASCII);
                children: []
                pos: 8058
                length: 43
              pos: 8048
              length: 59
          children: []
          pos: 7990
          length: 117
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getBytesUtf16
              children: []
              pos: 8946
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final String string
                children: []
                pos: 8960
                length: 19
              pos: 8925
              length: 113
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getBytes(string, Charsets.UTF_16);
                children: []
                pos: 8991
                length: 41
              pos: 8981
              length: 57
          children: []
          pos: 8925
          length: 113
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getBytesUtf16Be
              children: []
              pos: 9881
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final String string
                children: []
                pos: 9897
                length: 19
              pos: 9860
              length: 117
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getBytes(string, Charsets.UTF_16BE);
                children: []
                pos: 9928
                length: 43
              pos: 9918
              length: 59
          children: []
          pos: 9860
          length: 117
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getBytesUtf16Le
              children: []
              pos: 10820
              length: 15
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final String string
                children: []
                pos: 10836
                length: 19
              pos: 10799
              length: 117
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getBytes(string, Charsets.UTF_16LE);
                children: []
                pos: 10867
                length: 43
              pos: 10857
              length: 59
          children: []
          pos: 10799
          length: 117
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: getBytesUtf8
              children: []
              pos: 11753
              length: 12
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final String string
                children: []
                pos: 11766
                length: 19
              pos: 11732
              length: 111
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return getBytes(string, Charsets.UTF_8);
                children: []
                pos: 11797
                length: 40
              pos: 11787
              length: 56
          children: []
          pos: 11732
          length: 111
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: newIllegalStateException
              children: []
              pos: 11886
              length: 24
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final String charsetName
                children: []
                pos: 11911
                length: 24
              pos: 11849
              length: 265
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: 'return new IllegalStateException(charsetName + ": " + e);'
                children: []
                pos: 12051
                length: 57
              pos: 12041
              length: 73
          children: []
          pos: 11849
          length: 265
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: newString
              children: []
              pos: 12745
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final byte[] bytes
                children: []
                pos: 12755
                length: 18
              pos: 12723
              length: 148
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: 'return bytes == null ? null : new String(bytes, charset);'
                children: []
                pos: 12808
                length: 57
              pos: 12798
              length: 73
          children: []
          pos: 12723
          length: 148
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: newString
              children: []
              pos: 13949
              length: 9
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final byte[] bytes
                children: []
                pos: 13959
                length: 18
              pos: 13928
              length: 352
            body:
              type: block
              fields: {}
              children:
              - type: if_statement
                fields:
                  condition:
                    type: parenthesized_expression
                    fields:
                      expression:
                        type: equals
                        fields:
                          left:
                            type: identifier
                            fields:
                              text: bytes
                            children: []
                            pos: 14019
                            length: 5
                          right:
                            type: null_literal
                            fields: {}
                            children: []
                            pos: 14028
                            length: 4
                        children: []
                        pos: 14019
                        length: 13
                    children: []
                    pos: 14018
                    length: 15
                children:
                - type: block
                  fields: {}
                  children:
                  - type: return_statement
                    fields:
                      text: return null;
                    children: []
                    pos: 14048
                    length: 12
                  pos: 14034
                  length: 36
                pos: 14015
                length: 55
              - type: try_statement
                fields:
                  body:
                    type: block
                    fields: {}
                    children:
                    - type: return_statement
                      fields:
                        text: return new String(bytes, charsetName);
                      children: []
                      pos: 14097
                      length: 38
                    pos: 14083
                    length: 62
                  excepts:
                    type: excepts
                    fields: {}
                    children:
                    - type: catch_clause
                      fields:
                        text: |-
                          catch (final UnsupportedEncodingException e) {
                                      throw StringUtils.newIllegalStateException(charsetName, e);
                                  }
                      children: []
                      pos: 14146
                      length: 128
                    pos: 14079
                    length: 195
                children: []
                pos: 14079
                length: 195
              pos: 14005
              length: 275
          children: []
          pos: 13928
          length: 352
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: newStringIso8859_1
              children: []
              pos: 15061
              length: 18
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final byte[] bytes
                children: []
                pos: 15080
                length: 18
              pos: 15040
              length: 121
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return newString(bytes, Charsets.ISO_8859_1);
                children: []
                pos: 15110
                length: 45
              pos: 15100
              length: 61
          children: []
          pos: 15040
          length: 121
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: newStringUsAscii
              children: []
              pos: 15910
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final byte[] bytes
                children: []
                pos: 15927
                length: 18
              pos: 15889
              length: 117
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return newString(bytes, Charsets.US_ASCII);
                children: []
                pos: 15957
                length: 43
              pos: 15947
              length: 59
          children: []
          pos: 15889
          length: 117
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: newStringUtf16
              children: []
              pos: 16748
              length: 14
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final byte[] bytes
                children: []
                pos: 16763
                length: 18
              pos: 16727
              length: 113
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return newString(bytes, Charsets.UTF_16);
                children: []
                pos: 16793
                length: 41
              pos: 16783
              length: 57
          children: []
          pos: 16727
          length: 113
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: newStringUtf16Be
              children: []
              pos: 17589
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final byte[] bytes
                children: []
                pos: 17606
                length: 18
              pos: 17568
              length: 117
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return newString(bytes, Charsets.UTF_16BE);
                children: []
                pos: 17636
                length: 43
              pos: 17626
              length: 59
          children: []
          pos: 17568
          length: 117
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: newStringUtf16Le
              children: []
              pos: 18434
              length: 16
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final byte[] bytes
                children: []
                pos: 18451
                length: 18
              pos: 18413
              length: 117
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return newString(bytes, Charsets.UTF_16LE);
                children: []
                pos: 18481
                length: 43
              pos: 18471
              length: 59
          children: []
          pos: 18413
          length: 117
        - type: method_declaration
          fields:
            name:
              type: identifier
              fields:
                text: newStringUtf8
              children: []
              pos: 19270
              length: 13
            parameters:
              type: method_parameters
              fields: {}
              children:
              - type: formal_parameter
                fields:
                  text: final byte[] bytes
                children: []
                pos: 19284
                length: 18
              pos: 19249
              length: 111
            body:
              type: block
              fields: {}
              children:
              - type: return_statement
                fields:
                  text: return newString(bytes, Charsets.UTF_8);
                children: []
                pos: 19314
                length: 40
              pos: 19304
              length: 56
          children: []
          pos: 19249
          length: 111
        pos: 1515
        length: 17848
    children: []
    pos: 1515
    length: 17848
  pos: 0
  length: 19364
text_diff: "--- before\n+++ after\n@@ -78,7 +78,7 @@\n         if (cs1 instanceof
  String && cs2 instanceof String) {\n             return cs1.equals(cs2);\n         }\n-
  \       return cs1.length() == cs2.length() && CharSequenceUtils.regionMatches(cs1,
  false, 0, cs2, 0, cs1.length());\n+        return CharSequenceUtils.regionMatches(cs1,
  false, 0, cs2, 0, Math.max(cs1.length(), cs2.length()));\n     }\n \n     /**\n"
tree_diff: |+
  New cluster:
  UPDATE from return cs1.length() == cs2.length() && CharSequenceUtils.regionMatches(cs1, false, 0, cs2, 0, cs1.length()); to return CharSequenceUtils.regionMatches(cs1, false, 0, cs2, 0, Math.max(cs1.length(), cs2.length()));
  ------------
  ===
  update-node
  ---
  return_statement: return cs1.length() == cs2.length() && CharSequenceUtils.regionMatches(cs1, false, 0, cs2, 0, cs1.length()); [2953,3061]
  replace return cs1.length() == cs2.length() && CharSequenceUtils.regionMatches(cs1, false, 0, cs2, 0, cs1.length()); by return CharSequenceUtils.regionMatches(cs1, false, 0, cs2, 0, Math.max(cs1.length(), cs2.length()));

...
